import type { Models } from "appwrite";

// This file is auto-generated by the Appwrite CLI.
// You can regenerate it by running `appwrite types -l ts ./`.

export enum Status {
  CREATING = "creating",
  ACTIVE = "active",
  FAILED = "failed",
  ARCHIVE = "archive",
}

export type InscriptionCampaigns = Models.Row & {
  campaign_id: string;
  team_id: string;
  max_inscriptions: number;
  current_count: number;
  expires_at: string | null;
  is_active: boolean;
};

export type ListSnapshots = Models.Row & {
  listId: string;
  snapshotData: string;
  createdBy: string;
  description: string;
};

export type Main = Models.Row & {
  name: string;
  createdBy: string;
  isActive: boolean;
  originalDataHash: string;
  dateStart: string | null;
  dateEnd: string | null;
  teams: string[] | null;
  status: Status | null;
  error: string | null;
  allDates: string[] | null;
  productsId: Products[];
  purchasesId: Purchases[];
};

export type Products = Models.Row & {
  productHugoUuid: string;
  productName: string;
  productType: string;
  pFrais: boolean;
  pSurgel: boolean;
  stockReel: string | null;
  status: string;
  who: string[] | null;
  store: string;
  previousNames: string[] | null;
  isMerged: boolean;
  mergedFrom: string[] | null;
  mergeDate: string | null;
  mergeReason: string | null;
  nbRecipes: number | null;
  totalAssiettes: number | null;
  purchases: Purchases[];
  byDate: string | null;
  isSynced: boolean;
  hugoContentHash: string | null;
  mergedInto: string | null;
  totalNeededConsolidated: string | null;
  totalNeededIsManualOverride: boolean | null;
  totalNeededOverrideReason: string | null;
  mainId: Main | any;
};

export type Purchases = Models.Row & {
  unit: string;
  store: string | null;
  status: string | null;
  notes: string;
  price: number | null;
  quantity: number;
  who: string | null;
  createdBy: string | null;
  products: Products[];
  mainId: Main | any; // workaround for id only

  // Nouveaux champs pour la gestion des commandes
  deliveryDate: string | null; // ISO date string pour la date de livraison
  orderDate: string | null; // ISO date string pour la date de commande
};
