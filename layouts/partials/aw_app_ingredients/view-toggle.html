<!-- Sélecteur de vue pour les ingrédients -->
<div class="row mb-3">
  <div class="col-md-12">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
      <!-- Sélection de la vue -->
      <div class="d-flex flex-wrap gap-2">
        <div class="btn-group" role="group">
          <button
            type="button"
            class="btn btn-outline-primary"
            :class="{ active: currentView === 'table' }"
            @click="currentView = 'table'"
            title="Vue tableau classique"
          >
            <i class="fas fa-table"></i>
            <span class="d-none d-sm-inline ms-1">Tableau</span>
          </button>
          <button
            type="button"
            class="btn btn-outline-primary"
            :class="{ active: currentView === 'grouped' }"
            @click="currentView = 'grouped'"
            title="Vue groupée"
          >
            <i class="fas fa-layer-group"></i>
            <span class="d-none d-sm-inline ms-1">Groupé</span>
          </button>
          <button
            type="button"
            class="btn btn-outline-primary"
            :class="{ active: currentView === 'cards' }"
            @click="currentView = 'cards'"
            title="Vue cartes"
          >
            <i class="fas fa-th-large"></i>
            <span class="d-none d-sm-inline ms-1">Cartes</span>
          </button>
          <button
            type="button"
            class="btn btn-outline-primary"
            :class="{ active: currentView === 'compact' }"
            @click="currentView = 'compact'"
            title="Vue compacte"
          >
            <i class="fas fa-list"></i>
            <span class="d-none d-sm-inline ms-1">Compact</span>
          </button>
        </div>

      </div>

      <!-- Info sur la vue actuelle -->
      <div class="text-muted ms-auto">
        <small>
          <i class="fas fa-info-circle"></i>
          [[ getCurrentViewInfo() ]]
        </small>
      </div>
    </div>
  </div>
</div>

<!-- Style pour le sélecteur de vue -->
<style>
.btn-group .btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-group .btn i {
  font-size: 0.875rem;
}

@media (max-width: 768px) {
  .btn-group .btn {
    padding: 0.375rem 0.5rem;
    font-size: 0.875rem;
  }

  .btn-group .btn span {
    display: none;
  }

  .btn-group .btn i {
    margin-right: 0;
  }
}

.sticky-group {
  position: sticky;
  top: 0;
  z-index: 5;
  background-color: #f8f9fa;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.column-resizer {
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  width: 5px;
  cursor: col-resize;
  user-select: none;
  touch-action: none;
}

.column-resizer:hover {
  background-color: rgba(0, 123, 255, 0.3);
}

.table-responsive-grouped {
  max-height: 600px;
  overflow-y: auto;
  position: relative;
}

.table-responsive-grouped .sticky-top {
  z-index: 10;
  position: sticky;
  top: 0;
}
</style>
