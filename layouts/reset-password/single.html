{{ define "main" }}
<div class="row justify-content-center mt-4">
  <div class="col-lg-6">
    <div class="card">
      <div class="card-body p-4">
        <div class="text-center mb-4">
          <img src="/cover.png" alt="logo" class="m-auto" width="150px" />
          <h4 class="mt-3">Réinitialisation du mot de passe</h4>
        </div>

        <div id="reset-password-message" class="alert alert-info my-4 rounded" role="alert" style="display: none;">
          <!-- Message will be displayed here -->
        </div>

        <form id="reset-password-form" style="display: none;">
          <div class="mb-3">
            <label for="new-password" class="form-label">Nouveau mot de passe</label>
            <input
              type="password"
              class="form-control"
              id="new-password"
              required
              minlength="8"
              autocomplete="new-password"
            />
            <div class="form-text">Minimum 8 caractères.</div>
          </div>
          <div class="mb-3">
            <label for="confirm-password" class="form-label">Confirmer le nouveau mot de passe</label>
            <input
              type="password"
              class="form-control"
              id="confirm-password"
              required
              minlength="8"
              autocomplete="new-password"
            />
            <div class="invalid-feedback" id="password-match-error" style="display: none;">
              Les mots de passe ne correspondent pas.
            </div>
          </div>
          <div class="d-grid">
            <button
              type="submit"
              id="reset-password-button"
              class="btn btn-primary btn-lg"
            >
              <span
                class="spinner-border spinner-border-sm"
                role="status"
                aria-hidden="true"
                style="display: none"
              ></span>
              Réinitialiser le mot de passe
            </button>
          </div>
        </form>

        <div id="success-message" class="alert alert-success my-4 rounded" style="display: none;">
          Votre mot de passe a été réinitialisé avec succès ! Vous pouvez maintenant vous
          <a href="/login" class="alert-link">connecter</a>.
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Script de réinitialisation de mot de passe - traité par ESBuild -->
{{ partial "footer/esbuild" (dict "src" "js/reset-password.js" "targetPath"
"reset-password.js" "load" "defer" "transpile" false) -}}

{{ end }}