import{B as ut,d as xt,p as K,v as m,E as b,h as e,o as s,g as n,K as u,G as x,w as g,C as Y,M as gt,x as d,P as ft,b as _,c as ht,k as A,j as kt}from"./appwrite.js";import{f as R}from"./products-display.js";import{b as pt,c as wt,d as yt}from"./event-stats-helpers.js";import{s as Et}from"./index.js";import{k as Ct,a as zt,an as St,aa as Pt,J as Dt,aA as jt,aY as At,m as Rt,t as Z,aZ as qt,U as H}from"./icons.js";var Mt=m("<!> ",1),Tt=m("<!> ",1),Ut=m('<div class="badge badge-info badge-lg ms-auto h-auto"><!> Vous êtes invité à participer</div>'),Vt=m('<div class="text-primary flex items-center gap-1 font-semibold"><!> <span> </span></div>'),Bt=m('<div class="text-base-content/90 flex items-center gap-1"><!> <span> </span> <span> </span></div>'),Ft=m('<div role="button" tabindex="0"><div class="min-w-0 flex-1 space-y-4"><div class="flex flex-wrap items-center gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-lg h-auto font-medium"><!></div> <div> </div> <!></div> <div class="text-base-content/70 mt-2 flex flex-wrap items-center gap-3 text-sm"><!> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="mt-6 flex flex-wrap justify-end gap-2"><button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Éditer</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Recettes</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Produits</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Affiches</button></div></div> <!></div>');function Zt(L,t){xt(t,!0);let N=K(t,"cardClass",3,""),O=K(t,"contributorStatus",3,null);var c=Ft();c.__click=()=>b(`/dashboard/eventEdit/${t.event.$id}`),c.__keydown=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),b(`/dashboard/eventEdit/${t.event.$id}`))};var y=e(c),E=e(y),C=e(E),Q=e(C,!0);s(C);var z=n(C,2),W=e(z);{var X=a=>{var i=Mt(),r=A(i);Z(r,{class:"h-4 w-4"});var v=n(r);g((o,l)=>d(v,` ${o??""} au ${l??""}`),[()=>R(t.event.dateStart),()=>R(t.event.dateEnd)]),_(a,i)},$=a=>{var i=kt(),r=A(i);{var v=o=>{var l=Tt(),w=A(l);Z(w,{class:"h-4 w-4"});var bt=n(w);g(mt=>d(bt,` ${mt??""}`),[()=>R(t.event.dateStart)]),_(o,l)};u(r,o=>{t.event.dateStart&&o(v)},!0)}_(a,i)};u(W,a=>{t.event.allDates&&t.event.allDates.length>1&&t.event.dateStart&&t.event.dateEnd?a(X):a($,!1)})}s(z);var f=n(z,2),tt=e(f,!0);s(f);var at=n(f,2);{var et=a=>{var i=Ut(),r=e(i);qt(r,{class:"size-4"}),x(),s(i),_(a,i)};u(at,a=>{O()==="invited"&&a(et)})}s(E);var S=n(E,2),q=e(S);{var st=a=>{var i=Vt(),r=e(i);H(r,{class:"h-3 w-3 stroke-3"});var v=n(r,2),o=e(v,!0);s(v),s(i),g(l=>d(o,l),[()=>t.event.teams.join(", ")]),_(a,i)};u(q,a=>{t.event.teams&&t.event.teams.length>0&&a(st)})}var M=n(q,2);{var nt=a=>{var i=Bt(),r=e(i);H(r,{class:"h-3 w-3"});var v=n(r,2),o=e(v);s(v);var l=n(v,2),w=e(l);s(l),s(i),g(()=>{d(o,`${t.event.contributors.length??""} participant${t.event.contributors.length>1?"s":""}`),d(w,`(${t.event.minContrib??""} requis)`)}),_(a,i)};u(M,a=>{t.event.contributors&&t.event.contributors.length>0&&a(nt)})}var P=n(M,2),T=e(P);Ct(T,{class:"h-3 w-3"});var U=n(T,2),it=e(U);s(U),s(P);var D=n(P,2),V=e(D);zt(V,{class:"h-3 w-3"});var B=n(V,2),rt=e(B);s(B),s(D);var F=n(D,2),G=e(F);St(G,{class:"h-3 w-3"});var I=n(G,2),vt=e(I);s(I),s(F),s(S);var J=n(S,2),h=e(J);h.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/${t.event.$id}`)};var dt=e(h);Pt(dt,{class:"size-4 @max-xs:size-3"}),x(),s(h);var k=n(h,2);k.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/recipes/${t.event.$id}`)};var ot=e(k);Dt(ot,{class:"size-4 @max-xs:size-3"}),x(),s(k);var p=n(k,2);p.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/products/${t.event.$id}`)};var lt=e(p);jt(lt,{class:"size-4 @max-xs:size-3"}),x(),s(p);var j=n(p,2);j.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/posters/${t.event.$id}`)};var ct=e(j);At(ct,{class:"size-4 @max-xs:size-3"}),x(),s(j),s(J),s(y);var _t=n(y,2);Rt(_t,{class:"mt-1 h-4 w-4 shrink-0 opacity-40"}),s(c),g((a,i,r)=>{Y(c,1,`bg-base-200/60 hover:bg-base-200 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors ${N()??""} @container`),gt(c,"title",`Voir les détails de ${t.event.name??""}`),d(Q,t.event.name),Y(f,1,`badge badge-outline badge-sm font-medium ${t.event.status==="proposition"?"badge-accent":"badge-success"}`),d(tt,t.event.status==="proposition"?"proposition":"confirmé"),d(it,`${a??""} repas`),d(rt,`${i??""} recettes`),d(vt,`${r??""} tâches`)},[()=>pt(t.event),()=>wt(t.event),()=>yt(t.event)]),ft(3,c,()=>Et),_(L,c),ht()}ut(["click","keydown"]);export{Zt as E};
