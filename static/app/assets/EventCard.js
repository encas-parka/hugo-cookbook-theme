import{B as mt,d as bt,p as K,v as b,E as m,h as a,o as s,g as n,K as u,G as x,w as g,C as ut,M as xt,x as l,P as gt,b as _,c as ft,k as j,j as ht}from"./appwrite.js";import{f as B}from"./products-display.js";import{g as kt,a as wt,b as pt}from"./event-stats-helpers.js";import{s as yt}from"./index.js";import{B as zt}from"./BadgeEventStatus.js";import{k as Ct,a as St,aw as Et,aa as Pt,J as Dt,ax as jt,ay as Bt,m as Rt,t as H,az as qt,U as L}from"./icons.js";var At=b("<!> ",1),Mt=b("<!> ",1),Tt=b('<div class="badge badge-info badge-lg ms-auto h-auto"><!> Vous êtes invité à participer</div>'),Ut=b('<div class="text-primary flex items-center gap-1 font-semibold"><!> <span> </span></div>'),Vt=b('<div class="text-base-content/90 flex items-center gap-1"><!> <span> </span> <span> </span></div>'),Ft=b('<div role="button" tabindex="0"><div class="min-w-0 flex-1 space-y-4"><div class="flex flex-wrap items-center gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-lg h-auto font-medium"><!></div> <!> <!></div> <div class="text-base-content/70 mt-2 flex flex-wrap items-center gap-3 text-sm"><!> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="mt-6 flex flex-wrap justify-end gap-2"><button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Éditer</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Recettes</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Produits</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Affiches</button></div></div> <!></div>');function Nt(N,e){bt(e,!0);let O=K(e,"cardClass",3,""),Q=K(e,"contributorStatus",3,null);var c=Ft();c.__click=()=>m(`/event/${e.event.$id}`),c.__keydown=t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),m(`/event/${e.event.$id}`))};var p=a(c),y=a(p),z=a(y),W=a(z,!0);s(z);var C=n(z,2),X=a(C);{var Y=t=>{var i=At(),v=j(i);H(v,{class:"h-4 w-4"});var r=n(v);g((o,d)=>l(r,` ${o??""} au ${d??""}`),[()=>B(e.event.dateStart),()=>B(e.event.dateEnd)]),_(t,i)},Z=t=>{var i=ht(),v=j(i);{var r=o=>{var d=Mt(),w=j(d);H(w,{class:"h-4 w-4"});var ct=n(w);g(_t=>l(ct,` ${_t??""}`),[()=>B(e.event.dateStart)]),_(o,d)};u(v,o=>{e.event.dateStart&&o(r)},!0)}_(t,i)};u(X,t=>{e.event.allDates&&e.event.allDates.length>1&&e.event.dateStart&&e.event.dateEnd?t(Y):t(Z,!1)})}s(C);var R=n(C,2);zt(R,{get status(){return e.event.status},size:"badge-sm",class:"badge-outline font-medium"});var $=n(R,2);{var tt=t=>{var i=Tt(),v=a(i);qt(v,{class:"size-4"}),x(),s(i),_(t,i)};u($,t=>{Q()==="invited"&&t(tt)})}s(y);var S=n(y,2),q=a(S);{var et=t=>{var i=Ut(),v=a(i);L(v,{class:"h-3 w-3 stroke-3"});var r=n(v,2),o=a(r,!0);s(r),s(i),g(d=>l(o,d),[()=>e.event.teams.join(", ")]),_(t,i)};u(q,t=>{e.event.teams&&e.event.teams.length>0&&t(et)})}var A=n(q,2);{var at=t=>{var i=Vt(),v=a(i);L(v,{class:"h-3 w-3"});var r=n(v,2),o=a(r);s(r);var d=n(r,2),w=a(d);s(d),s(i),g(()=>{l(o,`${e.event.contributors.length??""} participant${e.event.contributors.length>1?"s":""}`),l(w,`(${e.event.minContrib??""} requis)`)}),_(t,i)};u(A,t=>{e.event.contributors&&e.event.contributors.length>0&&t(at)})}var E=n(A,2),M=a(E);Ct(M,{class:"h-3 w-3"});var T=n(M,2),st=a(T);s(T),s(E);var P=n(E,2),U=a(P);St(U,{class:"h-3 w-3"});var V=n(U,2),nt=a(V);s(V),s(P);var F=n(P,2),G=a(F);Et(G,{class:"h-3 w-3"});var I=n(G,2),it=a(I);s(I),s(F),s(S);var J=n(S,2),f=a(J);f.__click=t=>{t.stopPropagation(),m(`/event/${e.event.$id}`)};var vt=a(f);Pt(vt,{class:"size-4 @max-xs:size-3"}),x(),s(f);var h=n(f,2);h.__click=t=>{t.stopPropagation(),m(`/event/${e.event.$id}/recipes`)};var rt=a(h);Dt(rt,{class:"size-4 @max-xs:size-3"}),x(),s(h);var k=n(h,2);k.__click=t=>{t.stopPropagation(),m(`/event/${e.event.$id}/products`)};var ot=a(k);jt(ot,{class:"size-4 @max-xs:size-3"}),x(),s(k);var D=n(k,2);D.__click=t=>{t.stopPropagation(),m(`/event/${e.event.$id}/posters`)};var dt=a(D);Bt(dt,{class:"size-4 @max-xs:size-3"}),x(),s(D),s(J),s(p);var lt=n(p,2);Rt(lt,{class:"mt-1 h-4 w-4 shrink-0 opacity-40"}),s(c),g((t,i,v)=>{ut(c,1,`bg-base-200/60 hover:bg-base-200 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors ${O()??""} @container`),xt(c,"title",`Voir les détails de ${e.event.name??""}`),l(W,e.event.name),l(st,`${t??""} repas`),l(nt,`${i??""} recettes`),l(it,`${v??""} tâches`)},[()=>kt(e.event),()=>wt(e.event),()=>pt(e.event)]),gt(3,c,()=>yt),_(N,c),ft()}mt(["click","keydown"]);export{Nt as E};
