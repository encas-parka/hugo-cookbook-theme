import{d as g,j as E,k as w,K as k,m as y,u as x,b as c,c as V,I as m,v as z,g as r,h as t,P as A,a8 as I,O as d,B as P,o}from"./appwrite.js";import{a as O}from"./index.js";import{n as R}from"./icons.js";var S=z(`<div class="alert alert-warning max-md:alert-vertical mx-auto mt-4 max-w-4xl shadow-lg" role="alert"><!> <div class="flex-1"><h3 class="font-semibold">Email non vérifié</h3> <p class="text-sm opacity-90">Veuillez cliquez sur le lien envoyé sur votre email pour finaliser
        l'inscription (pensez à vérifier le dossier spam) <button class="link font-medium">Renvoyer l'email de vérification</button></p></div></div>`);function D(v,f){g(f,!0);async function u(){try{const{account:e}=await I(()=>import("./appwrite.js").then(i=>i.b7),[]).then(i=>i.getAppwriteInstances()),a=await e.createEmailVerification({url:window.location.origin+"/#/verify-email"});d.success("Email de vérification envoyé ! Vérifiez votre boîte de réception.")}catch(e){console.error("Erreur lors de l'envoi de l'email de vérification:",e),d.error(e instanceof Error?e.message:"Impossible d'envoyer l'email de vérification")}}const p=x(()=>m.isAuthenticated&&m.user?.emailVerification===!1);var s=E(),_=w(s);{var h=e=>{var a=S(),i=t(a);R(i,{class:"size-6 shrink-0 "});var n=r(i,2),l=r(t(n),2),b=r(t(l));b.__click=u,o(l),o(n),o(a),A(1,a,()=>O,()=>({duration:300})),c(e,a)};k(_,e=>{y(p)&&e(h)})}c(v,s),V()}P(["click"]);export{D as E};
