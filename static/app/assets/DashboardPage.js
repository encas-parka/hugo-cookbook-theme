import{B as je,a8 as Ge,Q as Je,k as nt,m as Qe,U as be,t as ke,G as it,P as oe,a9 as dt,aa as Ke,ab as vt,ac as ot,J as ct,ad as lt,a as ut}from"./icons.js";import{B as _e,d as ge,v as l,k as J,g as t,h as r,I as D,J as pe,b as i,c as fe,E as re,j as ie,m as a,u as V,G as ve,K as F,o as e,e as he,n as Pe,w as $,C as Ue,aa as mt,L as bt,x as G,a9 as _t,p as xe,W as le,a3 as ye,y as Ce,A as de,F as we,S as Re,s as He,H as gt,$ as ft,O as pt}from"./appwrite.js";import{E as xt,n as Fe,f as ht}from"./index.js";import{f as yt}from"./date-helpers.js";import{T as wt,C as kt}from"./CreateTeamModal.js";import{E as Ct}from"./EventCard.js";import{D as Dt}from"./DocCard.js";import"./ConfirmModal.js";import"./InfoCollapse.js";import"./products-display.js";import"./event-stats-helpers.js";var Tt=l('<span class="font-medium"> </span>'),Et=l('<div class="flex items-center gap-1"><!> <span> </span></div>'),At=l('<div class="badge badge-accent badge-outline badge-xs">brouillon</div>'),It=l('<div role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><svg class="text-primary h-4 w-4 flex-shrink-0"><use></use></svg> <div class="truncate text-sm font-medium"> </div> <!></div> <div class="text-base-content/50 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div> <!></div></div> <!></div>'),zt=l('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des recettes</p> <button class="btn btn-ghost btn-xs mt-2">Réessayer</button></div>'),jt=l('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucune recette publiée</p> <button class="btn btn-primary btn-sm"><!> Créer une recette</button></div>'),Rt=l('<div class="mb-4"><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Mes dernières recettes</h3> <div class="space-y-2"></div></div>'),St=l('<!> <div><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Dernières recettes ajoutées</h3> <div class="space-y-2"></div></div> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm btn-soft"><!> Créer une recette</button></div>',1),Bt=l('<div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Dernières Recettes</h2> <button class="btn" title="Voir toutes les recettes">Voir tout <!></button></div> <!>',1);function Mt(X,d){ge(d,!0);const p=(s,n=Pe,o=Pe)=>{const _=V(()=>B(n()));var c=It();c.__click=()=>T(n().$id),c.__keydown=k=>{(k.key==="Enter"||k.key===" ")&&T(n().$id)};var u=t(c),E=t(u),R=t(E),j=t(R),x=t(j);e(j);var w=r(j,2),S=t(w,!0);e(w);var O=r(w,2);{var ae=k=>{var H=Tt(),se=t(H);e(H),$(()=>G(se,`- ${n().versionLabel??""}`)),i(k,H)};D(O,k=>{n().versionLabel&&k(ae)})}e(R);var N=r(R,2),K=t(N);{var W=k=>{var H=Et(),se=t(H);be(se,{class:"h-3 w-3"});var ne=r(se,2),ue=t(ne);e(ne),e(H),$(()=>G(ue,`${n().plate??""} pers`)),i(k,H)};D(K,k=>{n().plate&&k(W)})}var f=r(K,2),b=t(f),A=t(b);e(b),e(f),e(N);var U=r(N,2);{var ce=k=>{var H=At();i(k,H)};D(U,k=>{n().draft&&k(ce)})}e(E),e(u);var Y=r(u,2);Qe(Y,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),e(c),$(k=>{Ue(c,1,`${o()?"border-accent/60 border-l-2":""} bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors`),bt(x,"href",`/icons/sprite.svg#${a(_).iconId}`),G(S,n().title),G(A,`Ajouté ${k??""}`)},[()=>h(n())]),i(s,c)},g=V(()=>pe.isInitialized?pe.recipesIndex.filter(s=>s.auteur===ve.userName).sort((s,n)=>{const o=s.$createdAt?new Date(s.$createdAt).getTime():0;return(n.$createdAt?new Date(n.$createdAt).getTime():0)-o}).slice(0,5):[]),C=V(()=>pe.isInitialized?pe.recipesIndex.filter(s=>s.auteur!==ve.userName).sort((s,n)=>{const o=s.$createdAt?new Date(s.$createdAt).getTime():0;return(n.$createdAt?new Date(n.$createdAt).getTime():0)-o}).slice(0,5):[]);function h(s){return s.$createdAt?yt(s.$createdAt):"Date inconnue"}function B(s){return _t(s.typeR,s.categories)}function T(s){re(`/recipe/${s}`)}function L(){re("/recipe")}function Q(){re("/recipe/new")}var y=Bt(),M=J(y),P=t(M),ee=t(P);je(ee,{class:"text-primary h-5 w-5 stroke-3"}),F(),e(P);var te=r(P,2);te.__click=L;var v=r(t(te));Ge(v,{size:16}),e(te),e(M);var m=r(M,2);{var q=s=>{var n=zt(),o=t(n),_=t(o);Je(_,{class:"mx-auto h-8 w-8"}),e(o);var c=r(o,4);c.__click=()=>window.location.reload(),e(n),i(s,n)},z=s=>{var n=ie(),o=J(n);{var _=u=>{var E=jt(),R=t(E);nt(R,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var j=r(R,4);j.__click=Q;var x=t(j);je(x,{class:"mr-2 h-4 w-4"}),F(),e(j),e(E),i(u,E)},c=u=>{var E=St(),R=J(E);{var j=N=>{var K=Rt(),W=r(t(K),2);he(W,21,()=>a(g),f=>f.$id,(f,b)=>{p(f,()=>a(b),()=>!0)}),e(W),e(K),i(N,K)};D(R,N=>{a(g).length>0&&N(j)})}var x=r(R,2),w=r(t(x),2);he(w,21,()=>a(C),N=>N.$id,(N,K)=>{p(N,()=>a(K),()=>!1)}),e(w),e(x);var S=r(x,2),O=t(S);O.__click=Q;var ae=t(O);je(ae,{class:"mr-2 h-4 w-4"}),F(),e(O),e(S),$(()=>Ue(x,1,mt(a(g).length>0?"mt-4":""))),i(u,E)};D(o,u=>{a(g).length===0&&a(C).length===0?u(_):u(c,!1)},!0)}i(s,n)};D(m,s=>{pe.error?s(q):s(z,!1)})}i(X,y),fe()}_e(["click","keydown"]);var Vt=l('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),Lt=l('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun événement prévu</p></div>'),Nt=l('<div class="my-4"><div class="space-y-6"></div></div>');function Be(X,d){ge(d,!0);let p=xe(d,"events",19,()=>[]),g=xe(d,"loading",3,!1),C=xe(d,"cardClass",3,"");function h(y){return le.getContributorStatus(y)==="invited"}var B=ie(),T=J(B);{var L=y=>{var M=Vt();i(y,M)},Q=y=>{var M=ie(),P=J(M);{var ee=v=>{var m=Lt(),q=t(m);ke(q,{size:32,class:"text-base-content/20 mx-auto mb-3"}),F(2),e(m),i(v,m)},te=v=>{var m=ie(),q=J(m);{var z=s=>{var n=Nt(),o=t(n);he(o,21,p,_=>_.$id,(_,c)=>{{let u=V(()=>h(a(c).$id)?"invited":null);Ct(_,{get event(){return a(c)},get cardClass(){return C()},get contributorStatus(){return a(u)}})}}),e(o),e(n),i(s,n)};D(q,s=>{p().length>0&&s(z)})}i(v,m)};D(P,v=>{p().length===0?v(ee):v(te,!1)},!0)}i(y,M)};D(T,y=>{g()?y(L):y(Q,!1)})}i(X,B),fe()}var qt=l('<div class="py-6 text-center"><span class="loading loading-spinner loading-md text-primary"></span> <p class="text-base-content/60 mt-2 text-sm">Chargement...</p></div>'),Ot=l('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des documents</p></div>'),Pt=l('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun document</p></div>'),Ut=l('<div class="space-y-2"></div>'),Ht=l('<div class="card bg-base-100 card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Documents récents</h2> <button class="btn btn-sm" title="Voir tous les documents">Voir tout <!></button></div> <!> <div class="card-actions mt-4 justify-end pt-4"><button class="btn btn-primary btn-soft btn-sm"><!> Créer un document</button></div></div></div>');function Ft(X,d){ge(d,!0);const p=V(()=>ye.isInitialized?ye.getTeamDocuments(d.teamId).sort((z,s)=>{const n=z.$updatedAt?new Date(z.$updatedAt).getTime():0;return(s.$updatedAt?new Date(s.$updatedAt).getTime():0)-n}).slice(0,5):[]);function g(){re(`/documents/${d.teamId}`)}function C(){re(`/createdocument/${d.teamId}/new`)}var h=Ht(),B=t(h),T=t(B),L=t(T),Q=t(L);it(Q,{class:"text-primary h-5 w-5"}),F(),e(L);var y=r(L,2);y.__click=g;var M=r(t(y));Ge(M,{size:16}),e(y),e(T);var P=r(T,2);{var ee=z=>{var s=qt();i(z,s)},te=z=>{var s=ie(),n=J(s);{var o=c=>{var u=Ot(),E=t(u),R=t(E);Je(R,{class:"mx-auto h-8 w-8"}),e(E),F(2),e(u),i(c,u)},_=c=>{var u=ie(),E=J(u);{var R=x=>{var w=Pt(),S=t(w);dt(S,{size:32,class:"text-base-content/20 mx-auto mb-3"}),F(2),e(w),i(x,w)},j=x=>{var w=Ut();he(w,21,()=>a(p),S=>S.$id,(S,O)=>{Dt(S,{get doc(){return a(O)},get teamId(){return d.teamId}})}),e(w),i(x,w)};D(E,x=>{a(p).length===0?x(R):x(j,!1)},!0)}i(c,u)};D(n,c=>{ye.error?c(o):c(_,!1)},!0)}i(z,s)};D(P,z=>{ye.loading?z(ee):z(te,!1)})}var v=r(P,2),m=t(v);m.__click=C;var q=t(m);oe(q,{class:"h-4 w-4"}),F(),e(m),e(v),e(B),e(h),i(X,h),fe()}_e(["click"]);var Gt=l('<div class="badge badge-soft badge-secondary gap-1"><!> </div>'),Jt=l('<div class="fieldset-legend">Récents</div> <!>',1),Qt=l(`<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body gap-4"><div class="flex items-start justify-between gap-2"><div class="flex items-center gap-2"><!> <h2> </h2> <!></div> <button class="btn btn-circle btn-ghost" title="Paramètres de l'équipe"><!></button></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class="card card-sm border-neutral/20 shoadow-sm self-start border"><div class="card-body"><div class="flex flex-wrap items-center justify-between gap-2 text-sm"><div class=" flex items-center gap-2"><!> <span class="text-base-content/70"> </span></div> <div class="ms-auto flex items-center gap-4"><div class="badge badge-primary badge-lg badge-outline ml-auto"> </div> <button class="btn btn-sm btn-accent"><!> Inviter</button></div></div></div></div> <div class="card border-neutral/20 card-sm flex w-full justify-center border shadow-sm"><div class="card-body"><div class="card card-sm bg-base-300/60"><div class="card-body text-center"><p class="font-semibold">Gérez le matériel collectif de cantine :</p> <p>inventaire, gestion des emprunt, partage, etc.</p></div></div> <div class="flex w-full justify-around gap-2"><button class="btn btn-primary btn-soft flex-1"><!> Inventaire</button> <button class="btn btn-primary btn-soft flex-1"><!> Réservations</button></div></div></div></div> <div class="card grid grid-cols-1 gap-6 text-sm md:grid-cols-2"><div class="card card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap justify-between gap-2"><h3 class="card-title items-center"><!> Événements</h3> <button class="btn btn-sm">Voir les événements passés <!></button></div> <!> <!> <div class="card-actions mt-auto items-center justify-end"><button class="btn btn-primary btn-soft btn-sm ml-auto"><!> Créer un événement</button></div></div></div> <div><!></div></div> <div class="flex justify-center"></div></div></div> <!>`,1);function Kt(X,d){ge(d,!0);let p=xe(d,"loading",3,!1),g=Ce(!1),C=Ce("");const h=V(()=>{const I=d.team.prefs||{};return I.city||I.location||I.region||null}),B=V(()=>d.team.members||[]),T=V(()=>we.getTeamMemberNames(d.team.$id)),L=V(()=>a(T).length<=20?a(T).join(", "):`${a(T).slice(0,20).join(", ")} +${a(T).length-20}`),Q=V(()=>d.allEvents.filter(I=>I.teamsId?.includes(d.team.$id)||I.teams?.includes(d.team.name))),y=V(()=>{const I=new Date;return I.setHours(0,0,0,0),a(Q).filter(Z=>(Z.dateEnd?new Date(Z.dateEnd):new Date(Z.dateStart))>=I)}),M=V(()=>{const I=new Date;return I.setHours(0,0,0,0),a(Q).filter(Z=>(Z.dateEnd?new Date(Z.dateEnd):new Date(Z.dateStart))<I).slice(0,3)});function P(){de(C,"members"),de(g,!0)}function ee(){de(C,"invitations"),de(g,!0)}function te(){re(`/dashboard/eventCreate?teamId=${d.team.$id}`)}function v(){re(`/dashboard/materiel/${d.team.$id}`)}function m(){re(`/dashboard/loans/${d.team.$id}`)}function q(){re("/eventList")}var z=Qt(),s=J(z),n=t(s),o=t(n),_=t(o),c=t(_);be(c,{class:"text-primary size-6 flex-shrink-0 stroke-3"});var u=r(c,2),E=t(u,!0);e(u);var R=r(u,2);{var j=I=>{var Z=Gt(),me=t(Z);ct(me,{class:"h-3 w-3"});var st=r(me);e(Z),$(()=>G(st,` ${a(h)??""}`)),i(I,Z)};D(R,I=>{a(h)&&I(j)})}e(_);var x=r(_,2);x.__click=P;var w=t(x);Ke(w,{}),e(x),e(o);var S=r(o,2),O=t(S),ae=t(O),N=t(ae),K=t(N),W=t(K);be(W,{class:"inline size-5 shrink-0 opacity-70"});var f=r(W,2),b=t(f,!0);e(f),e(K);var A=r(K,2),U=t(A),ce=t(U);e(U);var Y=r(U,2);Y.__click=ee;var k=t(Y);oe(k,{class:"h-4 w-4"}),F(),e(Y),e(A),e(N),e(ae),e(O);var H=r(O,2),se=t(H),ne=r(t(se),2),ue=t(ne);ue.__click=v;var We=t(ue);vt(We,{class:"size-4"}),F(),e(ue);var De=r(ue,2);De.__click=m;var Xe=t(De);ot(Xe,{class:"size-4"}),F(),e(De),e(ne),e(se),e(H),e(S);var Me=r(S,2),Te=t(Me),Ve=t(Te),Ee=t(Ve),Ae=t(Ee),Ye=t(Ae);ke(Ye,{class:"text-primary inline size-5"}),F(),e(Ae);var Ie=r(Ae,2);Ie.__click=q;var Ze=r(t(Ie));Qe(Ze,{class:"ml-2 h-4 w-4"}),e(Ie),e(Ee);var Le=r(Ee,2);Be(Le,{get events(){return a(y)},get loading(){return p()},cardClass:"border-l-4 border-accent/60"});var Ne=r(Le,2);{var $e=I=>{var Z=Jt(),me=r(J(Z),2);Be(me,{get events(){return a(M)},get loading(){return p()}}),i(I,Z)};D(Ne,I=>{a(M).length>0&&I($e)})}var qe=r(Ne,2),ze=t(qe);ze.__click=te;var et=t(ze);oe(et,{class:"h-4 w-4"}),F(),e(ze),e(qe),e(Ve),e(Te);var Oe=r(Te,2),tt=t(Oe);Ft(tt,{get teamId(){return d.team.$id}}),e(Oe),e(Me),F(2),e(n),e(s);var at=r(s,2);{var rt=I=>{wt(I,{get teamId(){return d.team.$id},onClose:()=>de(g,!1),get initialTab(){return a(C)}})};D(at,I=>{a(g)&&I(rt)})}$(()=>{G(E,d.team.name),G(b,a(L)),G(ce,`${a(B).length??""} membre${a(B).length>1?"s":""}`)}),i(X,z),fe()}_e(["click"]);var Wt=l('<button class="btn btn-primary btn-sm gap-2"><!> Voir tous mes événements <div class="badge badge-neutral"> </div></button>'),Xt=l('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1">Événements</h2> <p class="text-base-content/60 text-sm">Aucune invitation à participer à un événement.</p></div></div> <!></div></div></div>'),Yt=l('<!> Voir tous mes événements <div class="badge badge-neutral"> </div>',1),Zt=l('<button class="btn btn-sm"><!></button>'),$t=l('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="mb-4 flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1"> </h2> <p class="text-base-content/60 text-sm"><!></p></div></div> <!></div> <!></div></div>');function ea(X,d){ge(d,!0);let p=xe(d,"loading",3,!1),g=Ce(!1);const C=V(()=>{const v=new Date;return v.setHours(0,0,0,0),d.allEvents.filter(m=>(m.dateEnd?new Date(m.dateEnd):new Date(m.dateStart)).valueOf()>=v.valueOf())}),h=V(()=>{const v=ve.user?.$id;return v?a(C).filter(m=>m.teamsId?.some(s=>d.userTeamIds.includes(s))?!1:m.contributors?.some(s=>s.userId===v||s.id===v)):[]}),B=V(()=>a(C).filter(v=>v.teamsId?.some(m=>d.userTeamIds.includes(m)))),T=V(()=>a(g)?[...a(h),...a(B)]:a(h)),L=V(()=>a(h).length+a(B).length),Q=V(()=>a(h).length);function y(){de(g,!a(g))}var M=ie(),P=J(M);{var ee=v=>{},te=v=>{var m=ie(),q=J(m);{var z=n=>{var o=Xt(),_=t(o),c=t(_),u=t(c),E=t(u);ke(E,{class:"text-primary h-6 w-6"}),F(2),e(u);var R=r(u,2);{var j=x=>{var w=Wt();w.__click=y;var S=t(w);be(S,{class:"h-4 w-4"});var O=r(S,2),ae=t(O,!0);e(O),e(w),$(()=>G(ae,a(L))),i(x,w)};D(R,x=>{a(B).length>0&&x(j)})}e(c),e(_),e(o),i(n,o)},s=n=>{var o=$t(),_=t(o),c=t(_),u=t(c),E=t(u);ke(E,{class:"text-primary h-6 w-6 stroke-3"});var R=r(E,2),j=t(R),x=t(j,!0);e(j);var w=r(j,2),S=t(w);{var O=f=>{var b=Re();$(()=>G(b,`${a(T).length??""} événement${a(T).length>1?"s":""} à venir`)),i(f,b)},ae=f=>{var b=Re();$(()=>G(b,`${a(Q)??""} évenement${a(Q)>1?"s":""} hors équipe`)),i(f,b)};D(S,f=>{a(g)?f(O):f(ae,!1)})}e(w),e(R),e(u);var N=r(u,2);{var K=f=>{var b=Zt();b.__click=y;var A=t(b);{var U=Y=>{var k=Re("Voir les invitations externes uniquement");i(Y,k)},ce=Y=>{var k=Yt(),H=J(k);be(H,{class:"h-4 w-4"});var se=r(H,2),ne=t(se,!0);e(se),$(()=>G(ne,a(L))),i(Y,k)};D(A,Y=>{a(g)?Y(U):Y(ce,!1)})}e(b),i(f,b)};D(N,f=>{a(B).length>0&&f(K)})}e(c);var W=r(c,2);{let f=V(()=>a(g)?"":"border-l-4 border-info");Be(W,{get events(){return a(T)},get loading(){return p()},get cardClass(){return a(f)}})}e(_),e(o),$(()=>G(x,a(g)?"Tous mes événements":"Invitations externes")),i(n,o)};D(q,n=>{a(h).length===0&&!a(g)?n(z):n(s,!1)},!0)}i(v,m)};D(P,v=>{a(C).length===0?v(ee):v(te,!1)})}i(X,M),fe()}_e(["click"]);_e(["click","keydown"]);var ta=l('<div class="card bg-base-100 border-base-200 border shadow-sm"><div class="card-body"><div class="flex items-center gap-3"><div class="text-primary self-baseline stroke-3"><!></div> <div><h4> </h4> <p class="text-base-content/60 py-2 text-sm"> </p></div></div> <div class="card-actions mt-auto justify-end"><!></div></div></div>');function Se(X,d){var p=ta(),g=t(p),C=t(g),h=t(C),B=t(h);He(B,()=>d.icon),e(h);var T=r(h,2),L=t(T),Q=t(L,!0);e(L);var y=r(L,2),M=t(y,!0);e(y),e(T),e(C);var P=r(C,2),ee=t(P);He(ee,()=>d.action),e(P),e(g),e(p),$(()=>{G(Q,d.title),G(M,d.description)}),i(X,p)}const aa=X=>{var d=ra(),p=t(d);p.__click=()=>re("/dashboard/eventCreate");var g=t(p);oe(g,{class:"h-4 w-4"}),F(),e(p);var C=r(p,2);C.__click=()=>re("/recipe/new");var h=t(C);oe(h,{class:"h-4 w-4"}),F(),e(C),e(d),i(X,d)};var ra=l('<div class="flex gap-2"><button class="btn btn-primary"><!> Créer un Événement</button> <button class="btn btn-primary"><!> Créer une Recette</button></div>'),sa=l('<div class="bg-base-100 border-base-200 rounded-xl border p-8 text-center shadow-sm"><!> <h2 class="mb-2 text-xl font-semibold">Connectez-vous pour accéder à votre tableau de bord</h2> <p class="text-base-content/60 mb-6">Connectez-vous pour voir vos équipes, événements et recettes.</p> <button class="btn btn-primary">Se connecter</button></div>'),na=l('<div class="alert alert-error shadow-lg"><span> </span></div>'),ia=l('<button class="btn btn-primary btn-sm"><!></button>'),da=l('<button class="btn btn-primary btn-sm"><!></button>'),va=l('<button class="btn btn-primary btn-sm"><!></button>'),oa=l('<section class="bg-base-200 py-8"><div class="container mx-auto px-4"><div class="grid grid-cols-1 gap-6"></div></div></section>'),ca=l('<div class="mb-8"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><!> <!> <!></div></div> <section class="bg-base-200 py-8"><div class="container mx-auto"><!></div></section> <!> <div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><!></div></div>',1),la=l('<div class="bg-base-200 min-h-screen"><!> <div class="mx-auto max-w-7xl px-4 pt-8 sm:px-6 lg:px-8"><h2 class="text-base-content"> </h2></div> <div class="mx-auto max-w-7xl px-4 py-8"><!></div></div> <!>',1);function ka(X,d){ge(d,!0);let p=Ce(!1);function g(v){de(p,!1)}gt(()=>{Fe.setConfig({title:"Dashboard",actions:aa})}),ft(()=>{Fe.reset()});var C=la(),h=J(C),B=t(h);xt(B,{});var T=r(B,2),L=t(T),Q=t(L);e(L),e(T);var y=r(T,2),M=t(y);{var P=v=>{var m=sa(),q=t(m);Ke(q,{class:"mx-auto mb-4 h-16 w-16 opacity-20"});var z=r(q,6);z.__click=()=>{},e(m),i(v,m)},ee=v=>{var m=ie(),q=J(m);{var z=n=>{var o=na(),_=t(o),c=t(_,!0);e(_),e(o),$(()=>G(c,le.error||we.error||"Une erreur est survenue")),i(n,o)},s=n=>{var o=ca(),_=J(o),c=t(_),u=t(c);Se(u,{title:"Créer un Événement",description:"Organisez un nouvel événement et invitez des équipes ou des individus à participer",icon:b=>{lt(b,{class:"size-5"})},action:b=>{var A=ia();A.__click=()=>re("/dashboard/eventCreate");var U=t(A);oe(U,{class:"size-5"}),e(A),i(b,A)}});var E=r(u,2);Se(E,{title:"Créer une Recette",description:"Partager une nouvelle recette pour pouvoir l'ajouter à des événements",icon:b=>{ut(b,{class:"size-5"})},action:b=>{var A=da();A.__click=()=>re("/recipe/new");var U=t(A);oe(U,{class:"size-5"}),e(A),i(b,A)}});var R=r(E,2);Se(R,{title:"Créer une Équipe",description:"Créez un groupe et invitez des membres pour ensuite vous organiser ensemble sur des événements, gérer du matos en commun, partager des documents...",icon:b=>{be(b,{class:"size-5"})},action:b=>{var A=va();A.__click=()=>de(p,!0);var U=t(A);oe(U,{class:"size-5"}),e(A),i(b,A)}}),e(c),e(_);var j=r(_,2),x=t(j),w=t(x);ea(w,{get allEvents(){return le.events},get userTeamIds(){return ve.userTeams},get loading(){return le.loading}}),e(x),e(j);var S=r(j,2);{var O=W=>{var f=oa(),b=t(f),A=t(b);he(A,20,()=>ve.userTeams,U=>U,(U,ce)=>{const Y=V(()=>we.getTeamById(ce));var k=ie(),H=J(k);{var se=ne=>{Kt(ne,{get team(){return a(Y)},get allEvents(){return le.events},get loading(){return le.loading}})};D(H,ne=>{a(Y)&&ne(se)})}i(U,k)}),e(A),e(b),e(f),i(W,f)};D(S,W=>{ve.userTeams.length>0&&W(O)})}var ae=r(S,2),N=t(ae),K=t(N);Mt(K,{}),e(N),e(ae),i(n,o)};D(q,n=>{le.error||we.error?n(z):n(s,!1)},!0)}i(v,m)};D(M,v=>{ve.isAuthenticated?v(ee,!1):v(P)})}e(y),e(h);var te=r(h,2);kt(te,{get isOpen(){return a(p)},onClose:()=>de(p,!1),onSuccess:g}),$(()=>G(Q,`Bienvenue ${(ve.user?.name||"")??""}`)),pt(1,h,()=>ht),i(X,C),fe()}_e(["click"]);export{ka as default};
