import{B as ge,d as fe,v as d,k as J,h as t,g as a,K as p,N as me,b as i,c as pe,E as se,j as ie,m as r,u as P,G as K,o as e,I as ce,e as we,n as Ge,w as ee,C as Je,a9 as ot,M as ct,x as G,aa as lt,p as ye,$ as oe,a1 as ke,y as Ie,A as de,F as Ce,U as Te,s as Qe,J as ut,Y as mt,P as bt}from"./appwrite.js";import{n as Ye,a as _t}from"./index.js";import{f as gt}from"./date-helpers.js";import{B as Se,I as Ke,T as We,k as ft,m as He,U as _e,t as Ae,J as pt,c as le,N as xt,O as Xe,Q as ht,V as yt,W as wt,Y as kt,a as Ct}from"./icons.js";import{T as Tt,C as It}from"./CreateTeamModal.js";import{E as At}from"./EventCard.js";import{D as Et}from"./DocCard.js";import{E as zt}from"./EmailVerificationAlert.js";import"./ConfirmModal.js";import"./InfoCollapse.js";import"./products-display.js";import"./event-stats-helpers.js";import"./BadgeEventStatus.js";var Dt=d('<span class="font-medium"> </span>'),jt=d('<div class="flex items-center gap-1"><!> <span> </span></div>'),Rt=d('<div class="badge badge-accent badge-outline badge-xs">brouillon</div>'),Bt=d('<div role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-x-10 gap-y-2"><div class="text-primary flex items-center gap-2"><svg class="text-primary h-4 w-4 shrink-0"><use></use></svg> <div class="truncate text-sm font-medium"> </div> <!></div> <div class="text-base-content/50 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div> <!></div></div> <!></div>'),Mt=d('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des recettes</p> <button class="btn btn-ghost btn-xs mt-2">Réessayer</button></div>'),St=d('<div class="space-y-3 py-4"><div class="skeleton h-32 w-full rounded-lg"></div> <div class="skeleton h-32 w-full rounded-lg"></div> <div class="skeleton h-32 w-full rounded-lg"></div></div>'),Vt=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucune recette publiée</p> <button class="btn btn-primary btn-sm"><!> Créer une recette</button></div>'),qt=d('<div class="mb-4"><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Mes dernières recettes</h3> <div class="space-y-2"></div></div>'),Nt=d('<!> <div><h3 class="text-base-content/80 mb-2 text-xs font-semibold tracking-wider uppercase">Dernières recettes ajoutées</h3> <div class="space-y-2"></div></div> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm btn-soft"><!> Créer une recette</button></div>',1),Lt=d('<div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Dernières Recettes</h2> <button class="btn" title="Voir toutes les recettes">Voir tout <!></button></div> <!>',1);function Pt(Z,n){fe(n,!0);const _=(s,v=Ge,o=Ge)=>{const c=P(()=>U(v()));var m=Bt();m.__click=()=>q(v().$id),m.__keydown=A=>{(A.key==="Enter"||A.key===" ")&&q(v().$id)};var C=t(m),S=t(C),V=t(S),T=t(V),B=t(T);e(T);var f=a(T,2),L=t(f,!0);e(f);var W=a(f,2);{var H=A=>{var X=Dt(),ne=t(X);e(X),ee(()=>G(ne,`- ${v().versionLabel??""}`)),i(A,X)};p(W,A=>{v().versionLabel&&A(H)})}e(V);var F=a(V,2),b=t(F);{var D=A=>{var X=jt(),ne=t(X);_e(ne,{class:"h-3 w-3"});var xe=a(ne,2),be=t(xe);e(xe),e(X),ee(()=>G(be,`${v().plate??""} pers`)),i(A,X)};p(b,A=>{v().plate&&A(D)})}var I=a(b,2),y=t(I),j=t(y);e(y),e(I),e(F);var N=a(F,2);{var ae=A=>{var X=Rt();i(A,X)};p(N,A=>{v().draft&&A(ae)})}e(S),e(C);var re=a(C,2);He(re,{class:"mt-1 h-4 w-4 shrink-0 opacity-40"}),e(m),ee(A=>{Je(m,1,`${o()?"border-accent/60 border-l-2":""} bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors`),ct(B,"href",`/icons/sprite.svg#${r(c).iconId}`),G(L,v().title),G(j,`Ajouté ${A??""}`)},[()=>w(v())]),i(s,m)},u=P(()=>me.isInitialized?me.recipesIndex.filter(s=>s.auteur===ce.userName).sort((s,v)=>{const o=s.$createdAt?new Date(s.$createdAt).getTime():0;return(v.$createdAt?new Date(v.$createdAt).getTime():0)-o}).slice(0,5):[]),x=P(()=>me.isInitialized?me.recipesIndex.filter(s=>s.auteur!==ce.userName).sort((s,v)=>{const o=s.$createdAt?new Date(s.$createdAt).getTime():0;return(v.$createdAt?new Date(v.$createdAt).getTime():0)-o}).slice(0,5):[]);function w(s){return s.$createdAt?gt(s.$createdAt):"Date inconnue"}function U(s){return lt(s.typeR,s.categories)}const R=P(()=>!me.isInitialized&&!me.loading);function q(s){se(`/recipe/${s}`)}function te(){se("/recipe")}function h(){se("/recipe/new")}var Q=Lt(),Y=J(Q),$=t(Y),M=t($);Se(M,{class:"text-primary h-5 w-5 stroke-3"}),K(),e($);var l=a($,2);l.__click=te;var z=a(t(l));Ke(z,{size:16}),e(l),e(Y);var O=a(Y,2);{var g=s=>{var v=Mt(),o=t(v),c=t(o);We(c,{class:"mx-auto h-8 w-8"}),e(o);var m=a(o,4);m.__click=()=>window.location.reload(),e(v),i(s,v)},k=s=>{var v=ie(),o=J(v);{var c=C=>{var S=St();i(C,S)},m=C=>{var S=ie(),V=J(S);{var T=f=>{var L=Vt(),W=t(L);ft(W,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var H=a(W,4);H.__click=h;var F=t(H);Se(F,{class:"mr-2 h-4 w-4"}),K(),e(H),e(L),i(f,L)},B=f=>{var L=Nt(),W=J(L);{var H=j=>{var N=qt(),ae=a(t(N),2);we(ae,21,()=>r(u),re=>re.$id,(re,A)=>{_(re,()=>r(A),()=>!0)}),e(ae),e(N),i(j,N)};p(W,j=>{r(u).length>0&&j(H)})}var F=a(W,2),b=a(t(F),2);we(b,21,()=>r(x),j=>j.$id,(j,N)=>{_(j,()=>r(N),()=>!1)}),e(b),e(F);var D=a(F,2),I=t(D);I.__click=h;var y=t(I);Se(y,{class:"mr-2 h-4 w-4"}),K(),e(I),e(D),ee(()=>Je(F,1,ot(r(u).length>0?"mt-4":""))),i(f,L)};p(V,f=>{r(u).length===0&&r(x).length===0?f(T):f(B,!1)},!0)}i(C,S)};p(o,C=>{r(R)?C(c):C(m,!1)},!0)}i(s,v)};p(O,s=>{me.error?s(g):s(k,!1)})}i(Z,Q),pe()}ge(["click","keydown"]);var Ut=d('<div class="space-y-6 py-4"><div class="skeleton h-40 w-full rounded-lg"></div> <div class="skeleton h-40 w-full rounded-lg"></div> <div class="skeleton h-40 w-full rounded-lg"></div></div>'),Ot=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun événement prévu</p></div>'),Ft=d('<div class="my-4"><div class="space-y-6"></div></div>');function qe(Z,n){fe(n,!0);let _=ye(n,"events",19,()=>[]),u=ye(n,"loading",3,!1),x=ye(n,"cardClass",3,"");function w(h){return oe.getContributorStatus(h)==="invited"}var U=ie(),R=J(U);{var q=h=>{var Q=Ut();i(h,Q)},te=h=>{var Q=ie(),Y=J(Q);{var $=l=>{var z=Ot(),O=t(z);Ae(O,{size:32,class:"text-base-content/20 mx-auto mb-3"}),K(2),e(z),i(l,z)},M=l=>{var z=ie(),O=J(z);{var g=k=>{var s=Ft(),v=t(s);we(v,21,_,o=>o.$id,(o,c)=>{{let m=P(()=>w(r(c).$id)?"invited":null);At(o,{get event(){return r(c)},get cardClass(){return x()},get contributorStatus(){return r(m)}})}}),e(v),e(s),i(k,s)};p(O,k=>{_().length>0&&k(g)})}i(l,z)};p(Y,l=>{_().length===0?l($):l(M,!1)},!0)}i(h,Q)};p(R,h=>{u()?h(q):h(te,!1)})}i(Z,U),pe()}var Gt=d('<div class="py-6 text-center"><span class="loading loading-spinner loading-md text-primary"></span> <p class="text-base-content/60 mt-2 text-sm">Chargement...</p></div>'),Jt=d('<div class="py-6 text-center"><div class="text-error mb-2"><!></div> <p class="text-base-content/60 text-sm">Erreur de chargement des documents</p></div>'),Qt=d('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun document</p></div>'),Yt=d('<div class="space-y-2"></div>'),Kt=d('<div class="card bg-base-100 card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Documents récents</h2> <button class="btn btn-sm" title="Voir tous les documents">Voir tout <!></button></div> <!> <div class="card-actions mt-4 justify-end pt-4"><button class="btn btn-primary btn-soft btn-sm"><!> Créer un document</button></div></div></div>');function Wt(Z,n){fe(n,!0);const _=P(()=>ke.isInitialized?ke.getTeamDocuments(n.teamId).sort((g,k)=>{const s=g.$updatedAt?new Date(g.$updatedAt).getTime():0;return(k.$updatedAt?new Date(k.$updatedAt).getTime():0)-s}).slice(0,5):[]);function u(){se(`/documents/${n.teamId}`)}function x(){se(`/createdocument/${n.teamId}/new`)}var w=Kt(),U=t(w),R=t(U),q=t(R),te=t(q);pt(te,{class:"text-primary h-5 w-5"}),K(),e(q);var h=a(q,2);h.__click=u;var Q=a(t(h));Ke(Q,{size:16}),e(h),e(R);var Y=a(R,2);{var $=g=>{var k=Gt();i(g,k)},M=g=>{var k=ie(),s=J(k);{var v=c=>{var m=Jt(),C=t(m),S=t(C);We(S,{class:"mx-auto h-8 w-8"}),e(C),K(2),e(m),i(c,m)},o=c=>{var m=ie(),C=J(m);{var S=T=>{var B=Qt(),f=t(B);xt(f,{size:32,class:"text-base-content/20 mx-auto mb-3"}),K(2),e(B),i(T,B)},V=T=>{var B=Yt();we(B,21,()=>r(_),f=>f.$id,(f,L)=>{Et(f,{get doc(){return r(L)},get teamId(){return n.teamId}})}),e(B),i(T,B)};p(C,T=>{r(_).length===0?T(S):T(V,!1)},!0)}i(c,m)};p(s,c=>{ke.error?c(v):c(o,!1)},!0)}i(g,k)};p(Y,g=>{ke.loading?g($):g(M,!1)})}var l=a(Y,2),z=t(l);z.__click=x;var O=t(z);le(O,{class:"h-4 w-4"}),K(),e(z),e(l),e(U),e(w),i(Z,w),pe()}ge(["click"]);var Ht=d('<div class="badge badge-soft badge-secondary gap-1"><!> </div>'),Xt=d('<blockquote class="text-base-content/70 border-neutral/20 bg-base-200/50 mt-2 rounded-lg border-x-4 p-2"> <!></blockquote>'),Zt=d('<div class="fieldset-legend">Récents</div> <!>',1),$t=d(`<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body gap-4"><div class="flex items-start justify-between gap-2"><div class="flex items-center gap-2"><!> <h2> </h2> <!></div> <button class="btn btn-circle btn-ghost" title="Paramètres de l'équipe"><!></button></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class="card card-sm border-neutral/20 shoadow-sm self-start border shadow"><div class="card-body"><div class="flex flex-wrap items-center justify-between gap-2 text-sm"><div class=" flex items-center gap-2"><div class="indicator bg-primary/20 rounded-full p-2"><span class="indicator-item badge badge-sm badge-primary"> </span> <!></div> <div class="text-base-content/70"> </div></div> <button class="btn btn-sm btn-accent ms-auto"><!> Inviter</button></div> <!></div></div> <div class="card border-neutral/20 card-sm flex w-full justify-center border shadow-sm"><div class="card-body"><div class="card card-sm bg-base-300/60"><div class="card-body text-center"><p class="font-semibold">Gérez le matériel collectif de cantine :</p> <p>inventaire, gestion des emprunt, partage, etc.</p></div></div> <div class="flex w-full justify-around gap-2"><button class="btn btn-primary btn-soft flex-1"><!> Inventaire</button> <button class="btn btn-primary btn-soft flex-1"><!> Réservations</button></div></div></div></div> <div class="card grid grid-cols-1 gap-6 text-sm"><div class="card card-sm border-neutral/20 border shadow-sm"><div class="card-body"><div class="flex flex-wrap justify-between gap-2"><h3 class="card-title items-center"><!> Événements</h3> <button class="btn btn-sm">Voir les événements passés <!></button></div> <!> <!> <div class="card-actions mt-auto items-center justify-end"><button class="btn btn-primary btn-soft btn-sm ml-auto"><!> Créer un événement</button></div></div></div> <div><!></div></div> <div class="flex justify-center"></div></div></div> <!>`,1);function ea(Z,n){fe(n,!0);let _=ye(n,"loading",3,!1),u=Ie(!1),x=Ie("");const w=P(()=>{const E=n.team.prefs||{};return E.city||E.location||E.region||null}),U=P(()=>n.team.members||[]),R=P(()=>Ce.getTeamMemberNames(n.team.$id)),q=P(()=>r(R).length<=20?r(R).join(", "):`${r(R).slice(0,20).join(", ")} +${r(R).length-20}`),te=P(()=>n.currentEvents.filter(E=>E.teamsId?.includes(n.team.$id)||E.teams?.includes(n.team.name))),h=P(()=>n.pastEvents.filter(E=>E.teamsId?.includes(n.team.$id)||E.teams?.includes(n.team.name)).slice(0,3));function Q(){de(x,"members"),de(u,!0)}function Y(){de(x,"invitations"),de(u,!0)}function $(){se(`/dashboard/eventCreate/${n.team.$id}`)}function M(){se(`/dashboard/materiel/${n.team.$id}`)}function l(){se(`/dashboard/loans/${n.team.$id}`)}function z(){se("/eventList")}var O=$t(),g=J(O),k=t(g),s=t(k),v=t(s),o=t(v);_e(o,{class:"text-primary size-6 shrink-0 stroke-3"});var c=a(o,2),m=t(c,!0);e(c);var C=a(c,2);{var S=E=>{var ve=Ht(),ue=t(ve);wt(ue,{class:"h-3 w-3"});var Me=a(ue);e(ve),ee(()=>G(Me,` ${r(w)??""}`)),i(E,ve)};p(C,E=>{r(w)&&E(S)})}e(v);var V=a(v,2);V.__click=Q;var T=t(V);Xe(T,{}),e(V),e(s);var B=a(s,2),f=t(B),L=t(f),W=t(L),H=t(W),F=t(H),b=t(F),D=t(b,!0);e(b);var I=a(b,2);_e(I,{class:" text-primary inline size-5 shrink-0 "}),e(F);var y=a(F,2),j=t(y,!0);e(y),e(H);var N=a(H,2);N.__click=Y;var ae=t(N);le(ae,{class:"h-4 w-4"}),K(),e(N),e(W);var re=a(W,2);{var A=E=>{var ve=Xt(),ue=t(ve),Me=a(ue);{var vt=he=>{var dt=Te("...");i(he,dt)};p(Me,he=>{n.team.prefs.description.length>250&&he(vt)})}e(ve),ee(he=>G(ue,`${he??""} `),[()=>n.team.prefs.description.slice(0,250)]),i(E,ve)};p(re,E=>{n.team.prefs.description&&E(A)})}e(L),e(f);var X=a(f,2),ne=t(X),xe=a(t(ne),2),be=t(xe);be.__click=M;var Ze=t(be);ht(Ze,{class:"size-4"}),K(),e(be);var Ee=a(be,2);Ee.__click=l;var $e=t(Ee);yt($e,{class:"size-4"}),K(),e(Ee),e(xe),e(ne),e(X),e(B);var Ne=a(B,2),ze=t(Ne),Le=t(ze),De=t(Le),je=t(De),et=t(je);Ae(et,{class:"text-primary inline size-5"}),K(),e(je);var Re=a(je,2);Re.__click=z;var tt=a(t(Re));He(tt,{class:"ml-2 h-4 w-4"}),e(Re),e(De);var Pe=a(De,2);qe(Pe,{get events(){return r(te)},get loading(){return _()},cardClass:"border-l-4 border-accent/60"});var Ue=a(Pe,2);{var at=E=>{var ve=Zt(),ue=a(J(ve),2);qe(ue,{get events(){return r(h)},get loading(){return _()}}),i(E,ve)};p(Ue,E=>{r(h).length>0&&E(at)})}var Oe=a(Ue,2),Be=t(Oe);Be.__click=$;var rt=t(Be);le(rt,{class:"h-4 w-4"}),K(),e(Be),e(Oe),e(Le),e(ze);var Fe=a(ze,2),st=t(Fe);Wt(st,{get teamId(){return n.team.$id}}),e(Fe),e(Ne),K(2),e(k),e(g);var nt=a(g,2);{var it=E=>{Tt(E,{get teamId(){return n.team.$id},onClose:()=>de(u,!1),get initialTab(){return r(x)}})};p(nt,E=>{r(u)&&E(it)})}ee(()=>{G(m,n.team.name),G(D,r(U).length),G(j,r(q))}),i(Z,O),pe()}ge(["click"]);var ta=d('<button class="btn btn-sm gap-2"><!> Voir tous mes événements <div class="badge badge-xs badge-neutral"> </div></button>'),aa=d('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1">Événements</h2> <p class="text-base-content/60 text-sm">Aucune invitation à participer à un événement hors de vos équipes.</p></div></div> <!></div></div></div>'),ra=d('<!> Voir tous mes événements <div class="badge badge-neutral"> </div>',1),sa=d('<button class="btn btn-sm"><!></button>'),na=d('<div class="card bg-base-100 border-base-200 mb-6 border shadow-xl"><div class="card-body"><div class="mb-4 flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><h2 class="card-title mb-1"> </h2> <p class="text-base-content/60 text-sm"><!></p></div></div> <!></div> <!></div></div>');function ia(Z,n){fe(n,!0);let _=ye(n,"loading",3,!1),u=Ie(!1);const x=P(()=>{const M=ce.user?.$id;return M?n.currentEvents.filter(l=>l.teamsId?.some(g=>n.userTeamIds.includes(g))?!1:l.contributors?.some(g=>g.userId===M||g.id===M)):[]}),w=P(()=>n.currentEvents.filter(M=>M.teamsId?.some(l=>n.userTeamIds.includes(l)))),U=P(()=>r(u)?[...r(x),...r(w)]:r(x)),R=P(()=>r(x).length+r(w).length),q=P(()=>r(x).length);function te(){de(u,!r(u))}var h=ie(),Q=J(h);{var Y=M=>{},$=M=>{var l=ie(),z=J(l);{var O=k=>{var s=aa(),v=t(s),o=t(v),c=t(o),m=t(c);Ae(m,{class:"text-primary h-6 w-6 stroke-3"}),K(2),e(c);var C=a(c,2);{var S=V=>{var T=ta();T.__click=te;var B=t(T);_e(B,{class:"h-4 w-4"});var f=a(B,2),L=t(f,!0);e(f),e(T),ee(()=>G(L,r(R))),i(V,T)};p(C,V=>{r(w).length>0&&V(S)})}e(o),e(v),e(s),i(k,s)},g=k=>{var s=na(),v=t(s),o=t(v),c=t(o),m=t(c);Ae(m,{class:"text-primary h-6 w-6 stroke-3"});var C=a(m,2),S=t(C),V=t(S,!0);e(S);var T=a(S,2),B=t(T);{var f=b=>{var D=Te();ee(()=>G(D,`${r(U).length??""} événement${r(U).length>1?"s":""} à venir`)),i(b,D)},L=b=>{var D=Te();ee(()=>G(D,`${r(q)??""} évenement${r(q)>1?"s":""} hors équipe`)),i(b,D)};p(B,b=>{r(u)?b(f):b(L,!1)})}e(T),e(C),e(c);var W=a(c,2);{var H=b=>{var D=sa();D.__click=te;var I=t(D);{var y=N=>{var ae=Te("Voir les invitations externes uniquement");i(N,ae)},j=N=>{var ae=ra(),re=J(ae);_e(re,{class:"h-4 w-4"});var A=a(re,2),X=t(A,!0);e(A),ee(()=>G(X,r(R))),i(N,ae)};p(I,N=>{r(u)?N(y):N(j,!1)})}e(D),i(b,D)};p(W,b=>{r(w).length>0&&b(H)})}e(o);var F=a(o,2);{let b=P(()=>r(u)?"":"border-l-4 border-info");qe(F,{get events(){return r(U)},get loading(){return _()},get cardClass(){return r(b)}})}e(v),e(s),ee(()=>G(V,r(u)?"Tous mes événements":"Invitations externes")),i(k,s)};p(z,k=>{r(x).length===0&&!r(u)?k(O):k(g,!1)},!0)}i(M,l)};p(Q,M=>{n.currentEvents.length===0?M(Y):M($,!1)})}i(Z,h),pe()}ge(["click"]);ge(["click","keydown"]);var va=d('<div class="card bg-base-100 border-base-200 border shadow-sm"><div class="card-body"><div class="flex items-center gap-3"><div class="text-primary self-baseline stroke-3"><!></div> <div><h4> </h4> <p class="text-base-content/60 py-2 text-sm"> </p></div></div> <div class="card-actions mt-auto justify-end"><!></div></div></div>');function Ve(Z,n){var _=va(),u=t(_),x=t(u),w=t(x),U=t(w);Qe(U,()=>n.icon),e(w);var R=a(w,2),q=t(R),te=t(q,!0);e(q);var h=a(q,2),Q=t(h,!0);e(h),e(R),e(x);var Y=a(x,2),$=t(Y);Qe($,()=>n.action),e(Y),e(u),e(_),ee(()=>{G(te,n.title),G(Q,n.description)}),i(Z,_)}const da=Z=>{var n=oa(),_=t(n);_.__click=()=>se("/dashboard/eventCreate");var u=t(_);le(u,{class:"h-4 w-4"}),K(),e(_);var x=a(_,2);x.__click=()=>se("/recipe/new");var w=t(x);le(w,{class:"h-4 w-4"}),K(),e(x),e(n),i(Z,n)};var oa=d('<div class="flex gap-2"><button class="btn btn-primary btn-sm"><!> Créer un Événement</button> <button class="btn btn-primary btn-sm"><!> Créer une Recette</button></div>'),ca=d('<div class="bg-base-100 border-base-200 rounded-xl border p-8 text-center shadow-sm"><!> <h2 class="mb-2 text-xl font-semibold">Connectez-vous pour accéder à votre tableau de bord</h2> <p class="text-base-content/60 mb-6">Connectez-vous pour voir vos équipes, événements et recettes.</p> <button class="btn btn-primary">Se connecter</button></div>'),la=d('<div class="alert alert-error shadow-lg"><span> </span></div>'),ua=d('<button class="btn btn-primary btn-sm"><!></button>'),ma=d('<button class="btn btn-primary btn-sm"><!></button>'),ba=d('<button class="btn btn-primary btn-sm"><!></button>'),_a=d('<section class="bg-base-200 py-8"><div class="container mx-auto px-4"><div class="grid grid-cols-1 gap-6"></div></div></section>'),ga=d('<div class="mb-8"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><!> <!> <!></div></div> <section class="bg-base-200 py-8"><div class="container mx-auto"><!></div></section> <!> <div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><!></div></div>',1),fa=d('<div class="bg-base-200 min-h-screen"><!> <div class="mx-auto max-w-7xl px-4 pt-8 sm:px-6 lg:px-8"><h2 class="text-base-content"> </h2></div> <div class="mx-auto max-w-7xl px-4 py-8"><!></div></div> <!>',1);function ja(Z,n){fe(n,!0);let _=Ie(!1);function u(l){de(_,!1)}ut(()=>{Ye.setConfig({title:"Dashboard",actions:da})}),mt(()=>{Ye.reset()});var x=fa(),w=J(x),U=t(w);zt(U,{});var R=a(U,2),q=t(R),te=t(q);e(q),e(R);var h=a(R,2),Q=t(h);{var Y=l=>{var z=ca(),O=t(z);Xe(O,{class:"mx-auto mb-4 h-16 w-16 opacity-20"});var g=a(O,6);g.__click=()=>{},e(z),i(l,z)},$=l=>{var z=ie(),O=J(z);{var g=s=>{var v=la(),o=t(v),c=t(o,!0);e(o),e(v),ee(()=>G(c,oe.error||Ce.error||"Une erreur est survenue")),i(s,v)},k=s=>{var v=ga(),o=J(v),c=t(o),m=t(c);Ve(m,{title:"Créer un Événement",description:"Organisez un nouvel événement et invitez des équipes ou des individus à participer",icon:I=>{kt(I,{class:"size-5"})},action:I=>{var y=ua();y.__click=()=>se("/dashboard/eventCreate");var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}});var C=a(m,2);Ve(C,{title:"Créer une Recette",description:"Partager une nouvelle recette pour pouvoir l'ajouter à des événements",icon:I=>{Ct(I,{class:"size-5"})},action:I=>{var y=ma();y.__click=()=>se("/recipe/new");var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}});var S=a(C,2);Ve(S,{title:"Créer une Équipe",description:"Créez un groupe et invitez des membres pour ensuite vous organiser ensemble sur des événements, gérer du matos en commun, partager des documents...",icon:I=>{_e(I,{class:"size-5"})},action:I=>{var y=ba();y.__click=()=>de(_,!0);var j=t(y);le(j,{class:"size-5"}),e(y),i(I,y)}}),e(c),e(o);var V=a(o,2),T=t(V),B=t(T);ia(B,{get currentEvents(){return oe.currentEvents},get userTeamIds(){return ce.userTeams},get loading(){return oe.loading}}),e(T),e(V);var f=a(V,2);{var L=b=>{var D=_a(),I=t(D),y=t(I);we(y,20,()=>ce.userTeams,j=>j,(j,N)=>{const ae=P(()=>Ce.getTeamById(N));var re=ie(),A=J(re);{var X=ne=>{ea(ne,{get team(){return r(ae)},get currentEvents(){return oe.currentEvents},get pastEvents(){return oe.pastEvents},get loading(){return oe.loading}})};p(A,ne=>{r(ae)&&ne(X)})}i(j,re)}),e(y),e(I),e(D),i(b,D)};p(f,b=>{ce.userTeams.length>0&&b(L)})}var W=a(f,2),H=t(W),F=t(H);Pt(F,{}),e(H),e(W),i(s,v)};p(O,s=>{oe.error||Ce.error?s(g):s(k,!1)},!0)}i(l,z)};p(Q,l=>{ce.isAuthenticated?l($,!1):l(Y)})}e(h),e(w);var M=a(w,2);It(M,{get isOpen(){return r(_)},onClose:()=>de(_,!1),onSuccess:u}),ee(()=>G(te,`Bienvenue ${(ce.user?.name||"")??""}`)),bt(1,w,()=>_t),i(Z,x),pe()}ge(["click"]);export{ja as default};
