import{U as Mt,t as gt,a4 as It,X as jt,E as ut,w as Ut,D as bt,a as mt}from"./icons.js";import{d as Dt,p as Ct,a9 as Pt,v as l,g as a,o as t,h as s,I as _,m as e,u as f,w as I,L as vt,x as m,b as v,c as Rt,C as We,e as ge,y as Z,z as xt,Z as Ft,H as _t,$ as Lt,A as i,aC as zt,aD as Bt,W as ft,k as C,J as Tt,B as Ht,G as Gt,j as pe,t as ht,K as pt}from"./appwrite.js";import{a as Jt}from"./event-stats-helpers.js";import{E as Nt}from"./EventStats.js";import{b as Ot,e as Wt,a as Ke,c as yt}from"./date-helpers.js";import{R as Kt,a as qt}from"./RecipePreparation.js";import{R as Qt}from"./RecipeRegimeBadges.js";import{L as Xt}from"./LeftPanel.js";import{A as Zt}from"./AutocompleteInput.js";import{f as Oe}from"./products-display.js";import{d as wt}from"./SvelteMarkdown.js";import{n as Et}from"./index.js";import"./Fieldset.js";import"./keyboardNavigation.svelte.js";var Vt=l("<span> </span>"),Yt=l('<div class="text-base-content/80 flex items-center gap-2 text-base font-bold"><!> <span> </span> <!></div>'),$t=l("<div> </div>"),ea=l('<span class="badge badge-error badge-sm badge-soft">Servir Chaud</span>'),ta=l('<span class="badge badge-info badge-sm badge-soft">Servir Froid</span>'),aa=l('<span class="badge badge-warning badge-sm badge-soft">Avec Cuisson</span>'),ra=l('<span class="badge badge-success badge-sm badge-soft">Sans Cuisson</span>'),na=l('<span class="badge badge-ghost badge-sm"> </span>'),sa=l('<div class="flex flex-wrap gap-1"></div>'),ia=l('<div class="card bg-base-100 border-base-300 print-break-auto border shadow-lg print:border-none print:shadow-none"><div class="card-body p-2 md:p-6 svelte-1xi0ayb"><div class="border-base-300 mb-4 border-b pb-4"><div class="flex flex-wrap items-baseline justify-between gap-4 print:gap-1"><div class="flex min-w-2/3 flex-1 gap-2"><svg class="size-6"><use></use></svg> <div class="text-xl font-bold"> </div></div> <div class="ms-auto flex flex-wrap items-center justify-end gap-4"><!> <!> <div class="flex-shrink-0"><!></div></div></div> <div class="border-base-300 flex flex-wrap items-center gap-4 pt-4 print:gap-2 print:pt-0"><div class="text-base-content/80 flex items-center gap-2 py-2 text-lg"><!> <span> </span></div> <div class="flex flex-wrap gap-1"><!> <!></div> <!></div></div> <div class=" gap-6 md:flex print:flex"><div class="w-full space-y-4 md:w-1/3 print:w-2/6"><!></div> <div class="flex-1 space-y-4 print:w-4/6"><!></div></div></div></div>');function kt(Ie,d){Dt(d,!0),Ct(d,"totalGuests",3,0);const T=f(()=>d.meal?.date?Wt(d.meal.date):null),N=f(()=>d.meal?.date?Ke(d.meal.date):null),K=f(()=>{if(!e(N))return"";switch(e(N)){case"matin":return"Matin";case"midi":return"Midi";case"soir":return"Soir";default:return""}}),V=f(()=>d.mealRecipe?.typeR?d.mealRecipe.typeR:d.recipe.typeR),qe=f(()=>d.mealRecipe?.plates||d.recipe.plate);function te(r){return r===1?"1 couvert":`${r} couverts`}function Y(r){switch(r){case"entree":return"Entr√©e";case"plat":return"Plat";case"dessert":return"Dessert";case"autre":return"Autre";default:return r}}function be(r){return r==="entree"?"bg-lime-100 border-lime-200":r==="plat"?"bg-orange-100 border-orange-200":r==="dessert"?"bg-pink-100 border-pink-200":r==="autre"?"bg-purple-100 border-purple-200":"bg-base-200"}const k=f(()=>e(T)?Ot(e(T)):""),Qe=Pt(d.recipe.typeR,d.recipe.categories||void 0);var me=ia(),Xe=a(me),x=a(Xe),E=a(x),S=a(E),xe=a(S),Ze=a(xe);t(xe);var Ve=s(xe,2),Ye=a(Ve,!0);t(Ve),t(S);var he=s(S,2),je=a(he);{var $e=r=>{var o=Yt(),D=a(o);gt(D,{class:"h-4 w-4"});var q=s(D,2),G=a(q,!0);t(q);var ne=s(q,2);{var de=oe=>{var se=Vt(),De=a(se,!0);t(se),I(()=>m(De,e(K))),v(oe,se)};_(ne,oe=>{e(K)&&oe(de)})}t(o),I(()=>m(G,e(k))),v(r,o)};_(je,r=>{e(k)&&r($e)})}var Ue=s(je,2);{var Ce=r=>{var o=$t(),D=a(o,!0);t(o),I((q,G)=>{We(o,1,`badge text-base-content/80 font-medium ${q??""}`,"svelte-1xi0ayb"),m(D,G)},[()=>be(e(V)),()=>Y(e(V))]),v(r,o)};_(Ue,r=>{e(V)&&r(Ce)})}var et=s(Ue,2),lt=a(et);{var Pe=r=>{Qt(r,{get regimes(){return d.recipe.regime},iconOnly:!0,colorClass:"success"})};_(lt,r=>{d.recipe.regime&&r(Pe)})}t(et),t(he),t(E);var Ee=s(E,2),Fe=a(Ee),ke=a(Fe);Mt(ke,{class:"h-4 w-4"});var Le=s(ke,2),dt=a(Le,!0);t(Le),t(Fe);var ze=s(Fe,2),tt=a(ze);{var n=r=>{var o=ea();v(r,o)},c=r=>{var o=ta();v(r,o)};_(tt,r=>{d.recipe.serveHot?r(n):r(c,!1)})}var u=s(tt,2);{var U=r=>{var o=aa();v(r,o)},P=r=>{var o=ra();v(r,o)};_(u,r=>{d.recipe.cuisson?r(U):r(P,!1)})}t(ze);var H=s(ze,2);{var $=r=>{var o=sa();ge(o,20,()=>d.recipe.materiel,D=>D,(D,q)=>{var G=na(),ne=a(G,!0);t(G),I(()=>m(ne,q)),v(D,G)}),t(o),v(r,o)};_(H,r=>{d.recipe.materiel&&d.recipe.materiel.length>0&&r($)})}t(Ee),t(x);var ae=s(x,2),O=a(ae),re=a(O);Kt(re,{get ingredients(){return d.recipe.ingredients},get servings(){return e(qe)},get defaultServings(){return d.recipe.plate}}),t(O);var ye=s(O,2),M=a(ye);{let r=f(()=>d.recipe.preparation24h||void 0),o=f(()=>d.recipe.astuces||[]);qt(M,{get preparation(){return d.recipe.preparation},get preparation24h(){return e(r)},get preparationHtml(){return d.recipe.preparationHtml},get preparation24hHtml(){return d.recipe.preparation24hHtml},get astuces(){return e(o)}})}t(ye),t(ae),t(Xe),t(me),I(r=>{vt(me,"id",`recipe-${d.recipe.$id??""}`),vt(Ze,"href",`/icons/sprite.svg#${Qe.iconId}`),m(Ye,d.recipe.title),m(dt,r)},[()=>te(e(qe))]),v(Ie,me),Rt()}const va=Ie=>{var d=la(),T=a(d);T.__click=()=>window.print();var N=a(T);It(N,{size:18}),t(T),t(d),v(Ie,d)};var la=l('<div class="flex gap-2"><button class="btn btn-circle btn-primary"><!></button></div>'),da=l('<button class="btn btn-circle btn-error btn-outline btn-xs absolute top-1/2 right-2 z-10 -translate-y-1/2 opacity-60 hover:opacity-100" aria-label="Effacer la recherche"><!></button>'),oa=l('<li><button><span class="max-w-[300px] truncate text-left"> </span></button></li>'),ca=l('<li><button><span class="flex w-full items-center justify-between"><span> </span></span></button></li> <ul></ul>',1),ua=l("<li><button><span> </span></button></li> <ul></ul>",1),_a=l('<div class="my-4"><button class="btn btn-dash btn-block btn-primary" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),fa=l('<div class="mt-16 mb-6"><h3 class="mb-3 text-lg font-semibold">Rechercher par ingr√©dient</h3> <div class="relative"><!> <!></div></div> <ul class="menu bg-base-100 rounded-box w-100 drop-shadow-lg"></ul> <!>',1),pa=l('<div class="flex justify-center py-20"><span class="loading loading-spinner loading-lg"></span></div>'),ga=l('<div class="alert alert-error"><div><h3 class="font-bold">Erreur</h3> <div> </div></div></div>'),ba=l("<!> ",1),ma=l("<!> ",1),xa=l('<span class="mr-1"> </span>'),ha=l('<span class="mr-1"> </span>'),ya=l('<span class="mr-1">recette</span>'),wa=l("<span> </span>"),Ea=l('<div class="m-4 flex items-center justify-center gap-2"><div class="badge badge-xl badge-primary"><!> filtre : <!> <!> <!> <!></div> <button class="btn btn-dash btn-sm" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),ka=l('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg"> </p></div>'),Da=l('<div class="page-break-after"><!></div>'),Ra=l('<div class="card bg-accent text-accent-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),Sa=l('<div class="space-y-8 print:space-y-0"></div>'),Aa=l('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette ne correspond aux filtres s√©lectionn√©s.</p> <button class="btn btn-primary mt-4">R√©initialiser les filtres</button></div>'),Ma=l('<div class="page-break-after mb-14"><!></div>'),Ia=l('<div class="card bg-primary text-primary-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black shadow-lg print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),ja=l('<button class="btn btn-dash btn-block my-5" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button>'),Ua=l('<div class="space-y-10 print:space-y-0"></div> <!>',1),Ca=l(`<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette n'a encore √©t√© ajout√©e √† cet √©v√©nement.</p></div>`),Pa=l('<div class="mb-8 space-y-4 print:hidden"><div class="flex flex-wrap items-center justify-between gap-4"><div><h1> </h1> <div class="text-base-content/60 text-sm"><!></div></div></div> <div class="flex justify-end p-4"><!></div> <!></div> <!> <!>',1),Fa=l('<div class="bg-base-200 min-h-screen"><div class="print:hidden"><!></div> <div><div class="mx-auto max-w-6xl px-1 py-8 md:px-4"><!></div></div></div>');function Za(Ie,d){Dt(d,!0);let T=Z(!0),N=Z(null),K=Z(null);const V=f(()=>e(K)?ft.getEventById(e(K)):null),qe=f(()=>e(V)?.status==="local"?"/demo/event":"/dashboard/eventEdit");let te=Z(xt([])),Y=Z(xt([])),be=Z(!1),k=Z(""),Qe=Z("");const me=f(()=>{const n=new Set;return e(Y).forEach(c=>{c.ingredients?.forEach(u=>{u.name&&n.add(u.name)})}),Array.from(n).sort()}),Xe=f(()=>e(k)?e(me).filter(n=>n!==e(k)):e(me));let x=Z(null),E=Z(null),S=Z(null);const xe=f(()=>e(x)?e(te).filter(n=>{const c=Oe(n.date),u=Ke(n.date),U=c===e(x),P=!e(E)||u===e(E);return U&&P}):e(te)),Ze=f(()=>{let n=e(Y);if(e(k)&&(n=n.filter(c=>c.ingredients?.some(u=>u.name&&u.name.toLowerCase()===e(k).toLowerCase()))),e(x)){const c=new Set;e(xe).forEach(u=>{u.recipes.forEach(U=>{c.add(U.recipeUuid)})}),n=n.filter(u=>c.has(u.$id))}return n}),Ve=f(()=>{const n=new Map;return e(te).forEach(c=>{const u=Oe(c.date),U=Ke(c.date);n.has(u)||n.set(u,new Map),n.get(u).has(U)||n.get(u).set(U,[]),n.get(u).get(U).push(c)}),n}),Ye=f(()=>e(V)?.name??""),he=f(()=>e(V)?.dateStart??null),je=f(()=>e(V)?.dateEnd??null),$e=f(()=>Jt(e(V))),Ue=f(()=>()=>d.params?.id?d.params.id:null);async function Ce(n){if(!(e(be)||!n)){i(T,!0),i(be,!0),i(N,null);try{i(K,n,!0);const c=ft.getEventById(n);if(!c){i(N,"√âv√©nement non trouv√©");return}i(te,c.meals||[],!0);const u=e(te).flatMap(P=>P.recipes.map(H=>H.recipeUuid)),U=await Tt.getRecipesByUuidsBulk(u);i(Y,Array.from(U.values()).filter(Boolean).map(P=>({...P,preparationHtml:P.preparation?wt(P.preparation):"",preparation24hHtml:P.preparation24h?wt(P.preparation24h):""})),!0),console.log(`[EventRecipesPage] ${e(Y).length}/${u.length} recettes charg√©es`)}catch(c){console.error("Erreur lors du chargement des donn√©es:",c),i(N,c instanceof Error?c.message:"Erreur lors du chargement",!0)}finally{i(T,!1),i(be,!1)}}}Ft(async()=>{const n=e(Ue)();if(!n){i(N,"ID d'√©v√©nement manquant"),i(T,!1);return}if(await zt(),!await Bt(n)){i(N,"√âv√©nement non trouv√©"),i(T,!1);return}await Ce(n)}),_t(()=>{const n=e(Ue)();n&&n!==e(K)&&!e(be)&&Ce(n)}),_t(()=>{if(!e(K))return;const n=ft.getEventById(e(K));if(!n)return;const c=JSON.stringify(n.meals),u=JSON.stringify(e(te));c!==u&&!e(be)&&(console.log("[EventRecipesPage] Meals mis √† jour via realtime, rafra√Æchissement..."),Ce(e(K)))}),_t(()=>{Et.setConfig({eventId:e(K)||void 0,basePath:e(qe),actions:va})}),Lt(()=>{Et.reset()});function et(n){i(k,n,!0),i(x,null),i(E,null),i(S,null)}function lt(){i(k,"")}var Pe=Fa(),Ee=a(Pe),Fe=a(Ee);Xt(Fe,{width:"120",children:(n,c)=>{var u=fa(),U=C(u),P=s(a(U),2),H=a(P);{let M=f(()=>e(k)||"Filtrer par ingr√©dients...");Zt(H,{get items(){return e(Xe)},onSelect:et,get placeholder(){return e(M)},minQueryLength:1,get value(){return e(Qe)},set value(r){i(Qe,r,!0)}})}var $=s(H,2);{var ae=M=>{var r=da();r.__click=lt;var o=a(r);jt(o,{size:14}),t(r),v(M,r)};_($,M=>{e(k)&&M(ae)})}t(P),t(U);var O=s(U,2);ge(O,21,()=>Array.from(e(Ve).entries()),([M,r])=>M,(M,r)=>{var o=f(()=>ht(e(r),2));let D=()=>e(o)[0],q=()=>e(o)[1];var G=ua(),ne=C(G),de=a(ne);de.__click=()=>{i(E,null),i(S,null),i(k,""),i(x,e(x)===D()?null:D(),!0)};var oe=a(de),se=a(oe,!0);t(oe),t(de),t(ne);var De=s(ne,2);ge(De,21,()=>Array.from(q().entries()),([Be,at])=>Be,(Be,at)=>{var Te=f(()=>ht(e(at),2));let ce=()=>e(Te)[0],He=()=>e(Te)[1];var rt=ca(),Ge=C(rt),g=a(Ge);g.__click=()=>{i(x,D(),!0),i(E,e(E)===ce()?null:ce(),!0),i(S,null),i(k,"")};var A=a(g),L=a(A),W=a(L);t(L),t(A),t(g),t(Ge);var z=s(Ge,2);ge(z,23,()=>He()[0].recipes,(h,y)=>h.recipeUuid+"-"+y,(h,y,j)=>{const R=f(()=>e(Y).find(J=>J.$id===e(y).recipeUuid)),ie=f(()=>(He()[0].id||He()[0].date)+"_"+e(j));var F=pe(),w=C(F);{var Q=J=>{var p=oa(),b=a(p);b.__click=()=>{i(x,null),i(E,null),i(S,e(S)===e(ie)?null:e(ie),!0),i(k,"")};var B=a(b),X=a(B,!0);t(B),t(b),t(p),I(()=>{We(b,1,`btn btn-sm ml-8 justify-start ${e(S)===e(ie)?"btn-accent":"btn-ghost"}`),m(X,e(R).title)}),v(J,p)};_(w,J=>{e(R)&&J(Q)})}v(h,F)}),t(z),I(()=>{We(g,1,`btn btn-sm justify-start pl-4 ${e(x)===D()&&e(E)===ce()?"btn-accent":"btn-ghost "}`),m(W,`${ce()==="matin"?"üåÖ":ce()==="midi"?"‚òÄÔ∏è":"üåô"}
                      ${ce()??""}`)}),v(Be,rt)}),t(De),I(()=>{We(de,1,`btn btn-sm justify-start ${e(x)===D()&&!e(E)?"btn-accent":"btn-ghost"}`),m(se,D())}),v(M,G)}),t(O);var re=s(O,2);{var ye=M=>{var r=_a(),o=a(r);o.__click=()=>{i(x,null),i(E,null),i(S,null)};var D=a(o);ut(D,{size:18}),pt(),t(o),t(r),v(M,r)};_(re,M=>{(e(x)||e(E)||e(S))&&M(ye)})}v(n,u)},$$slots:{default:!0}}),t(Ee);var ke=s(Ee,2),Le=a(ke),dt=a(Le);{var ze=n=>{var c=pa();v(n,c)},tt=n=>{var c=pe(),u=C(c);{var U=H=>{var $=ga(),ae=a($),O=s(a(ae),2),re=a(O,!0);t(O),t(ae),t($),I(()=>m(re,e(N))),v(H,$)},P=H=>{var $=pe(),ae=C($);{var O=re=>{var ye=Pa(),M=C(ye),r=a(M),o=a(r),D=a(o),q=a(D,!0);t(D);var G=s(D,2),ne=a(G);{var de=g=>{var A=ba(),L=C(A);gt(L,{class:"inline h-4 w-4"});var W=s(L);I((z,h)=>m(W,` ${z??""} au ${h??""}`),[()=>Oe(e(he)),()=>Oe(e(je))]),v(g,A)},oe=g=>{var A=pe(),L=C(A);{var W=z=>{var h=ma(),y=C(h);gt(y,{class:"inline h-4 w-4"});var j=s(y);I(R=>m(j,` ${R??""}`),[()=>Oe(e(he))]),v(z,h)};_(L,z=>{e(he)&&z(W)},!0)}v(g,A)};_(ne,g=>{e(he)&&e(je)?g(de):g(oe,!1)})}t(G),t(o),t(r);var se=s(r,2),De=a(se);Nt(De,{get currentEvent(){return e(V)}}),t(se);var Be=s(se,2);{var at=g=>{var A=Ea(),L=a(A),W=a(L);Ut(W,{class:"mr-1 h-4 w-4"});var z=s(W,2);{var h=p=>{var b=xa(),B=a(b,!0);t(b),I(()=>m(B,e(x))),v(p,b)};_(z,p=>{e(x)&&p(h)})}var y=s(z,2);{var j=p=>{var b=ha(),B=a(b,!0);t(b),I(()=>m(B,e(E))),v(p,b)};_(y,p=>{e(E)&&p(j)})}var R=s(y,2);{var ie=p=>{var b=ya();v(p,b)};_(R,p=>{e(S)&&p(ie)})}var F=s(R,2);{var w=p=>{var b=wa(),B=a(b,!0);t(b),I(()=>m(B,e(k))),v(p,b)};_(F,p=>{e(k)&&p(w)})}t(L);var Q=s(L,2);Q.__click=()=>{i(x,null),i(E,null),i(S,null),i(k,"")};var J=a(Q);ut(J,{class:"h-4 w-4"}),pt(),t(Q),t(A),v(g,A)};_(Be,g=>{(e(x)||e(E)||e(S)||e(k))&&g(at)})}t(M);var Te=s(M,2);{var ce=g=>{var A=pe(),L=C(A);{var W=h=>{var y=ka(),j=a(y),R=a(j);t(j),t(y),I(()=>m(R,`Aucune recette ne contient l'ingr√©dient "${e(k)??""}".`)),v(h,y)},z=h=>{var y=Sa();ge(y,23,()=>e(te),(j,R)=>j.id||R,(j,R,ie)=>{const F=f(()=>e(R).recipes.filter(p=>e(Ze).some(b=>b.$id===p.recipeUuid)));var w=pe(),Q=C(w);{var J=p=>{var b=Ra(),B=C(b),X=a(B),Re=a(X,!0);t(X);var ee=s(X,2),Se=a(ee,!0);t(ee);var we=s(ee,2),Ae=a(we);bt(Ae,{size:16});var ot=s(Ae);t(we);var Me=s(we,2),Je=a(Me);mt(Je,{size:16});var ct=s(Je);t(Me),t(B);var nt=s(B,2);ge(nt,19,()=>e(F),(ue,_e)=>(e(R).id||e(ie))+"-"+ue.recipeUuid+"-"+_e,(ue,_e)=>{const st=f(()=>e(Y).find(le=>le.$id===e(_e).recipeUuid));var ve=Da(),fe=a(ve);{var it=le=>{kt(le,{get recipe(){return e(st)},get meal(){return e(R)},get mealRecipe(){return e(_e)},get totalGuests(){return e($e)}})};_(fe,le=>{e(st)&&le(it)})}t(ve),v(ue,ve)}),I((ue,_e)=>{vt(B,"id",`meal-${e(R).date??""}`),m(Re,ue),m(Se,_e),m(ot,` ${e(R).guests??""}`),m(ct,` ${e(F).length??""}`)},[()=>yt(e(R).date),()=>Ke(e(R).date)]),v(p,b)};_(Q,p=>{e(F).length>0&&p(J)})}v(j,w)}),t(y),v(h,y)};_(L,h=>{e(Ze).length===0?h(W):h(z,!1)})}v(g,A)},He=g=>{var A=pe(),L=C(A);{var W=h=>{var y=Aa(),j=s(a(y),2);j.__click=()=>{i(x,null),i(E,null),i(S,null)},t(y),v(h,y)},z=h=>{var y=Ua(),j=C(y);ge(j,23,()=>e(xe),(F,w)=>F.id||w,(F,w,Q)=>{const J=f(()=>e(S)?(()=>{const[X,Re]=e(S).split("_"),ee=e(w).id||e(w).date;return X!==ee.toString()?[]:e(w).recipes.filter((Se,we)=>we===parseInt(Re))})():e(w).recipes);var p=pe(),b=C(p);{var B=X=>{var Re=Ia(),ee=C(Re),Se=a(ee),we=a(Se,!0);t(Se);var Ae=s(Se,2),ot=a(Ae,!0);t(Ae);var Me=s(Ae,2),Je=a(Me);bt(Je,{size:16});var ct=s(Je);t(Me);var nt=s(Me,2),ue=a(nt);mt(ue,{size:16});var _e=s(ue);t(nt),t(ee);var st=s(ee,2);ge(st,19,()=>e(J),(ve,fe)=>(e(w).id||e(Q))+"-"+ve.recipeUuid+"-"+fe,(ve,fe)=>{const it=f(()=>e(Y).find(Ne=>Ne.$id===e(fe).recipeUuid));var le=Ma(),St=a(le);{var At=Ne=>{kt(Ne,{get recipe(){return e(it)},get meal(){return e(w)},get mealRecipe(){return e(fe)},get totalGuests(){return e($e)}})};_(St,Ne=>{e(it)&&Ne(At)})}t(le),v(ve,le)}),I((ve,fe)=>{vt(ee,"id",`meal-${e(w).date??""}`),m(we,ve),m(ot,fe),m(ct,` ${e(w).guests??""}`),m(_e,` ${e(J).length??""}`)},[()=>yt(e(w).date),()=>Ke(e(w).date)]),v(X,Re)};_(b,X=>{e(J).length>0&&X(B)})}v(F,p)}),t(j);var R=s(j,2);{var ie=F=>{var w=ja();w.__click=()=>{i(x,null),i(E,null),i(S,null),i(k,"")};var Q=a(w);ut(Q,{class:"h-4 w-4"}),pt(),t(w),v(F,w)};_(R,F=>{(e(x)||e(E)||e(S))&&F(ie)})}v(h,y)};_(L,h=>{e(xe).length===0&&(e(x)||e(E))?h(W):h(z,!1)})}v(g,A)};_(Te,g=>{e(k)?g(ce):g(He,!1)})}var rt=s(Te,2);{var Ge=g=>{var A=Ca();v(g,A)};_(rt,g=>{!e(k)&&e(Y).length===0&&!e(T)&&g(Ge)})}I(()=>m(q,e(Ye))),v(re,ye)};_(ae,re=>{e(Ye)&&re(O)},!0)}v(H,$)};_(u,H=>{e(N)?H(U):H(P,!1)},!0)}v(n,c)};_(dt,n=>{e(T)?n(ze):n(tt,!1)})}t(Le),t(ke),t(Pe),I(()=>We(ke,1,`print:ml-0 ${(Gt.isDesktop&&" ml-110")??""}`)),v(Ie,Pe),Rt()}Ht(["click"]);export{Za as default};
