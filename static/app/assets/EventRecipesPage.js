import{d as kt,p as Dt,v as l,h as a,o as t,g as s,K as u,m as e,u as f,w as I,M as rt,x as m,b as i,c as Et,aa as St,C as We,e as te,y as ie,z as pt,X as Mt,A as n,J as gt,$ as ot,Y as jt,k as P,I as It,P as Ct,D as Ut,N as Pt,i as ct,j as me,B as zt,G as ut,t as bt}from"./appwrite.js";import{d as Bt}from"./event-stats-helpers.js";import{E as Lt}from"./EventStats.js";import{c as Tt,e as Ft,b as Xe,g as mt}from"./date-helpers.js";import{R as Gt,a as Ht}from"./RecipePreparation.js";import{R as Jt}from"./RecipeRegimeBadges.js";import{U as Nt,t as _t,X as Ot,E as ft,y as Kt,w as Wt,a7 as ht,a as xt}from"./icons.js";import{L as Xt}from"./LeftPanel.js";import{A as qt}from"./AutocompleteInput.js";import{f as Ke}from"./products-display.js";import{n as yt,a as Qt}from"./index.js";import"./Fieldset.js";import"./SvelteMarkdown.js";import"./legacy.js";import"./keyboardNavigation.svelte.js";var Yt=l("<span> </span>"),Vt=l('<div class="text-base-content/80 flex items-center gap-2 text-base font-bold"><!> <span> </span> <!></div>'),Zt=l("<div> </div>"),$t=l('<span class="badge badge-error badge-sm badge-soft">Servir Chaud</span>'),ea=l('<span class="badge badge-info badge-sm badge-soft">Servir Froid</span>'),ta=l('<span class="badge badge-warning badge-sm badge-soft">Avec Cuisson</span>'),aa=l('<span class="badge badge-success badge-sm badge-soft">Sans Cuisson</span>'),ra=l('<span class="badge badge-ghost badge-sm"> </span>'),sa=l('<div class="flex flex-wrap gap-1"></div>'),ia=l('<div class="card bg-base-100 border-base-300 print-break-auto border shadow-lg print:border-none print:shadow-none"><div class="card-body p-2 md:p-6 svelte-1xi0ayb"><div class="border-base-300 mb-4 border-b pb-4"><div class="flex flex-wrap items-baseline justify-between gap-4 print:gap-1"><div class="flex min-w-2/3 flex-1 gap-2"><svg class="size-6"><use></use></svg> <div class="text-xl font-bold"> </div></div> <div class="ms-auto flex flex-wrap items-center justify-end gap-4"><!> <!> <div class="flex-shrink-0"><!></div></div></div> <div class="border-base-300 flex flex-wrap items-center gap-4 pt-4 print:gap-2 print:pt-0"><div class="text-base-content/80 flex items-center gap-2 py-2 text-lg"><!> <span> </span></div> <div class="flex flex-wrap gap-1"><!> <!></div> <!></div></div> <div class=" gap-6 md:flex print:flex"><div class="w-full space-y-4 md:w-1/3 print:w-2/6"><!></div> <div class="flex-1 space-y-4 print:w-4/6"><!></div></div></div></div>');function wt(Pe,d){kt(d,!0),Dt(d,"totalGuests",3,0);const N=f(()=>d.meal?.date?Ft(d.meal.date):null),q=f(()=>d.meal?.date?Xe(d.meal.date):null),ne=f(()=>{if(!e(q))return"";switch(e(q)){case"matin":return"Matin";case"midi":return"Midi";case"soir":return"Soir";default:return""}}),ve=f(()=>d.mealRecipe?.typeR?d.mealRecipe.typeR:d.recipe.typeR),ae=f(()=>d.mealRecipe?.plates||d.recipe.plate);function re(r){return r===1?"1 couvert":`${r} couverts`}function ke(r){switch(r){case"entree":return"Entr√©e";case"plat":return"Plat";case"dessert":return"Dessert";case"autre":return"Autre";default:return r}}function A(r){return r==="entree"?"bg-lime-100 border-lime-200":r==="plat"?"bg-orange-100 border-orange-200":r==="dessert"?"bg-pink-100 border-pink-200":r==="autre"?"bg-purple-100 border-purple-200":"bg-base-200"}const ze=f(()=>e(N)?Tt(e(N)):""),qe=f(()=>St(d.recipe.typeR,d.recipe.categories||void 0));var Ee=ia(),w=a(Ee),k=a(w),S=a(k),he=a(S),Re=a(he),st=a(Re);t(Re);var Be=s(Re,2),Ae=a(Be,!0);t(Be),t(he);var Le=s(he,2),Te=a(Le);{var Qe=r=>{var _=Vt(),L=a(_);_t(L,{class:"h-4 w-4"});var F=s(L,2),C=a(F,!0);t(F);var ue=s(F,2);{var ye=fe=>{var le=Yt(),Me=a(le,!0);t(le),I(()=>m(Me,e(ne))),i(fe,le)};u(ue,fe=>{e(ne)&&fe(ye)})}t(_),I(()=>m(C,e(ze))),i(r,_)};u(Te,r=>{e(ze)&&r(Qe)})}var Ye=s(Te,2);{var it=r=>{var _=Zt(),L=a(_,!0);t(_),I((F,C)=>{We(_,1,`badge text-base-content/80 font-medium ${F??""}`,"svelte-1xi0ayb"),m(L,C)},[()=>A(e(ve)),()=>ke(e(ve))]),i(r,_)};u(Ye,r=>{e(ve)&&r(it)})}var xe=s(Ye,2),Fe=a(xe);{var nt=r=>{Jt(r,{get regimes(){return d.recipe.regime},iconOnly:!0,colorClass:"success"})};u(Fe,r=>{d.recipe.regime&&r(nt)})}t(xe),t(Le),t(S);var De=s(S,2),Se=a(De),Ve=a(Se);Nt(Ve,{class:"h-4 w-4"});var Ze=s(Ve,2),vt=a(Ze,!0);t(Ze),t(Se);var v=s(Se,2),o=a(v);{var c=r=>{var _=$t();i(r,_)},j=r=>{var _=ea();i(r,_)};u(o,r=>{d.recipe.serveHot?r(c):r(j,!1)})}var V=s(o,2);{var z=r=>{var _=ta();i(r,_)},O=r=>{var _=aa();i(r,_)};u(V,r=>{d.recipe.cuisson?r(z):r(O,!1)})}t(v);var Z=s(v,2);{var K=r=>{var _=sa();te(_,20,()=>d.recipe.materiel,L=>L,(L,F)=>{var C=ra(),ue=a(C,!0);t(C),I(()=>m(ue,F)),i(L,C)}),t(_),i(r,_)};u(Z,r=>{d.recipe.materiel&&d.recipe.materiel.length>0&&r(K)})}t(De),t(k);var W=s(k,2),Q=a(W),R=a(Q);Gt(R,{get ingredients(){return d.recipe.ingredients},get servings(){return e(ae)},get defaultServings(){return d.recipe.plate}}),t(Q);var E=s(Q,2),B=a(E);{let r=f(()=>d.recipe.preparation24h||void 0),_=f(()=>d.recipe.astuces||[]);Ht(B,{get preparation(){return d.recipe.preparation},get preparation24h(){return e(r)},get preparationHtml(){return d.recipe.preparationHtml},get preparation24hHtml(){return d.recipe.preparation24hHtml},get astuces(){return e(_)}})}t(E),t(W),t(w),t(Ee),I(r=>{rt(Ee,"id",`recipe-${d.recipe.$id??""}`),rt(st,"href",`/icons/sprite.svg#${e(qe).iconId}`),m(Ae,d.recipe.title),m(vt,r)},[()=>re(e(ae))]),i(Pe,Ee),Et()}const na=Pe=>{var d=va(),N=a(d);N.__click=()=>window.print();var q=a(N);Kt(q,{size:18}),t(N),t(d),i(Pe,d)};var va=l('<div class="flex gap-2"><button class="btn btn-circle btn-primary"><!></button></div>'),la=l('<button class="btn btn-circle btn-error btn-outline btn-xs absolute top-1/2 right-2 z-10 -translate-y-1/2 opacity-60 hover:opacity-100" aria-label="Effacer la recherche"><!></button>'),da=l('<li><button><span class="max-w-75 truncate text-left"> </span></button></li>'),oa=l('<li><button><span class="flex w-full items-center justify-between"><span> </span></span></button></li> <ul></ul>',1),ca=l("<li><button><span> </span></button></li> <ul></ul>",1),ua=l('<div class="my-4"><button class="btn btn-dash btn-block btn-primary" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),fa=l('<div class="mt-16 mb-6"><h3 class="mb-3 text-lg font-semibold">Rechercher par ingr√©dient</h3> <div class="relative"><!> <!></div></div> <ul class="menu bg-base-100 rounded-box w-100 drop-shadow-lg"></ul> <!>',1),_a=l('<div class="skeleton h-4 w-full"></div>'),pa=l('<div class="flex gap-2"><div class="skeleton h-4 w-6 shrink-0"></div> <div class="skeleton h-4 w-full"></div></div>'),ga=l('<div class="space-y-6"><div class="card bg-accent/20 flex flex-row items-center justify-center gap-6 p-4"><div class="skeleton h-6 w-32"></div> <div class="skeleton h-6 w-20"></div> <div class="skeleton h-8 w-16 rounded-full"></div> <div class="skeleton h-8 w-16 rounded-full"></div></div> <div class="card bg-base-100 shadow-xl"><div class="card-body"><div class="flex justify-between"><div class="flex-1"><div class="mb-4"><div class="skeleton mb-2 h-8 w-3/4"></div> <div class="flex gap-2"><div class="skeleton h-5 w-20 rounded-full"></div> <div class="skeleton h-5 w-16 rounded-full"></div></div></div> <div class="mb-4 flex flex-wrap gap-4 text-sm"><div class="skeleton h-4 w-24"></div> <div class="skeleton h-4 w-24"></div> <div class="skeleton h-4 w-24"></div></div> <div class="mb-6"><h3 class="mb-2 flex items-center gap-2 font-semibold" aria-label="Chargement des ingr√©dients"><div class="skeleton h-5 w-6"></div> <div class="skeleton h-5 w-32"></div></h3> <div class="space-y-2"></div></div> <div><h3 class="mb-2 flex items-center gap-2 font-semibold" aria-label="Chargement de la pr√©paration"><div class="skeleton h-5 w-6"></div> <div class="skeleton h-5 w-32"></div></h3> <div class="space-y-2"></div></div></div></div></div></div></div>'),ba=l('<div class="mb-8 space-y-4 print:hidden"><div class="flex flex-wrap items-center justify-between gap-4"><div class="space-y-2"><div class="skeleton h-6 w-64"></div> <div class="skeleton h-4 w-48"></div></div></div> <div class="flex justify-end p-4"><div class="skeleton h-10 w-3/4"></div></div></div> <div class="space-y-10 print:space-y-0"></div>',1),ma=l('<div class="alert alert-error"><div><h3 class="font-bold">Erreur</h3> <div> </div></div></div>'),ha=l("<!> ",1),xa=l("<!> ",1),ya=l('<span class="mr-1"> </span>'),wa=l('<span class="mr-1"> </span>'),ka=l('<span class="mr-1">recette</span>'),Ea=l("<span> </span>"),Ra=l('<div class="m-4 flex items-center justify-center gap-2"><div class="badge badge-xl badge-primary"><!> filtre : <!> <!> <!> <!></div> <button class="btn btn-dash btn-sm" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button></div>'),Aa=l('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg"> </p></div>'),Da=l('<div class="page-break-after"><!></div>'),Sa=l('<div class="card bg-accent text-accent-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),Ma=l('<div class="space-y-8 print:space-y-0"></div>'),ja=l('<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette ne correspond aux filtres s√©lectionn√©s.</p> <button class="btn btn-primary mt-4">R√©initialiser les filtres</button></div>'),Ia=l('<div class="page-break-after mb-14"><!></div>'),Ca=l('<div class="card bg-primary text-primary-content flex flex-row items-center justify-center gap-6 p-4 text-lg font-black shadow-lg print:hidden"><div> </div> <div> </div> <div class="badge badge-outline"><!> </div> <div class="badge badge-outline"><!> </div></div> <!>',1),Ua=l('<button class="btn btn-dash btn-block my-5" aria-label="Afficher toutes les recettes"><!> Afficher toutes les recettes</button>'),Pa=l('<div class="space-y-10 print:space-y-0"></div> <!>',1),za=l(`<div class="bg-base-100 border-base-300 rounded-xl border p-8 text-center"><p class="text-base-content/60 text-lg">Aucune recette n'a encore √©t√© ajout√©e √† cet √©v√©nement.</p></div>`),Ba=l('<div class="mb-8 space-y-4 print:hidden"><div class="flex flex-wrap items-center justify-between gap-4"><div><h1> </h1> <div class="text-base-content/60 text-sm"><!></div></div></div> <div class="flex justify-end p-4"><!></div> <!></div> <!> <!>',1),La=l('<div class="bg-base-200 min-h-screen"><div class="print:hidden"><!></div> <div><div class="mx-auto max-w-6xl px-1 py-8 md:px-4"><!></div></div></div>');function $a(Pe,d){kt(d,!0);let N=ie(!0),q=ie(null),ne=f(()=>Ut.params.id??null);const ve=f(()=>e(ne)?ot.getEventById(e(ne)):null);let ae=ie(pt([])),re=ie(pt([])),ke=ie(!1),A=ie(""),ze=ie("");const qe=f(()=>{const v=new Set;return e(re).forEach(o=>{o.ingredients?.forEach(c=>{c.name&&v.add(c.name)})}),Array.from(v).sort()}),Ee=f(()=>e(A)?e(qe).filter(v=>v!==e(A)):e(qe));let w=ie(null),k=ie(null),S=ie(null);const he=f(()=>e(w)?e(ae).filter(v=>{const o=Ke(v.date),c=Xe(v.date),j=o===e(w),V=!e(k)||c===e(k);return j&&V}):e(ae)),Re=f(()=>{let v=e(re);if(e(A)&&(v=v.filter(o=>o.ingredients?.some(c=>c.name&&c.name.toLowerCase()===e(A).toLowerCase()))),e(w)){const o=new Set;e(he).forEach(c=>{c.recipes.forEach(j=>{o.add(j.recipeUuid)})}),v=v.filter(c=>o.has(c.$id))}return v}),st=f(()=>{const v=new Map;return e(ae).forEach(o=>{const c=Ke(o.date),j=Xe(o.date);v.has(c)||v.set(c,new Map),v.get(c).has(j)||v.get(c).set(j,[]),v.get(c).get(j).push(o)}),v}),Be=f(()=>e(ve)?.name??""),Ae=f(()=>e(ve)?.dateStart??null),Le=f(()=>e(ve)?.dateEnd??null),Te=f(()=>Bt(e(ve)));async function Qe(v){if(!(e(ke)||!v)){n(N,!0),n(ke,!0),n(q,null);try{const o=ot.getEventById(v);if(!o){n(q,"√âv√©nement non trouv√©");return}n(ae,o.meals||[],!0);const c=e(ae).flatMap(V=>V.recipes.map(z=>z.recipeUuid)),j=await Pt.getRecipesByUuidsBulk(c);n(re,Array.from(j.values()).filter(Boolean),!0),console.log(`[EventRecipesPage] ${e(re).length}/${c.length} recettes charg√©es`)}catch(o){console.error("Erreur lors du chargement des donn√©es:",o),n(q,o instanceof Error?o.message:"Erreur lors du chargement",!0)}finally{n(N,!1),n(ke,!1)}}}Mt(async()=>{const v=e(ne);if(!v){n(q,"ID d'√©v√©nement manquant"),n(N,!1);return}try{await Qe(v)}catch(o){console.error("[EventRecipesPage] Erreur lors du chargement:",o),n(q,o instanceof Error?o.message:"Erreur lors du chargement",!0),n(N,!1)}}),gt(()=>{if(!e(ne))return;const v=ot.getEventById(e(ne));if(!v)return;const o=JSON.stringify(v.meals),c=JSON.stringify(e(ae));o!==c&&!e(ke)&&(console.log("[EventRecipesPage] Meals mis √† jour via realtime, rafra√Æchissement..."),Qe(e(ne)))}),gt(()=>{yt.setConfig({actions:na})}),jt(()=>{yt.reset()});function Ye(v){n(A,v,!0),n(w,null),n(k,null),n(S,null)}function it(){n(A,"")}var xe=La(),Fe=a(xe),nt=a(Fe);Xt(nt,{width:"120",children:(v,o)=>{var c=fa(),j=P(c),V=s(a(j),2),z=a(V);{let R=f(()=>e(A)||"Filtrer par ingr√©dients...");qt(z,{get items(){return e(Ee)},onSelect:Ye,get placeholder(){return e(R)},minQueryLength:1,get value(){return e(ze)},set value(E){n(ze,E,!0)}})}var O=s(z,2);{var Z=R=>{var E=la();E.__click=it;var B=a(E);Ot(B,{size:14}),t(E),i(R,E)};u(O,R=>{e(A)&&R(Z)})}t(V),t(j);var K=s(j,2);te(K,21,()=>Array.from(e(st).entries()),([R,E])=>R,(R,E)=>{var B=f(()=>bt(e(E),2));let r=()=>e(B)[0],_=()=>e(B)[1];var L=ca(),F=P(L),C=a(F);C.__click=()=>{n(k,null),n(S,null),n(A,""),n(w,e(w)===r()?null:r(),!0)};var ue=a(C),ye=a(ue,!0);t(ue),t(C),t(F);var fe=s(F,2);te(fe,21,()=>Array.from(_().entries()),([le,Me])=>le,(le,Me)=>{var Ge=f(()=>bt(e(Me),2));let _e=()=>e(Ge)[0],He=()=>e(Ge)[1];var $e=oa(),Je=P($e),g=a(Je);g.__click=()=>{n(w,r(),!0),n(k,e(k)===_e()?null:_e(),!0),n(S,null),n(A,"")};var M=a(g),G=a(M),Y=a(G);t(G),t(M),t(g),t(Je);var H=s(Je,2);te(H,23,()=>He()[0].recipes,(h,x)=>h.recipeUuid+"-"+x,(h,x,U)=>{const D=f(()=>e(re).find(X=>X.$id===e(x).recipeUuid)),de=f(()=>(He()[0].id||He()[0].date)+"_"+e(U));var T=me(),y=P(T);{var $=X=>{var p=da(),b=a(p);b.__click=()=>{n(w,null),n(k,null),n(S,e(S)===e(de)?null:e(de),!0),n(A,"")};var J=a(b),ee=a(J,!0);t(J),t(b),t(p),I(()=>{We(b,1,`btn btn-sm ml-8 justify-start ${e(S)===e(de)?"btn-accent":"btn-ghost"}`),m(ee,e(D).title)}),i(X,p)};u(y,X=>{e(D)&&X($)})}i(h,T)}),t(H),I(()=>{We(g,1,`btn btn-sm justify-start pl-4 ${e(w)===r()&&e(k)===_e()?"btn-accent":"btn-ghost "}`),m(Y,`${_e()==="matin"?"üåÖ":_e()==="midi"?"‚òÄÔ∏è":"üåô"}
                      ${_e()??""}`)}),i(le,$e)}),t(fe),I(()=>{We(C,1,`btn btn-sm justify-start ${e(w)===r()&&!e(k)?"btn-accent":"btn-ghost"}`),m(ye,r())}),i(R,L)}),t(K);var W=s(K,2);{var Q=R=>{var E=ua(),B=a(E);B.__click=()=>{n(w,null),n(k,null),n(S,null)};var r=a(B);ft(r,{size:18}),ut(),t(B),t(E),i(R,E)};u(W,R=>{(e(w)||e(k)||e(S))&&R(Q)})}i(v,c)},$$slots:{default:!0}}),t(Fe);var De=s(Fe,2),Se=a(De),Ve=a(Se);{var Ze=v=>{var o=ba(),c=s(P(o),2);te(c,20,()=>Array(3),ct,(j,V)=>{var z=ga(),O=s(a(z),2),Z=a(O),K=a(Z),W=a(K),Q=s(a(W),4),R=s(a(Q),2);te(R,20,()=>Array(4),ct,(r,_,L,F)=>{var C=_a();i(r,C)}),t(R),t(Q);var E=s(Q,2),B=s(a(E),2);te(B,20,()=>Array(3),ct,(r,_,L,F)=>{var C=pa();i(r,C)}),t(B),t(E),t(W),t(K),t(Z),t(O),t(z),i(j,z)}),t(c),i(v,o)},vt=v=>{var o=me(),c=P(o);{var j=z=>{var O=ma(),Z=a(O),K=s(a(Z),2),W=a(K,!0);t(K),t(Z),t(O),I(()=>m(W,e(q))),i(z,O)},V=z=>{var O=me(),Z=P(O);{var K=W=>{var Q=Ba(),R=P(Q),E=a(R),B=a(E),r=a(B),_=a(r,!0);t(r);var L=s(r,2),F=a(L);{var C=g=>{var M=ha(),G=P(M);_t(G,{class:"inline h-4 w-4"});var Y=s(G);I((H,h)=>m(Y,` ${H??""} au ${h??""}`),[()=>Ke(e(Ae)),()=>Ke(e(Le))]),i(g,M)},ue=g=>{var M=me(),G=P(M);{var Y=H=>{var h=xa(),x=P(h);_t(x,{class:"inline h-4 w-4"});var U=s(x);I(D=>m(U,` ${D??""}`),[()=>Ke(e(Ae))]),i(H,h)};u(G,H=>{e(Ae)&&H(Y)},!0)}i(g,M)};u(F,g=>{e(Ae)&&e(Le)?g(C):g(ue,!1)})}t(L),t(B),t(E);var ye=s(E,2),fe=a(ye);Lt(fe,{get currentEvent(){return e(ve)}}),t(ye);var le=s(ye,2);{var Me=g=>{var M=Ra(),G=a(M),Y=a(G);Wt(Y,{class:"mr-1 h-4 w-4"});var H=s(Y,2);{var h=p=>{var b=ya(),J=a(b,!0);t(b),I(()=>m(J,e(w))),i(p,b)};u(H,p=>{e(w)&&p(h)})}var x=s(H,2);{var U=p=>{var b=wa(),J=a(b,!0);t(b),I(()=>m(J,e(k))),i(p,b)};u(x,p=>{e(k)&&p(U)})}var D=s(x,2);{var de=p=>{var b=ka();i(p,b)};u(D,p=>{e(S)&&p(de)})}var T=s(D,2);{var y=p=>{var b=Ea(),J=a(b,!0);t(b),I(()=>m(J,e(A))),i(p,b)};u(T,p=>{e(A)&&p(y)})}t(G);var $=s(G,2);$.__click=()=>{n(w,null),n(k,null),n(S,null),n(A,"")};var X=a($);ft(X,{class:"h-4 w-4"}),ut(),t($),t(M),i(g,M)};u(le,g=>{(e(w)||e(k)||e(S)||e(A))&&g(Me)})}t(R);var Ge=s(R,2);{var _e=g=>{var M=me(),G=P(M);{var Y=h=>{var x=Aa(),U=a(x),D=a(U);t(U),t(x),I(()=>m(D,`Aucune recette ne contient l'ingr√©dient "${e(A)??""}".`)),i(h,x)},H=h=>{var x=Ma();te(x,23,()=>e(ae),(U,D)=>U.id||D,(U,D,de)=>{const T=f(()=>e(D).recipes.filter(p=>e(Re).some(b=>b.$id===p.recipeUuid)));var y=me(),$=P(y);{var X=p=>{var b=Sa(),J=P(b),ee=a(J),je=a(ee,!0);t(ee);var se=s(ee,2),Ie=a(se,!0);t(se);var we=s(se,2),Ce=a(we);ht(Ce,{size:16});var lt=s(Ce);t(we);var Ue=s(we,2),Ne=a(Ue);xt(Ne,{size:16});var dt=s(Ne);t(Ue),t(J);var et=s(J,2);te(et,19,()=>e(T),(pe,ge)=>(e(D).id||e(de))+"-"+pe.recipeUuid+"-"+ge,(pe,ge)=>{const tt=f(()=>e(re).find(ce=>ce.$id===e(ge).recipeUuid));var oe=Da(),be=a(oe);{var at=ce=>{wt(ce,{get recipe(){return e(tt)},get meal(){return e(D)},get mealRecipe(){return e(ge)},get totalGuests(){return e(Te)}})};u(be,ce=>{e(tt)&&ce(at)})}t(oe),i(pe,oe)}),I((pe,ge)=>{rt(J,"id",`meal-${e(D).date??""}`),m(je,pe),m(Ie,ge),m(lt,` ${e(D).guests??""}`),m(dt,` ${e(T).length??""}`)},[()=>mt(e(D).date),()=>Xe(e(D).date)]),i(p,b)};u($,p=>{e(T).length>0&&p(X)})}i(U,y)}),t(x),i(h,x)};u(G,h=>{e(Re).length===0?h(Y):h(H,!1)})}i(g,M)},He=g=>{var M=me(),G=P(M);{var Y=h=>{var x=ja(),U=s(a(x),2);U.__click=()=>{n(w,null),n(k,null),n(S,null)},t(x),i(h,x)},H=h=>{var x=Pa(),U=P(x);te(U,23,()=>e(he),(T,y)=>T.id||y,(T,y,$)=>{const X=f(()=>e(S)?(()=>{const[ee,je]=e(S).split("_"),se=e(y).id||e(y).date;return ee!==se.toString()?[]:e(y).recipes.filter((Ie,we)=>we===parseInt(je))})():e(y).recipes);var p=me(),b=P(p);{var J=ee=>{var je=Ca(),se=P(je),Ie=a(se),we=a(Ie,!0);t(Ie);var Ce=s(Ie,2),lt=a(Ce,!0);t(Ce);var Ue=s(Ce,2),Ne=a(Ue);ht(Ne,{size:16});var dt=s(Ne);t(Ue);var et=s(Ue,2),pe=a(et);xt(pe,{size:16});var ge=s(pe);t(et),t(se);var tt=s(se,2);te(tt,19,()=>e(X),(oe,be)=>(e(y).id||e($))+"-"+oe.recipeUuid+"-"+be,(oe,be)=>{const at=f(()=>e(re).find(Oe=>Oe.$id===e(be).recipeUuid));var ce=Ia(),Rt=a(ce);{var At=Oe=>{wt(Oe,{get recipe(){return e(at)},get meal(){return e(y)},get mealRecipe(){return e(be)},get totalGuests(){return e(Te)}})};u(Rt,Oe=>{e(at)&&Oe(At)})}t(ce),i(oe,ce)}),I((oe,be)=>{rt(se,"id",`meal-${e(y).date??""}`),m(we,oe),m(lt,be),m(dt,` ${e(y).guests??""}`),m(ge,` ${e(X).length??""}`)},[()=>mt(e(y).date),()=>Xe(e(y).date)]),i(ee,je)};u(b,ee=>{e(X).length>0&&ee(J)})}i(T,p)}),t(U);var D=s(U,2);{var de=T=>{var y=Ua();y.__click=()=>{n(w,null),n(k,null),n(S,null),n(A,"")};var $=a(y);ft($,{class:"h-4 w-4"}),ut(),t(y),i(T,y)};u(D,T=>{(e(w)||e(k)||e(S))&&T(de)})}i(h,x)};u(G,h=>{e(he).length===0&&(e(w)||e(k))?h(Y):h(H,!1)})}i(g,M)};u(Ge,g=>{e(A)?g(_e):g(He,!1)})}var $e=s(Ge,2);{var Je=g=>{var M=za();i(g,M)};u($e,g=>{!e(A)&&e(re).length===0&&!e(N)&&g(Je)})}I(()=>m(_,e(Be))),i(W,Q)};u(Z,W=>{e(Be)&&W(K)},!0)}i(z,O)};u(c,z=>{e(q)?z(j):z(V,!1)},!0)}i(v,o)};u(Ve,v=>{e(N)?v(Ze):v(vt,!1)})}t(Se),t(De),t(xe),I(()=>We(De,1,`print:ml-0 ${(It.isDesktop&&" ml-110")??""}`)),Ct(1,xe,()=>Qt),i(Pe,xe),Et()}zt(["click"]);export{$a as default};
