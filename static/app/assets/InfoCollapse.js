import{d as W,p as k,j as G,k as J,K as u,m as i,u as q,b as l,c as X,v as m,h as s,g as x,e as Y,w as S,x as D,B as Q,o as r,C as A,M as R,ab as T,y as Z,z as $,a6 as tt,A as et,s as at,n as it,U as L}from"./appwrite.js";import{aH as nt,a0 as st,g as rt}from"./icons.js";var ot=m('<div class="mb-1 text-xs opacity-70"> </div>'),lt=m('<button type="button"><!> </button>'),vt=m('<div><!> <div class="ms-1 flex flex-wrap items-center gap-1"><!> <!></div></div>');function mt(M,e){W(e,!0);let B=k(e,"maxSuggestions",3,8),E=k(e,"buttonSize",3,"btn-xs"),H=k(e,"buttonVariant",3,"btn-soft"),I=k(e,"disabled",3,!1);const c=q(()=>e.suggestions.slice(0,B()));function C(d){!I()&&!d.disabled&&e.onSuggestionClick(d)}var p=G(),h=J(p);{var f=d=>{var g=vt(),z=s(g);{var K=_=>{var o=ot(),v=s(o,!0);r(o),S(()=>D(v,e.title)),l(_,o)};u(z,_=>{e.title&&_(K)})}var V=x(z,2),j=s(V);nt(j,{class:"text-base-content/70 mr-1",size:14});var N=x(j,2);Y(N,17,()=>i(c),_=>_.id,(_,o)=>{var v=lt();v.__click=()=>C(i(o));var O=s(v);{var a=n=>{var w=G(),y=J(w);T(y,()=>i(o).icon,(P,U)=>{U(P,{class:"h-3 w-3"})}),l(n,w)};u(O,n=>{i(o).icon&&n(a)})}var t=x(O);r(v),S(()=>{A(v,1,`btn btn-primary ${E()??""} ${H()??""} `),v.disabled=I()||i(o).disabled,R(v,"title",i(o).disabled?"Déjà sélectionné":i(o).label),D(t,` ${i(o).label??""}`)}),l(_,v)}),r(V),r(g),l(d,g)};u(h,d=>{i(c).length>0&&d(f)})}l(M,p),X()}Q(["click"]);var dt=m('<span class="text-base-content font-semibold"> </span>'),ct=m('<div class="text-base-content/80 flex-1 md:max-w-4/5"> </div>'),_t=m('<div class="absolute top-4 right-4 flex items-center gap-1"><div class="text-base-content/70 text-sm italic"><!></div> <!></div>'),ft=m('<div id="collapse-content" role="button" tabindex="0" aria-label="Afficher/Masquer le contenu"><div class="text-base-content p-4 pt-0 text-sm"><!></div></div>'),bt=m('<div><button type="button" aria-controls="collapse-content"><div class="flex gap-6 max-md:flex-col"><div class=" flex items-center gap-3 self-start"><!> <!></div> <!></div> <!></button> <!></div>');function ht(M,e){let B=k(e,"icon",3,st),E=k(e,"class",3,""),H=k(e,"initiallyOpen",3,!1),I=q(B),c=Z($(H())),C=q(()=>!!e.children);function p(){et(c,!i(c))}var h=bt(),f=s(h);f.__click=p;var d=s(f),g=s(d),z=s(g);T(z,()=>i(I),(a,t)=>{t(a,{size:24,class:"text-base-content flex-shrink-0"})});var K=x(z,2);{var V=a=>{var t=dt(),n=s(t,!0);r(t),S(()=>D(n,e.title)),l(a,t)};u(K,a=>{e.title&&a(V)})}r(g);var j=x(g,2);{var N=a=>{var t=ct(),n=s(t,!0);r(t),S(()=>D(n,e.contentVisible)),l(a,t)};u(j,a=>{e.contentVisible&&a(N)})}r(d);var _=x(d,2);{var o=a=>{var t=_t(),n=s(t),w=s(n);{var y=b=>{var F=L("en savoir plus");l(b,F)},P=b=>{var F=L("masquer");l(b,F)};u(w,b=>{i(c)?b(P,!1):b(y)})}r(n);var U=x(n,2);{let b=q(()=>`text-base-content h-4 w-4 flex-shrink-0 transition-transform duration-200 ${i(c)?"rotate-180":""}`);rt(U,{get class(){return i(b)}})}r(t),l(a,t)};u(_,a=>{i(C)&&a(o)})}r(f);var v=x(f,2);{var O=a=>{var t=ft();t.__click=p,t.__keydown=y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),p())};var n=s(t),w=s(n);at(w,()=>e.children??it),r(n),r(t),S(()=>A(t,1,`overflow-hidden transition-all duration-200 ${i(c)?"max-h-96 opacity-100":"max-h-0 opacity-0"} hover:cursor-pointer`)),l(a,t)};u(v,a=>{i(C)&&a(O)})}r(h),S(()=>{A(h,1,`bg-base-100 border-base-200 relative overflow-hidden rounded-lg border ${E()}`),tt(h,e.style),A(f,1,`flex w-full items-center justify-between p-4 text-left transition-colors duration-200 focus:outline-none ${(i(C)&&"hover:cursor-pointer")??""}`),R(f,"aria-expanded",i(c))}),l(M,h)}Q(["click","keydown"]);export{ht as I,mt as S};
