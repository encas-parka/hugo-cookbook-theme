import{k as M,ak as xt,az as ft,G as gt,aw as ht,aZ as kt,m as wt,t as O,a_ as pt,U as Z}from"./icons.js";import{B as yt,d as Et,p as H,v as m,E as b,h as n,g as e,I as u,w as x,C as J,L as zt,x as d,O as Ct,b as _,c as St,k as R,j as Pt,o as s,K as f}from"./appwrite.js";import{f as q}from"./products-display.js";import{b as Dt,c as jt,d as Rt}from"./event-stats-helpers.js";import{s as qt}from"./index.js";var At=m("<!> ",1),It=m("<!> ",1),Tt=m('<div class="badge badge-info badge-lg ms-auto h-auto"><!> Vous êtes invité à participer</div>'),Ut=m('<div class="text-primary flex items-center gap-1 font-semibold"><!> <span> </span></div>'),Vt=m('<div class="text-base-content/90 flex items-center gap-1"><!> <span> </span> <span> </span></div>'),Bt=m('<div role="button" tabindex="0"><div class="min-w-0 flex-1 space-y-4"><div class="flex flex-wrap items-baseline gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-lg h-auto font-medium"><!></div> <div> </div> <!></div> <div class="text-base-content/60 mt-2 flex flex-wrap items-center gap-3 text-xs"><!> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="mt-6 flex flex-wrap justify-end gap-2"><button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Éditer</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Recettes</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Produits</button> <button class="btn btn-outline btn-secondary @max-sm:btn-xs btn-sm"><!> Affiches</button></div></div> <!></div>');function Ot(N,t){Et(t,!0);let Q=H(t,"cardClass",3,""),W=H(t,"contributorStatus",3,null);var c=Bt();c.__click=()=>b(`/dashboard/eventEdit/${t.event.$id}`),c.__keydown=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),b(`/dashboard/eventEdit/${t.event.$id}`))};var y=e(c),E=e(y),z=e(E),X=e(z,!0);s(z);var C=n(z,2),Y=e(C);{var $=a=>{var i=At(),r=R(i);O(r,{class:"h-4 w-4"});var v=n(r);x((o,l)=>d(v,` ${o??""} au ${l??""}`),[()=>q(t.event.dateStart),()=>q(t.event.dateEnd)]),_(a,i)},tt=a=>{var i=Pt(),r=R(i);{var v=o=>{var l=It(),p=R(l);O(p,{class:"h-4 w-4"});var mt=n(p);x(ut=>d(mt,` ${ut??""}`),[()=>q(t.event.dateStart)]),_(o,l)};u(r,o=>{t.event.dateStart&&o(v)},!0)}_(a,i)};u(Y,a=>{t.event.allDates&&t.event.allDates.length>1&&t.event.dateStart&&t.event.dateEnd?a($):a(tt,!1)})}s(C);var g=n(C,2),at=e(g,!0);s(g);var et=n(g,2);{var st=a=>{var i=Tt(),r=e(i);pt(r,{class:"size-4"}),f(),s(i),_(a,i)};u(et,a=>{W()==="invited"&&a(st)})}s(E);var S=n(E,2),A=e(S);{var nt=a=>{var i=Ut(),r=e(i);Z(r,{class:"h-3 w-3"});var v=n(r,2),o=e(v,!0);s(v),s(i),x(l=>d(o,l),[()=>t.event.teams.join(", ")]),_(a,i)};u(A,a=>{t.event.teams&&t.event.teams.length>0&&a(nt)})}var I=n(A,2);{var it=a=>{var i=Vt(),r=e(i);Z(r,{class:"h-3 w-3"});var v=n(r,2),o=e(v);s(v);var l=n(v,2),p=e(l);s(l),s(i),x(()=>{d(o,`${t.event.contributors.length??""} participant${t.event.contributors.length>1?"s":""}`),d(p,`(${t.event.minContrib??""} requis)`)}),_(a,i)};u(I,a=>{t.event.contributors&&t.event.contributors.length>0&&a(it)})}var P=n(I,2),T=e(P);M(T,{class:"h-3 w-3"});var U=n(T,2),rt=e(U);s(U),s(P);var D=n(P,2),V=e(D);M(V,{class:"h-3 w-3"});var B=n(V,2),vt=e(B);s(B),s(D);var F=n(D,2),G=e(F);xt(G,{class:"h-3 w-3"});var K=n(G,2),dt=e(K);s(K),s(F),s(S);var L=n(S,2),h=e(L);h.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/${t.event.$id}`)};var ot=e(h);ft(ot,{class:"size-4 @max-xs:size-3"}),f(),s(h);var k=n(h,2);k.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/recipes/${t.event.$id}`)};var lt=e(k);gt(lt,{class:"size-4 @max-xs:size-3"}),f(),s(k);var w=n(k,2);w.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/products/${t.event.$id}`)};var ct=e(w);ht(ct,{class:"size-4 @max-xs:size-3"}),f(),s(w);var j=n(w,2);j.__click=a=>{a.stopPropagation(),b(`/dashboard/eventEdit/posters/${t.event.$id}`)};var _t=e(j);kt(_t,{class:"size-4 @max-xs:size-3"}),f(),s(j),s(L),s(y);var bt=n(y,2);wt(bt,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),s(c),x((a,i,r)=>{J(c,1,`bg-base-200/60 hover:bg-base-200 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors ${Q()??""} @container`),zt(c,"title",`Voir les détails de ${t.event.name??""}`),d(X,t.event.name),J(g,1,`badge badge-outline badge-sm font-medium ${t.event.status==="proposition"?"badge-accent":"badge-success"}`),d(at,t.event.status==="proposition"?"proposition":"confirmé"),d(rt,`${a??""} repas`),d(vt,`${i??""} recettes`),d(dt,`${r??""} tâches`)},[()=>Dt(t.event),()=>jt(t.event),()=>Rt(t.event)]),Ct(3,c,()=>qt),_(N,c),St()}yt(["click","keydown"]);export{Ot as E};
