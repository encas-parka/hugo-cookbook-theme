import{a9 as Ba,W as f,A as t,$ as m,v,w as Ra,x as Ta,a as C,s as N,B as r,Z as Ua,g as a,D as O,E,u as qa,o as Fa,X as w,Y as p}from"./vendor.B7h_mkEd.js";import{e as Q,y as b}from"./appwrite.5W8SCupm.js";import{g as Ia,a as Wa,b as Xa}from"./event-stats-helpers.D4lUGopr.js";import{f as D}from"./products-display.CZc2PMhO.js";import{a0 as Ya,n as L,M as Za,g as V,a2 as za,a3 as Ga,v as Ha,a4 as Ja,a5 as Ka,U as aa}from"./icons.DKN5kzXq.js";import"./editor.L4rklAfR.js";import"./markdown.BkFahWn2.js";function Na(){b("/dashboard")}var Oa=f('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),Qa=f('<div class="py-6 text-center"><!> <p class="text-base-content/60">Aucun événement passé</p></div>'),Va=(o,i)=>b(`/dashboard/eventEdit/${a(i).$id}`),at=(o,i)=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),b(`/dashboard/eventEdit/${a(i).$id}`))},tt=f("<!> ",1),st=f("<!> ",1),rt=f('<div class="flex items-center gap-1"><!> <span> </span></div>'),et=f('<div class="flex items-center gap-1"><!> <span> </span></div>'),ot=(o,i)=>{o.stopPropagation(),b(`/dashboard/eventEdit/${a(i).$id}`)},it=(o,i)=>{o.stopPropagation(),b(`/dashboard/eventEdit/recipes/${a(i).$id}`)},nt=(o,i)=>{o.stopPropagation(),b(`/dashboard/eventEdit/products/${a(i).$id}`)},dt=(o,i)=>{o.stopPropagation(),b(`/dashboard/eventPosters/${a(i).$id}`)},vt=f('<div class="bg-base-200 hover:bg-base-300 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-4"><div class="text-primary truncate text-lg font-semibold"> </div> <div class="badge badge-soft badge-secondary font-medium"><!></div></div> <div class="text-base-content/60 mt-2 flex flex-wrap items-center gap-3 text-xs"><div class="flex items-center gap-1"><!> <span> </span></div> <!> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <div class="mt-3 flex flex-wrap gap-2"><button class="btn btn-outline btn-xs"><!> Éditer</button> <button class="btn btn-outline btn-xs"><!> Recettes</button> <button class="btn btn-outline btn-xs"><!> Produits</button> <button class="btn btn-outline btn-xs"><!> Affiches</button></div></div></div>'),lt=f('<div class="space-y-3"></div>'),ct=f('<div class="container mx-auto p-4"><div class="mb-4 flex items-center gap-2"><button class="btn btn-ghost btn-sm"><!></button> <h1 class="text-2xl font-bold">Événements passés</h1></div> <!></div>');function xt(o,i){Ta(i,!0);let M=qa(()=>Q.pastEvents),$=N(!1),ta=N(!1);Ba(async()=>{C($,!0);try{await Q.loadAllPastEvents(),C(ta,!0)}catch(l){console.error("[EventListPage] Erreur lors du chargement:",l)}finally{C($,!1)}});function sa(l){return"Lieu à définir"}var j=ct(),B=t(j),R=t(B);R.__click=[Na];var ra=t(R);Ya(ra,{class:"h-4 w-4"});var ea=r(B,2);{var oa=l=>{var k=Oa();v(l,k)},ia=l=>{var k=O(),na=E(k);{var da=u=>{var x=Qa(),h=t(x);L(h,{class:"mx-auto mb-3 h-12 w-12 opacity-20"}),v(u,x)},va=u=>{var x=lt();Fa(x,21,()=>a(M),h=>h.$id,(h,s)=>{var y=vt();y.__click=[Va,s],y.__keydown=[at,s];var la=t(y),T=t(la),U=t(T),ca=t(U),_a=r(U,2),pa=t(_a);{var fa=e=>{var n=tt(),d=E(n);L(d,{class:"h-4 w-4"});var c=r(d);w((_,g)=>p(c,` ${_??""} au ${g??""}`),[()=>D(a(s).dateStart),()=>D(a(s).dateEnd)]),v(e,n)},ba=e=>{var n=O(),d=E(n);{var c=_=>{var g=st(),K=E(g);L(K,{class:"h-4 w-4"});var Ma=r(K);w(ja=>p(Ma,` ${ja??""}`),[()=>D(a(s).dateStart)]),v(_,g)};m(d,_=>{a(s).dateStart&&_(c)},!0)}v(e,n)};m(pa,e=>{a(s).allDates&&a(s).allDates.length>1&&a(s).dateStart&&a(s).dateEnd?e(fa):e(ba,!1)})}var q=r(T,2),F=t(q),I=t(F);Za(I,{class:"h-3 w-3"});var ua=r(I,2),ga=t(ua),W=r(F,2);{var ma=e=>{var n=rt(),d=t(n);aa(d,{class:"h-3 w-3"});var c=r(d,2),_=t(c);w(()=>p(_,`${a(s).contributors.length??""} participant${a(s).contributors.length>1?"s":""}`)),v(e,n)};m(W,e=>{a(s).contributors&&a(s).contributors.length>0&&e(ma)})}var X=r(W,2),Y=t(X);V(Y,{class:"h-3 w-3"});var xa=r(Y,2),ha=t(xa),Z=r(X,2),z=t(Z);V(z,{class:"h-3 w-3"});var wa=r(z,2),ka=t(wa),G=r(Z,2),H=t(G);za(H,{class:"h-3 w-3"});var ya=r(H,2),Ea=t(ya),$a=r(G,2);{var Pa=e=>{var n=et(),d=t(n);aa(d,{class:"h-3 w-3"});var c=r(d,2),_=t(c);w(g=>p(_,g),[()=>a(s).teams.join(", ")]),v(e,n)};m($a,e=>{a(s).teams&&a(s).teams.length>0&&e(Pa)})}var Sa=r(q,2),P=t(Sa);P.__click=[ot,s];var Aa=t(P);Ga(Aa,{class:"h-3 w-3"});var S=r(P,2);S.__click=[it,s];var Ca=t(S);Ha(Ca,{class:"h-3 w-3"});var A=r(S,2);A.__click=[nt,s];var Da=t(A);Ja(Da,{class:"h-3 w-3"});var J=r(A,2);J.__click=[dt,s];var La=t(J);Ka(La,{class:"h-3 w-3"}),w((e,n,d,c)=>{p(ca,a(s).name),p(ga,e),p(ha,`${n??""} repas`),p(ka,`${d??""} recettes`),p(Ea,`${c??""} tâches`)},[()=>sa(a(s)),()=>Ia(a(s)),()=>Wa(a(s)),()=>Xa(a(s))]),v(h,y)}),v(u,x)};m(na,u=>{a(M).length===0?u(da):u(va,!1)},!0)}v(l,k)};m(ea,l=>{a($)?l(oa):l(ia,!1)})}v(o,j),Ra()}Ua(["click","keydown"]);export{xt as default};
