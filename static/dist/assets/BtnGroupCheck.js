import{z as F,X as J}from"./icons.js";import{d as K,p as l,y as L,z as M,H as N,A as P,v as _,k as Q,e as R,m as t,u,h as i,I as C,b as h,c as U,g as c,w as y,x as m,o as n}from"./appwrite.js";import{C as V}from"./CheckboxBadge.js";var W=_('<span class="flex items-center gap-1"><!> </span>'),Y=_('<div class="mt-4 flex items-center justify-between text-sm opacity-70"><div class="flex items-center gap-4"><span class="flex items-center gap-1"><!> </span> <!></div> <span> </span></div>'),Z=_('<div class="flex flex-wrap gap-2"></div> <!>',1);function ae(z,s){K(s,!0);let B=l(s,"size",3,"lg"),S=l(s,"color",3,"primary"),T=l(s,"onToggleItem",3,()=>{}),j=l(s,"showStats",3,!1),r=L(M({}));N(()=>{const e={};s.items.forEach(a=>{e[a.id]=a.selected??!0}),P(r,e,!0)});function A(e){t(r)[e]=!t(r)[e],T()(e)}const I=u(()=>Object.values(t(r)).filter(Boolean).length),p=u(()=>Object.values(t(r)).filter(e=>!e).length);var x=Z(),v=Q(x);R(v,21,()=>s.items,e=>e.id,(e,a)=>{const o=u(()=>t(r)[t(a).id]);V(e,{get checked(){return t(o)},get label(){return t(a).label},get color(){return S()},get badge(){return t(a).badge},get size(){return B()},onchange:()=>A(t(a).id)})}),n(v);var O=i(v,2);{var E=e=>{var a=Y(),o=c(a),d=c(o),b=c(d);F(b,{class:"text-success h-3 w-3"});var G=i(b);n(d);var H=i(d,2);{var X=f=>{var g=W(),k=c(g);J(k,{class:"text-error h-3 w-3"});var D=i(k);n(g),y(()=>m(D,` ${t(p)??""} retirÃ©s`)),h(f,g)};C(H,f=>{t(p)>0&&f(X)})}n(o);var w=i(o,2),q=c(w);n(w),n(a),y(()=>{m(G,` ${t(I)??""} actifs`),m(q,`Total: ${s.items.length??""} items`)}),h(e,a)};C(O,e=>{j()&&e(E)})}h(z,x),U()}export{ae as B};
