import{W as u}from"./appwrite.js";import{aw as o,y as d,aZ as l,g as f,a_ as m,a$ as g,b0 as y,b1 as p,b2 as b}from"./icons.js";function w(e){switch(e.toLowerCase()){case"sec":return{displayName:"Produits Sec",icon:b};case"animaux":return{displayName:"Viandes et Poissons",icon:p};case"legumes":return{displayName:"Fruits et Légumes",icon:y};case"sucres":return{displayName:"Sucrées",icon:g};case"lof":return{displayName:"L.O.F",icon:m};case"autres":return{displayName:"Autres",icon:f};case"epices":return{displayName:"Assaisonnements",icon:l};case"frais":return{displayName:"Produits Frais",icon:d};default:return{displayName:e,icon:o}}}function h(e){if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function C(e){if(!e)return"";try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return e}}function k(e){switch(e){case"requested":return{text:"Demandé",class:"text-amber-600"};case"ordered":return{text:"Commandé",class:"badge-info"};case"pending":return{text:"En attente",class:"badge-accent"};case"delivered":return{text:"Livré",class:"badge-success"};case"cancelled":return{text:"Annulé",class:"badge-error"};default:return{text:"Livré",class:"badge-success"}}}function L(e){return e?h(e):"-"}function N(e){if(!e?.length)return[];const s=e.reduce((a,r)=>{const t=r.status||"direct",n=r.unit||"unit",c=`${t}_${n}`;if(!a[c]){const i=k(t);a[c]={status:t,unit:n,quantity:0,badgeClass:i.class,badgeText:i.text,icon:v(t),deliveryDate:t==="ordered"&&r.deliveryDate?C(r.deliveryDate):void 0}}return a[c].quantity+=r.quantity||0,a},{});return Object.values(s).map(a=>{const{value:r,unit:t}=u(a.quantity,a.unit);let n;return t==="kg"||t==="l."?n=r.toFixed(2).replace(/\.?0+$/,""):n=r.toString(),{...a,quantity:n,unit:t}})}function v(e){switch(e){case"requested":return"MessageCircleQuestionMark";case"ordered":return"ClipboardCheck";case"pending":return"Clock";case"delivered":return"Check";case"cancelled":return"CircleX";case"inStock":return"PackageCheck";default:return"Package"}}export{h as a,k as b,L as c,N as d,C as f,w as g};
