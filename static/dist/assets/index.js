(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const ai=!1;var Gn=Array.isArray,Pa=Array.prototype.indexOf,Zs=Array.from,Us=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,oi=Object.getOwnPropertyDescriptors,ci=Object.prototype,Ta=Array.prototype,us=Object.getPrototypeOf,pr=Object.isExtensible;function vn(t){return typeof t=="function"}const ne=()=>{};function $a(t){return t()}function Hs(t){for(var e=0;e<t.length;e++)t[e]()}function li(){var t,e,n=new Promise((s,r)=>{t=s,e=r});return{promise:n,resolve:t,reject:e}}function Ma(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const s of t)if(n.push(s),n.length===e)break;return n}const tt=2,Os=4,fs=8,Kt=16,kt=32,on=64,Fs=128,lt=256,rs=512,Ge=1024,st=2048,Yt=4096,ft=8192,cn=16384,hs=32768,Jt=65536,vr=1<<17,Da=1<<18,In=1<<19,di=1<<20,Bs=1<<21,ps=1<<22,sn=1<<23,$t=Symbol("$state"),ui=Symbol("legacy props"),xa=Symbol(""),qn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ka(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ca(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ja(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Na(t){throw new Error("https://svelte.dev/e/effect_orphan")}function La(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ba(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function za(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wa(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const vs=1,ms=2,fi=4,Qa=8,Va=16,Ga=1,Ka=2,Ya=4,Ja=8,Xa=16,Za=4,Oa=1,Fa=2,Le=Symbol(),eo="http://www.w3.org/1999/xhtml",to="http://www.w3.org/2000/svg",no="@attach";function so(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function ro(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let io=!1;function hi(t){return t===this.v}function ao(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function pi(t){return!ao(t,this.v)}let Sn=!1,oo=!1;function co(){Sn=!0}const lo=[];function hn(t,e=!1,n=!1){return ns(t,new Map,"",lo,null,n)}function ns(t,e,n,s,r=null,i=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Gn(t)){var o=Array(t.length);e.set(t,o),r!==null&&e.set(r,o);for(var l=0;l<t.length;l+=1){var d=t[l];l in t&&(o[l]=ns(d,e,n,s,null,i))}return o}if(us(t)===ci){o={},e.set(t,o),r!==null&&e.set(r,o);for(var u in t)o[u]=ns(t[u],e,n,s,null,i);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return ns(t.toJSON(),e,n,s,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let De=null;function gn(t){De=t}function J(t,e=!1,n){De={p:De,c:null,e:null,s:t,x:null,l:Sn&&!e?{s:null,u:null,$:[]}:null}}function X(t){var e=De,n=e.e;if(n!==null){e.e=null;for(var s of n)Mi(s)}return De=e.p,{}}function Kn(){return!Sn||De!==null&&De.l===null}let en=[];function vi(){var t=en;en=[],Hs(t)}function Vt(t){if(en.length===0&&!jn){var e=en;queueMicrotask(()=>{e===en&&vi()})}en.push(t)}function uo(){for(;en.length>0;)vi()}const fo=new WeakMap;function mi(t){var e=F;if(e===null)return te.f|=sn,t;if((e.f&hs)===0){if((e.f&Fs)===0)throw!e.parent&&t instanceof Error&&gi(t),t;e.b.error(t)}else yn(t,e)}function yn(t,e){for(;e!==null;){if((e.f&Fs)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&gi(t),t}function gi(t){const e=fo.get(t);e&&(Us(t,"message",{value:e.message}),Us(t,"stack",{value:e.stack}))}const On=new Set;let Se=null,ss=null,zs=new Set,yt=[],gs=null,Ws=!1,jn=!1;class ot{current=new Map;#e=new Map;#t=new Set;#n=0;#i=null;#r=[];#c=[];#s=[];#l=[];#d=[];#u=[];skipped_effects=new Set;process(e){yt=[],ss=null;var n=ot.apply(this);for(const i of e)this.#f(i);if(this.#n===0){this.#h();var s=this.#c,r=this.#s;this.#c=[],this.#s=[],this.#l=[],ss=this,Se=null,mr(s),mr(r),ss=null,this.#i?.resolve()}else this.#a(this.#c),this.#a(this.#s),this.#a(this.#l);n();for(const i of this.#r)Hn(i);this.#r=[]}#f(e){e.f^=Ge;for(var n=e.first;n!==null;){var s=n.f,r=(s&(kt|on))!==0,i=r&&(s&Ge)!==0,a=i||(s&ft)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){r?n.f^=Ge:(s&Os)!==0?this.#s.push(n):(s&Ge)===0&&((s&ps)!==0&&n.b?.is_pending()?this.#r.push(n):bs(n)&&((n.f&Kt)!==0&&this.#l.push(n),Hn(n)));var o=n.first;if(o!==null){n=o;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}}#a(e){for(const n of e)((n.f&st)!==0?this.#d:this.#u).push(n),Oe(n,Ge);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v)}activate(){Se=this}deactivate(){Se=null}flush(){if(yt.length>0){if(this.activate(),yi(),Se!==null&&Se!==this)return}else this.#n===0&&this.#h();this.deactivate();for(const e of zs)if(zs.delete(e),e(),Se!==null)break}#h(){for(const e of this.#t)e();if(this.#t.clear(),On.size>1){this.#e.clear();let e=!0;for(const n of On){if(n===this){e=!1;continue}for(const[s,r]of this.current){if(n.current.has(s))if(e)n.current.set(s,r);else continue;wi(s)}if(yt.length>0){Se=n;const s=ot.apply(n);for(const r of yt)n.#f(r);yt=[],s()}}Se=null}On.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#d)Oe(e,st),an(e);for(const e of this.#u)Oe(e,Yt),an(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#i??=li()).promise}static ensure(){if(Se===null){const e=Se=new ot;On.add(Se),jn||ot.enqueue(()=>{Se===e&&e.flush()})}return Se}static enqueue(e){Vt(e)}static apply(e){return ne}}function ho(t){var e=jn;jn=!0;try{for(var n;;){if(uo(),yt.length===0&&(Se?.flush(),yt.length===0))return gs=null,n;yi()}}finally{jn=e}}function yi(){var t=mn;Ws=!0;try{var e=0;for(br(!0);yt.length>0;){var n=ot.ensure();if(e++>1e3){var s,r;po()}n.process(yt),Wt.clear()}}finally{Ws=!1,br(t),gs=null}}function po(){try{La()}catch(t){yn(t,gs)}}let Ft=null;function mr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var s=t[n++];if((s.f&(cn|ft))===0&&bs(s)&&(Ft=[],Hn(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Ci(s):s.fn=null),Ft?.length>0)){Wt.clear();for(const r of Ft)Hn(r);Ft=[]}}Ft=null}}function wi(t){if(t.reactions!==null)for(const e of t.reactions){const n=e.f;(n&tt)!==0?wi(e):(n&(ps|Kt))!==0&&(Oe(e,st),an(e))}}function an(t){for(var e=gs=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ws&&e===F&&(n&Kt)!==0)return;if((n&(on|kt))!==0){if((n&Ge)===0)return;e.f^=Ge}}yt.push(e)}function er(t){let e=0,n=Gt(0),s;return()=>{$o()&&(c(n),Di(()=>(e===0&&(s=An(()=>t(()=>wt(n)))),e+=1,()=>{Vt(()=>{e-=1,e===0&&(s?.(),s=void 0,wt(n))})})))}}var vo=Jt|In|Fs;function mo(t,e,n){new go(t,e,n)}class go{parent;#e=!1;#t;#n=null;#i;#r;#c;#s=null;#l=null;#d=null;#u=null;#f=0;#a=0;#h=!1;#p=null;#v=()=>{this.#p&&wn(this.#p,this.#f)};#w=er(()=>(this.#p=Gt(this.#f),()=>{this.#p=null}));constructor(e,n,s){this.#t=e,this.#i=n,this.#r=s,this.parent=F.b,this.#e=!!this.#i.pending,this.#c=Zt(()=>{F.b=this;{try{this.#s=Ve(()=>s(this.#t))}catch(r){this.error(r)}this.#a>0?this.#g():this.#e=!1}},vo)}#b(){try{this.#s=Ve(()=>this.#r(this.#t))}catch(e){this.error(e)}this.#e=!1}#m(){const e=this.#i.pending;e&&(this.#l=Ve(()=>e(this.#t)),ot.enqueue(()=>{this.#s=this.#o(()=>(ot.ensure(),Ve(()=>this.#r(this.#t)))),this.#a>0?this.#g():(Qt(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#o(e){var n=F,s=te,r=De;St(this.#c),et(this.#c),gn(this.#c.ctx);try{return e()}catch(i){return mi(i),null}finally{St(n),et(s),gn(r)}}#g(){const e=this.#i.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),yo(this.#s,this.#u)),this.#l===null&&(this.#l=Ve(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#a+=e,this.#a===0&&(this.#e=!1,this.#l&&Qt(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),Vt(()=>{ot.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,zs.add(this.#v)}get_effect_pending(){return this.#w(),c(this.#p)}error(e){var n=this.#i.onerror;let s=this.#i.failed;if(this.#h||!n&&!s)throw e;this.#s&&(Be(this.#s),this.#s=null),this.#l&&(Be(this.#l),this.#l=null),this.#d&&(Be(this.#d),this.#d=null);var r=!1,i=!1;const a=()=>{if(r){ro();return}r=!0,i&&Wa(),ot.ensure(),this.#f=0,this.#d!==null&&Qt(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#s=this.#o(()=>(this.#h=!1,Ve(()=>this.#r(this.#t)))),this.#a>0?this.#g():this.#e=!1};var o=te;try{et(null),i=!0,n?.(e,a),i=!1}catch(l){yn(l,this.#c&&this.#c.parent)}finally{et(o)}s&&Vt(()=>{this.#d=this.#o(()=>{this.#h=!0;try{return Ve(()=>{s(this.#t,()=>e,()=>a)})}catch(l){return yn(l,this.#c.parent),null}finally{this.#h=!1}})})}}function yo(t,e){for(var n=t.nodes_start,s=t.nodes_end;n!==null;){var r=n===s?null:Jn(n);e.append(n),n=r}}function bi(t,e,n){const s=Kn()?Yn:tr;if(e.length===0){n(t.map(s));return}var r=Se,i=F,a=wo();Promise.all(e.map(o=>bo(o))).then(o=>{a();try{n([...t.map(s),...o])}catch(l){(i.f&cn)===0&&yn(l,i)}r?.deactivate(),_i()}).catch(o=>{yn(o,i)})}function wo(){var t=F,e=te,n=De,s=Se;return function(){St(t),et(e),gn(n),s?.activate()}}function _i(){St(null),et(null),gn(null)}function Yn(t){var e=tt|st,n=te!==null&&(te.f&tt)!==0?te:null;return F===null||n!==null&&(n.f&lt)!==0?e|=lt:F.f|=In,{ctx:De,deps:null,effects:null,equals:hi,f:e,fn:t,reactions:null,rv:0,v:Le,wv:0,parent:n??F,ac:null}}function bo(t,e){let n=F;n===null&&Ca();var s=n.b,r=void 0,i=Gt(Le),a=!te,o=new Map;return xo(()=>{var l=li();r=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject)}catch(p){l.reject(p)}var d=Se,u=s.is_pending();a&&(s.update_pending_count(1),u||(d.increment(),o.get(d)?.reject(qn),o.set(d,l)));const f=(p,m=void 0)=>{u||d.activate(),m?m!==qn&&(i.f|=sn,wn(i,m)):((i.f&sn)!==0&&(i.f^=sn),wn(i,p)),a&&(s.update_pending_count(-1),u||d.decrement()),_i()};l.promise.then(f,p=>f(null,p||"unknown"))}),rr(()=>{for(const l of o.values())l.reject(qn)}),new Promise(l=>{function d(u){function f(){u===r?l(i):d(r)}u.then(f,f)}d(r)})}function Y(t){const e=Yn(t);return Ni(e),e}function tr(t){const e=Yn(t);return e.equals=pi,e}function Ii(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Be(e[n])}}function _o(t){for(var e=t.parent;e!==null;){if((e.f&tt)===0)return e;e=e.parent}return null}function nr(t){var e,n=F;St(_o(t));try{Ii(t),e=Bi(t)}finally{St(n)}return e}function Si(t){var e=nr(t);if(t.equals(e)||(t.v=e,t.wv=Ui()),!ln){var n=(Ht||(t.f&lt)!==0)&&t.deps!==null?Yt:Ge;Oe(t,n)}}const Wt=new Map;function Gt(t,e){var n={f:0,v:t,reactions:null,equals:hi,rv:0,wv:0};return n}function A(t,e){const n=Gt(t);return Ni(n),n}function Io(t,e=!1,n=!0){const s=Gt(t);return e||(s.equals=pi),Sn&&n&&De!==null&&De.l!==null&&(De.l.s??=[]).push(s),s}function h(t,e,n=!1){te!==null&&(!dt||(te.f&vr)!==0)&&Kn()&&(te.f&(tt|Kt|ps|vr))!==0&&!Mt?.includes(t)&&za();let s=n?Ee(e):e;return wn(t,s)}function wn(t,e){if(!t.equals(e)){var n=t.v;ln?Wt.set(t,e):Wt.set(t,n),t.v=e;var s=ot.ensure();s.capture(t,n),(t.f&tt)!==0&&((t.f&st)!==0&&nr(t),Oe(t,(t.f&lt)===0?Ge:Yt)),t.wv=Ui(),Ei(t,st),Kn()&&F!==null&&(F.f&Ge)!==0&&(F.f&(kt|on))===0&&(it===null?qo([t]):it.push(t))}return e}function wt(t){h(t,t.v+1)}function Ei(t,e){var n=t.reactions;if(n!==null)for(var s=Kn(),r=n.length,i=0;i<r;i++){var a=n[i],o=a.f;if(!(!s&&a===F)){var l=(o&st)===0;l&&Oe(a,e),(o&tt)!==0?Ei(a,Yt):l&&((o&Kt)!==0&&Ft!==null&&Ft.push(a),an(a))}}}function Ee(t){if(typeof t!="object"||t===null||$t in t)return t;const e=us(t);if(e!==ci&&e!==Ta)return t;var n=new Map,s=Gn(t),r=A(0),i=Dt,a=o=>{if(Dt===i)return o();var l=te,d=Dt;et(null),Ir(i);var u=o();return et(l),Ir(d),u};return s&&n.set("length",A(t.length)),new Proxy(t,{defineProperty(o,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ha();var u=n.get(l);return u===void 0?u=a(()=>{var f=A(d.value);return n.set(l,f),f}):h(u,d.value,!0),!0},deleteProperty(o,l){var d=n.get(l);if(d===void 0){if(l in o){const u=a(()=>A(Le));n.set(l,u),wt(r)}}else h(d,Le),wt(r);return!0},get(o,l,d){if(l===$t)return t;var u=n.get(l),f=l in o;if(u===void 0&&(!f||zt(o,l)?.writable)&&(u=a(()=>{var m=Ee(f?o[l]:Le),g=A(m);return g}),n.set(l,u)),u!==void 0){var p=c(u);return p===Le?void 0:p}return Reflect.get(o,l,d)},getOwnPropertyDescriptor(o,l){var d=Reflect.getOwnPropertyDescriptor(o,l);if(d&&"value"in d){var u=n.get(l);u&&(d.value=c(u))}else if(d===void 0){var f=n.get(l),p=f?.v;if(f!==void 0&&p!==Le)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return d},has(o,l){if(l===$t)return!0;var d=n.get(l),u=d!==void 0&&d.v!==Le||Reflect.has(o,l);if(d!==void 0||F!==null&&(!u||zt(o,l)?.writable)){d===void 0&&(d=a(()=>{var p=u?Ee(o[l]):Le,m=A(p);return m}),n.set(l,d));var f=c(d);if(f===Le)return!1}return u},set(o,l,d,u){var f=n.get(l),p=l in o;if(s&&l==="length")for(var m=d;m<f.v;m+=1){var g=n.get(m+"");g!==void 0?h(g,Le):m in o&&(g=a(()=>A(Le)),n.set(m+"",g))}if(f===void 0)(!p||zt(o,l)?.writable)&&(f=a(()=>A(void 0)),h(f,Ee(d)),n.set(l,f));else{p=f.v!==Le;var b=a(()=>Ee(d));h(f,b)}var _=Reflect.getOwnPropertyDescriptor(o,l);if(_?.set&&_.set.call(u,d),!p){if(s&&typeof l=="string"){var E=n.get("length"),M=Number(l);Number.isInteger(M)&&M>=E.v&&h(E,M+1)}wt(r)}return!0},ownKeys(o){c(r);var l=Reflect.ownKeys(o).filter(f=>{var p=n.get(f);return p===void 0||p.v!==Le});for(var[d,u]of n)u.v!==Le&&!(d in o)&&l.push(d);return l},setPrototypeOf(){Ba()}})}function gr(t){try{if(t!==null&&typeof t=="object"&&$t in t)return t[$t]}catch{}return t}function So(t,e){return Object.is(gr(t),gr(e))}var yr,Ai,Ri,Pi;function Eo(){if(yr===void 0){yr=window,Ai=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ri=zt(e,"firstChild").get,Pi=zt(e,"nextSibling").get,pr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),pr(n)&&(n.__t=void 0)}}function Xt(t=""){return document.createTextNode(t)}function bn(t){return Ri.call(t)}function Jn(t){return Pi.call(t)}function v(t,e){return bn(t)}function W(t,e=!1){{var n=bn(t);return n instanceof Comment&&n.data===""?Jn(n):n}}function w(t,e=1,n=!1){let s=t;for(;e--;)s=Jn(s);return s}function Ao(t){t.textContent=""}function sr(){return!1}function Ro(t,e){if(e){const n=document.body;t.autofocus=!0,Vt(()=>{document.activeElement===n&&t.focus()})}}let wr=!1;function Po(){wr||(wr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function En(t){var e=te,n=F;et(null),St(null);try{return t()}finally{et(e),St(n)}}function Ti(t,e,n,s=n){t.addEventListener(e,()=>En(n));const r=t.__on_r;r?t.__on_r=()=>{r(),s(!0)}:t.__on_r=()=>s(!0),Po()}function $i(t){F===null&&te===null&&Na(),te!==null&&(te.f&lt)!==0&&F===null&&ja(),ln&&qa()}function To(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Et(t,e,n,s=!0){var r=F;r!==null&&(r.f&ft)!==0&&(t|=ft);var i={ctx:De,deps:null,nodes_start:null,nodes_end:null,f:t|st,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Hn(i),i.f|=hs}catch(l){throw Be(i),l}else e!==null&&an(i);if(s){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&In)===0&&(a=a.first),a!==null&&(a.parent=r,r!==null&&To(a,r),te!==null&&(te.f&tt)!==0&&(t&on)===0)){var o=te;(o.effects??=[]).push(a)}}return i}function $o(){return te!==null&&!dt}function rr(t){const e=Et(fs,null,!1);return Oe(e,Ge),e.teardown=t,e}function ht(t){$i();var e=F.f,n=!te&&(e&kt)!==0&&(e&hs)===0;if(n){var s=De;(s.e??=[]).push(t)}else return Mi(t)}function Mi(t){return Et(Os|di,t,!1)}function Mo(t){return $i(),Et(fs|di,t,!0)}function Do(t){ot.ensure();const e=Et(on|In,t,!0);return(n={})=>new Promise(s=>{n.outro?Qt(e,()=>{Be(e),s(void 0)}):(Be(e),s(void 0))})}function ys(t){return Et(Os,t,!1)}function xo(t){return Et(ps|In,t,!0)}function Di(t,e=0){return Et(fs|e,t,!0)}function ce(t,e=[],n=[]){bi(e,n,s=>{Et(fs,()=>t(...s.map(c)),!0)})}function Zt(t,e=0){var n=Et(Kt|e,t,!0);return n}function Ve(t,e=!0){return Et(kt|In,t,!0,e)}function xi(t){var e=t.teardown;if(e!==null){const n=ln,s=te;_r(!0),et(null);try{e.call(null)}finally{_r(n),et(s)}}}function ki(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const r=n.ac;r!==null&&En(()=>{r.abort(qn)});var s=n.next;(n.f&on)!==0?n.parent=null:Be(n,e),n=s}}function ko(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&kt)===0&&Be(e),e=n}}function Be(t,e=!0){var n=!1;(e||(t.f&Da)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Co(t.nodes_start,t.nodes_end),n=!0),ki(t,e&&!n),is(t,0),Oe(t,cn);var s=t.transitions;if(s!==null)for(const i of s)i.stop();xi(t);var r=t.parent;r!==null&&r.first!==null&&Ci(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Co(t,e){for(;t!==null;){var n=t===e?null:Jn(t);t.remove(),t=n}}function Ci(t){var e=t.parent,n=t.prev,s=t.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=n))}function Qt(t,e){var n=[];ir(t,n,!0),qi(n,()=>{Be(t),e&&e()})}function qi(t,e){var n=t.length;if(n>0){var s=()=>--n||e();for(var r of t)r.out(s)}else e()}function ir(t,e,n){if((t.f&ft)===0){if(t.f^=ft,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var s=t.first;s!==null;){var r=s.next,i=(s.f&Jt)!==0||(s.f&kt)!==0;ir(s,e,i?n:!1),s=r}}}function ws(t){ji(t,!0)}function ji(t,e){if((t.f&ft)!==0){t.f^=ft,(t.f&Ge)===0&&(Oe(t,st),an(t));for(var n=t.first;n!==null;){var s=n.next,r=(n.f&Jt)!==0||(n.f&kt)!==0;ji(n,r?e:!1),n=s}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let mn=!1;function br(t){mn=t}let ln=!1;function _r(t){ln=t}let te=null,dt=!1;function et(t){te=t}let F=null;function St(t){F=t}let Mt=null;function Ni(t){te!==null&&(Mt===null?Mt=[t]:Mt.push(t))}let Xe=null,nt=0,it=null;function qo(t){it=t}let Li=1,Un=0,Dt=Un;function Ir(t){Dt=t}let Ht=!1;function Ui(){return++Li}function bs(t){var e=t.f;if((e&st)!==0)return!0;if((e&Yt)!==0){var n=t.deps,s=(e&lt)!==0;if(n!==null){var r,i,a=(e&rs)!==0,o=s&&F!==null&&!Ht,l=n.length;if((a||o)&&(F===null||(F.f&cn)===0)){var d=t,u=d.parent;for(r=0;r<l;r++)i=n[r],(a||!i?.reactions?.includes(d))&&(i.reactions??=[]).push(d);a&&(d.f^=rs),o&&u!==null&&(u.f&lt)===0&&(d.f^=lt)}for(r=0;r<l;r++)if(i=n[r],bs(i)&&Si(i),i.wv>t.wv)return!0}(!s||F!==null&&!Ht)&&Oe(t,Ge)}return!1}function Hi(t,e,n=!0){var s=t.reactions;if(s!==null&&!Mt?.includes(t))for(var r=0;r<s.length;r++){var i=s[r];(i.f&tt)!==0?Hi(i,e,!1):e===i&&(n?Oe(i,st):(i.f&Ge)!==0&&Oe(i,Yt),an(i))}}function Bi(t){var e=Xe,n=nt,s=it,r=te,i=Ht,a=Mt,o=De,l=dt,d=Dt,u=t.f;Xe=null,nt=0,it=null,Ht=(u&lt)!==0&&(dt||!mn||te===null),te=(u&(kt|on))===0?t:null,Mt=null,gn(t.ctx),dt=!1,Dt=++Un,t.ac!==null&&(En(()=>{t.ac.abort(qn)}),t.ac=null);try{t.f|=Bs;var f=t.fn,p=f(),m=t.deps;if(Xe!==null){var g;if(is(t,nt),m!==null&&nt>0)for(m.length=nt+Xe.length,g=0;g<Xe.length;g++)m[nt+g]=Xe[g];else t.deps=m=Xe;if(!Ht||(u&tt)!==0&&t.reactions!==null)for(g=nt;g<m.length;g++)(m[g].reactions??=[]).push(t)}else m!==null&&nt<m.length&&(is(t,nt),m.length=nt);if(Kn()&&it!==null&&!dt&&m!==null&&(t.f&(tt|Yt|st))===0)for(g=0;g<it.length;g++)Hi(it[g],t);return r!==null&&r!==t&&(Un++,it!==null&&(s===null?s=it:s.push(...it))),(t.f&sn)!==0&&(t.f^=sn),p}catch(b){return mi(b)}finally{t.f^=Bs,Xe=e,nt=n,it=s,te=r,Ht=i,Mt=a,gn(o),dt=l,Dt=d}}function jo(t,e){let n=e.reactions;if(n!==null){var s=Pa.call(n,t);if(s!==-1){var r=n.length-1;r===0?n=e.reactions=null:(n[s]=n[r],n.pop())}}n===null&&(e.f&tt)!==0&&(Xe===null||!Xe.includes(e))&&(Oe(e,Yt),(e.f&(lt|rs))===0&&(e.f^=rs),Ii(e),is(e,0))}function is(t,e){var n=t.deps;if(n!==null)for(var s=e;s<n.length;s++)jo(t,n[s])}function Hn(t){var e=t.f;if((e&cn)===0){Oe(t,Ge);var n=F,s=mn;F=t,mn=!0;try{(e&Kt)!==0?ko(t):ki(t),xi(t);var r=Bi(t);t.teardown=typeof r=="function"?r:null,t.wv=Li;var i;ai&&oo&&(t.f&st)!==0&&t.deps}finally{mn=s,F=n}}}async function No(){await Promise.resolve(),ho()}function c(t){var e=t.f,n=(e&tt)!==0;if(te!==null&&!dt){var s=F!==null&&(F.f&cn)!==0;if(!s&&!Mt?.includes(t)){var r=te.deps;if((te.f&Bs)!==0)t.rv<Un&&(t.rv=Un,Xe===null&&r!==null&&r[nt]===t?nt++:Xe===null?Xe=[t]:(!Ht||!Xe.includes(t))&&Xe.push(t));else{(te.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[te]:i.includes(te)||i.push(te)}}}else if(n&&t.deps===null&&t.effects===null){var a=t,o=a.parent;o!==null&&(o.f&lt)===0&&(a.f^=lt)}if(ln){if(Wt.has(t))return Wt.get(t);if(n){a=t;var l=a.v;return((a.f&Ge)===0&&a.reactions!==null||zi(a))&&(l=nr(a)),Wt.set(a,l),l}}else n&&(a=t,bs(a)&&Si(a));if((t.f&sn)!==0)throw t.v;return t.v}function zi(t){if(t.v===Le)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Wt.has(e)||(e.f&tt)!==0&&zi(e))return!0;return!1}function An(t){var e=dt;try{return dt=!0,t()}finally{dt=e}}const Lo=-7169;function Oe(t,e){t.f=t.f&Lo|e}function Uo(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if($t in t)Qs(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&$t in n&&Qs(n)}}}function Qs(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{Qs(t[s],e)}catch{}const n=us(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const s=oi(n);for(let r in s){const i=s[r].get;if(i)try{i.call(t)}catch{}}}}}function Ho(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Bo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function zo(t){return Bo.includes(t)}const Wo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Qo(t){return t=t.toLowerCase(),Wo[t]??t}const Vo=["touchstart","touchmove"];function Go(t){return Vo.includes(t)}const Wi=new Set,Vs=new Set;function ar(t,e,n,s={}){function r(i){if(s.capture||kn.call(e,i),!i.cancelBubble)return En(()=>n?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Vt(()=>{e.addEventListener(t,r,s)}):e.addEventListener(t,r,s),r}function Gs(t,e,n,s={}){var r=ar(e,t,n,s);return()=>{t.removeEventListener(e,r,s)}}function Rs(t,e,n,s,r){var i={capture:s,passive:r},a=ar(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&rr(()=>{e.removeEventListener(t,a,i)})}function At(t){for(var e=0;e<t.length;e++)Wi.add(t[e]);for(var n of Vs)n(t)}let Sr=null;function kn(t){var e=this,n=e.ownerDocument,s=t.type,r=t.composedPath?.()||[],i=r[0]||t.target;Sr=t;var a=0,o=Sr===t&&t.__root;if(o){var l=r.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var d=r.indexOf(e);if(d===-1)return;l<=d&&(a=l)}if(i=r[a]||t.target,i!==e){Us(t,"currentTarget",{configurable:!0,get(){return i||n}});var u=te,f=F;et(null),St(null);try{for(var p,m=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+s];if(b!=null&&(!i.disabled||t.target===i))if(Gn(b)){var[_,...E]=b;_.apply(i,[t,...E])}else b.call(i,t)}catch(M){p?m.push(M):p=M}if(t.cancelBubble||g===e||g===null)break;i=g}if(p){for(let M of m)queueMicrotask(()=>{throw M});throw p}}finally{t.__root=e,delete t.currentTarget,et(u),St(f)}}}function Qi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function _n(t,e){var n=F;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function x(t,e){var n=(e&Oa)!==0,s=(e&Fa)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=Qi(i?t:"<!>"+t),n||(r=bn(r)));var a=s||Ai?document.importNode(r,!0):r.cloneNode(!0);if(n){var o=bn(a),l=a.lastChild;_n(o,l)}else _n(a,a);return a}}function Ko(t,e,n="svg"){var s=!t.startsWith("<!>"),r=`<${n}>${s?t:"<!>"+t}</${n}>`,i;return()=>{if(!i){var a=Qi(r),o=bn(a);i=bn(o)}var l=i.cloneNode(!0);return _n(l,l),l}}function Yo(t,e){return Ko(t,e,"svg")}function Ps(t=""){{var e=Xt(t+"");return _n(e,e),e}}function Z(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Xt();return t.append(e,n),_n(e,n),t}function I(t,e){t!==null&&t.before(e)}let as=!0;function Er(t){as=t}function ee(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Jo(t,e){return Xo(t,e)}const pn=new Map;function Xo(t,{target:e,anchor:n,props:s={},events:r,context:i,intro:a=!0}){Eo();var o=new Set,l=f=>{for(var p=0;p<f.length;p++){var m=f[p];if(!o.has(m)){o.add(m);var g=Go(m);e.addEventListener(m,kn,{passive:g});var b=pn.get(m);b===void 0?(document.addEventListener(m,kn,{passive:g}),pn.set(m,1)):pn.set(m,b+1)}}};l(Zs(Wi)),Vs.add(l);var d=void 0,u=Do(()=>{var f=n??e.appendChild(Xt());return mo(f,{pending:()=>{}},p=>{if(i){J({});var m=De;m.c=i}r&&(s.$$events=r),as=a,d=t(p,s)||{},as=!0,i&&X()}),()=>{for(var p of o){e.removeEventListener(p,kn);var m=pn.get(p);--m===0?(document.removeEventListener(p,kn),pn.delete(p)):pn.set(p,m)}Vs.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return Zo.set(d,u),d}let Zo=new WeakMap;function z(t,e,n=!1){var s=t,r=null,i=null,a=Le,o=n?Jt:0,l=!1;const d=(m,g=!0)=>{l=!0,p(g,m)};var u=null;function f(){u!==null&&(u.lastChild.remove(),s.before(u),u=null);var m=a?r:i,g=a?i:r;m&&ws(m),g&&Qt(g,()=>{a?i=null:r=null})}const p=(m,g)=>{if(a!==(a=m)){var b=sr(),_=s;if(b&&(u=document.createDocumentFragment(),u.append(_=Xt())),a?r??=g&&Ve(()=>g(_)):i??=g&&Ve(()=>g(_)),b){var E=Se,M=a?r:i,k=a?i:r;M&&E.skipped_effects.delete(M),k&&E.skipped_effects.add(k),E.add_callback(f)}else f()}};Zt(()=>{l=!1,e(d),l||p(null,null)},o)}let rn=null;function Ar(t){rn=t}function Bn(t,e){return e}function Oo(t,e,n){for(var s=t.items,r=[],i=e.length,a=0;a<i;a++)ir(e[a].e,r,!0);var o=i>0&&r.length===0&&n!==null;if(o){var l=n.parentNode;Ao(l),l.append(n),s.clear(),vt(t,e[0].prev,e[i-1].next)}qi(r,()=>{for(var d=0;d<i;d++){var u=e[d];o||(s.delete(u.k),vt(t,u.prev,u.next)),Be(u.e,!o)}})}function ct(t,e,n,s,r,i=null){var a=t,o={flags:e,items:new Map,first:null},l=(e&fi)!==0;if(l){var d=t;a=d.appendChild(Xt())}var u=null,f=!1,p=new Map,m=tr(()=>{var E=n();return Gn(E)?E:E==null?[]:Zs(E)}),g,b;function _(){Fo(b,g,o,p,a,r,e,s,n),i!==null&&(g.length===0?u?ws(u):u=Ve(()=>i(a)):u!==null&&Qt(u,()=>{u=null}))}Zt(()=>{b??=F,g=c(m);var E=g.length;if(!(f&&E===0)){f=E===0;var M,k,P,$;if(sr()){var R=new Set,D=Se;for(k=0;k<E;k+=1){P=g[k],$=s(P,k);var q=o.items.get($)??p.get($);q?(e&(vs|ms))!==0&&Vi(q,P,k,e):(M=Gi(null,o,null,null,P,$,k,r,e,n,!0),p.set($,M)),R.add($)}for(const[V,le]of o.items)R.has(V)||D.skipped_effects.add(le.e);D.add_callback(_)}else _();c(m)}})}function Fo(t,e,n,s,r,i,a,o,l){var d=(a&Qa)!==0,u=(a&(vs|ms))!==0,f=e.length,p=n.items,m=n.first,g=m,b,_=null,E,M=[],k=[],P,$,R,D;if(d)for(D=0;D<f;D+=1)P=e[D],$=o(P,D),R=p.get($),R!==void 0&&(R.a?.measure(),(E??=new Set).add(R));for(D=0;D<f;D+=1){if(P=e[D],$=o(P,D),R=p.get($),R===void 0){var q=s.get($);if(q!==void 0){s.delete($),p.set($,q);var V=_?_.next:g;vt(n,_,q),vt(n,q,V),Ts(q,V,r),_=q}else{var le=g?g.e.nodes_start:r;_=Gi(le,n,_,_===null?n.first:_.next,P,$,D,i,a,l)}p.set($,_),M=[],k=[],g=_.next;continue}if(u&&Vi(R,P,D,a),(R.e.f&ft)!==0&&(ws(R.e),d&&(R.a?.unfix(),(E??=new Set).delete(R))),R!==g){if(b!==void 0&&b.has(R)){if(M.length<k.length){var Q=k[0],G;_=Q.prev;var we=M[0],Re=M[M.length-1];for(G=0;G<M.length;G+=1)Ts(M[G],Q,r);for(G=0;G<k.length;G+=1)b.delete(k[G]);vt(n,we.prev,Re.next),vt(n,_,we),vt(n,Re,Q),g=Q,_=Re,D-=1,M=[],k=[]}else b.delete(R),Ts(R,g,r),vt(n,R.prev,R.next),vt(n,R,_===null?n.first:_.next),vt(n,_,R),_=R;continue}for(M=[],k=[];g!==null&&g.k!==$;)(g.e.f&ft)===0&&(b??=new Set).add(g),k.push(g),g=g.next;if(g===null)continue;R=g}M.push(R),_=R,g=R.next}if(g!==null||b!==void 0){for(var de=b===void 0?[]:Zs(b);g!==null;)(g.e.f&ft)===0&&de.push(g),g=g.next;var U=de.length;if(U>0){var H=(a&fi)!==0&&f===0?r:null;if(d){for(D=0;D<U;D+=1)de[D].a?.measure();for(D=0;D<U;D+=1)de[D].a?.fix()}Oo(n,de,H)}}d&&Vt(()=>{if(E!==void 0)for(R of E)R.a?.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var O of s.values())Be(O.e);s.clear()}function Vi(t,e,n,s){(s&vs)!==0&&wn(t.v,e),(s&ms)!==0?wn(t.i,n):t.i=n}function Gi(t,e,n,s,r,i,a,o,l,d,u){var f=rn,p=(l&vs)!==0,m=(l&Va)===0,g=p?m?Io(r,!1,!1):Gt(r):r,b=(l&ms)===0?a:Gt(a),_={i:b,v:g,k:i,a:null,e:null,prev:n,next:s};rn=_;try{if(t===null){var E=document.createDocumentFragment();E.append(t=Xt())}return _.e=Ve(()=>o(t,g,b,d),io),_.e.prev=n&&n.e,_.e.next=s&&s.e,n===null?u||(e.first=_):(n.next=_,n.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{rn=f}}function Ts(t,e,n){for(var s=t.next?t.next.e.nodes_start:n,r=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==null&&i!==s;){var a=Jn(i);r.before(i),i=a}}function vt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function pe(t,e,...n){var s=t,r=ne,i;Zt(()=>{r!==(r=e())&&(i&&(Be(i),i=null),i=Ve(()=>r(s,...n)))},Jt)}function Ki(t,e,n){var s=t,r,i,a=null,o=null;function l(){i&&(Qt(i),i=null),a&&(a.lastChild.remove(),s.before(a),a=null),i=o,o=null}Zt(()=>{if(r!==(r=e())){var d=sr();if(r){var u=s;d&&(a=document.createDocumentFragment(),a.append(u=Xt()),i&&Se.skipped_effects.add(i)),o=Ve(()=>n(u,r))}d?Se.add_callback(l):l()}},Jt)}function ec(t,e,n,s,r,i){var a,o,l=null,d=t,u,f=rn;Zt(()=>{const p=e()||null;var m=to;if(p!==a){var g=rn;Ar(f),u&&(p===null?Qt(u,()=>{u=null,o=null}):p===o?ws(u):(Be(u),Er(!1))),p&&p!==o&&(u=Ve(()=>{if(l=document.createElementNS(m,p),_n(l,l),s){var b=l.appendChild(Xt());s(l,b)}F.nodes_end=l,d.before(l)})),a=p,a&&(o=a),Er(!0),Ar(g)}},Jt)}function Yi(t,e){var n=void 0,s;Zt(()=>{n!==(n=e())&&(s&&(Be(s),s=null),n&&(s=Ve(()=>{ys(()=>n(t))})))})}function Ji(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Ji(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function tc(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Ji(t))&&(s&&(s+=" "),s+=e);return s}function nc(t){return typeof t=="object"?tc(t):t??""}const Rr=[...` 	
\r\f \v\uFEFF`];function sc(t,e,n){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,a=0;(a=s.indexOf(r,a))>=0;){var o=a+i;(a===0||Rr.includes(s[a-1]))&&(o===s.length||Rr.includes(s[o]))?s=(a===0?"":s.substring(0,a))+s.substring(o+1):a=o}}return s===""?null:s}function Pr(t,e=!1){var n=e?" !important;":";",s="";for(var r in t){var i=t[r];i!=null&&i!==""&&(s+=" "+r+": "+i+n)}return s}function $s(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function rc(t,e){if(e){var n="",s,r;if(Array.isArray(e)?(s=e[0],r=e[1]):s=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,l=[];s&&l.push(...Object.keys(s).map($s)),r&&l.push(...Object.keys(r).map($s));var d=0,u=-1;const b=t.length;for(var f=0;f<b;f++){var p=t[f];if(o?p==="/"&&t[f-1]==="*"&&(o=!1):i?i===p&&(i=!1):p==="/"&&t[f+1]==="*"?o=!0:p==='"'||p==="'"?i=p:p==="("?a++:p===")"&&a--,!o&&i===!1&&a===0){if(p===":"&&u===-1)u=f;else if(p===";"||f===b-1){if(u!==-1){var m=$s(t.substring(d,u).trim());if(!l.includes(m)){p!==";"&&f++;var g=t.substring(d,f).trim();n+=" "+g+";"}}d=f+1,u=-1}}}}return s&&(n+=Pr(s)),r&&(n+=Pr(r,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function ut(t,e,n,s,r,i){var a=t.__className;if(a!==n||a===void 0){var o=sc(n,s,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=n}else if(i&&r!==i)for(var l in i){var d=!!i[l];(r==null||d!==!!r[l])&&t.classList.toggle(l,d)}return i}function Ms(t,e={},n,s){for(var r in n){var i=n[r];e[r]!==i&&(n[r]==null?t.style.removeProperty(r):t.style.setProperty(r,i,s))}}function ic(t,e,n,s){var r=t.__style;if(r!==e){var i=rc(e,s);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else s&&(Array.isArray(s)?(Ms(t,n?.[0],s[0]),Ms(t,n?.[1],s[1],"important")):Ms(t,n,s));return s}function os(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Gn(e))return so();for(var s of t.options)s.selected=e.includes(Nn(s));return}for(s of t.options){var r=Nn(s);if(So(r,e)){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Xi(t){var e=new MutationObserver(()=>{os(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rr(()=>{e.disconnect()})}function Ks(t,e,n=e){var s=!0;Ti(t,"change",r=>{var i=r?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(i),Nn);else{var o=t.querySelector(i)??t.querySelector("option:not([disabled])");a=o&&Nn(o)}n(a)}),ys(()=>{var r=e();if(os(t,r,s),s&&r===void 0){var i=t.querySelector(":checked");i!==null&&(r=Nn(i),n(r))}t.__value=r,s=!1}),Xi(t)}function Nn(t){return"__value"in t?t.__value:t.value}const Mn=Symbol("class"),Dn=Symbol("style"),Zi=Symbol("is custom element"),Oi=Symbol("is html");function Tr(t,e){var n=or(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function ac(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Bt(t,e,n,s){var r=or(t);r[e]!==(r[e]=n)&&(e==="loading"&&(t[xa]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Fi(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function oc(t,e,n,s,r=!1,i=!1){var a=or(t),o=a[Zi],l=!a[Oi],d=e||{},u=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=nc(n.class):n[Mn]&&(n.class=null),n[Dn]&&(n.style??=null);var p=Fi(t);for(const P in n){let $=n[P];if(u&&P==="value"&&$==null){t.value=t.__value="",d[P]=$;continue}if(P==="class"){var m=t.namespaceURI==="http://www.w3.org/1999/xhtml";ut(t,m,$,s,e?.[Mn],n[Mn]),d[P]=$,d[Mn]=n[Mn];continue}if(P==="style"){ic(t,$,e?.[Dn],n[Dn]),d[P]=$,d[Dn]=n[Dn];continue}var g=d[P];if(!($===g&&!($===void 0&&t.hasAttribute(P)))){d[P]=$;var b=P[0]+P[1];if(b!=="$$")if(b==="on"){const R={},D="$$"+P;let q=P.slice(2);var _=zo(q);if(Ho(q)&&(q=q.slice(0,-7),R.capture=!0),!_&&g){if($!=null)continue;t.removeEventListener(q,d[D],R),d[D]=null}if($!=null)if(_)t[`__${q}`]=$,At([q]);else{let V=function(le){d[P].call(this,le)};var k=V;d[D]=ar(q,t,V,R)}else _&&(t[`__${q}`]=void 0)}else if(P==="style")Bt(t,P,$);else if(P==="autofocus")Ro(t,!!$);else if(!o&&(P==="__value"||P==="value"&&$!=null))t.value=t.__value=$;else if(P==="selected"&&u)ac(t,$);else{var E=P;l||(E=Qo(E));var M=E==="defaultValue"||E==="defaultChecked";if($==null&&!o&&!M)if(a[P]=null,E==="value"||E==="checked"){let R=t;const D=e===void 0;if(E==="value"){let q=R.defaultValue;R.removeAttribute(E),R.defaultValue=q,R.value=R.__value=D?q:null}else{let q=R.defaultChecked;R.removeAttribute(E),R.defaultChecked=q,R.checked=D?q:!1}}else t.removeAttribute(P);else M||p.includes(E)&&(o||typeof $!="string")?(t[E]=$,E in a&&(a[E]=Le)):typeof $!="function"&&Bt(t,E,$)}}}return d}function $r(t,e,n=[],s=[],r,i=!1,a=!1){bi(n,s,o=>{var l=void 0,d={},u=t.nodeName==="SELECT",f=!1;if(Zt(()=>{var m=e(...o.map(c)),g=oc(t,l,m,r,i,a);f&&u&&"value"in m&&os(t,m.value);for(let _ of Object.getOwnPropertySymbols(d))m[_]||Be(d[_]);for(let _ of Object.getOwnPropertySymbols(m)){var b=m[_];_.description===no&&(!l||b!==l[_])&&(d[_]&&Be(d[_]),d[_]=Ve(()=>Yi(t,()=>b))),g[_]=b}l=g}),u){var p=t;ys(()=>{os(p,l.value,!0),Xi(p)})}f=!0})}function or(t){return t.__attributes??={[Zi]:t.nodeName.includes("-"),[Oi]:t.namespaceURI===eo}}var Mr=new Map;function Fi(t){var e=t.getAttribute("is")||t.nodeName,n=Mr.get(e);if(n)return n;Mr.set(e,n=[]);for(var s,r=t,i=Element.prototype;i!==r;){s=oi(r);for(var a in s)s[a].set&&n.push(a);r=us(r)}return n}const cc=()=>performance.now(),Tt={tick:t=>requestAnimationFrame(t),now:()=>cc(),tasks:new Set};function ea(){const t=Tt.now();Tt.tasks.forEach(e=>{e.c(t)||(Tt.tasks.delete(e),e.f())}),Tt.tasks.size!==0&&Tt.tick(ea)}function lc(t){let e;return Tt.tasks.size===0&&Tt.tick(ea),{promise:new Promise(n=>{Tt.tasks.add(e={c:t,f:n})}),abort(){Tt.tasks.delete(e)}}}function Fn(t,e){En(()=>{t.dispatchEvent(new CustomEvent(e))})}function dc(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Dr(t){const e={},n=t.split(";");for(const s of n){const[r,i]=s.split(":");if(!r||i===void 0)break;const a=dc(r.trim());e[a]=i.trim()}return e}const uc=t=>t;function ta(t,e,n){var s=rn,r,i,a,o=null;s.a??={element:t,measure(){r=this.element.getBoundingClientRect()},apply(){if(a?.abort(),i=this.element.getBoundingClientRect(),r.left!==i.left||r.right!==i.right||r.top!==i.top||r.bottom!==i.bottom){const l=e()(this.element,{from:r,to:i},n?.());a=cs(this.element,l,void 0,1,()=>{a?.abort(),a=void 0})}},fix(){if(!t.getAnimations().length){var{position:l,width:d,height:u}=getComputedStyle(t);if(l!=="absolute"&&l!=="fixed"){var f=t.style;o={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=u;var p=t.getBoundingClientRect();if(r.left!==p.left||r.top!==p.top){var m=`translate(${r.left-p.left}px, ${r.top-p.top}px)`;f.transform=f.transform?`${f.transform} ${m}`:m}}}},unfix(){if(o){var l=t.style;l.position=o.position,l.width=o.width,l.height=o.height,l.transform=o.transform}}},s.a.element=t}function Ds(t,e,n,s){var r=(t&Za)!==0,i="both",a,o=e.inert,l=e.style.overflow,d,u;function f(){return En(()=>a??=n()(e,s?.()??{},{direction:i}))}var p={is_global:r,in(){e.inert=o,Fn(e,"introstart"),d=cs(e,f(),u,1,()=>{Fn(e,"introend"),d?.abort(),d=a=void 0,e.style.overflow=l})},out(_){e.inert=!0,Fn(e,"outrostart"),u=cs(e,f(),d,0,()=>{Fn(e,"outroend"),_?.()})},stop:()=>{d?.abort(),u?.abort()}},m=F;if((m.transitions??=[]).push(p),as){var g=r;if(!g){for(var b=m.parent;b&&(b.f&Jt)!==0;)for(;(b=b.parent)&&(b.f&Kt)===0;);g=!b||(b.f&hs)!==0}g&&ys(()=>{An(()=>p.in())})}}function cs(t,e,n,s,r){var i=s===1;if(vn(e)){var a,o=!1;return Vt(()=>{if(!o){var _=e({direction:i?"in":"out"});a=cs(t,_,n,s,r)}}),{abort:()=>{o=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!e?.duration)return r(),{abort:ne,deactivate:ne,reset:ne,t:()=>s};const{delay:l=0,css:d,tick:u,easing:f=uc}=e;var p=[];if(i&&n===void 0&&(u&&u(0,1),d)){var m=Dr(d(0,1));p.push(m,m)}var g=()=>1-s,b=t.animate(p,{duration:l,fill:"forwards"});return b.onfinish=()=>{b.cancel();var _=n?.t()??1-s;n?.abort();var E=s-_,M=e.duration*Math.abs(E),k=[];if(M>0){var P=!1;if(d)for(var $=Math.ceil(M/16.666666666666668),R=0;R<=$;R+=1){var D=_+E*f(R/$),q=Dr(d(D,1-D));k.push(q),P||=q.overflow==="hidden"}P&&(t.style.overflow="hidden"),g=()=>{var V=b.currentTime;return _+E*f(V/M)},u&&lc(()=>{if(b.playState!=="running")return!1;var V=g();return u(V,1-V),!0})}b=t.animate(k,{duration:M,fill:"forwards"}),b.onfinish=()=>{g=()=>s,u?.(s,1-s),r()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=ne)},deactivate:()=>{r=ne},reset:()=>{s===0&&u?.(1,0)},t:()=>g()}}function Ze(t,e,n=e){var s=new WeakSet;Ti(t,"input",async r=>{var i=r?t.defaultValue:t.value;if(i=xs(t)?ks(i):i,n(i),Se!==null&&s.add(Se),await No(),i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),An(e)==null&&t.value&&(n(xs(t)?ks(t.value):t.value),Se!==null&&s.add(Se)),Di(()=>{var r=e();if(t===document.activeElement){var i=ss??Se;if(s.has(i))return}xs(t)&&r===ks(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function xs(t){var e=t.type;return e==="number"||e==="range"}function ks(t){return t===""?null:+t}function fc(t=!1){const e=De,n=e.l.u;if(!n)return;let s=()=>Uo(e.s);if(t){let r=0,i={};const a=Yn(()=>{let o=!1;const l=e.s;for(const d in l)l[d]!==i[d]&&(i[d]=l[d],o=!0);return o&&r++,r});s=()=>c(a)}n.b.length&&Mo(()=>{xr(e,s),Hs(n.b)}),ht(()=>{const r=An(()=>n.m.map($a));return()=>{for(const i of r)typeof i=="function"&&i()}}),n.a.length&&ht(()=>{xr(e,s),Hs(n.a)})}function xr(t,e){if(t.l.s)for(const n of t.l.s)c(n);e()}let es=!1;function hc(t){var e=es;try{return es=!1,[t(),es]}finally{es=e}}const pc={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function ve(t,e,n){return new Proxy({props:t,exclude:e},pc)}const vc={get(t,e){let n=t.props.length;for(;n--;){let s=t.props[n];if(vn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,n){let s=t.props.length;for(;s--;){let r=t.props[s];vn(r)&&(r=r());const i=zt(r,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let s=t.props[n];if(vn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const r=zt(s,e);return r&&!r.configurable&&(r.configurable=!0),r}}},has(t,e){if(e===$t||e===ui)return!1;for(let n of t.props)if(vn(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(vn(n)&&(n=n()),!!n){for(const s in n)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(n))e.includes(s)||e.push(s)}return e}};function ge(...t){return new Proxy({props:t},vc)}function xe(t,e,n,s){var r=!Sn||(n&Ka)!==0,i=(n&Ja)!==0,a=(n&Xa)!==0,o=s,l=!0,d=()=>(l&&(l=!1,o=a?An(s):s),o),u;if(i){var f=$t in t||ui in t;u=zt(t,e)?.set??(f&&e in t?k=>t[e]=k:void 0)}var p,m=!1;i?[p,m]=hc(()=>t[e]):p=t[e],p===void 0&&s!==void 0&&(p=d(),u&&(r&&Ua(),u(p)));var g;if(r?g=()=>{var k=t[e];return k===void 0?d():(l=!0,k)}:g=()=>{var k=t[e];return k!==void 0&&(o=void 0),k===void 0?o:k},r&&(n&Ya)===0)return g;if(u){var b=t.$$legacy;return(function(k,P){return arguments.length>0?((!r||!P||b||m)&&u(P?g():k),k):g()})}var _=!1,E=((n&Ga)!==0?Yn:tr)(()=>(_=!1,g()));i&&c(E);var M=F;return(function(k,P){if(arguments.length>0){const $=P?c(E):r&&i?Ee(k):k;return h(E,$),_=!0,o!==void 0&&(o=$),k}return ln&&_||(M.f&cn)!==0?E.v:c(E)})}function na(t){De===null&&ka(),Sn&&De.l!==null?mc(De).m.push(t):ht(()=>{const e=An(t);if(typeof e=="function")return e})}function mc(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const gc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(gc);const yc="modulepreload",wc=function(t){return"/"+t},kr={},Cr=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=d(n.map(u=>{if(u=wc(u),u in kr)return;kr[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":yc,f||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};class It extends Map{#e=new Map;#t=A(0);#n=A(0);#i=Dt||-1;constructor(e){if(super(),e){for(var[n,s]of e)super.set(n,s);this.#n.v=super.size}}#r(e){return Dt===this.#i?A(e):Gt(e)}has(e){var n=this.#e,s=n.get(e);if(s===void 0){var r=super.get(e);if(r!==void 0)s=this.#r(0),n.set(e,s);else return c(this.#t),!1}return c(s),!0}forEach(e,n){this.#c(),super.forEach(e,n)}get(e){var n=this.#e,s=n.get(e);if(s===void 0){var r=super.get(e);if(r!==void 0)s=this.#r(0),n.set(e,s);else{c(this.#t);return}}return c(s),super.get(e)}set(e,n){var s=this.#e,r=s.get(e),i=super.get(e),a=super.set(e,n),o=this.#t;if(r===void 0)r=this.#r(0),s.set(e,r),h(this.#n,super.size),wt(o);else if(i!==n){wt(r);var l=o.reactions===null?null:new Set(o.reactions),d=l===null||!r.reactions?.every(u=>l.has(u));d&&wt(o)}return a}delete(e){var n=this.#e,s=n.get(e),r=super.delete(e);return s!==void 0&&(n.delete(e),h(this.#n,super.size),h(s,-1),wt(this.#t)),r}clear(){if(super.size!==0){super.clear();var e=this.#e;h(this.#n,0);for(var n of e.values())h(n,-1);wt(this.#t),e.clear()}}#c(){c(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var s=this.#r(0);e.set(n,s)}}for([,s]of this.#e)c(s)}keys(){return c(this.#t),super.keys()}values(){return this.#c(),super.values()}entries(){return this.#c(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return c(this.#n),super.size}}class bc{#e;#t;constructor(e,n){this.#e=e,this.#t=er(n)}get current(){return this.#t(),this.#e()}}const _c=/\(.+\)/,Ic=new Set(["all","print","screen","and","or","not","only"]);class Sc extends bc{constructor(e,n){let s=_c.test(e)||e.split(/[\s,]+/).some(i=>Ic.has(i.trim()))?e:`(${e})`;const r=window.matchMedia(s);super(()=>r.matches,i=>Gs(r,"change",i))}}const Ec=typeof window<"u"?window:void 0;function Ac(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class Rc{#e;#t;constructor(e={}){const{window:n=Ec,document:s=n?.document}=e;n!==void 0&&(this.#e=s,this.#t=er(r=>{const i=Gs(n,"focusin",r),a=Gs(n,"focusout",r);return()=>{i(),a()}}))}get current(){return this.#t?.(),this.#e?Ac(this.#e):null}}new Rc;function Pc(t){return typeof t=="function"}function Tc(t,e){if(Pc(t)){const s=t();return s===void 0?e:s}return t===void 0?e:t}function $c(t,e){let n=A(null);const s=Y(()=>Tc(e,250));function r(...i){if(c(n))c(n).timeout&&clearTimeout(c(n).timeout);else{let a,o;const l=new Promise((d,u)=>{a=d,o=u});h(n,{timeout:null,runner:null,promise:l,resolve:a,reject:o},!0)}return c(n).runner=async()=>{if(!c(n))return;const a=c(n);h(n,null);try{a.resolve(await t.apply(this,i))}catch(o){a.reject(o)}},c(n).timeout=setTimeout(c(n).runner,c(s)),c(n).promise}return r.cancel=async()=>{(!c(n)||c(n).timeout===null)&&(await new Promise(i=>setTimeout(i,0)),!c(n)||c(n).timeout===null)||(clearTimeout(c(n).timeout),c(n).reject("Cancelled"),h(n,null))},r.runScheduledNow=async()=>{(!c(n)||!c(n).timeout)&&(await new Promise(i=>setTimeout(i,0)),!c(n)||!c(n).timeout)||(clearTimeout(c(n).timeout),c(n).timeout=null,await c(n).runner?.())},Object.defineProperty(r,"pending",{enumerable:!0,get(){return!!c(n)?.timeout}}),r}function bt(t){if(!t?.trim())return null;try{return JSON.parse(t)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function _s(t){return t?.length?t.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function Is(t){if(!t?.length)return[];const e=new Map;return t.forEach(n=>{if(!n.q||!n.u||typeof n.q!="number"||isNaN(n.q))return;const s=e.get(n.u)||0;e.set(n.u,s+n.q)}),Array.from(e.entries()).map(([n,s])=>({q:s,u:n}))}function Ss(t,e){if(!t?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=t.map(l=>tn(l.q.toString(),l.u)).join(" et ");return{numeric:t,display:o}}const n=new Map,s=new Map;t.forEach(o=>{const l=parseFloat(o.q);isNaN(l)||n.set(o.u,(n.get(o.u)||0)+l)}),e.forEach(o=>{s.set(o.u,(s.get(o.u)||0)+o.q)});const r=[],i=[];n.forEach((o,l)=>{const d=s.get(l)||0,u=o-d;u>0&&(r.push({q:u,u:l}),i.push(tn(u.toString(),l)))});const a=i.length>0?i.join(" et "):"✅ Complet";return{numeric:r,display:a}}function Fe(t){return t?.length?t.map(e=>tn(e.q.toString(),e.u)).join(" et "):"-"}function tn(t,e){const n=parseFloat(t);if(isNaN(n))return`${t} ${e}`;if((e==="gr."||e==="ml")&&n>=1e3){const s=n/1e3,r=e==="gr."?"kg":"l.";let a=(Math.round(s*100)/100).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),a.endsWith(",00")&&(a=a.slice(0,-3)),`${a} ${r}`}if(!["gr.","ml","kg","l."].includes(e)){let r=(Math.round(n*10)/10).toString();return r.endsWith(",0")&&(r=r.slice(0,-2)),`${r} ${e}`}return`${n} ${e}`}function cr(t){if(!t?.length)return[];const e=new Map;return t.forEach(({q:n,u:s})=>{if(typeof n=="number"&&!isNaN(n)){const r=e.get(s)||0;e.set(s,r+n)}}),Array.from(e.entries()).map(([n,s])=>({q:s,u:n}))}function Mc(t){return t?Object.values(t).some(e=>e.recipes?.some(n=>n.q!==void 0||n.u!==void 0)):!1}function lr(t){if(!t)return[];const e=Object.values(t).flatMap(n=>n.totalConsolidated);return cr(e)}function sa(t,e){const n=new Map,s=new Map;t.forEach(({q:a,u:o})=>{n.set(o,(n.get(o)||0)+a)}),e.forEach(({q:a,u:o})=>{s.set(o,(s.get(o)||0)+a)});const r=[],i=new Set([...n.keys(),...s.keys()]);for(const a of i){const o=n.get(a)||0,l=s.get(a)||0,d=o-l;Math.abs(d)>.001&&r.push({q:d,u:a})}return r}function dr(t){if(!t?.length)return"Équilibré";const e=t.filter(s=>s.q>0),n=t.filter(s=>s.q<0);if(e.length>0&&n.length>0){const s=e.map(i=>tn(i.q.toString(),i.u)).join(" et "),r=n.map(i=>tn(Math.abs(i.q).toString(),i.u)).join(" et ");return`${s} disponibles, ${r} manquant${n.length>1?"s":""}`}else return e.length>0?e.map(s=>"+"+tn(s.q.toString(),s.u)).join(" et ")+" disponibles":n.length>0?n.map(s=>tn(Math.abs(s.q).toString(),s.u)).join(" et ")+` manquant${n.length>1?"s":""}`:"Équilibré"}function Dc(t,e){if(e.searchQuery.trim()){const n=e.searchQuery.toLowerCase();if(!t.productName.toLowerCase().includes(n))return!1}return!(e.selectedStores.length>0&&(!t.storeInfo?.storeName||!e.selectedStores.includes(t.storeInfo.storeName))||e.selectedWho.length>0&&(!t.who||!t.who.some(n=>e.selectedWho.includes(n)))||e.selectedProductTypes.length>0&&(!t.productType||!e.selectedProductTypes.includes(t.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&t.pFrais||e.selectedTemperatures.includes("surgele")&&t.pSurgel))}function qr(t){return{...t,products:t.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:t.mainId}}function xc(t){const e=bt(t.specs)??null,n=Is(_s(t.purchases??[]));let s=[];e?.quantity&&(s=[e.quantity]);const{numeric:r,display:i}=Ss(s,n),a=bt(t.stockReel)??null,o=Fe(n),l=t.store?bt(t.store):null,d=a?`${a.quantity} ${a.unit}`:o;return{$id:t.$id,$createdAt:t.$createdAt,$updatedAt:t.$updatedAt,productHugoUuid:t.productHugoUuid||"",productName:t.productName,productType:t.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:t.isSynced,mainId:t.mainId,totalNeededRaw:[],status:t.status,who:t.who,store:t.store,stockReel:t.stockReel,previousNames:t.previousNames,isMerged:t.isMerged,mergedFrom:t.mergedFrom,mergeDate:t.mergeDate,mergeReason:t.mergeReason,mergedInto:t.mergedInto,totalNeededOverride:t.totalNeededOverride,purchases:t.purchases,specs:t.specs,byDate:{},storeInfo:l,stockParsed:a,specsParsed:e,totalNeededArray:s,totalPurchasesArray:n,missingQuantityArray:r,stockOrTotalPurchases:d,displayTotalNeeded:Fe(s),displayTotalPurchases:o,displayMissingQuantity:i,totalNeededOverrideParsed:bt(t.totalNeededOverride),displayTotalOverride:(()=>{const u=bt(t.totalNeededOverride);return u?Fe([u.totalOverride]):""})()}}function ts(t,e){const n=t.purchases??e.purchases,s=t.specs??e.specs,r=s?bt(s):e.specsParsed,i=Is(_s(n??[])),a=Fe(i);let o=e.totalNeededArray;!e.productHugoUuid&&r?.quantity&&(o=[r.quantity]);const{numeric:l,display:d}=Ss(o,i),u=t.stockReel??e.stockReel,f=u?bt(u):e.stockParsed,p=t.store??e.store,m=p?bt(p):e.storeInfo,g=f?`${f.quantity} ${f.unit}`:a;return t.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:t.$updatedAt,productName:t.productName??e.productName,productType:t.productType??e.productType,isSynced:t.isSynced??e.isSynced,mainId:t.mainId??e.mainId,pFrais:r?.pFrais??e.pFrais,pSurgel:r?.pSurgel??e.pSurgel,status:t.status??e.status,who:t.who??e.who,store:p,stockReel:u,specs:s,purchases:n,previousNames:t.previousNames??e.previousNames,isMerged:t.isMerged??e.isMerged,mergedFrom:t.mergedFrom??e.mergedFrom,mergeDate:t.mergeDate??e.mergeDate,mergeReason:t.mergeReason??e.mergeReason,mergedInto:t.mergedInto??e.mergedInto,totalNeededOverride:t.totalNeededOverride??e.totalNeededOverride,storeInfo:m,stockParsed:f,specsParsed:r,totalNeededArray:o,totalPurchasesArray:i,missingQuantityArray:l,stockOrTotalPurchases:g,displayTotalPurchases:a,displayMissingQuantity:d,displayTotalNeeded:Fe(o),totalNeededOverrideParsed:bt(t.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const b=bt(t.totalNeededOverride??e.totalNeededOverride);return b?Fe([b.totalOverride]):""})()}}class kc{#e=A(Ee([]));MAX_TOASTS=3;get toasts(){return[...c(this.#e)].sort((e,n)=>n.timestamp-e.timestamp)}create(e){const n=e.id||crypto.randomUUID(),s={id:n,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,details:e.details,actions:e.actions||[]};return this.#t(s),n}update(e,n){const s=c(this.#e).findIndex(i=>i.id===e);if(s===-1)return;const r=c(this.#e)[s];r.timeoutId&&clearTimeout(r.timeoutId),c(this.#e)[s]={...r,state:n.state||r.state,message:n.message||r.message,source:n.source||r.source,actions:n.actions||r.actions},this.#n(c(this.#e)[s])}async track(e,n){const s=this.create({id:n.id,state:"loading",message:n.loading,source:"user"});try{const r=await e;return this.update(s,{state:"success",message:n.success||"Opération réussie"}),r}catch(r){throw this.update(s,{state:"error",message:n.error||"Erreur lors de l'opération"}),r}}dismiss(e){const n=c(this.#e).findIndex(r=>r.id===e);if(n===-1)return;const s=c(this.#e)[n];s.timeoutId&&clearTimeout(s.timeoutId),c(this.#e).splice(n,1)}dismissAll(){c(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),h(this.#e,[],!0)}#t(e){if(e.source==="user"){const n=c(this.#e).findIndex(s=>s.source==="user");n>=0?c(this.#e)[n]=e:c(this.#e).push(e)}else{const n=c(this.#e).filter(s=>s.source!=="user");if(n.length>=2){const s=n[0];this.dismiss(s.id)}c(this.#e).push(e)}c(this.#e).length>this.MAX_TOASTS&&c(this.#e).splice(0,c(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){if(e.state!=="success"&&e.state!=="info")return;const n=e.source==="realtime-other"?4e3:2e3;e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},n)}success(e,n){return this.create({state:"success",message:e,details:n})}error(e,n){return this.create({state:"error",message:e,details:n})}warning(e,n){return this.create({state:"warning",message:e,source:n?.source||"system",details:n?.details,actions:n?.actions})}info(e,n){return this.create({state:"info",message:e,source:n?.source||"system",details:n?.details})}loading(e,n){return this.create({state:"loading",message:e,details:n})}}const at=new kc;function Cs(t,e,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{d(s.next(u))}catch(f){a(f)}}function l(u){try{d(s.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):r(u.value).then(o,l)}d((s=s.apply(t,[])).next())})}function Cc(t,e,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}class S{constructor(e,n,s){this.method=e,this.attribute=n,s!==void 0&&(Array.isArray(s)?this.values=s:this.values=[s])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}S.equal=(t,e)=>new S("equal",t,e).toString();S.notEqual=(t,e)=>new S("notEqual",t,e).toString();S.lessThan=(t,e)=>new S("lessThan",t,e).toString();S.lessThanEqual=(t,e)=>new S("lessThanEqual",t,e).toString();S.greaterThan=(t,e)=>new S("greaterThan",t,e).toString();S.greaterThanEqual=(t,e)=>new S("greaterThanEqual",t,e).toString();S.isNull=t=>new S("isNull",t).toString();S.isNotNull=t=>new S("isNotNull",t).toString();S.between=(t,e,n)=>new S("between",t,[e,n]).toString();S.startsWith=(t,e)=>new S("startsWith",t,e).toString();S.endsWith=(t,e)=>new S("endsWith",t,e).toString();S.select=t=>new S("select",void 0,t).toString();S.search=(t,e)=>new S("search",t,e).toString();S.orderDesc=t=>new S("orderDesc",t).toString();S.orderAsc=t=>new S("orderAsc",t).toString();S.orderRandom=()=>new S("orderRandom").toString();S.cursorAfter=t=>new S("cursorAfter",void 0,t).toString();S.cursorBefore=t=>new S("cursorBefore",void 0,t).toString();S.limit=t=>new S("limit",void 0,t).toString();S.offset=t=>new S("offset",void 0,t).toString();S.contains=(t,e)=>new S("contains",t,e).toString();S.notContains=(t,e)=>new S("notContains",t,e).toString();S.notSearch=(t,e)=>new S("notSearch",t,e).toString();S.notBetween=(t,e,n)=>new S("notBetween",t,[e,n]).toString();S.notStartsWith=(t,e)=>new S("notStartsWith",t,e).toString();S.notEndsWith=(t,e)=>new S("notEndsWith",t,e).toString();S.createdBefore=t=>S.lessThan("$createdAt",t);S.createdAfter=t=>S.greaterThan("$createdAt",t);S.createdBetween=(t,e)=>S.between("$createdAt",t,e);S.updatedBefore=t=>S.lessThan("$updatedAt",t);S.updatedAfter=t=>S.greaterThan("$updatedAt",t);S.updatedBetween=(t,e)=>S.between("$updatedAt",t,e);S.or=t=>new S("or",void 0,t.map(e=>JSON.parse(e))).toString();S.and=t=>new S("and",void 0,t.map(e=>JSON.parse(e))).toString();S.distanceEqual=(t,e,n,s=!0)=>new S("distanceEqual",t,[[e,n,s]]).toString();S.distanceNotEqual=(t,e,n,s=!0)=>new S("distanceNotEqual",t,[[e,n,s]]).toString();S.distanceGreaterThan=(t,e,n,s=!0)=>new S("distanceGreaterThan",t,[[e,n,s]]).toString();S.distanceLessThan=(t,e,n,s=!0)=>new S("distanceLessThan",t,[[e,n,s]]).toString();S.intersects=(t,e)=>new S("intersects",t,[e]).toString();S.notIntersects=(t,e)=>new S("notIntersects",t,[e]).toString();S.crosses=(t,e)=>new S("crosses",t,[e]).toString();S.notCrosses=(t,e)=>new S("notCrosses",t,[e]).toString();S.overlaps=(t,e)=>new S("overlaps",t,[e]).toString();S.notOverlaps=(t,e)=>new S("notOverlaps",t,[e]).toString();S.touches=(t,e)=>new S("touches",t,[e]).toString();S.notTouches=(t,e)=>new S("notTouches",t,[e]).toString();class y extends Error{constructor(e,n=0,s="",r=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=s,this.response=r}}class gt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,s;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const r=new URLSearchParams;this.config.project&&r.set("project",this.config.project),this.realtime.channels.forEach(a=>{r.append("channels[]",a)});const i=this.config.endpointRealtime+"/realtime?"+r.toString();(i!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((s=this.realtime.socket)===null||s===void 0?void 0:s.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",a=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",a=>{var o,l,d;if(!this.realtime.reconnect||((l=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,a.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var n,s;try{const r=JSON.parse(e.data);switch(this.realtime.lastMessage=r,r.type){case"connected":let i=this.config.session;if(!i){const l=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}");i=l?.[`a_session_${this.config.project}`]}const a=r.data;i&&!a.user&&((s=this.realtime.socket)===null||s===void 0||s.send(JSON.stringify({type:"authentication",data:{session:i}})));break;case"event":let o=r.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(u=>d.channels.includes(u))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw r.data;default:break}}catch(r){console.error(r)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([r,i])=>i.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new y("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new y("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let s=typeof e=="string"?[e]:e;s.forEach(i=>this.realtime.channels.add(i));const r=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(r,{channels:s,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(r),this.realtime.cleanUp(s),this.realtime.connect()}}prepareRequest(e,n,s={},r={}){if(e=e.toUpperCase(),s=Object.assign({},this.headers,s),typeof window<"u"&&window.localStorage){const a=window.localStorage.getItem("cookieFallback");a&&(s["X-Fallback-Cookies"]=a)}let i={method:e,headers:s};if(s["X-Appwrite-Dev-Key"]===void 0&&(i.credentials="include"),e==="GET")for(const[a,o]of Object.entries(gt.flatten(r)))n.searchParams.append(a,o);else switch(s["content-type"]){case"application/json":i.body=JSON.stringify(r);break;case"multipart/form-data":const a=new FormData;for(const[o,l]of Object.entries(r))if(l instanceof File)a.append(o,l,l.name);else if(Array.isArray(l))for(const d of l)a.append(`${o}[]`,d);else a.append(o,l);i.body=a,delete s["content-type"];break}return{uri:n.toString(),options:i}}chunkedUpload(e,n,s={},r={},i){var a;return Cs(this,void 0,void 0,function*(){const[o,l]=(a=Object.entries(r).find(([f,p])=>p instanceof File))!==null&&a!==void 0?a:[];if(!l||!o)throw new Error("File not found in payload");if(l.size<=gt.CHUNK_SIZE)return yield this.call(e,n,s,r);let d=0,u=null;for(;d<l.size;){let f=d+gt.CHUNK_SIZE;f>=l.size&&(f=l.size),s["content-range"]=`bytes ${d}-${f-1}/${l.size}`;const p=l.slice(d,f);let m=Object.assign({},r);m[o]=new File([p],l.name),u=yield this.call(e,n,s,m),i&&typeof i=="function"&&i({$id:u.$id,progress:Math.round(f/l.size*100),sizeUploaded:f,chunksTotal:Math.ceil(l.size/gt.CHUNK_SIZE),chunksUploaded:Math.ceil(f/gt.CHUNK_SIZE)}),u&&u.$id&&(s["x-appwrite-id"]=u.$id),d=f}return u})}ping(){return Cs(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,s={},r={},i="json"){var a,o;return Cs(this,void 0,void 0,function*(){const{uri:l,options:d}=this.prepareRequest(e,n,s,r);let u=null;const f=yield fetch(l,d);if(f.type==="opaque")throw new y(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const p=f.headers.get("x-appwrite-warning");if(p&&p.split(";").forEach(g=>console.warn("Warning: "+g)),!((a=f.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")?u=yield f.json():i==="arrayBuffer"?u=yield f.arrayBuffer():u={message:yield f.text()},400<=f.status){let g="";throw!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||i==="arrayBuffer"?g=JSON.stringify(u):g=u?.message,new y(u?.message,f.status,u?.type,g)}const m=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&m&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",m)),u})}static flatten(e,n=""){let s={};for(const[r,i]of Object.entries(e)){let a=n?n+"["+r+"]":r;Array.isArray(i)?s=Object.assign(Object.assign({},s),gt.flatten(i,a)):s[a]=i}return s}}gt.CHUNK_SIZE=1024*1024*5;class zn{constructor(e){this.client=e}static flatten(e,n=""){let s={};for(const[r,i]of Object.entries(e)){let a=n?n+"["+r+"]":r;Array.isArray(i)?s=Object.assign(Object.assign({},s),zn.flatten(i,a)):s[a]=i}return s}}zn.CHUNK_SIZE=5*1024*1024;class qc{constructor(e){this.client=e}get(){const e="/account",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}create(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],password:n[1],name:n[2]};const r=s.userId,i=s.email,a=s.password,o=s.name;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');if(typeof a>"u")throw new y('Missing required parameter: "password"');const l="/account",d={};typeof r<"u"&&(d.userId=r),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.password=a),typeof o<"u"&&(d.name=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}updateEmail(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,password:n[0]};const r=s.email,i=s.password;if(typeof r>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/email",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}listIdentities(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,total:n[0]};const r=s.queries,i=s.total,a="/account/identities",o={};typeof r<"u"&&(o.queries=r),typeof i<"u"&&(o.total=i);const l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}deleteIdentity(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={identityId:e};const s=n.identityId;if(typeof s>"u")throw new y('Missing required parameter: "identityId"');const r="/account/identities/{identityId}".replace("{identityId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createJWT(){const e="/account/jwts",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}listLogs(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,total:n[0]};const r=s.queries,i=s.total,a="/account/logs",o={};typeof r<"u"&&(o.queries=r),typeof i<"u"&&(o.total=i);const l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}updateMFA(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={mfa:e};const s=n.mfa;if(typeof s>"u")throw new y('Missing required parameter: "mfa"');const r="/account/mfa",i={};typeof s<"u"&&(i.mfa=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new y('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new y('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaAuthenticator(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?s=e||{}:s={type:e,otp:n[0]};const r=s.type,i=s.otp;if(typeof r>"u")throw new y('Missing required parameter: "type"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),o={};typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAAuthenticator(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?s=e||{}:s={type:e,otp:n[0]};const r=s.type,i=s.otp;if(typeof r>"u")throw new y('Missing required parameter: "type"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),o={};typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deleteMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new y('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}deleteMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new y('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createMfaChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const s=n.factor;if(typeof s>"u")throw new y('Missing required parameter: "factor"');const r="/account/mfa/challenge",i={};typeof s<"u"&&(i.factor=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const s=n.factor;if(typeof s>"u")throw new y('Missing required parameter: "factor"');const r="/account/mfa/challenge",i={};typeof s<"u"&&(i.factor=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaChallenge(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={challengeId:e,otp:n[0]};const r=s.challengeId,i=s.otp;if(typeof r>"u")throw new y('Missing required parameter: "challengeId"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof r<"u"&&(o.challengeId=r),typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAChallenge(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={challengeId:e,otp:n[0]};const r=s.challengeId,i=s.otp;if(typeof r>"u")throw new y('Missing required parameter: "challengeId"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof r<"u"&&(o.challengeId=r),typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}listMfaFactors(){const e="/account/mfa/factors",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}listMFAFactors(){const e="/account/mfa/factors",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}updateName(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={name:e};const s=n.name;if(typeof s>"u")throw new y('Missing required parameter: "name"');const r="/account/name",i={};typeof s<"u"&&(i.name=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}updatePassword(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={password:e,oldPassword:n[0]};const r=s.password,i=s.oldPassword;if(typeof r>"u")throw new y('Missing required parameter: "password"');const a="/account/password",o={};typeof r<"u"&&(o.password=r),typeof i<"u"&&(o.oldPassword=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}updatePhone(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={phone:e,password:n[0]};const r=s.phone,i=s.password;if(typeof r>"u")throw new y('Missing required parameter: "phone"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/phone",o={};typeof r<"u"&&(o.phone=r),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}getPrefs(){const e="/account/prefs",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}updatePrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?n=e||{}:n={prefs:e};const s=n.prefs;if(typeof s>"u")throw new y('Missing required parameter: "prefs"');const r="/account/prefs",i={};typeof s<"u"&&(i.prefs=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createRecovery(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,url:n[0]};const r=s.email,i=s.url;if(typeof r>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "url"');const a="/account/recovery",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.url=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateRecovery(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0],password:n[1]};const r=s.userId,i=s.secret,a=s.password;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');if(typeof a>"u")throw new y('Missing required parameter: "password"');const o="/account/recovery",l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i),typeof a<"u"&&(l.password=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",d,u,l)}listSessions(){const e="/account/sessions",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}deleteSessions(){const e="/account/sessions",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("delete",s,r,n)}createAnonymousSession(){const e="/account/sessions/anonymous",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}createEmailPasswordSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,password:n[0]};const r=s.email,i=s.password;if(typeof r>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/sessions/email",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateMagicURLSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/magic-url",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createOAuth2Session(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?s=e||{}:s={provider:e,success:n[0],failure:n[1],scopes:n[2]};const r=s.provider,i=s.success,a=s.failure,o=s.scopes;if(typeof r>"u")throw new y('Missing required parameter: "provider"');const l="/account/sessions/oauth2/{provider}".replace("{provider}",r),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[f,p]of Object.entries(zn.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}updatePhoneSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/token",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}getSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new y('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new y('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}deleteSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new y('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}updateStatus(){const e="/account/status",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}createPushTarget(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={targetId:e,identifier:n[0],providerId:n[1]};const r=s.targetId,i=s.identifier,a=s.providerId;if(typeof r>"u")throw new y('Missing required parameter: "targetId"');if(typeof i>"u")throw new y('Missing required parameter: "identifier"');const o="/account/targets/push",l={};typeof r<"u"&&(l.targetId=r),typeof i<"u"&&(l.identifier=i),typeof a<"u"&&(l.providerId=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}updatePushTarget(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={targetId:e,identifier:n[0]};const r=s.targetId,i=s.identifier;if(typeof r>"u")throw new y('Missing required parameter: "targetId"');if(typeof i>"u")throw new y('Missing required parameter: "identifier"');const a="/account/targets/{targetId}/push".replace("{targetId}",r),o={};typeof i<"u"&&(o.identifier=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deletePushTarget(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e};const s=n.targetId;if(typeof s>"u")throw new y('Missing required parameter: "targetId"');const r="/account/targets/{targetId}/push".replace("{targetId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createEmailToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],phrase:n[1]};const r=s.userId,i=s.email,a=s.phrase;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');const o="/account/tokens/email",l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.email=i),typeof a<"u"&&(l.phrase=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}createMagicURLToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],url:n[1],phrase:n[2]};const r=s.userId,i=s.email,a=s.url,o=s.phrase;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');const l="/account/tokens/magic-url",d={};typeof r<"u"&&(d.userId=r),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.url=a),typeof o<"u"&&(d.phrase=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}createOAuth2Token(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?s=e||{}:s={provider:e,success:n[0],failure:n[1],scopes:n[2]};const r=s.provider,i=s.success,a=s.failure,o=s.scopes;if(typeof r>"u")throw new y('Missing required parameter: "provider"');const l="/account/tokens/oauth2/{provider}".replace("{provider}",r),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[f,p]of Object.entries(zn.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}createPhoneToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,phone:n[0]};const r=s.userId,i=s.phone;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "phone"');const a="/account/tokens/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.phone=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}createEmailVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const s=n.url;if(typeof s>"u")throw new y('Missing required parameter: "url"');const r="/account/verifications/email",i={};typeof s<"u"&&(i.url=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const s=n.url;if(typeof s>"u")throw new y('Missing required parameter: "url"');const r="/account/verifications/email",i={};typeof s<"u"&&(i.url=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateEmailVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createPhoneVerification(){const e="/account/verifications/phone",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}updatePhoneVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}class jc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const s=n.queries,r="/databases/transactions",i={};typeof s<"u"&&(i.queries=s);const a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const s=n.ttl,r="/databases/transactions",i={};typeof s<"u"&&(i.ttl=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const r="/databases/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,commit:n[0],rollback:n[1]};const r=s.transactionId,i=s.commit,a=s.rollback;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",r),l={};typeof i<"u"&&(l.commit=i),typeof a<"u"&&(l.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const r="/databases/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,operations:n[0]};const r=s.transactionId,i=s.operations;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}/operations".replace("{transactionId}",r),o={};typeof i<"u"&&(o.operations=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listDocuments(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const r=s.databaseId,i=s.collectionId,a=s.queries,o=s.transactionId,l=s.total;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",r).replace("{collectionId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",r).replace("{collectionId}",i),f={};typeof a<"u"&&(f.documentId=a),typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",p,m,f)}getDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],queries:n[2],transactionId:n[3]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.queries,l=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",p,m,f)}updateDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",p,m,f)}deleteDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],transactionId:n[2]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementDocumentAttribute(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],min:n[4],transactionId:n[5]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.attribute,l=s.value,d=s.min,u=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,p)}incrementDocumentAttribute(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],max:n[4],transactionId:n[5]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.attribute,l=s.value,d=s.max,u=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,p)}}class Nc{constructor(e){this.client=e}listExecutions(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,queries:n[0],total:n[1]};const r=s.functionId,i=s.queries,a=s.total;if(typeof r>"u")throw new y('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",r),l={};typeof i<"u"&&(l.queries=i),typeof a<"u"&&(l.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}createExecution(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,body:n[0],async:n[1],xpath:n[2],method:n[3],headers:n[4],scheduledAt:n[5]};const r=s.functionId,i=s.body,a=s.async,o=s.xpath,l=s.method,d=s.headers,u=s.scheduledAt;if(typeof r>"u")throw new y('Missing required parameter: "functionId"');const f="/functions/{functionId}/executions".replace("{functionId}",r),p={};typeof i<"u"&&(p.body=i),typeof a<"u"&&(p.async=a),typeof o<"u"&&(p.path=o),typeof l<"u"&&(p.method=l),typeof d<"u"&&(p.headers=d),typeof u<"u"&&(p.scheduledAt=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,p)}getExecution(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,executionId:n[0]};const r=s.functionId,i=s.executionId;if(typeof r>"u")throw new y('Missing required parameter: "functionId"');if(typeof i>"u")throw new y('Missing required parameter: "executionId"');const a="/functions/{functionId}/executions/{executionId}".replace("{functionId}",r).replace("{executionId}",i),o={},l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}}class Lc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const s=n.queries,r="/tablesdb/transactions",i={};typeof s<"u"&&(i.queries=s);const a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const s=n.ttl,r="/tablesdb/transactions",i={};typeof s<"u"&&(i.ttl=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const r="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,commit:n[0],rollback:n[1]};const r=s.transactionId,i=s.commit,a=s.rollback;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),l={};typeof i<"u"&&(l.commit=i),typeof a<"u"&&(l.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const r="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,operations:n[0]};const r=s.transactionId,i=s.operations;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",r),o={};typeof i<"u"&&(o.operations=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listRows(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const r=s.databaseId,i=s.tableId,a=s.queries,o=s.transactionId,l=s.total;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",r).replace("{tableId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",r).replace("{tableId}",i),f={};typeof a<"u"&&(f.rowId=a),typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",p,m,f)}getRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],queries:n[2],transactionId:n[3]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.queries,l=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",p,m,f)}updateRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,l=s.permissions,d=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",p,m,f)}deleteRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],transactionId:n[2]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const l="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementRowColumn(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],min:n[4],transactionId:n[5]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.column,l=s.value,d=s.min,u=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,p)}incrementRowColumn(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],max:n[4],transactionId:n[5]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.column,l=s.value,d=s.max,u=s.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,p)}}class Uc{constructor(e){this.client=e}list(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,search:n[0],total:n[1]};const r=s.queries,i=s.search,a=s.total,o="/teams",l={};typeof r<"u"&&(l.queries=r),typeof i<"u"&&(l.search=i),typeof a<"u"&&(l.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}create(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,name:n[0],roles:n[1]};const r=s.teamId,i=s.name,a=s.roles;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "name"');const o="/teams",l={};typeof r<"u"&&(l.teamId=r),typeof i<"u"&&(l.name=i),typeof a<"u"&&(l.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}get(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');const r="/teams/{teamId}".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateName(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,name:n[0]};const r=s.teamId,i=s.name;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "name"');const a="/teams/{teamId}".replace("{teamId}",r),o={};typeof i<"u"&&(o.name=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}delete(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');const r="/teams/{teamId}".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}listMemberships(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,queries:n[0],search:n[1],total:n[2]};const r=s.teamId,i=s.queries,a=s.search,o=s.total;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');const l="/teams/{teamId}/memberships".replace("{teamId}",r),d={};typeof i<"u"&&(d.queries=i),typeof a<"u"&&(d.search=a),typeof o<"u"&&(d.total=o);const u=new URL(this.client.config.endpoint+l),f={};return this.client.call("get",u,f,d)}createMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,roles:n[0],email:n[1],userId:n[2],phone:n[3],url:n[4],name:n[5]};const r=s.teamId,i=s.roles,a=s.email,o=s.userId,l=s.phone,d=s.url,u=s.name;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",r),p={};typeof a<"u"&&(p.email=a),typeof o<"u"&&(p.userId=o),typeof l<"u"&&(p.phone=l),typeof i<"u"&&(p.roles=i),typeof d<"u"&&(p.url=d),typeof u<"u"&&(p.name=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,p)}getMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0]};const r=s.teamId,i=s.membershipId;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),o={},l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}updateMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0],roles:n[1]};const r=s.teamId,i=s.membershipId,a=s.roles;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');if(typeof a>"u")throw new y('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),l={};typeof a<"u"&&(l.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0]};const r=s.teamId,i=s.membershipId;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),o={},l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("delete",l,d,o)}updateMembershipStatus(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0],userId:n[1],secret:n[2]};const r=s.teamId,i=s.membershipId,a=s.userId,o=s.secret;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');if(typeof a>"u")throw new y('Missing required parameter: "userId"');if(typeof o>"u")throw new y('Missing required parameter: "secret"');const l="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",r).replace("{membershipId}",i),d={};typeof a<"u"&&(d.userId=a),typeof o<"u"&&(d.secret=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("patch",u,f,d)}getPrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');const r="/teams/{teamId}/prefs".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updatePrefs(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,prefs:n[0]};const r=s.teamId,i=s.prefs;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "prefs"');const a="/teams/{teamId}/prefs".replace("{teamId}",r),o={};typeof i<"u"&&(o.prefs=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}var jr;(function(t){t[t.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",t[t.POLICY_VIOLATION=1008]="POLICY_VIOLATION",t[t.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(jr||(jr={}));class Te{}Te.read=t=>`read("${t}")`;Te.write=t=>`write("${t}")`;Te.create=t=>`create("${t}")`;Te.update=t=>`update("${t}")`;Te.delete=t=>`delete("${t}")`;class je{static any(){return"any"}static user(e,n=""){return n===""?`user:${e}`:`user:${e}/${n}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,n=""){return n===""?`team:${e}`:`team:${e}/${n}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ra,ia;let Es=class Ys{static custom(e){return e}static unique(e=7){const n=Cc(Ys,ra,"m",ia).call(Ys);let s="";for(let r=0;r<e;r++){const i=Math.floor(Math.random()*16).toString(16);s+=i}return n+s}};ra=Es,ia=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),s=e.getMilliseconds();return n.toString(16)+s.toString(16).padStart(5,"0")};var Nr;(function(t){t.Equal="equal",t.NotEqual="notEqual",t.GreaterThan="greaterThan",t.GreaterThanEqual="greaterThanEqual",t.LessThan="lessThan",t.LessThanEqual="lessThanEqual",t.Contains="contains",t.IsNull="isNull",t.IsNotNull="isNotNull"})(Nr||(Nr={}));var Lr;(function(t){t.Totp="totp"})(Lr||(Lr={}));var Ur;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(Ur||(Ur={}));var Hr;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(Hr||(Hr={}));var Br;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(Br||(Br={}));var zr;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionPay="unionpay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(zr||(zr={}));var Wr;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(Wr||(Wr={}));var Qr;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD"})(Qr||(Qr={}));var Vr;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(Vr||(Vr={}));var Gr;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(Gr||(Gr={}));var Kr;(function(t){t.Http="http",t.Schedule="schedule",t.Event="event"})(Kr||(Kr={}));var Yr;(function(t){t.Waiting="waiting",t.Processing="processing",t.Completed="completed",t.Failed="failed",t.Scheduled="scheduled"})(Yr||(Yr={}));const _t={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3",usersTeamsManager:"users_teams_manager"},collections:{events:"events",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products",kteams:"kteams"}};let nn=null;async function se(){if(nn)return nn;console.log("[appwrite] Initialisation des instances Appwrite...");const t=new gt().setEndpoint(_t.endpoint).setProject(_t.projectId),e=new qc(t),n=new jc(t),s=new Lc(t),r=new Nc(t),i=new Uc(t);return nn={client:t,account:e,databases:n,tables:s,functions:r,teams:i,config:_t},console.log("[appwrite] Instances initialisées avec succès"),nn}function Hc(){console.log("[appwrite] Cache réinitialisé"),nn=null}function aa(){return{APPWRITE_ENDPOINT:_t.endpoint,APPWRITE_PROJECT_ID:_t.projectId,APPWRITE_FUNCTION_ID:_t.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:_t.functions.accessRequest,APPWRITE_CONFIG:_t}}function oa(t,e){return nn?nn.client.subscribe(t,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new gt().setEndpoint(_t.endpoint).setProject(_t.projectId).subscribe(t,e))}function Cn(){return localStorage.getItem("appwrite-user-name")||""}async function Bc(t,e,n=100){try{const{tables:s,config:r}=await se(),i=await s.listRows({databaseId:r.databaseId,tableId:r.APPWRITE_CONFIG.collections.purchases,queries:[S.greaterThan("$updatedAt",e),S.equal("mainId",t),S.limit(n),S.select(["*","products.$id"])]});return console.log(`[Appwrite Interactions] ${i.rows.length} purchases modifiés chargés`),i.rows}catch(s){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",s),[]}}async function ca(t,e){const{lastSync:n,limit:s=100}=e;try{const{tables:r,config:i}=await se();if(!n)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await r.listRows({databaseId:i.databaseId,tableId:i.APPWRITE_CONFIG.collections.products,queries:[S.equal("mainId",t),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),S.limit(s)]})).rows;const a=await r.listRows({databaseId:i.databaseId,tableId:i.APPWRITE_CONFIG.collections.products,queries:[S.greaterThan("$updatedAt",n),S.equal("mainId",t),S.limit(s),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]});return a.rows.length>0&&console.log(`[Appwrite Interactions] ${a.rows.length} produits synchronisés avec leurs purchases`),a.rows}catch(r){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${t}:`,r);const i=r instanceof Error?r.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${i}`)}}async function la(t,e,n=!0){const{tables:s,config:r}=await se();return n&&(e.updatedBy=Cn()),await s.updateRow({databaseId:r.databaseId,tableId:r.APPWRITE_CONFIG.collections.products,rowId:t,data:e})}async function da(t,e,n=!1){if(!t)throw new Error("ID du produit requis pour la mise à jour de l'override");const s=JSON.stringify(e),r=await la(t,{totalNeededOverride:s},n);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${t}:`,e),r}async function ua(t){if(!t?.length)return[];try{const{tables:e,config:n}=await se(),s=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("$id",t),S.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${s.rows.length} purchases chargés avec relations products`),s.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const n=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${n}`)}}function fa(t,e={}){let n=null;const s=i=>{const{events:a,payload:o}=i;if(!o)return;const l=a.some(m=>m.includes("products.")),d=a.some(m=>m.includes("purchases.")),u=a.some(m=>m.includes(".create")),f=a.some(m=>m.includes(".update")),p=a.some(m=>m.includes(".delete"));if(l){const m=o;m.updatedBy&&m.updatedBy!==Cn()&&(u||f?at.info(`${m.updatedBy} a modifié le produit "${m.productName}"`,{source:"realtime-other"}):p&&at.info(`${m.updatedBy} a supprimé un produit`,{source:"realtime-other"})),u&&e.onProductCreate?e.onProductCreate(m):f&&e.onProductUpdate?e.onProductUpdate(m):p&&e.onProductDelete&&e.onProductDelete(m.$id)}else if(d){const m=o;if(m.createdBy&&m.createdBy!==Cn()){const g=m.products?.[0]?.productName||"un produit";u&&m.who!==Cn()?at.info(`${m.who} a ajouté un achat pour ${g}`,{source:"realtime-other"}):f&&m.who!==Cn()?at.info(`${m.who} a modifié un achat pour ${g}`,{source:"realtime-other"}):p&&at.info(`${m.who} a supprimé un achat pour ${g}`,{source:"realtime-other"})}u&&e.onPurchaseCreate?e.onPurchaseCreate(m):f&&e.onPurchaseUpdate?e.onPurchaseUpdate(m):p&&e.onPurchaseDelete&&e.onPurchaseDelete(m.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),n=window.AppwriteClient.subscribeToCollections(["products","purchases"],t,s,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:i=>{console.error("[Appwrite Interactions] Erreur realtime:",i),e.onError?.(i)}}))}catch(i){console.error("[Appwrite Interactions] Impossible de configurer realtime:",i),e.onError?.(i)}})(),()=>{n&&(n(),n=null)}}async function ha(t){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${t}`);const{tables:e,config:n}=await se(),s=await e.getRow(n.databaseId,n.collections.main,t);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${s.name}`),s}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${t}:`,e),null}}async function pa(t,e,n,s){try{console.log(`[Appwrite Interactions] Création du Main document: ${t}`);const{tables:r,config:i,account:a}=await se(),o=await a.get();await r.createRow(i.databaseId,i.APPWRITE_CONFIG.collections.main,t,{name:s,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:n,status:"active",dateStart:n[0]||null,dateEnd:n[n.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${t}`)}catch(r){throw console.error("[Appwrite Interactions] Erreur création Main document:",r),r}}async function zc(t){try{const{tables:e,config:n}=await se(),s=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("mainId",t),S.equal("status","expense"),S.limit(1e3)]);return console.log(`[Appwrite Interactions] ${s.rows.length} dépenses globales chargées`),s.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Jr=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:pa,loadMainEventData:ha,loadOrphanPurchases:zc,loadPurchasesListByIds:ua,loadUpdatedPurchases:Bc,subscribeToRealtime:fa,syncProductsWithPurchases:ca,updateProduct:la,updateTotalOverride:da},Symbol.toStringTag,{value:"Module"}));function Wc(t){const n=new Date(t).getHours();return n>=11&&n<=13?"sun":n>=19&&n<=21?"moon":n>=7&&n<=9?"cloud":null}function Qc(t){return{formattedDate:new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:Wc(t)}}function va(t){const e={};for(const n of t)e[n]=Qc(n);return e}function Vc(t,e){if(!t.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const n=t.byDate[e],s=[e],r=new Map;n.recipes?.length&&r.set(e,n.recipes);const i=n.totalConsolidated||[],a=i.length>0?Fe(i):"-",o=Gc(t,e,i),l=o.filter(p=>p.q>0),d=new Date().toISOString().split("T")[0],f=e<d?[]:o.filter(p=>p.q<0);return{requiredQuantities:i,requiredQuantitiesFormatted:a,stockBalance:o,availableStockQuantities:l,missingStockQuantities:f,availableStockFormatted:dr(o),missingStockFormatted:Fe(f.map(p=>({q:Math.abs(p.q),u:p.u}))),hasAvailableStock:l.length>0,hasMissingStock:f.length>0,totalRecipesInRange:n.recipes?.length||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:s,recipesByDate:r}}function Gc(t,e,n){let s=[],r="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(s=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],r=t.stockParsed.dateTime);const i=[];if(t.purchases)for(const l of t.purchases)Kc(l,e,r)&&i.push({q:l.quantity,u:l.unit});const a=[...s,...i],o=cr(a);return sa(o,n)}function Kc(t,e,n=""){if(t.status==="cancelled")return!1;const s=t.deliveryDate||t.$createdAt;return!s||s>e||n&&t.$createdAt<n?!1:s<=e}function Yc(t,e){const n=t.totalNeededArray||[],s=n.length>0?Fe(n):"-",r=ma(t,e[0],e[e.length-1],n),i=r.filter(d=>d.q>0),a=r.filter(d=>d.q<0),o=[...e].sort(),l=new Map;if(t.byDate)for(const[d,u]of Object.entries(t.byDate))u.recipes?.length&&l.set(d,u.recipes);return{requiredQuantities:n,requiredQuantitiesFormatted:s,stockBalance:r,availableStockQuantities:i,missingStockQuantities:a,availableStockFormatted:dr(r),missingStockFormatted:Fe(a.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:i.length>0,hasMissingStock:a.length>0,totalRecipesInRange:t.nbRecipes||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:l}}function Jc(t,e,n){if(!t.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const s=new Date(e),r=new Date(n),i=[],a=new Map,o=new Map;let l=0,d=0;for(const[E,M]of Object.entries(t.byDate)){const k=new Date(E);k>=s&&k<=r&&(i.push(E),l+=M.totalAssiettes||0,M.recipes?.length&&(a.set(E,M.recipes),d+=M.recipes.length),M.totalConsolidated&&M.totalConsolidated.forEach(({q:P,u:$})=>{o.set($,(o.get($)||0)+P)}))}const u=Array.from(o.entries()).map(([E,M])=>({q:M,u:E})),f=u.length>0?Fe(u):"-",p=ma(t,e,n,u),m=p.filter(E=>E.q>0),g=new Date().toISOString().split("T")[0],_=n<g?[]:p.filter(E=>E.q<0);return{requiredQuantities:u,requiredQuantitiesFormatted:f,stockBalance:p,availableStockQuantities:m,missingStockQuantities:_,availableStockFormatted:dr(p),missingStockFormatted:Fe(_.map(E=>({q:Math.abs(E.q),u:E.u}))),hasAvailableStock:m.length>0,hasMissingStock:_.length>0,totalRecipesInRange:d,totalPortionsInRange:l,datesInSelectedRange:i,recipesByDate:a}}function ma(t,e,n,s){let r=[],i="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(r=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],i=t.stockParsed.dateTime);const a=[];if(t.purchases)for(const d of t.purchases)Xc(d,e,n,i)&&a.push({q:d.quantity,u:d.unit});const o=[...r,...a],l=cr(o);return sa(l,s)}function Xc(t,e,n,s=""){if(t.status==="cancelled")return!1;const r=t.deliveryDate||t.$createdAt;return!r||r>n||s&&t.$createdAt<s?!1:r<=n}async function Zc(t){let e;if(e=await fetch(`/evenements/${t}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return n}async function Xr(t){const e=await fetch(`/evenements/${t}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.ingredients)throw new Error("Format de données Hugo invalide");return n}async function Oc(t,e){if(!t)return!0;try{return(await Zc(e)).hugoContentHash!==t}catch(n){return console.warn("Impossible de vérifier le hash Hugo:",n),!1}}function ga(t,e){const n=lr(t.byDate),s=Is(_s([])),{numeric:r,display:i}=Ss(n,s),a=Object.keys(t.byDate||{}),o=va(a);return{$id:`${t.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:t.ingredientHugoUuid,productName:t.ingredientName,productType:t.ingType,pFrais:t.pFrais||!1,pSurgel:t.pSurgel||!1,nbRecipes:t.nbRecipes,totalNeededRaw:t.totalNeededRaw,totalAssiettes:t.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:t.byDate,storeInfo:null,stockParsed:null,totalNeededArray:n,totalPurchasesArray:s,missingQuantityArray:r,stockOrTotalPurchases:"-",displayTotalNeeded:Fe(n),displayTotalPurchases:"-",displayMissingQuantity:i,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function Fc(t,e){return t.map(n=>ga(n,e))}class el{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,n)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>n(s.error),s.onsuccess=()=>{this.db=s.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},s.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(this.PRODUCTS_STORE)||(i.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.$id,o)}),console.log(`[IDBCache] ${a.size} produits chargés`),e(a)},i.onerror=()=>n(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,allDates:[],hugoContentHash:null};a.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.ALL_DATES_KEY?o.allDates=l.value||[]:l.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=l.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),i=r.objectStore(this.PRODUCTS_STORE);i.clear(),e.forEach(a=>{i.put(a)}),r.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),n()},r.onerror=()=>s(r.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.METADATA_STORE,"readwrite"),i=r.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&i.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),r.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),n()},r.onerror=()=>s(r.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),n()},a.onerror=()=>s(a.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});a.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),n()},a.onerror=()=>s(a.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const s=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");s.objectStore(this.PRODUCTS_STORE).clear(),s.objectStore(this.METADATA_STORE).clear(),s.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},s.onerror=()=>n(s.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function tl(t){const e=new el(t);return await e.open(),e}function nl(t){return!!(t.isMerged||t.totalNeededOverride)}function sl(t,e){if(!t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++){const s=t[n],r=e[n];if(s.q!==r.q||s.u!==r.u)return!0}return!1}async function rl(t,e){const n={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},s=new Set;for(const r of e.ingredients){const i=r.productSemanticKey;if(!i){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${r.ingredientName}`);continue}s.add(i);const a=t.get(i);if(a){if(sl(a.totalNeededRaw,r.totalNeededRaw)){const l=il(a,r);if(l&&n.overrideConflicts.push(l),a.isMerged){const d=a.displayTotalNeeded;Zr(a,r),n.mergedProductsUpdated.push({product:a,oldDisplayTotal:d,newDisplayTotal:a.displayTotalNeeded,currentOverride:a.totalNeededOverrideParsed,semanticKey:i})}else Zr(a,r);n.updated.push(i)}t.set(i,a)}else{n.added.push(r);const o=ga(r,e.mainGroup_id);t.set(o.$id,o)}}for(const[r,i]of t)s.has(r)||(n.removed.push(i),!nl(i)&&!i.purchases?.length&&!i.stockReel&&!i.who?.length&&t.delete(r));return n.overrideConflicts.length>0&&await al(n.overrideConflicts),n.summary=cl(n),n}function il(t,e){if(!t.totalNeededOverride||!t.totalNeededOverrideParsed)return null;const n=lr(e.byDate),s=Fe(n),r=t.displayTotalNeeded;return r!==s?{product:t,oldDisplayTotal:r,newDisplayTotal:s,currentOverride:t.totalNeededOverrideParsed,semanticKey:t.$id}:null}async function al(t){for(const e of t){const n={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(n);try{await da(e.product.$id,n,!1)}catch(s){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,s)}}}function Zr(t,e){t.byDate=e.byDate,t.nbRecipes=e.nbRecipes,t.totalAssiettes=e.totalAssiettes,t.productType=e.ingType,t.pFrais=e.pFrais||!1,t.pSurgel=e.pSurgel||!1,ol(t)}function ol(t){t.totalNeededArray=lr(t.byDate),t.displayTotalNeeded=Fe(t.totalNeededArray);const e=Is(_s(t.purchases)),{numeric:n,display:s}=Ss(t.totalNeededArray,e);t.totalPurchasesArray=e,t.missingQuantityArray=n,t.displayMissingQuantity=s;const r=Object.keys(t.byDate||{});t.dateDisplayInfo=va(r),t.stockOrTotalPurchases=t.purchases.length>0?t.displayTotalPurchases:t.displayTotalNeeded}function cl(t){const e=[];if((t.added.length>0||t.updated.length>0||t.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),t.added.length>0&&e.push(`${t.added.length} nouveau(x) ingrédient(s)`),t.updated.length>0&&e.push(` ${t.updated.length} ingrédient(s) mis à jour`),t.overrideConflicts.length>0&&e.push(`⚠️ ${t.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),t.mergedProductsUpdated.length>0&&e.push(`🔀 ${t.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),t.removed.length>0){const n=t.removed.filter(s=>s.purchases?.length||s.stockReel||s.who?.length).length;n>0?e.push(`⚠️ ${n} suppression(s) avec données conservées`):e.push(`${t.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}const{APPWRITE_CONFIG:xt}=aa();async function ya(){try{const{tables:t,account:e}=await se(),n=await e.get();return{teams:(await t.listRows({databaseId:xt.databaseId,tableId:"kteams",queries:[S.or([S.contains("membersId",n.$id),S.contains("invited",n.$id)])]})).rows}}catch(t){throw console.error("[teams] Error listing teams:",t),t}}async function ur(t){try{const{tables:e}=await se();return await e.getRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t})}catch(e){throw console.error(`[teams] Error getting team ${t}:`,e),e}}async function ll(t,e){try{const{tables:n,account:s}=await se(),r=await s.get(),i=Es.unique(),a=await n.createRow({databaseId:xt.databaseId,tableId:"kteams",rowId:i,data:{name:t,description:e||null,membersId:[r.$id],members:[r.email||""],invited:null,main:[]},permissions:[Te.read(je.user(r.$id)),Te.update(je.user(r.$id)),Te.delete(je.user(r.$id))]});return console.log(`[teams] Team created: ${i}`),a}catch(n){throw console.error("[teams] Error creating team:",n),n}}async function dl(t,e,n){try{const{tables:s}=await se(),r={};e!==void 0&&(r.name=e),n!==void 0&&(r.description=n);const i=await s.updateRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t,data:r});return console.log(`[teams] Team updated: ${t}`),i}catch(s){throw console.error(`[teams] Error updating team ${t}:`,s),s}}async function ul(t){try{const{tables:e}=await se();await e.deleteRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t}),console.log(`[teams] Team deleted: ${t}`)}catch(e){throw console.error(`[teams] Error deleting team ${t}:`,e),e}}async function wa(t,e,n){try{const{tables:s}=await se(),r=await ur(t);if(!r.membersId.includes(e)){const i=[...r.membersId,e],a=[...r.members,n||""],o=await s.updateRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t,data:{membersId:i,members:a},permissions:[Te.read(je.user(e)),Te.update(je.user(e))]});if(r.invited){const l=r.invited.filter(d=>!JSON.parse(d).id.includes(e));l.length!==r.invited.length&&await s.updateRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t,data:{invited:l}})}return console.log(`[teams] Member added to team ${t}: ${e}`),o}return r}catch(s){throw console.error(`[teams] Error adding member to team ${t}:`,s),s}}async function fl(t,e){try{const{tables:n}=await se(),s=await ur(t);if(s.membersId.includes(e)){const r=s.membersId.filter(o=>o!==e),i=s.members.filter((o,l)=>s.membersId[l]!==e),a=await n.updateRow({databaseId:xt.databaseId,tableId:"kteams",rowId:t,data:{membersId:r,members:i}});return console.log(`[teams] Member removed from team ${t}: ${e}`),a}return s}catch(n){throw console.error(`[teams] Error removing member from team ${t}:`,n),n}}async function hl(t,e,n){try{const{functions:s}=await se(),r=await s.createExecution({functionId:xt.functions.usersTeamsManager,body:JSON.stringify({action:"invite",emails:e,teamId:t,message:n||""})}),i=JSON.parse(r.responseBody);if(!i.success)throw new Error(i.error||"Erreur lors de l'invitation");return console.log(`[teams] Invitations sent for team ${t}: ${i.processed} processed`),i}catch(s){throw console.error(`[teams] Error inviting members to team ${t}:`,s),s}}async function pl(t,e){try{const{account:n}=await se(),s=await n.get();return await wa(e,t,s.email)}catch(n){throw console.error(`[teams] Error accepting invitation for team ${e}:`,n),n}}async function Js(){try{return(await ya()).teams.map(e=>e.$id)}catch(t){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",t),[]}}async function vl(t){try{return(await Js()).includes(t)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}async function qs(t){try{const{account:e}=await se(),n=await ur(t),s=n.membersId.map((r,i)=>({$id:r,email:n.members[i]||"",name:n.members[i]||""}));return{team:n,members:s}}catch(e){throw console.error(`[teams] Error getting team with members ${t}:`,e),e}}class ml{isMobileQuery=new Sc("max-width: 1024px");#e=A(null);#t=A(Ee([]));#n=A(!1);#i=A(null);#r=A(!1);get user(){return c(this.#e)}get userId(){return c(this.#e)?.$id??null}get userTeams(){return c(this.#t)}get isAuthenticated(){return c(this.#e)!==null}get authLoading(){return c(this.#n)}get authError(){return c(this.#i)}get authInitialized(){return c(this.#r)}async initializeAuth(){if(c(this.#r)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),h(this.#n,!0),h(this.#i,null);try{const{account:e}=await se();h(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",c(this.#e).name),localStorage.setItem("appwrite-user-email",c(this.#e).email),localStorage.setItem("appwrite-user-id",c(this.#e).$id),h(this.#t,await Js(),!0),console.log(`[GlobalState] Authentifié: ${c(this.#e).name} (${c(this.#t).length} équipes)`)}catch(e){h(this.#e,null),h(this.#t,[],!0),h(this.#i,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{h(this.#n,!1),h(this.#r,!0)}}async logout(){try{const{account:e}=await se();await e.deleteSession({sessionId:"current"}),Hc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),h(this.#e,null),h(this.#t,[],!0),h(this.#r,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!c(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await Js();(e.length>0||c(this.#t).length===0)&&(h(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${c(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return c(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return at.toasts}get toast(){return at}#c=A(Ee({isOpen:!1,conflicts:[]}));get modalOverride(){return c(this.#c)}set modalOverride(e){h(this.#c,e,!0)}#s=A(Ee({isOpen:!1}));get modal(){return c(this.#s)}set modal(e){h(this.#s,e,!0)}#l=A(Ee({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return c(this.#l)}set backgroundOperation(e){h(this.#l,e,!0)}#d=A(Ee({isOpen:!1}));get authModal(){return c(this.#d)}set authModal(e){h(this.#d,e,!0)}}const oe=new ml;class xn{#e=A(Ee({}));get data(){return c(this.#e)}set data(e){h(this.#e,e,!0)}dateStore;constructor(e,n){this.data=e,this.dateStore=n}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=Y(()=>{const e=this.dateStore.current,n=this.dateStore.dates;let s;if(this.dateStore.isFullRange)s=Yc(this.data,n),s.datesInSelectedRange&&(s.datesInSelectedRange=s.datesInSelectedRange.filter(r=>this.data.byDate&&this.data.byDate[r]));else if(e.start&&e.end&&e.start===e.end)s=Vc(this.data,e.start);else if(e.start&&e.end)s=Jc(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:s.requiredQuantities,formattedQuantities:s.requiredQuantitiesFormatted,nbRecipes:s.totalRecipesInRange,totalAssiettes:s.totalPortionsInRange,stockResult:s.stockBalance,availableQuantities:s.availableStockQuantities,missingQuantities:s.missingStockQuantities,formattedMissingQuantities:s.missingStockFormatted,formattedAvailableQuantities:s.availableStockFormatted,hasAvailable:s.hasAvailableStock,hasMissing:s.hasMissingStock,concernedDates:s.datesInSelectedRange,recipesByDate:s.recipesByDate}});get stats(){return c(this.#t)}set stats(e){h(this.#t,e)}}class gl{#e=A(Ee([]));#t=A(null);#n=A(null);constructor(e=[]){h(this.#e,e,!0),this.initializeSmartRange()}get start(){return c(this.#t)}get end(){return c(this.#n)}get dates(){return c(this.#e)}#i=Y(()=>[...c(this.#e)].sort()[0]);get firstAvailableDate(){return c(this.#i)}set firstAvailableDate(e){h(this.#i,e)}#r=Y(()=>[...c(this.#e)].sort()[c(this.#e).length-1]);get lastAvailableDate(){return c(this.#r)}set lastAvailableDate(e){h(this.#r,e)}get current(){return{start:c(this.#t),end:c(this.#n)}}#c=Y(()=>{if(c(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return c(this.#c)}set isEventPassed(e){h(this.#c,e)}#s=Y(()=>{if(c(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),c(this.#e).some(n=>new Date(n)>=e)});get hasUpcomingDates(){return c(this.#s)}set hasUpcomingDates(e){h(this.#s,e)}#l=Y(()=>c(this.#t)===this.firstAvailableDate&&c(this.#n)===this.lastAvailableDate);get isFullRange(){return c(this.#l)}set isFullRange(e){h(this.#l,e)}#d=Y(()=>{if(c(this.#e).length===0)return!1;const e=[...c(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const s=e.find(a=>new Date(a)>=n)||null;let r,i;if(s)r=s,i=e[e.length-1];else{const a=e[e.length-1];r=a,i=a}return c(this.#t)===r&&c(this.#n)===i});get isUpcomingRange(){return c(this.#d)}set isUpcomingRange(e){h(this.#d,e)}#u=Y(()=>c(this.#e).length===1);get hasSingleDateEvent(){return c(this.#u)}set hasSingleDateEvent(e){h(this.#u,e)}#f=Y(()=>!!(c(this.#t)&&c(this.#t)===c(this.#n)));get hasSingleDateInRange(){return c(this.#f)}set hasSingleDateInRange(e){h(this.#f,e)}#a=Y(()=>{if(!c(this.#t)||!c(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(c(this.#t))<e});get hasPastDatesInRange(){return c(this.#a)}set hasPastDatesInRange(e){h(this.#a,e)}setAvailableDates(e){h(this.#e,e,!0),this.initializeSmartRange()}setRange(e,n){if(!e&&!n){h(this.#t,null),h(this.#n,null);return}if(!e||!n){const i=e||n;h(this.#t,i,!0),h(this.#n,i,!0);return}const s=new Date(e)<=new Date(n)?e:n,r=new Date(e)>=new Date(n)?e:n;h(this.#t,s,!0),h(this.#n,r,!0)}selectAll(){c(this.#e).length!==0&&(h(this.#t,c(this.#e)[0],!0),h(this.#n,c(this.#e)[c(this.#e).length-1],!0))}selectUpcoming(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const s=e.find(r=>new Date(r)>=n)||null;if(s)h(this.#t,s,!0),h(this.#n,e[e.length-1],!0);else{const r=e[e.length-1];h(this.#t,r,!0),h(this.#n,r,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const n=c(this.#e).filter(s=>new Date(s)>=e);n.length>0&&(h(this.#t,n[0],!0),h(this.#n,n[n.length-1],!0))}initializeSmartRange(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),n=this.isEventPassed,s=new Date(e[0])<new Date,r=new Date;let i;n?i=e[0]:s?i=r.toISOString().slice(0,19)+"Z":i=e[0],h(this.#t,i,!0),h(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${c(this.#t)} - ${c(this.#n)}`)}}const Or=1e3;class yl{#e=new It;#t=new It;#n=A(null);#i=A(null);#r=A(!1);#c=A(!1);#s=A(null);#l=A(!1);#d=A(!1);#u=A(null);#f=A(null);get currentMainId(){return c(this.#n)}dateStore=new gl;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#a=null;#h=null;#p=A(!1);#v=null;#w=A(!1);#b=A();#m=A(Ee([]));get hasPendingConflicts(){return c(this.#m).length>0}get pendingConflicts(){return c(this.#m)}#o=A(Ee({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return c(this.#o)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return c(this.#c)}get error(){return c(this.#s)}get lastSync(){return c(this.#u)}get syncing(){return c(this.#l)}setDateRange(e,n){this.dateStore.setRange(e,n)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return c(this.#d)}#g=Y(()=>{const e=Array.from(this.#e.values()).map(n=>n.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return c(this.#g)}set enrichedProducts(e){h(this.#g,e)}#y=Y(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),n=new Date(this.dateRange.end),s=new Map;for(const[r,i]of this.#e){const a=i.data,o=!a.productHugoUuid;if(!a.byDate&&!o||!Dc(a,c(this.#o)))continue;let d=!1;a.byDate&&(d=Object.keys(a.byDate).some(u=>{const f=new Date(u);return f>=e&&f<=n})),(d||o)&&s.set(r,i)}return s});get filteredProductsMap(){return c(this.#y)}set filteredProductsMap(e){h(this.#y,e)}#E=Y(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return c(this.#E)}set stats(e){h(this.#E,e)}#A=Y(()=>{const e=Array.from(this.#e.values()).map(n=>n.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return c(this.#A)}set uniqueStores(e){h(this.#A,e)}#R=Y(()=>{const e=Array.from(this.#e.values()).flatMap(n=>n.who||[]);return[...new Set(e)]});get uniqueWho(){return c(this.#R)}set uniqueWho(e){h(this.#R,e)}#P=Y(()=>{const e=Array.from(this.#e.values()).map(n=>n.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return c(this.#P)}set uniqueProductTypes(e){h(this.#P,e)}#T=Y(()=>{const n=Array.from(this.filteredProductsMap.values()).sort((a,o)=>a.$id.localeCompare(o.$id));if(c(this.#o).groupBy==="none")return{"":n};const s=Object.groupBy(n,a=>c(this.#o).groupBy==="store"?a.storeInfo?.storeName||"Non défini":a.productType||"Non défini"),r=Object.keys(s).sort((a,o)=>a===""?1:o===""?-1:a.localeCompare(o)),i={};return r.forEach(a=>{i[a]=s[a]}),i});get groupedFilteredProducts(){return c(this.#T)}set groupedFilteredProducts(e){h(this.#T,e)}async initialize(e,n){if(!e?.trim())throw new Error("mainId invalide fourni");if(c(this.#r)&&c(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),h(this.#n,e,!0),h(this.#i,n,!0);try{this.#a=await tl(e)}catch(s){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",s),new Error("Impossible d'initialiser le cache IndexedDB")}h(this.#s,null);try{if(await this.#k(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");let r;r=await Xr(n),console.log(`[ProductsStore] Hugo chargé: ${r.ingredients.length} ingrédients`),h(this.#f,r.hugoContentHash,!0),Fc(r.ingredients,e).forEach(o=>{this.#e.set(o.$id,new xn(o,this.dateStore))}),this.dateStore.setAvailableDates([...r.allDates]),await ha(e)||await pa(r.mainGroup_id,r.hugoContentHash,r.allDates,r.name),await this.#$()}this.initializeDateRange(),await this.#C(),await this.#G(),h(this.#r,!0);const s=this.#V();this.#h=fa(e,s),this.#L(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#M(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(s){const r=s instanceof Error?s.message:"Erreur lors de l'initialisation";throw h(this.#s,r,!0),console.error("[ProductsStore]",r,s),s}}async#k(){if(this.#a)try{const e=await this.#a.loadProducts();e.forEach((s,r)=>{s.status==="isSyncing"&&(s.status="active"),this.#e.set(r,new xn(s,this.dateStore))});const n=await this.#a.loadMetadata();h(this.#u,n.lastSync,!0),this.dateStore.setAvailableDates([...n.allDates]),h(this.#f,n.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${n.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#C(){if(c(this.#n)){h(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${c(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${c(this.#u)}`);const e=await ca(c(this.#n),{lastSync:c(this.#u),limit:Or});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(n=>{const s=this.#e.get(n.$id);console.log(`[ProductsStore] Sync produit ${n.$id}: existing=${!!s}, who=${n.who}, store=${n.store}`);const r=this.#D(n,s?.data);r.isSynced=!0,s?s.update(r):this.#e.set(n.$id,new xn(r,this.dateStore))}),c(this.#u)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${c(this.#u)}`);const{loadUpdatedPurchases:n}=await Cr(async()=>{const{loadUpdatedPurchases:r}=await Promise.resolve().then(()=>Jr);return{loadUpdatedPurchases:r}},void 0),s=await n(c(this.#n),c(this.#u),Or);console.log(`[ProductsStore] ${s.length} purchases modifiés récupérés`),s.forEach(r=>{if(r.status==="expense")this.#t.set(r.$id,r);else if(r.products?.length){const i=r.products.map(a=>typeof a=="string"?a:a.$id);this.#S(i,r)}})}this.#j(),await this.#q(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{h(this.#l,!1)}}}async#q(){if(this.#a)try{const e=new Map;this.#e.forEach((n,s)=>{const r=hn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#a.saveProducts(e),await this.#a.saveMetadata({lastSync:c(this.#u),allDates:[...this.dateStore.dates],hugoContentHash:c(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#a)try{const e=new Map;this.#e.forEach((n,s)=>{const r=hn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#u)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#$(){if(this.#a)try{const e=new Map;this.#e.forEach((n,s)=>{const r=hn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#u)),await this.#a.updateAllDates([...this.availableDates]),await this.#a.updateHugoContentHash(c(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#a||e.length===0))try{const n=e.map(s=>this.#e.get(s)?.data).filter(s=>s!=null).map(s=>{const r=hn(s);return r.status==="isSyncing"&&(r.status="active"),this.#a.upsertProduct(r)});n.length>0&&(await Promise.all(n),console.log(`[ProductsStore] ${n.length} produits affectés persistés`))}catch(n){console.error("[ProductsStore] Erreur persistence produits affectés:",n)}}#j(){h(this.#u,new Date().toISOString(),!0)}async#M(){if(!c(this.#i)||c(this.#c))return!1;try{const e=await Oc(c(this.#f),c(this.#i));return e&&!c(this.#p)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${c(this.#i)}, analyse approfondie en cours...`),h(this.#p,!0),await this.#N()),h(this.#b,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!c(this.#i)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Xr(c(this.#i)),n=new Map;this.#e.forEach((i,a)=>n.set(a,i.data));const s=await rl(n,e);console.log(`[ProductsStore  - hugo change] ${s.summary}`);for(const[i,a]of n){const o=this.#e.get(i);if(o)o.update(a);else{const l=new xn(a,this.dateStore);this.#e.set(i,l),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${i}`)}}const r=[];for(const[i]of this.#e)n.has(i)||r.push(i);for(const i of r)this.#e.delete(i),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${i}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${n.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),s.overrideConflicts.length>0&&(h(this.#m,s.overrideConflicts,!0),at.error(`${s.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{action:{label:"Réviser",onClick:()=>oe.modalOverride.isOpen=!0}})),s.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${s.mergedProductsUpdated.length} produits fusionnés modifiés`),s.removed.length>0){const i=s.removed.filter(a=>a.purchases?.length||a.stockReel||a.who?.length);i.length>0&&console.log(`[ProductsStore] ℹ️ ${i.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),h(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#$(),(s.added.length||s.updated.length||s.removed.length)&&at.success(s.summary),h(this.#p,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),at.error("Erreur lors de la mise à jour Hugo")}}#L(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#M()},6e4)}#U(){this.#v&&(clearInterval(this.#v),this.#v=null)}#D(e,n){return n?ts(e,n):xc(e)}#Y(e){e.length&&(e.forEach(n=>this.#_(n)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const n=this.#e.get(e.$id),s=this.#D(e,n?.data);n?n.update(s):(this.dateStore.dates,this.#e.set(e.$id,new xn(s,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const n=e.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#Q(n,e),n}async#z(e){if(e.products?.length){const n=e.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#S(n,e),n}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[n]=await ua([e.$id]);if(n?.products?.length){const s=n.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(s,n),s}return[]}catch(n){return console.error("[ProductsStore] Erreur rechargement purchase:",n),[]}}async#W(e){const n=Array.from(this.#e.values()).map(s=>s.data).filter(s=>s.purchases?.some(r=>r.$id===e));return n.forEach(s=>{this.#_(s)}),n.map(s=>s.$id)}#Q(e,n){const s=qr(n),r=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,l=o.purchases||[];if(!l.some(d=>d.$id===s.$id)){const d=ts({...o,purchases:[...l,s],status:"active"},o);r.push(d)}}}),r.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#S(e,n){const s=qr(n),r=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,l=o.purchases||[],d=l.findIndex(u=>u.$id===s.$id);if(d>=0){const u=[...l];u[d]=s;const f=ts({...o,purchases:u,status:"active"},o);r.push(f)}else{const u=ts({...o,purchases:[...l,n],status:"active"},o);r.push(u)}}}),r.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#V(){return{onProductCreate:e=>{if(this.#_(e),this.#a){const n=this.#e.get(e.$id);n&&this.#a.upsertProduct(hn(n.data)).catch(s=>console.error("[ProductsStore] Erreur persistence produit:",s))}},onProductUpdate:e=>{if(this.#_(e),this.#a){const n=this.#e.get(e.$id);n&&this.#a.upsertProduct(hn(n.data)).catch(s=>console.error("[ProductsStore] Erreur persistence produit:",s))}},onProductDelete:e=>{this.#H(e),this.#a&&this.#a.deleteProduct(e).catch(n=>console.error("[ProductsStore] Erreur suppression produit:",n))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const n=await this.#B(e);await this.#I(n)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const n=await this.#z(e);await this.#I(n)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const n=await this.#W(e);await this.#I(n)},onConnect:()=>{h(this.#d,!0)},onDisconnect:()=>{h(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=$c(e=>{c(this.#o).searchQuery=e},()=>500);toggleProductType(e){const n=c(this.#o).selectedProductTypes.indexOf(e);n>-1?c(this.#o).selectedProductTypes.splice(n,1):c(this.#o).selectedProductTypes.push(e)}toggleTemperature(e){const n=c(this.#o).selectedTemperatures.indexOf(e);n>-1?c(this.#o).selectedTemperatures.splice(n,1):c(this.#o).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){c(this.#o).selectedProductTypes=[],c(this.#o).selectedTemperatures=[]}setGroupBy(e){c(this.#o).groupBy=e}toggleStore(e){const n=c(this.#o).selectedStores.indexOf(e);n>-1?c(this.#o).selectedStores.splice(n,1):c(this.#o).selectedStores.push(e)}toggleWho(e){const n=c(this.#o).selectedWho.indexOf(e);n>-1?c(this.#o).selectedWho.splice(n,1):c(this.#o).selectedWho.push(e)}clearStoreFilters(){c(this.#o).selectedStores=[]}clearWhoFilters(){c(this.#o).selectedWho=[]}handleSort(e){c(this.#o).sortColumn===e?c(this.#o).sortDirection=c(this.#o).sortDirection==="asc"?"desc":"asc":(c(this.#o).sortColumn=e,c(this.#o).sortDirection="asc")}clearFilters(){h(this.#o,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return c(this.#o).sortColumn?[...e].sort((n,s)=>{let r=n[c(this.#o).sortColumn],i=s[c(this.#o).sortColumn];return c(this.#o).sortColumn==="totalNeededConsolidated"?(r=parseFloat(r)||0,i=parseFloat(i)||0):c(this.#o).sortColumn==="purchases"&&(r=n.purchases?.length||0,i=s.purchases?.length||0),r<i?c(this.#o).sortDirection==="asc"?-1:1:r>i?c(this.#o).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const n=this.#e.get(e)?.data;return n?.byDate?Mc(n.byDate):!1}async forceReload(e,n){await this.clearCache(),await this.initialize(e,n)}async clearCache(){this.#e.clear(),h(this.#u,null),this.#a&&await this.#a.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,n){const s=n?"isSyncing":"active";e.forEach(r=>{const i=this.#e.get(r);if(i){const a={...i.data,status:s};i.update(a)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${s}`)}clearSyncStatus(){const e=[];for(const[n,s]of this.#e)s.status==="isSyncing"&&e.push(n);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#h?.(),this.#h=null,this.#U(),this.#a&&(this.#a.close(),this.#a=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(c(this.#n))try{const{loadOrphanPurchases:e}=await Cr(async()=>{const{loadOrphanPurchases:s}=await Promise.resolve().then(()=>Jr);return{loadOrphanPurchases:s}},void 0),n=await e(c(this.#n));n.forEach(s=>{this.#t.set(s.$id,s)}),console.log(`[ProductsStore] ${n.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#x=Y(()=>{let e=0;const n={},s={},r=[];for(const i of this.#t.values()){const a=i.invoiceTotal||i.price||0;e+=a;const o=i.store||"Non défini";n[o]=(n[o]||0)+a;const l=i.who||"Non défini";s[l]=(s[l]||0)+a,r.push(i)}for(const i of this.#e.values()){const a=i.data;if(a.purchases&&a.purchases.length>0){for(const o of a.purchases)if(o.price){e+=o.price;const l=o.store||"Non défini";n[l]=(n[l]||0)+o.price;const d=o.who||"Non défini";s[d]=(s[d]||0)+o.price;const u={...o,_productName:a.productName};r.push(u)}}}return r.sort((i,a)=>{const o=new Date(i.orderDate||i.$createdAt).getTime();return new Date(a.orderDate||a.$createdAt).getTime()-o}),{totalGlobal:e,byStore:n,byWho:s,allPurchases:r}});get financialStats(){return c(this.#x)}set financialStats(e){h(this.#x,e)}}const wl=new yl;let Xs=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Rn="main";async function bl(t,e){try{const{tables:n,config:s}=await se();return(await n.listRows({databaseId:s.databaseId,tableId:Rn})).rows.filter(i=>i.createdBy===t||i.contributors?.includes(t)||i.teams?.some(a=>e.includes(a)))}catch(n){throw console.error("[appwrite-events] Error listing events:",n),n}}async function Xn(t){try{const{tables:e,config:n}=await se();return await e.getRow({databaseId:n.databaseId,tableId:Rn,rowId:t})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${t}:`,e),e}}async function _l(t,e){try{const{tables:n,config:s}=await se(),r=Es.unique(),i=[Te.read(je.user(e)),Te.update(je.user(e)),Te.delete(je.user(e))];t.contributors&&t.contributors.forEach(o=>{const l=typeof o=="string"?o:o.id;o.status==="accepted"&&(i.push(Te.read(je.user(l))),i.push(Te.update(je.user(l))))}),t.teams&&t.teams.forEach(o=>{i.push(Te.read(je.team(o))),i.push(Te.update(je.team(o)))});const a=await n.createRow({databaseId:s.databaseId,tableId:Rn,rowId:r,data:{name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,allDates:t.allDates,meals:t.meals?JSON.stringify(t.meals):void 0,createdBy:e,teams:t.teams??[],contributors:t.contributors?t.contributors.map(o=>typeof o=="string"?o:JSON.stringify(o)):[]},permissions:i});return console.log(`[appwrite-events] Event created: ${r}`),a}catch(n){throw console.error("[appwrite-events] Error creating event:",n),n}}async function As(t,e){try{const{tables:n,config:s}=await se(),r={...e};e.meals&&(r.meals=JSON.stringify(e.meals)),e.contributors&&(r.contributors=e.contributors.map(a=>typeof a=="string"?a:JSON.stringify(a))),e.allDates&&(r.allDates=e.allDates);const i=await n.updateRow({databaseId:s.databaseId,tableId:Rn,rowId:t,data:r});return console.log(`[appwrite-events] Event updated: ${t}`),i}catch(n){throw console.error(`[appwrite-events] Error updating event ${t}:`,n),n}}async function Il(t){try{const{tables:e,config:n}=await se();await e.deleteRow({databaseId:n.databaseId,tableId:Rn,rowId:t}),console.log(`[appwrite-events] Event deleted: ${t}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${t}:`,e),e}}function Zn(t){if(!t.meals)return[];try{return JSON.parse(t.meals).map(n=>n.id?n:{...n,id:Xs(6)})}catch(e){return console.error("[appwrite-events] Error parsing meals:",e),[]}}function ba(t){if(!t.contributors)return[];try{const e=[];for(const n of t.contributors)try{const s=JSON.parse(n);e.push(s)}catch{e.push({id:n,status:"accepted"})}return e}catch(e){return console.error("[appwrite-events] Error parsing contributors:",e),[]}}async function Sl(t,e){const n=await Xn(t);if(!n)throw new Error(`Event ${t} not found`);const s=Zn(n);return s.push(e),await As(t,{meals:s})}async function El(t,e,n){const s=await Xn(t);if(!s)throw new Error(`Event ${t} not found`);const r=Zn(s);if(e<0||e>=r.length)throw new Error(`Meal index ${e} out of bounds`);return r[e]=n,await As(t,{meals:r})}async function Al(t,e){const n=await Xn(t);if(!n)throw new Error(`Event ${t} not found`);const s=Zn(n);if(e<0||e>=s.length)throw new Error(`Meal index ${e} out of bounds`);return s.splice(e,1),await As(t,{meals:s})}async function Rl(t,e,n){const{config:s}=await se(),r=`databases.${s.databaseId}.collections.${Rn}.documents`;return oa([r],async i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let l="update";i.events.some(d=>d.includes(".create"))?l="create":i.events.some(d=>d.includes(".delete"))&&(l="delete"),n(a,l)})}class Pl{#e=new It;#t=A(!1);#n=A(null);#i=A(!1);#r=null;#c=[];#s=null;get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#i)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}async initialize(){if(c(this.#i)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!oe.isAuthenticated)throw new Error("Utilisateur non connecté");this.#r=oe.userId,this.#c=oe.userTeams,await this.#l(),this.#d(),h(this.#i,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}async#l(){try{console.log("[EventsStore] Chargement des événements...");const e=await bl(this.#r,this.#c);e.forEach(n=>{this.#e.set(n.$id,n)}),console.log(`[EventsStore] ${e.length} événements chargés`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#d(){try{this.#s=async()=>{await Rl(this.#r,this.#c,(e,n)=>{console.log(`[EventsStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?this.#e.set(e.$id,e):n==="delete"&&this.#e.delete(e.$id)}),console.log("[EventsStore] Realtime activé")}}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const n=await Xn(e);return n&&this.#e.set(e,n),n}catch(n){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,n),null}}getEventsByDateRange(e,n){return this.events.filter(s=>s.dateStart&&s.dateEnd&&s.dateStart>=e&&s.dateEnd<=n)}canEditEvent(e){if(!this.#r)return!1;const n=this.#e.get(e);return n?!!(n.createdBy===this.#r||n.teams?.some(s=>this.#c.includes(s))||n.contributors&&ba(n).some(r=>r.id===this.#r&&r.status==="accepted")):!1}async createEvent(e){if(!this.#r)throw new Error("Utilisateur non connecté");try{const n=await _l(e,this.#r);return this.#e.set(n.$id,n),console.log(`[EventsStore] Événement créé: ${n.$id}`),n}catch(n){throw console.error("[EventsStore] Erreur lors de la création:",n),n}}async updateEvent(e,n){try{const s=await As(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Événement mis à jour: ${e}`),s}catch(s){throw console.error(`[EventsStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteEvent(e){try{await Il(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(n){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,n),n}}getMeals(e){const n=this.#e.get(e);return n?Zn(n):[]}async addMeal(e,n){try{const s=await Sl(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Meal ajouté à ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de l'ajout du meal:",s),s}}async updateMeal(e,n,s){try{const r=await El(e,n,s);return this.#e.set(e,r),console.log(`[EventsStore] Meal ${n} mis à jour dans ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de la mise à jour du meal:",r),r}}async deleteMeal(e,n){try{const s=await Al(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Meal ${n} supprimé de ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de la suppression du meal:",s),s}}calculateScaleFactor(e,n){return e/n}async reload(){console.log("[EventsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#l(),console.log("[EventsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}destroy(){this.#s&&(this.#s(),this.#s=null),this.#e.clear(),h(this.#i,!1),console.log("[EventsStore] Ressources nettoyées")}}const Pt=new Pl;class Tl{#e=new It;#t=new It;#n=new It;#i=A(!1);#r=A(null);#c=A(!1);get loading(){return c(this.#i)}get error(){return c(this.#r)}get isInitialized(){return c(this.#c)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}get contributors(){return Array.from(this.#t.values())}get invitations(){return Array.from(this.#n.values())}get contributorsCount(){return this.#t.size}get pendingInvitationsCount(){return Array.from(this.#n.values()).filter(e=>e.status==="invited").length}async initialize(){if(c(this.#c)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),h(this.#i,!0),h(this.#r,null);try{if(!oe.userId){console.log("[TeamsStore] Utilisateur non connecté"),h(this.#c,!0);return}await this.#s(),await this.#l(),await this.#d(),h(this.#c,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes, ${this.#t.size} contributeurs, ${this.#n.size} invitations`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#r,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#i,!1)}}async#s(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await ya();for(const n of e.teams)try{const{team:s,members:r}=await qs(n.$id);this.#e.set(n.$id,{...s,members:r})}catch(s){console.error(`[TeamsStore] Erreur lors du chargement des membres de ${n.$id}:`,s),this.#e.set(n.$id,n)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const{team:n,members:s}=await qs(e);if(n){const r={...n,members:s};return this.#e.set(e,r),r}return null}catch(n){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,n),null}}async isMemberOf(e){return await vl(e)}getTeamMembers(e){return this.#e.get(e)?.members}getContributorById(e){return this.#t.get(e)||null}getInvitationById(e){return this.#n.get(e)||null}getInvitationsByEventId(e){return Array.from(this.#n.values()).filter(n=>n.eventId===e)}getPendingInvitations(){return Array.from(this.#n.values()).filter(e=>e.status==="invited")}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async createTeam(e,n){if(!oe.userId)throw new Error("Utilisateur non connecté");try{const s=await ll(e,n),{members:r}=await qs(s.$id),i={...s,members:r};return this.#e.set(s.$id,i),console.log(`[TeamsStore] Équipe créée: ${s.$id}`),i}catch(s){throw console.error("[TeamsStore] Erreur lors de la création:",s),s}}async updateTeam(e,n,s){try{const r=await dl(e,n,s),i=this.#e.get(e),a={...r,members:i?.members};return this.#e.set(e,a),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),a}catch(r){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteTeam(e){try{await ul(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(n){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,n),n}}async inviteMembers(e,n,s){try{await hl(e,n,s),await this.fetchTeam(e),console.log(`[TeamsStore] Membres invités dans ${e}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de l'invitation:",r),r}}async addMember(e,n,s){try{await wa(e,n,s),await this.fetchTeam(e),console.log(`[TeamsStore] Membre ajouté à ${e}: ${n}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de l'ajout du membre:",r),r}}async removeMember(e,n){try{await fl(e,n),await this.fetchTeam(e),console.log(`[TeamsStore] Membre supprimé de ${e}: ${n}`)}catch(s){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",s),s}}async addContributor(e,n,s,r){try{const i={id:e,email:n,name:s,status:"accepted",invitedAt:new Date().toISOString()};return this.#t.set(e,i),console.log(`[TeamsStore] Contributeur ajouté: ${e}`),i}catch(i){throw console.error("[TeamsStore] Erreur lors de l'ajout du contributeur:",i),i}}removeContributor(e){this.#t.has(e)&&(this.#t.delete(e),console.log(`[TeamsStore] Contributeur supprimé: ${e}`))}async inviteContributorByEmail(e,n,s){if(!this.isValidEmail(e))throw new Error("Adresse email invalide");try{if(Array.from(this.#n.values()).find(o=>o.email===e&&o.eventId===n))throw new Error("Cet email a déjà été invité pour cet événement");const i=ID.unique(),a={id:i,email:e,status:"invited",invitedAt:new Date().toISOString(),eventId:n,teamId:s};return this.#n.set(i,a),console.log(`[TeamsStore] Invitation envoyée: ${e} pour l'événement ${n}`),a}catch(r){throw console.error("[TeamsStore] Erreur lors de l'invitation:",r),r}}async acceptInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");const s={...n,status:"accepted",respondedAt:new Date().toISOString()};if(this.#n.set(e,s),oe.userId){const r={id:oe.userId,email:n.email,name:n.name,status:"accepted",invitedAt:n.invitedAt,respondedAt:s.respondedAt,teamId:n.teamId};this.#t.set(oe.userId,r),n.teamId&&(await pl(oe.userId,n.teamId),await this.fetchTeam(n.teamId))}console.log(`[TeamsStore] Invitation acceptée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors de l'acceptation:",n),n}}async declineInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");const s={...n,status:"declined",respondedAt:new Date().toISOString()};this.#n.set(e,s),console.log(`[TeamsStore] Invitation refusée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors du refus:",n),n}}async cancelInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");if(n.status!=="invited")throw new Error("Seules les invitations en attente peuvent être annulées");this.#n.delete(e),console.log(`[TeamsStore] Invitation annulée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors de l'annulation:",n),n}}async#l(){try{console.log("[TeamsStore] Chargement des contributeurs..."),this.#t.clear();const e=this.teams;for(const n of e)if(n.membersId)for(let s=0;s<n.membersId.length;s++){const r=n.membersId[s],i=n.members[s]||"";this.#t.has(r)||this.#t.set(r,{id:r,email:i,name:i.split("@")[0],status:"accepted",invitedAt:new Date().toISOString(),teamId:n.$id})}console.log(`[TeamsStore] ${this.#t.size} contributeurs chargés`)}catch(e){console.error("[TeamsStore] Erreur lors du chargement des contributeurs:",e)}}async#d(){try{console.log("[TeamsStore] Chargement des invitations..."),this.#n.clear();const e=this.teams;for(const n of e)if(n.invited)for(const s of n.invited)try{const r=JSON.parse(s),i=`${n.$id}_${r.id}`;this.#n.set(i,{id:i,email:r.email,name:r.name,status:r.status,invitedAt:r.invitedAt,respondedAt:r.respondedAt,teamId:n.$id})}catch(r){console.error("Erreur lors du parsing d'une invitation:",r)}console.log(`[TeamsStore] ${this.#n.size} invitations chargées`)}catch(e){console.error("[TeamsStore] Erreur lors du chargement des invitations:",e)}}async reload(){console.log("[TeamsStore] Rechargement..."),h(this.#i,!0),h(this.#r,null);try{this.#e.clear(),this.#t.clear(),this.#n.clear(),await Promise.all([this.#s(),this.#l(),this.#d()]),console.log("[TeamsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#r,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#i,!1)}}destroy(){this.#e.clear(),this.#t.clear(),this.#n.clear(),h(this.#c,!1),console.log("[TeamsStore] Ressources nettoyées")}}const _a=new Tl;class $l{dbName="recipes-cache";db=null;version=1;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,n)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>n(s.error),s.onsuccess=()=>{this.db=s.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},s.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(i.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),i.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(i.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.u,o)}),console.log(`[RecipesIDBCache] ${a.size} recettes (index) chargées`),e(a)},i.onerror=()=>n(i.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),i=r.objectStore(this.RECIPES_INDEX_STORE);i.clear(),e.forEach(a=>{i.put(a)}),r.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),n()},r.onerror=()=>s(r.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);a.onsuccess=()=>{const o=a.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),n(o||null)},a.onerror=()=>s(a.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);a.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),n()},a.onerror=()=>s(a.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${a.size} détails de recettes chargés`),e(a)},i.onerror=()=>n(i.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,indexHash:null,recipesCount:0};a.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.INDEX_HASH_KEY?o.indexHash=l.value:l.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=l.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.METADATA_STORE,"readwrite"),i=r.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),i.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),r.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),n()},r.onerror=()=>s(r.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const s=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");s.objectStore(this.RECIPES_INDEX_STORE).clear(),s.objectStore(this.RECIPES_DETAILS_STORE).clear(),s.objectStore(this.METADATA_STORE).clear(),s.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},s.onerror=()=>n(s.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function Ml(){const t=new $l;return await t.open(),t}function Dl(t){if(!Array.isArray(t)||t.length<8)throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(t)}`);return{uuid:t[0],originalQuantity:t[1],originalUnit:t[2],normalizedQuantity:t[3],normalizedUnit:t[4],comment:t[5]||"",allergens:Array.isArray(t[6])?t[6]:[],type:t[7]||""}}function xl(t){if(!t||typeof t!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(t.ingredients)&&t.ingredients.forEach(n=>{try{e.push(Dl(n))}catch(s){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",s)}}),{uuid:t.uuid||"",title:t.title||"",plate:t.plate||1,ingredients:e,preparation:t.preparation||""}}const Pn="recettes";async function Fr(){try{const{tables:t,config:e}=await se(),n=[S.equal("isPublished",!1)];return(await t.listRows({databaseId:e.databaseId,tableId:Pn,queries:n})).rows}catch(t){throw console.error("[appwrite-recipes] Error listing all recipes:",t),t}}async function ei(t){try{const{tables:e,config:n}=await se();return await e.getRow({databaseId:n.databaseId,tableId:Pn,rowId:t})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${t}:`,e),e}}async function kl(t,e){try{const{tables:n,config:s}=await se(),r=Es.unique(),i=[Te.read(je.user(e)),Te.update(je.user(e)),Te.delete(je.user(e))];t.contributors&&t.contributors.forEach(o=>{i.push(Te.read(je.user(o))),i.push(Te.update(je.user(o)))}),t.teams&&t.teams.forEach(o=>{i.push(Te.read(je.team(o))),i.push(Te.update(je.team(o)))});const a=await n.createRow({databaseId:s.databaseId,tableId:Pn,rowId:r,data:{title:t.title,plate:t.plate,ingredients:t.ingredients,preparation:t.preparation,draft:t.draft??!0,typeR:t.typeR,categories:t.categories??[],regime:t.regime??[],isPublished:!1,createdBy:e,teams:t.teams??[],contributors:t.contributors??[]},permissions:i});return console.log(`[appwrite-recipes] Recipe created: ${r}`),a}catch(n){throw console.error("[appwrite-recipes] Error creating recipe:",n),n}}async function Ia(t,e){try{const{tables:n,config:s}=await se(),r=await n.updateRow({databaseId:s.databaseId,tableId:Pn,rowId:t,data:e});return console.log(`[appwrite-recipes] Recipe updated: ${t}`),r}catch(n){throw console.error(`[appwrite-recipes] Error updating recipe ${t}:`,n),n}}async function Cl(t){try{const{tables:e,config:n}=await se();await e.deleteRow({databaseId:n.databaseId,tableId:Pn,rowId:t}),console.log(`[appwrite-recipes] Recipe deleted: ${t}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${t}:`,e),e}}async function ql(t,e){return await Ia(t,{isPublished:!0,publishedAt:new Date().toISOString()})}function jl(t,e,n){const r=`databases.${aa().APPWRITE_CONFIG.databaseId}.collections.${Pn}.documents`;return oa([r],i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let l="update";i.events.some(d=>d.includes(".create"))?l="create":i.events.some(d=>d.includes(".delete"))&&(l="delete"),n(a,l)})}const Nl="/api/data.json";class Ll{#e=new It;#t=new It;#n=A(!1);#i=A(null);#r=A(null);#c=A(!1);#s=null;#l=new Set;#d=null;get loading(){return c(this.#n)}get error(){return c(this.#i)}get lastSync(){return c(this.#r)}get isInitialized(){return c(this.#c)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(c(this.#c)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),h(this.#n,!0),h(this.#i,null);try{this.#s=await Ml();const e=await this.#s.loadRecipesIndex(),n=await this.#s.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new It(e),h(this.#r,n.lastSync,!0)),await this.#u(),oe.userId&&await this.#a(),oe.userId&&await this.#h(),oe.userId&&this.#p(),h(this.#c,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#b()} published, ${this.#m()} non-published)`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#i,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async#u(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(Nl);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const s=(await e.json()).recipes;if(!Array.isArray(s))throw new Error("Format de données invalide: recipes n'est pas un tableau");const r=await this.#f(JSON.stringify(s));if((await this.#s.loadMetadata()).indexHash===r){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const a=new Map;s.forEach(o=>{a.set(o.u,o)}),this.#e=new It(a),h(this.#r,new Date().toISOString(),!0),this.#s&&(await this.#s.saveRecipesIndex(a),await this.#s.saveMetadata({lastSync:c(this.#r),indexHash:r,recipesCount:a.size})),console.log(`[RecipesStore] ${a.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}async#a(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await Fr();let n=0;for(const s of e)this.#e.has(s.$id)&&(await ql(s.$id),n++);n>0&&console.log(`[RecipesStore] ${n} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#h(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await Fr();e.forEach(n=>{this.#e.set(n.$id,{u:n.$id,n:n.title,t:n.typeR,p:null,plates:n.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#p(){try{this.#d=jl(oe.userId,oe.userTeams,(e,n)=>{console.log(`[RecipesStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):n==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(e){switch(e){case"entree":return 0;case"plat":return 1;case"dessert":return 2;default:return 0}}#w(e){switch(e){case 0:return"entree";case 1:return"plat";case 2:return"dessert";default:return"plat"}}#b(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#m(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#o(e){return{uuid:e.$id,title:e.title,plate:e.plate,ingredients:JSON.parse(e.ingredients),preparation:e.preparation}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}searchRecipes(e){if(!e.trim())return this.recipesIndex;const n=e.toLowerCase();return this.recipesIndex.filter(s=>s.n.toLowerCase().includes(n))}getRecipesByType(e){return this.recipesIndex.filter(n=>n.t===e)}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(n=>e.add(n.t)),Array.from(e).sort()}async canEditRecipe(e){if(!oe.userId)return!1;const n=this.#e.get(e);if(!n||n.isPublished!==!1)return!1;try{const s=await ei(e);return s?s.createdBy===oe.userId||!!s.contributors?.includes(oe.userId)||!!s.teams?.some(r=>oe.userTeams.includes(r)):!1}catch(s){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,s),!1}}async getRecipeByUuid(e){const n=this.#t.get(e);if(n)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),n;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(s=>setTimeout(s,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#s){const i=await this.#s.loadRecipeDetail(e);if(i)return this.#t.set(e,i),i}const s=this.#e.get(e);if(!s)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let r;if(s.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${s.p}...`);const i=await fetch(s.p);if(!i.ok)throw new Error(`Erreur HTTP: ${i.status}`);const a=await i.json();r=xl(a)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const i=await ei(e);if(!i)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;r=this.#o(i)}return this.#t.set(e,r),this.#s&&await this.#s.saveRecipeDetail(r),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),r}catch(s){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,s),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const n=e.map(s=>this.getRecipeByUuid(s));await Promise.all(n),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!oe.userId)throw new Error("Utilisateur non connecté");try{const n={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:this.#w(0),categories:[],regime:[],teams:[],contributors:[]},s=await kl(n,oe.userId);return this.#e.set(s.$id,{u:s.$id,n:s.title,t:s.typeR,p:null,plates:s.plate,isPublished:!1}),this.#o(s)}catch(n){throw console.error("[RecipesStore] Erreur lors de la création:",n),n}}async updateRecipe(e,n){try{const s={};n.title&&(s.title=n.title),n.plate&&(s.plate=n.plate),n.ingredients&&(s.ingredients=JSON.stringify(n.ingredients)),n.preparation&&(s.preparation=n.preparation);const r=await Ia(e,s);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:r.isPublished}),this.#t.delete(e),this.#o(r)}catch(s){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteRecipe(e){try{await Cl(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(n){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,n),n}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),h(this.#n,!0),h(this.#i,null);try{await this.#u(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#i,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async clearCache(){this.#s&&(await this.#s.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),h(this.#r,null),h(this.#c,!1)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#s&&(this.#s.close(),this.#s=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),h(this.#c,!1),console.log("[RecipesStore] Ressources nettoyées")}}const fr=new Ll;var Ul=x('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Hl(t,e){var n=Ul(),s=w(v(n),2),r=w(v(s),2),i=v(r);ce(()=>ee(i,e.message)),I(t,n)}class Bl{routes=[];#e=A("");get currentPath(){return c(this.#e)}set currentPath(e){h(this.#e,e,!0)}#t=A(Ee({}));get currentParams(){return c(this.#t)}set currentParams(e){h(this.#t,e,!0)}#n=A(Ee({}));get currentQuery(){return c(this.#n)}set currentQuery(e){h(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,n,s){this.routes.push({path:e,component:n,guard:s})}navigate(e,n){const s=n?"?"+new URLSearchParams(n).toString():"",r="#"+(e.startsWith("/")?e:"/"+e)+s;window.location.hash=r}async match(){for(const e of this.routes){const n=this.matchRoute(e.path,this.currentPath);if(n)return e.guard&&!await e.guard()?null:(this.currentParams=n.params,{component:e.component,params:n.params,query:this.currentQuery})}return null}matchRoute(e,n){if(e instanceof RegExp){const o=n.match(e);return o?{params:o.groups||{}}:null}const s=[],r=e.replace(/:([^/]+)/g,(o,l)=>(s.push(l),"([^/]+)")),i=new RegExp(`^${r}$`),a=n.match(i);if(a){const o={};return s.forEach((l,d)=>{o[l]=a[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const n=window.location.hash.slice(1).split("?")[1],s={};n&&new URLSearchParams(n).forEach((i,a)=>{s[a]=i}),this.currentQuery=s}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const mt=new Bl;function Ot(t,e){mt.navigate(t,e)}function js(t){return mt.query[t]}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const zl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Wl=Yo("<svg><!><!></svg>");function ye(t,e){J(e,!0);const n=xe(e,"color",3,"currentColor"),s=xe(e,"size",3,24),r=xe(e,"strokeWidth",3,2),i=xe(e,"absoluteStrokeWidth",3,!1),a=xe(e,"iconNode",19,()=>[]),o=ve(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=Wl();$r(l,f=>({...zl,...o,width:s(),height:s(),stroke:n(),"stroke-width":f,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>i()?Number(r())*24/Number(s()):r()]);var d=v(l);ct(d,17,a,Bn,(f,p)=>{var m=Y(()=>Ma(c(p),2));let g=()=>c(m)[0],b=()=>c(m)[1];var _=Z(),E=W(_);ec(E,g,!0,(M,k)=>{$r(M,()=>({...b()}))}),I(f,_)});var u=w(d);pe(u,()=>e.children??ne),I(t,l),X()}function Ql(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];ye(t,ge({name:"arrow-left"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Vl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];ye(t,ge({name:"book-open"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Ln(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ye(t,ge({name:"calendar"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Gl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20 6 9 17l-5-5"}]];ye(t,ge({name:"check"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ls(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];ye(t,ge({name:"chef-hat"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Kl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m6 9 6 6 6-6"}]];ye(t,ge({name:"chevron-down"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Yl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m9 18 6-6-6-6"}]];ye(t,ge({name:"chevron-right"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Jl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];ye(t,ge({name:"circle-alert"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Xl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];ye(t,ge({name:"circle-x"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Zl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];ye(t,ge({name:"cloud"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Ol(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];ye(t,ge({name:"copy"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Fl(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];ye(t,ge({name:"layout-dashboard"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Sa(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];ye(t,ge({name:"loader-circle"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ed(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];ye(t,ge({name:"log-in"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function td(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];ye(t,ge({name:"log-out"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Ns(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];ye(t,ge({name:"mail"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ti(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];ye(t,ge({name:"moon"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function nd(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];ye(t,ge({name:"pencil-line"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Wn(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];ye(t,ge({name:"plus"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function sd(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];ye(t,ge({name:"save"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function rd(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];ye(t,ge({name:"search"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function id(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];ye(t,ge({name:"square-pen"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ad(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];ye(t,ge({name:"sun"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function od(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];ye(t,ge({name:"trash-2"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function cd(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];ye(t,ge({name:"triangle-alert"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function Qn(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];ye(t,ge({name:"users"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ld(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];ye(t,ge({name:"utensils"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function ds(t,e){J(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ve(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];ye(t,ge({name:"x"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=Z(),o=W(a);pe(o,()=>e.children??ne),I(r,a)},$$slots:{default:!0}})),X()}function dd(t,e,n){c(e)||n(!1)}var ud=x('<div class="auth-message auth-message-error svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),fd=x('<div class="auth-message auth-message-success svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),hd=x('<span class="auth-spinner svelte-o861tn"></span>'),pd=(t,e)=>h(e,!1),vd=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="forgot-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="forgot-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com"/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-back-link svelte-o861tn"><button class="auth-link-btn svelte-o861tn">← Retour à la connexion</button></div>',1),md=x('<span class="auth-spinner svelte-o861tn"></span>'),gd=(t,e)=>h(e,!0),yd=(t,e)=>h(e,!1),wd=x(`<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="login-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="login-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-actions svelte-o861tn"><button class="auth-link-btn svelte-o861tn">Mot de passe oublié ?</button> <div class="auth-switch svelte-o861tn">Pas encore de compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">S'inscrire</button></div></div>`,1),bd=x('<span class="auth-spinner svelte-o861tn"></span>'),_d=(t,e)=>h(e,!0),Id=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-name"><span class="auth-label-text svelte-o861tn">Nom</span></label> <input id="register-name" type="text" class="auth-input svelte-o861tn" placeholder="Votre nom" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="register-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="register-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-success auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-switch svelte-o861tn">Déjà un compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">Se connecter</button></div>',1),Sd=x('<div role="dialog"><div class="auth-modal-content svelte-o861tn"><div class="auth-header svelte-o861tn"><div class="auth-title svelte-o861tn"> </div> <button class="auth-close-btn svelte-o861tn">✕</button></div> <div class="auth-body svelte-o861tn"><!> <!> <!></div></div></div>');function Ed(t,e){J(e,!0);let n=xe(e,"isOpen",15),s=xe(e,"onAuthSuccess",3,()=>{}),r=A(!0),i=A(!1),a=A(""),o=A(""),l=A(""),d=A(""),u=A(""),f=A(""),p=A(""),m=A(""),g=A(!1);async function b(U){if(U.preventDefault(),!c(l)||!c(d)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:H}=await se();await H.createEmailPasswordSession({email:c(l),password:c(d)}),h(o,"Connexion réussie !"),setTimeout(()=>{s()()},1e3)}catch(H){console.error("Erreur de connexion:",H),h(a,H.message||"Erreur lors de la connexion",!0)}finally{h(i,!1)}}async function _(U){if(U.preventDefault(),!c(u)||!c(f)||!c(p)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:H}=await se();await H.create({userId:"unique()",email:c(f),password:c(p),name:c(u)}),await H.createEmailPasswordSession({email:c(f),password:c(p)}),h(o,"Compte créé et connecté !"),setTimeout(()=>{s()()},1e3)}catch(H){console.error("Erreur d'inscription:",H),h(a,H.message||"Erreur lors de la création du compte",!0)}finally{h(i,!1)}}async function E(U){if(U.preventDefault(),!c(m)){h(a,"Veuillez entrer votre email");return}h(i,!0),h(a,"");try{const{account:H}=await se();await H.createRecovery({email:c(m),url:`${window.location.origin}/reset-password`}),h(o,"Email de réinitialisation envoyé !"),setTimeout(()=>{h(g,!1),h(m,"")},2e3)}catch(H){console.error("Erreur mot de passe oublié:",H),h(a,H.message||"Erreur lors de l'envoi de l'email",!0)}finally{h(i,!1)}}ht(()=>{(c(r)||c(g))&&(h(a,""),h(o,""))});var M=Sd(),k=v(M),P=v(k),$=v(P),R=v($),D=w($,2);D.__click=[dd,i,n];var q=w(P,2),V=v(q);{var le=U=>{var H=ud(),O=v(H),be=v(O);ce(()=>ee(be,c(a))),I(U,H)};z(V,U=>{c(a)&&U(le)})}var Q=w(V,2);{var G=U=>{var H=fd(),O=v(H),be=v(O);ce(()=>ee(be,c(o))),I(U,H)};z(Q,U=>{c(o)&&U(G)})}var we=w(Q,2);{var Re=U=>{var H=vd(),O=W(H),be=v(O),$e=w(v(be),2),_e=w(be,2),Ie=v(_e);{var L=K=>{var ae=hd();I(K,ae)},T=K=>{var ae=Ps("Envoyer l'email de réinitialisation");I(K,ae)};z(Ie,K=>{c(i)?K(L):K(T,!1)})}var N=w(O,2),B=v(N);B.__click=[pd,g],ce(()=>{$e.disabled=c(i),_e.disabled=c(i),B.disabled=c(i)}),Rs("submit",O,E),Ze($e,()=>c(m),K=>h(m,K)),I(U,H)},de=U=>{var H=Z(),O=W(H);{var be=_e=>{var Ie=wd(),L=W(Ie),T=v(L),N=w(v(T),2),B=w(T,2),K=w(v(B),2),ae=w(B,2),me=v(ae);{var Pe=re=>{var Ke=md();I(re,Ke)},Ae=re=>{var Ke=Ps("Se connecter");I(re,Ke)};z(me,re=>{c(i)?re(Pe):re(Ae,!1)})}var Ne=w(L,2),ke=v(Ne);ke.__click=[gd,g];var Ue=w(ke,2),ze=w(v(Ue));ze.__click=[yd,r],ce(()=>{N.disabled=c(i),K.disabled=c(i),ae.disabled=c(i),ke.disabled=c(i),ze.disabled=c(i)}),Rs("submit",L,b),Ze(N,()=>c(l),re=>h(l,re)),Ze(K,()=>c(d),re=>h(d,re)),I(_e,Ie)},$e=_e=>{var Ie=Id(),L=W(Ie),T=v(L),N=w(v(T),2),B=w(T,2),K=w(v(B),2),ae=w(B,2),me=w(v(ae),2),Pe=w(ae,2),Ae=v(Pe);{var Ne=re=>{var Ke=bd();I(re,Ke)},ke=re=>{var Ke=Ps("Créer un compte");I(re,Ke)};z(Ae,re=>{c(i)?re(Ne):re(ke,!1)})}var Ue=w(L,2),ze=w(v(Ue));ze.__click=[_d,r],ce(()=>{N.disabled=c(i),K.disabled=c(i),me.disabled=c(i),Pe.disabled=c(i),ze.disabled=c(i)}),Rs("submit",L,_),Ze(N,()=>c(u),re=>h(u,re)),Ze(K,()=>c(f),re=>h(f,re)),Ze(me,()=>c(p),re=>h(p,re)),I(_e,Ie)};z(O,_e=>{c(r)?_e(be):_e($e,!1)},!0)}I(U,H)};z(we,U=>{c(g)?U(Re):U(de,!1)})}ce(()=>{ut(M,1,`auth-modal ${(n()&&"auth-modal-open")??""}`,"svelte-o861tn"),ee(R,c(g)?"Mot de passe oublié":c(r)?"Connexion":"Inscription")}),I(t,M),X()}At(["click"]);function Ad(t,e){h(e,!c(e))}async function Rd(){try{await oe.logout(),window.location.href="/"}catch(t){console.error("Erreur lors de la déconnexion:",t)}}function Pd(t,e){h(e,!0),console.log("showAuthModal",c(e))}var Td=()=>Ot("/"),$d=()=>Ot("/teams"),Md=()=>Ot("/eventEdit"),Dd=()=>Ot("/recipes"),xd=x('<ul class="svelte-dropdown-menu svelte-18a4s1a"><li><div class="svelte-dropdown-header svelte-18a4s1a"> </div></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Dashboard</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Équipes</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Créer un événement</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Recettes</span></button></li> <li><hr class="svelte-dropdown-divider svelte-18a4s1a"/></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Se déconnecter</span></button></li></ul>'),kd=x('<li class="svelte-user-dropdown svelte-18a4s1a"><button class="svelte-btn-user svelte-18a4s1a" aria-label="Menu utilisateur"><div class="svelte-user-avatar svelte-18a4s1a"> </div> <svg class="svelte-dropdown-arrow svelte-18a4s1a" width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"></path></svg></button> <!></li>'),Cd=x('<li><button class="svelte-btn-login svelte-18a4s1a"><!> <span>Connexion</span></button></li>'),qd=x('<!> <nav class="svelte-header-nav svelte-18a4s1a"><div class="svelte-nav-container svelte-18a4s1a"><a class="svelte-nav-brand svelte-18a4s1a" href="/"><img src="/favicon-96x96.png" alt="logo" class="svelte-brand-logo svelte-18a4s1a"/></a> <ul class="svelte-nav-menu svelte-18a4s1a"><li><a class="svelte-nav-link svelte-18a4s1a" href="/recettes">Recettes</a></li> <li><a class="svelte-nav-link svelte-18a4s1a" href="/evenements">Événements</a></li></ul> <ul class="svelte-nav-actions svelte-18a4s1a"><!></ul></div></nav>',1);function jd(t,e){J(e,!0);let n=A(!1),s=A(!1);function r(){h(n,!1)}function i(b){b.target.closest(".svelte-user-dropdown")||r()}function a(){h(s,!1)}ht(()=>{if(c(n))return document.addEventListener("click",i),()=>document.removeEventListener("click",i)});var o=qd(),l=W(o);Ed(l,{onAuthSuccess:a,get isOpen(){return c(s)},set isOpen(b){h(s,b,!0)}});var d=w(l,2),u=v(d),f=w(v(u),4),p=v(f);{var m=b=>{var _=kd(),E=v(_);E.__click=[Ad,n];var M=v(E),k=v(M),P=w(E,2);{var $=R=>{var D=xd(),q=v(D),V=v(q),le=v(V),Q=w(q,2),G=v(Q);G.__click=[Td];var we=v(G);Fl(we,{class:"svelte-dropdown-icon",size:16});var Re=w(Q,2),de=v(Re);de.__click=[$d];var U=v(de);Qn(U,{class:"svelte-dropdown-icon",size:16});var H=w(Re,2),O=v(H);O.__click=[Md];var be=v(O);Qn(be,{class:"svelte-dropdown-icon",size:16});var $e=w(H,2),_e=v($e);_e.__click=[Dd];var Ie=v(_e);Vl(Ie,{class:"svelte-dropdown-icon",size:16});var L=w($e,4),T=v(L);T.__click=[Rd];var N=v(T);td(N,{class:"svelte-dropdown-icon",size:16}),ce(()=>ee(le,oe.user?.email||"Utilisateur")),I(R,D)};z(P,R=>{c(n)&&R($)})}ce(R=>{Bt(E,"aria-expanded",c(n)),ee(k,R)},[()=>oe.user?.name?.charAt(0).toUpperCase()||"U"]),I(b,_)},g=b=>{var _=Cd(),E=v(_);E.__click=[Pd,s];var M=v(E);ed(M,{size:16}),I(b,_)};z(p,b=>{oe.isAuthenticated?b(m):b(g,!1)})}I(t,o),X()}At(["click"]);var Nd=(t,e,n,s)=>e(c(n),c(s)),Ld=x('<button class="btn btn-sm btn-primary"> </button>'),Ud=(t,e,n)=>e(c(n)),Hd=x('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),Bd=(t,e,n)=>e(c(n)),zd=x('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),Wd=x('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),Qd=x("<div></div>");function Vd(t,e){J(e,!0);let n=xe(e,"position",3,"toast-right toast-bottom"),s=xe(e,"padding",3,"md");const r=Y(()=>s()==="sm"?"px-2 py-0.5":""),i=Y(()=>at.toasts);function a(f){return f==="success"||f==="info"}function o(f){at.dismiss(f.id)}function l(f){e.onShowDetails?.({id:f.id,message:f.message,details:f.details})}function d(f,p){p.onClick()}var u=Qd();ct(u,21,()=>c(i),f=>f.id,(f,p)=>{var m=Wd(),g=v(m),b=v(g),_=v(b);{var E=Q=>{Sa(Q,{class:"h-5 w-5 animate-spin"})};z(_,Q=>{c(p).state==="loading"&&Q(E)})}var M=w(_,2),k=v(M),P=w(b,2),$=v(P);{var R=Q=>{var G=Z(),we=W(G);ct(we,17,()=>c(p).actions,Bn,(Re,de)=>{var U=Ld();U.__click=[Nd,d,p,de];var H=v(U);ce(()=>ee(H,c(de).label)),I(Re,U)}),I(Q,G)};z($,Q=>{c(p).actions&&c(p).actions.length>0&&Q(R)})}var D=w($,2);{var q=Q=>{var G=Hd();G.__click=[Ud,l,p];var we=v(G);Kl(we,{class:"h-3 w-3"}),I(Q,G)};z(D,Q=>{c(p).details&&Q(q)})}var V=w(D,2);{var le=Q=>{var G=zd();G.__click=[Bd,o,p];var we=v(G);ds(we,{class:"h-4 w-4"}),I(Q,G)};z(V,Q=>{(c(p).state==="error"||c(p).state==="warning"||!a(c(p).state))&&Q(le)})}ce(()=>{ut(m,1,`alert alert-${c(p).state??""} max-w-sm ${c(r)??""} shadow-lg`),ee(k,c(p).message)}),I(f,m)}),ce(()=>ut(u,1,`toast ${n()??""} z-50`)),I(t,u),X()}At(["click"]);function Gd(t,e){J(e,!0),X()}co();function ni(){Ot("/eventEdit")}var Kd=x('<div class="flex items-center justify-center py-20"><!></div>'),Yd=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),Jd=x(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun événement</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé d'événement.</p> <button class="btn btn-primary btn-sm">Créer mon premier événement</button></div>`),Xd=(t,e,n)=>e(c(n).$id),Zd=x('<div class="badge badge-ghost text-xs"> </div>'),Od=x('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span>-</span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="text-base-content/70 mt-auto flex flex-wrap justify-between text-sm"><div> </div> <div> </div></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Ouvrir <!></span></div></div></button>'),Fd=x('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),eu=x('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Événements</h1> <p class="text-base-content/60">Gérez vos menus et listes de courses</p></div> <button class="btn btn-primary"><!> Nouvel Événement</button></div> <!></div>');function si(t,e){J(e,!1);function n(f){return f?new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date inconnue"}function s(f){Ot(`/eventEdit/${f}`)}fc();var r=eu(),i=v(r),a=w(v(i),2);a.__click=[ni];var o=v(a);Wn(o,{class:"mr-2 h-5 w-5"});var l=w(i,2);{var d=f=>{var p=Kd(),m=v(p);Sa(m,{class:"text-primary h-8 w-8 animate-spin"}),I(f,p)},u=f=>{var p=Z(),m=W(p);{var g=_=>{var E=Yd(),M=v(E),k=v(M);ce(()=>ee(k,Pt.error)),I(_,E)},b=_=>{var E=Z(),M=W(E);{var k=$=>{var R=Jd(),D=v(R),q=v(D);Ln(q,{class:"h-8 w-8 opacity-50"});var V=w(D,6);V.__click=[ni],I($,R)},P=$=>{var R=Fd();ct(R,5,()=>Pt.events,Bn,(D,q)=>{var V=Od();V.__click=[Xd,s,q];var le=v(V),Q=v(le),G=v(Q),we=v(G),Re=w(G,2);{var de=Ae=>{var Ne=Zd(),ke=v(Ne);ce(Ue=>ee(ke,Ue),[()=>n(c(q).dateStart)]),I(Ae,Ne)};z(Re,Ae=>{c(q).dateStart&&Ae(de)})}var U=w(Q,2),H=v(U),O=v(H);Qn(O,{class:"h-4 w-4"});var be=w(H,2),$e=v(be);Ln($e,{class:"h-4 w-4"});var _e=w($e,2),Ie=v(_e),L=w(U,2),T=v(L),N=v(T),B=w(T,2),K=v(B),ae=w(L,2),me=v(ae),Pe=w(v(me));Yl(Pe,{class:"h-4 w-4"}),ce(()=>{ee(we,c(q).name),ee(Ie,`${(c(q).allDates?.length||0)??""} jours`),ee(N,`crée le ${c(q).$createdAt??""}`),ee(K,`modifié le ${c(q).$updatedAt??""}`)}),I(D,V)}),I($,R)};z(M,$=>{Pt.count===0?$(k):$(P,!1)},!0)}I(_,E)};z(m,_=>{Pt.error?_(g):_(b,!1)},!0)}I(f,p)};z(l,f=>{Pt.loading&&Pt.count===0?f(d):f(u,!1)})}I(t,r),X()}At(["click"]);function tu(t){return e=>{t.shouldFocus&&requestAnimationFrame(()=>{e.focus()});const n=s=>{(s.key==="Enter"||s.key==="Tab")&&e instanceof HTMLInputElement&&e.value.trim()===""&&(s.preventDefault(),t.onEmptySubmit?.())};return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}}}function nu(t,e,n,s){c(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),h(n,(c(n)+1)%c(e).length)):t.key==="ArrowUp"?(t.preventDefault(),h(n,c(n)<=0?c(e).length-1:c(n)-1,!0)):(t.key==="Enter"||t.key==="Tab")&&c(n)>=0&&(t.preventDefault(),s(c(e)[c(n)])))}var su=x('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),ru=(t,e,n)=>e(c(n)),iu=x('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),au=x('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),ou=x('<div class="mt-2"><label class="input input-accent w-full"><!> <input type="text" placeholder="Rechercher une recette..."/> <!></label> <!> <!></div>'),cu=(t,e)=>h(e,null),lu=x('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),du=x('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function uu(t,e){J(e,!0);let n=xe(e,"defaultPlates",3,4),s=xe(e,"autoFocus",3,!1),r=A(""),i=A(""),a=A(Ee(n())),o=A(null),l=!1,d=A(-1),u=Y(()=>c(r).length>1?fr.searchRecipes(c(r)).slice(0,5):[]);ht(()=>{c(u).length>0&&c(d)===-1?h(d,0):c(u).length===0&&h(d,-1)});function f(){h(o,null),h(r,""),h(i,""),h(a,n()),h(d,-1)}function p(R){h(o,R,!0);const D=R.t||"plat";h(i,c(i)?c(i):D,!0),e.onSelect(R,c(i),c(a)),f()}const m=Math.random().toString(36).slice(2);var g=du(),b=v(g),_=v(b),E=v(_),M=v(E);Wn(M,{class:"text-primary h-4 w-4"});var k=w(_,2);{var P=R=>{var D=ou(),q=v(D),V=v(q);rd(V,{class:"h-4 w-4 opacity-50"});var le=w(V,2);le.__keydown=[nu,u,d,p],Yi(le,()=>tu({shouldFocus:s(),onEmptySubmit:e.onEmptySubmit}));var Q=w(le,2);z(Q,U=>{});var G=w(q,2);{var we=U=>{var H=su();I(U,H)};z(G,U=>{c(r).length>1&&c(u).length===0&&U(we)})}var Re=w(G,2);{var de=U=>{var H=au();ct(H,23,()=>c(u),O=>O.u,(O,be,$e)=>{var _e=iu(),Ie=v(_e);Ie.__click=[ru,p,be],Ie.disabled=l;var L=v(Ie),T=v(L);ls(T,{class:"h-3 w-3 opacity-70"});var N=w(L,2),B=v(N);ce(()=>{ut(Ie,1,`flex items-center gap-2 py-2 text-left ${c($e)===c(d)&&"ring-accent/40 ring-2"} `),ee(B,c(be).n)}),I(O,_e)}),I(U,H)};z(Re,U=>{c(u).length>0&&U(de)})}Ze(le,()=>c(r),U=>h(r,U)),I(R,D)},$=R=>{var D=lu(),q=v(D),V=v(q),le=v(V);ls(le,{class:"h-5 w-5"});var Q=w(V,2),G=v(Q),we=v(G),Re=w(G,2);Re.__click=[cu,o];var de=w(q,2),U=v(de),H=v(U),O=w(H,2),be=v(O);be.value=be.__value="";var $e=w(be);$e.value=$e.__value="entree";var _e=w($e);_e.value=_e.__value="plat";var Ie=w(_e);Ie.value=Ie.__value="dessert";var L=w(U,2),T=v(L),N=w(T,2);ce(()=>{ee(we,c(o).n),Bt(H,"for",`type-${m}`),Bt(O,"id",`type-${m}`),Bt(T,"for",`plates-${m}`),Bt(N,"id",`plates-${m}`)}),Ks(O,()=>c(i),B=>h(i,B)),Ze(N,()=>c(a),B=>h(a,B)),I(R,D)};z(k,R=>{c(o)?R($,!1):R(P)})}I(t,g),X()}At(["keydown","click"]);function fu(t){if(!t)return"";try{return new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return t}}const hu=t=>t;function Ls(t,{delay:e=0,duration:n=400,easing:s=hu}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function pu(t,e){return`${t}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function vu(t){return t.split("T")[0]}function ri(t){const e=parseInt(t.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function mu(t){const e=t-1;return e*e*e+1}function Ea(t,{from:e,to:n},s={}){var{delay:r=0,duration:i=R=>Math.sqrt(R)*120,easing:a=mu}=s,o=getComputedStyle(t),l=o.transform==="none"?"":o.transform,[d,u]=o.transformOrigin.split(" ").map(parseFloat);d/=t.clientWidth,u/=t.clientHeight;var f=gu(t),p=t.clientWidth/n.width/f,m=t.clientHeight/n.height/f,g=e.left+e.width*d,b=e.top+e.height*u,_=n.left+n.width*d,E=n.top+n.height*u,M=(g-_)*p,k=(b-E)*m,P=e.width/n.width,$=e.height/n.height;return{delay:r,duration:typeof i=="function"?i(Math.sqrt(M*M+k*k)):i,easing:a,css:(R,D)=>{var q=D*M,V=D*k,le=R+D*P,Q=R+D*$;return`transform: ${l} translate(${q}px, ${V}px) scale(${le}, ${Q});`}}}function gu(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}var yu=(t,e,n)=>{(t.key==="Enter"||t.key===" ")&&!e()&&n()},wu=(t,e)=>{e(!1)},bu=x(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),_u=(t,e,n)=>{e(!0),n.onEditToggle&&n.onEditToggle()},Iu=x('<button class="btn btn-ghost" title="Éditer"><!></button>'),Su=x('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Eu=(t,e,n)=>e(c(n).recipeUuid),Au=x('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),Ru=x('<div class="mb-4 space-y-2"></div>'),Pu=x('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Tu=x('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),$u=x('<div class="flex flex-wrap gap-2"></div>'),Mu=x('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),Du=x('<div class="space-y-2"><!></div>'),xu=x('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function ku(t,e){J(e,!0);let n=xe(e,"meal",15),s=xe(e,"defaultGuests",3,100),r=xe(e,"isEditing",15,!1),i=xe(e,"allDates",19,()=>[]),a=A(!1);n().guests||n(n().guests=s(),!0),n().recipes||n(n().recipes=[],!0);let o=Y(()=>ri(n().date||"")),l=A(!1),d=A(Ee(vu(n().date||""))),u=A(Ee(ri(n().date||""))),f=Y(()=>pu(c(d),c(u)));ht(()=>{const T=!p(c(f)),N=n().date;T?(n(n().date=c(f),!0),h(l,!1),e.onDateChanged&&n().id&&N!==c(f)&&e.onDateChanged(n().id,c(f)),h(l,!1)):h(l,!0)});function p(T){const N=n().date||"";return i().some(B=>B!==N&&B===T)}const m=Y(()=>{const T=c(o)||"";return T==="matin"?Zl:T==="midi"?ad:ti}),g=Y(()=>{const T={entree:1,plat:2,dessert:3};return[...n().recipes].sort((N,B)=>{const K=T[N.type]||999,ae=T[B.type]||999;return K-ae})});function b(T,N,B){if(n().recipes.some(Pe=>Pe.recipeUuid===T.u))return;const ae=B||n().guests,me={recipeUuid:T.u,plates:ae,type:N};n(n().recipes=[...n().recipes,{...me}],!0)}function _(T){n(n().recipes=n().recipes.filter(N=>N.recipeUuid!==T),!0)}function E(T){return fr.getRecipeIndexByUuid(T)}function M(){!r()&&e.onEditToggle&&(e.onEditToggle(),h(a,!0))}ht(()=>{r()&&(h(a,!0),setTimeout(()=>{h(a,!1)},100))});function k(T){return T==="entree"?"bg-lime-100 border-lime-200":T==="plat"?"bg-orange-100 border-orange-200":T==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var P=xu();P.__click=M,P.__keydown=[yu,r,M];var $=v(P),R=v($),D=v(R),q=v(D),V=v(q),le=w(q,2),Q=v(le);Ki(Q,()=>c(m),(T,N)=>{N(T,{size:16})});var G=w(Q,2),we=v(G),Re=w(le,2),de=v(Re);Qn(de,{class:"h-3 w-3"});var U=w(de),H=w(D,2),O=v(H);{var be=T=>{var N=bu(),B=W(N);B.__click=[wu,r];var K=w(B,2);K.__click=function(...Ae){e.onDuplicate?.apply(this,Ae)};var ae=v(K);Ol(ae,{class:"h-4 w-4"});var me=w(K,2);me.__click=function(...Ae){e.onDelete?.apply(this,Ae)};var Pe=v(me);od(Pe,{class:"h-4 w-4"}),I(T,N)},$e=T=>{var N=Iu();N.__click=[_u,r,e];var B=v(N);nd(B,{class:"h-4 w-4"}),I(T,N)};z(O,T=>{r()?T(be):T($e,!1)})}var _e=w(R,2);{var Ie=T=>{var N=Pu(),B=v(N),K=v(B),ae=w(v(K),2),me=w(ae,2);{var Pe=j=>{var ue=Su();I(j,ue)};z(me,j=>{c(l)&&j(Pe)})}var Ae=w(K,2),Ne=w(v(Ae),2),ke=v(Ne);ke.value=ke.__value="";var Ue=w(ke);Ue.value=Ue.__value="matin";var ze=w(Ue);ze.value=ze.__value="midi";var re=w(ze);re.value=re.__value="soir";var Ke=w(Ae,2),Ct=w(v(Ke),2),qt=w(B,2),jt=v(qt),dn=v(jt),Tn=v(dn);ld(Tn,{class:"h-4 w-4"});var un=w(jt,2);{var fn=j=>{var ue=Ru();ct(ue,31,()=>c(g),ie=>ie.recipeUuid,(ie,fe,Ce)=>{const Ye=Y(()=>E(c(fe).recipeUuid));var We=Au(),rt=v(We),Je=v(rt),he=v(Je);ls(he,{class:"h-5 w-5"});var Me=w(Je,2),Qe=v(Me),qe=v(Qe),Nt=w(rt,2),He=v(Nt),pt=v(He);pt.value=pt.__value="entree";var Rt=w(pt);Rt.value=Rt.__value="plat";var Lt=w(Rt);Lt.value=Lt.__value="dessert";var Ut=w(He,2),Aa=v(Ut),hr=w(Ut,2);hr.__click=[Eu,_,fe];var Ra=v(hr);ds(Ra,{class:"h-4 w-4"}),ce($n=>{ut(Je,1,`${$n??""} rounded-md border-2 p-2`),ee(qe,c(Ye)?.n||"Recette inconnue")},[()=>k(c(fe).type)]),Ks(He,()=>c(fe).type,$n=>c(fe).type=$n),Ze(Aa,()=>c(fe).plates,$n=>c(fe).plates=$n),ta(We,()=>Ea,()=>({duration:200})),I(ie,We)}),I(j,ue)};z(un,j=>{n().recipes.length>=1&&j(fn)})}var C=w(un,2);uu(C,{onSelect:b,get defaultPlates(){return n().guests},get autoFocus(){return c(a)},get onEmptySubmit(){return e.onEmptySearchSubmit}}),ce(()=>{ut(ae,1,`input input-bordered w-full ${c(l)?"input-error":""}`),ut(Ne,1,`select select-bordered w-full ${c(l)?"select-error":""}`)}),Ze(ae,()=>c(d),j=>h(d,j)),Ks(Ne,()=>c(u),j=>h(u,j)),Ze(Ct,()=>n().guests,j=>n(n().guests=j,!0)),I(T,N)},L=T=>{var N=Du(),B=v(N);{var K=me=>{var Pe=$u();ct(Pe,21,()=>c(g),Ae=>Ae.recipeUuid,(Ae,Ne)=>{const ke=Y(()=>E(c(Ne).recipeUuid));var Ue=Tu(),ze=v(Ue);ls(ze,{class:"h-4 w-4"});var re=w(ze,2),Ke=v(re),Ct=w(re,2),qt=v(Ct);ce(jt=>{ut(Ue,1,`badge badge-lg ${jt??""} h-auto gap-2 py-1 font-medium`),ee(Ke,c(ke)?.n||"..."),ee(qt,`${(c(Ne).plates||n().guests)??""}p`)},[()=>k(c(Ne).type)]),I(Ae,Ue)}),I(me,Pe)},ae=me=>{var Pe=Mu();I(me,Pe)};z(B,me=>{c(g).length>0?me(K):me(ae,!1)})}I(T,N)};z(_e,T=>{r()?T(Ie):T(L,!1)})}ce((T,N)=>{ut(P,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${r()?"ring-accent/40 ring-2":""} ${r()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"}`),Bt(P,"tabindex",r()?-1:0),ee(V,T),ee(we,N),ee(U,` ${n().guests??""} pers.`)},[()=>n().date?fu(n().date):"Date non définie",()=>c(o)?c(o).toUpperCase():"REPAS"]),I(t,P),X()}At(["click","keydown"]);function Cu(t,e,n,s){c(e)&&(n(n().filter(r=>r!==c(e))),h(e,null)),h(s,!1)}function qu(t,e,n,s){c(e)&&(n(n().filter(r=>parseContributor(r).id!==c(e).id)),h(e,null)),h(s,!1)}var ju=(t,e)=>h(e,!0),Nu=(t,e,n)=>e(c(n).$id),Lu=(t,e,n)=>e(c(n).$id),Uu=x('<button class="btn btn-ghost btn-xs btn-circle" title="Retirer cette équipe"><!></button>'),Hu=x('<div class="border-base-200 hover:bg-base-200/50 flex items-center justify-between rounded-lg border p-2 transition-colors"><label class="flex grow cursor-pointer items-center gap-3"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span> </span></label> <!></div>'),Bu=x('<p class="text-base-content/60 text-xs italic">Aucune équipe disponible</p>'),zu=(t,e,n)=>e(c(n).id,c(n).name,c(n).email,c(n).teamId),Wu=x('<button class="badge badge-outline badge-lg h-auto gap-1 py-1" title="Ajouter comme contributeur"><!> </button>'),Qu=x('<div class="mb-3"><p class="mb-2 text-sm font-medium">Membres des équipes sélectionnées</p> <div class="flex flex-wrap gap-2"></div></div>'),Vu=(t,e)=>t.key==="Enter"&&e(),Gu=x('<span class="loading loading-spinner loading-xs"></span>'),Ku=x('<div class="alert alert-error mt-2 py-2 text-xs"><!> </div>'),Yu=(t,e,n)=>e(c(n)),Ju=x('<div><!> <button class="btn btn-ghost btn-xs btn-circle h-4 min-h-0 w-4" title="Retirer ce contributeur"><!></button></div>'),Xu=x('<p class="text-base-content/60 text-xs italic">Aucun contributeur ajouté</p>'),Zu=(t,e)=>h(e,!1),Ou=x(`<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4">Êtes-vous sûr de vouloir retirer cette équipe des permissions ? Les
        membres de cette équipe ne pourront plus accéder à cet événement.</p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>`),Fu=(t,e)=>h(e,!1),ef=x('<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>'),tf=(t,e,n)=>e(c(n).$id),nf=x('<label class="border-base-200 flex cursor-pointer items-center gap-3 rounded-lg border p-2"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <div class="grow"><div class="font-medium"> </div> <div class="text-base-content/60 text-xs"> </div></div></label>'),sf=x(`<p class="text-base-content/60 text-xs italic">Vous n'avez accès à aucune équipe.</p>`),rf=(t,e)=>h(e,!1),af=x('<div class="modal modal-open"><div class="modal-box max-w-md"><h3 class="text-lg font-bold">Gérer les équipes</h3> <div class="py-4"><div class="flex flex-col gap-2"><!> <!></div></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div></div></div>'),of=x('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Permissions</h3> <fieldset class="fieldset"><div class="flex items-center justify-between"><legend class="fieldset-legend">Équipes</legend> <button class="btn btn-ghost btn-xs"><!> Gérer</button></div> <div class="flex flex-col gap-2"><!> <!></div></fieldset> <div class="divider my-2"></div> <fieldset class="fieldset"><legend class="fieldset-legend">Contributeurs</legend> <!> <fieldset class="fieldset mb-3"><legend class="legend">Inviter par email</legend> <label class="input validator flex gap-2"><!> <input type="email" placeholder="email@exemple.com" class="input input-sm w-full"/> <button class="btn btn-sm btn-primary"><!> Inviter</button></label> <div class="validator-hint hidden">email invalide</div> <!></fieldset> <div class="mb-3"><p class="mb-2 text-sm font-medium"> </p> <div class="flex flex-wrap gap-2"><!> <!></div></div></fieldset></div></div> <!> <!> <!>',1);function cf(t,e){J(e,!0);let n=Y(()=>{const C=[];if(r()&&r().length>0)for(const j of r())C.push(parseContributor(j));return C}),s=xe(e,"selectedTeams",31,()=>Ee([])),r=xe(e,"contributors",31,()=>Ee([])),i=xe(e,"userId",3,"");xe(e,"userTeams",19,()=>[]);let a=xe(e,"eventId",3,""),o=A(!1),l=A(!1),d=A(!1),u=A(null),f=A(null),p=A(""),m=A(!1),g=A(null),b=Y(()=>{const C=new Map;for(const j of s()){const ue=e.teamsStore.getTeamById(j);if(ue&&ue.members)for(const ie of ue.members.memberships)ie.userId!==i()&&!c(n).some(fe=>fe.id===ie.userId)&&C.set(ie.userId,{id:ie.userId,name:ie.userName,email:ie.userEmail,teamId:j})}return C}),_=Y(()=>Array.from(c(b).values()));function E(C){s().includes(C)?s(s().filter(j=>j!==C)):s([...s(),C])}function M(C){h(u,C,!0),h(l,!0)}function k(C,j,ue,ie){if(c(n).some(Ce=>Ce.id===C))return;const fe={id:C,name:j,email:ue,status:"accepted",invitedAt:new Date().toISOString(),teamId:ie};r([...r(),stringifyContributor(fe)])}async function P(){if(!c(p)){h(g,"Veuillez entrer une adresse email valide");return}if(!a()){h(g,"ID d'événement manquant pour l'invitation");return}if(c(n).some(C=>C.email===c(p))){h(g,"Cet email a déjà été invité");return}h(m,!0),h(g,null);try{const C=createTempContributor(c(p),a());await inviteContributorToEvent(c(p),a(),i()),r([...r(),stringifyContributor(C)]),h(p,"")}catch(C){console.error("Erreur lors de l'invitation:",C),h(g,"Erreur lors de l'envoi de l'invitation")}finally{h(m,!1)}}function $(C){h(f,C,!0),h(d,!0)}var R=of(),D=W(R),q=v(D),V=v(q),le=v(V);Qn(le,{class:"text-secondary h-5 w-5"});var Q=w(V,2),G=v(Q),we=w(v(G),2);we.__click=[ju,o];var Re=v(we);id(Re,{class:"mr-1 h-3 w-3"});var de=w(G,2),U=v(de);ct(U,17,()=>e.teamsStore.teams,Bn,(C,j)=>{var ue=Hu(),ie=v(ue),fe=v(ie);fe.__change=[Nu,E,j];var Ce=w(fe,2),Ye=v(Ce),We=w(ie,2);{var rt=Je=>{var he=Uu();he.__click=[Lu,M,j];var Me=v(he);ds(Me,{class:"h-3 w-3"}),I(Je,he)};z(We,Je=>{s().includes(c(j).$id)&&Je(rt)})}ce(Je=>{Tr(fe,Je),ee(Ye,c(j).name)},[()=>s().includes(c(j).$id)]),I(C,ue)});var H=w(U,2);{var O=C=>{var j=Bu();I(C,j)};z(H,C=>{e.teamsStore.teams.length===0&&C(O)})}var be=w(Q,4),$e=w(v(be),2);{var _e=C=>{var j=Qu(),ue=w(v(j),2);ct(ue,21,()=>c(_),ie=>ie.name,(ie,fe)=>{var Ce=Wu();Ce.__click=[zu,k,fe];var Ye=v(Ce);Wn(Ye,{class:"h-3 w-3"});var We=w(Ye);ce(()=>ee(We,` ${c(fe).name??""}`)),I(ie,Ce)}),I(C,j)};z($e,C=>{c(_).length>0&&C(_e)})}var Ie=w($e,2),L=w(v(Ie),2),T=v(L);Ns(T,{class:"h-4 w-4 opacity-50"});var N=w(T,2);N.__keydown=[Vu,P];var B=w(N,2);B.__click=P;var K=v(B);{var ae=C=>{var j=Gu();I(C,j)},me=C=>{Ns(C,{class:"h-4 w-4"})};z(K,C=>{c(m)?C(ae):C(me,!1)})}var Pe=w(L,4);{var Ae=C=>{var j=Ku(),ue=v(j);Jl(ue,{class:"h-3 w-3"});var ie=w(ue);ce(()=>ee(ie,` ${c(g)??""}`)),I(C,j)};z(Pe,C=>{c(g)&&C(Ae)})}var Ne=w(Ie,2),ke=v(Ne),Ue=v(ke),ze=w(ke,2),re=v(ze);ct(re,17,()=>c(n),C=>C.id,(C,j)=>{var ue=Ju();let ie;var fe=v(ue);{var Ce=he=>{Ns(he,{class:"h-3 w-3"})},Ye=he=>{var Me=Z(),Qe=W(Me);{var qe=He=>{Gl(He,{class:"h-3 w-3"})},Nt=He=>{var pt=Z(),Rt=W(pt);{var Lt=Ut=>{Xl(Ut,{class:"h-3 w-3"})};z(Rt,Ut=>{c(j).status==="declined"&&Ut(Lt)},!0)}I(He,pt)};z(Qe,He=>{c(j).status==="accepted"?He(qe):He(Nt,!1)},!0)}I(he,Me)};z(fe,he=>{c(j).status==="invited"?he(Ce):he(Ye,!1)})}var We=w(fe),rt=w(We);rt.__click=[Yu,$,j];var Je=v(rt);ds(Je,{class:"h-3 w-3"}),ce(he=>{ie=ut(ue,1,"badge badge-outline gap-2 pr-1",null,ie,he),ee(We,` ${(c(j).name||c(j).email||c(j).id)??""} `)},[()=>({"badge-success":c(j).status==="accepted"})]),I(C,ue)});var Ke=w(re,2);{var Ct=C=>{var j=Xu();I(C,j)};z(Ke,C=>{c(n).length===0&&C(Ct)})}var qt=w(D,2);{var jt=C=>{var j=Ou(),ue=v(j),ie=w(v(ue),4),fe=v(ie);fe.__click=[Zu,l];var Ce=w(fe,2);Ce.__click=[Cu,u,s,l],Ds(3,j,()=>Ls),I(C,j)};z(qt,C=>{c(l)&&C(jt)})}var dn=w(qt,2);{var Tn=C=>{var j=ef(),ue=v(j),ie=w(v(ue),2),fe=v(ie),Ce=w(ie,2),Ye=v(Ce);Ye.__click=[Fu,d];var We=w(Ye,2);We.__click=[qu,f,r,d],ce(()=>ee(fe,`Êtes-vous sûr de vouloir retirer ce contributeur ?
        ${(c(f)?.name||c(f)?.email||c(f)?.id)??""} ne pourra plus accéder à cet événement.`)),Ds(3,j,()=>Ls),I(C,j)};z(dn,C=>{c(d)&&C(Tn)})}var un=w(dn,2);{var fn=C=>{var j=af(),ue=v(j),ie=w(v(ue),2),fe=v(ie),Ce=v(fe);ct(Ce,17,()=>e.teamsStore.teams,Bn,(he,Me)=>{var Qe=nf(),qe=v(Qe);qe.__change=[tf,E,Me];var Nt=w(qe,2),He=v(Nt),pt=v(He),Rt=w(He,2),Lt=v(Rt);ce(Ut=>{Tr(qe,Ut),ee(pt,c(Me).name),ee(Lt,`${(c(Me).members?.total||0)??""} membre${c(Me).members?.total!==1?"s":""}`)},[()=>s().includes(c(Me).$id)]),I(he,Qe)});var Ye=w(Ce,2);{var We=he=>{var Me=sf();I(he,Me)};z(Ye,he=>{e.teamsStore.teams.length===0&&he(We)})}var rt=w(ie,2),Je=v(rt);Je.__click=[rf,o],Ds(3,j,()=>Ls),I(C,j)};z(un,C=>{c(o)&&C(fn)})}ce(()=>{B.disabled=c(m)||!c(p),ee(Ue,`Contributeurs (${r().length??""})`)}),Ze(N,()=>c(p),C=>h(p,C)),I(t,R),X()}At(["click","change","keydown"]);async function lf(t,e,n,s,r,i,a,o,l,d,u,f){if(!c(e)){h(n,"Veuillez renseigner le nom de l'événement");return}if(c(s).length===0){h(n,"Veuillez ajouter au moins un repas");return}h(r,!0),h(n,null);try{const p={name:c(e),dateStart:c(i),dateEnd:c(a),allDates:c(o),teams:c(l),contributors:c(d),meals:c(s)};c(u)?await Pt.updateEvent(c(u),p):await Pt.createEvent(p),f()}catch(p){console.error("Erreur lors de la sauvegarde de l'événement:",p),h(n,"Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{h(r,!1)}}var df=x('<span class="loading loading-spinner loading-sm"></span>'),uf=x(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),ff=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),hf=x('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),pf=x("<div><!></div>"),vf=x('<div class="space-y-4"></div>'),mf=x(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <!></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),gf=x('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!></div>');function ii(t,e){J(e,!0);const n=Y(()=>e.params?.id);let s=A(""),r=A(Ee([])),i=A(Ee([])),a=A(Ee([])),o=A(!1),l=A(!1),d=A(null),u=A(null);const f=Y(()=>{const L=c(a).map(T=>T.date).filter(Boolean);return[...new Set(L)].sort()}),p=Y(()=>c(f).length>0?c(f)[0]:""),m=Y(()=>c(f).length>0?c(f)[c(f).length-1]:"");ht(()=>{c(n)?(h(l,!0),h(d,null),Xn(c(n)).then(L=>{L?(h(s,L.name||"",!0),h(r,L.teams||[],!0),h(i,ba(L),!0),h(a,Zn(L).sort((T,N)=>T.date.localeCompare(N.date)),!0)):h(d,"Événement introuvable")}).catch(L=>{console.error("Erreur lors du chargement de l'événement:",L),h(d,"Erreur lors du chargement de l'événement")}).finally(()=>{h(l,!1)})):(h(s,""),h(r,[],!0),h(i,[],!0),h(a,[],!0))});function g(){history.back()}function b(){const L=Xs(6);let T;if(c(f).length===0){const B=new Date;B.setHours(12,0,0,0),T=B.toISOString()}else{const B=c(f)[c(f).length-1],K=new Date(B);K.getHours()<14?K.setHours(20,0,0,0):(K.setDate(K.getDate()+1),K.setHours(12,0,0,0)),T=K.toISOString()}if(c(a).some(B=>B.date===T)){h(d,"Un repas existe déjà à cette date et heure");return}const N={id:L,date:T,guests:100,recipes:[]};h(a,[...c(a),N].sort((B,K)=>B.date.localeCompare(K.date)),!0),h(u,L,!0)}function _(L){h(a,c(a).filter(T=>T.id!==L),!0)}function E(L){}function M(L){h(u,c(u)===L?null:L,!0)}function k(L){const T=c(a).findIndex(N=>N.id===L);if(T<c(a).length-1){const N=c(a)[T+1];N.id||(N.id=Xs(6)),h(u,N.id,!0)}else b()}function P(L,T){h(a,c(a).sort((N,B)=>N.date.localeCompare(B.date)),!0)}var $=gf(),R=v($),D=v(R),q=v(D);q.__click=g;var V=v(q);Ql(V,{class:"h-6 w-6"});var le=w(q,2),Q=v(le),G=v(Q),we=w(Q,2),Re=v(we),de=w(D,2);de.__click=[lf,s,d,a,o,p,m,f,r,i,n,g];var U=v(de);{var H=L=>{var T=df();I(L,T)},O=L=>{sd(L,{class:"mr-2 h-4 w-4"})};z(U,L=>{c(o)?L(H):L(O,!1)})}var be=w(U),$e=w(R,2);{var _e=L=>{var T=uf();I(L,T)},Ie=L=>{var T=Z(),N=W(T);{var B=ae=>{var me=ff(),Pe=v(me),Ae=v(Pe);ce(()=>ee(Ae,c(d))),I(ae,me)},K=ae=>{var me=mf(),Pe=v(me),Ae=v(Pe),Ne=v(Ae),ke=v(Ne),Ue=v(ke);Ln(Ue,{class:"text-primary h-5 w-5"});var ze=w(ke,2),re=v(ze),Ke=v(re),Ct=v(Ke);Ln(Ct,{class:"h-4 w-4 opacity-50"});var qt=w(Ct,2),jt=w(Ae,2);{let he=Y(()=>oe.userId||""),Me=Y(()=>oe.userTeams||[]);cf(jt,{get teamsStore(){return _a},get userId(){return c(he)},get userTeams(){return c(Me)},get eventId(){return c(n)},get selectedTeams(){return c(r)},set selectedTeams(Qe){h(r,Qe,!0)},get contributors(){return c(i)},set contributors(Qe){h(i,Qe,!0)}})}var dn=w(Pe,2),Tn=v(dn),un=v(Tn),fn=v(un),C=v(fn),j=v(C),ue=w(C,2);ue.__click=b;var ie=v(ue);Wn(ie,{class:"mr-1 h-4 w-4"});var fe=w(fn,2);{var Ce=he=>{var Me=hf(),Qe=v(Me),qe=v(Qe);Ln(qe,{class:"h-8 w-8 opacity-50"}),I(he,Me)},Ye=he=>{var Me=vf();ct(Me,31,()=>c(a),Qe=>Qe.id,(Qe,qe,Nt)=>{var He=pf(),pt=v(He);{let Rt=Y(()=>c(u)===c(qe).id);ku(pt,{get isEditing(){return c(Rt)},onEditToggle:()=>c(qe).id&&M(c(qe).id),onDelete:()=>c(qe).id&&_(c(qe).id),onDuplicate:()=>c(qe).id&&(c(qe).id,void 0),get allDates(){return c(f)},onEmptySearchSubmit:()=>c(qe).id&&k(c(qe).id),onDateChanged:P,get meal(){return c(a)[c(Nt)]},set meal(Lt){c(a)[c(Nt)]=Lt}})}ta(He,()=>Ea,()=>({delay:100,duration:400})),I(Qe,He)}),I(he,Me)};z(fe,he=>{c(a).length===0?he(Ce):he(Ye,!1)})}var We=w(fe,2),rt=v(We);rt.__click=b;var Je=v(rt);Wn(Je,{class:"mr-1 h-4 w-4"}),ce(()=>ee(j,`Repas & Menus (${c(a).length??""})`)),Ze(qt,()=>c(s),he=>h(s,he)),I(ae,me)};z(N,ae=>{c(d)?ae(B):ae(K,!1)},!0)}I(L,T)};z($e,L=>{c(l)?L(_e):L(Ie,!1)})}ce(()=>{ee(G,`${c(n)?"Éditer":"Nouvel"} Événement`),ee(Re,c(n)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),de.disabled=c(o)||c(l),ee(be,` ${c(n)?"Enregistrer":"Créer l'événement"}`)}),I(t,$),X()}At(["click"]);async function yf(t,e,n,s){if(c(e).length<8){alert("Le mot de passe doit faire au moins 8 caractères.");return}h(n,!0);try{const{client:r,account:i}=await se();await i.updatePassword({password:c(e)}),c(s)&&await i.updateName({name:c(s)});const a=await i.get();await i.createEmailPasswordSession({email:a.email,password:c(e)}),console.log("[AcceptInvite] Session créée, redirection..."),Ot("/dashboard")}catch(r){console.error("[AcceptInvite] Erreur finalisation:",r),alert("Erreur : "+r.message),h(n,!1)}}var wf=x(`<span class="loading loading-spinner loading-lg text-primary mx-auto"></span> <p class="text-base-content/70 mt-4">Vérification de l'invitation...</p>`,1),bf=()=>Ot("/"),_f=x(`<!> <h2 class="text-error text-xl font-bold">Oups !</h2> <p class="py-4"> </p> <button class="btn btn-ghost">Retour à l'accueil</button>`,1),If=x('<span class="loading loading-spinner loading-xs"></span>'),Sf=x(`<div class="mb-2 text-4xl">👋</div> <h2 class="card-title justify-center text-2xl">Bienvenue !</h2> <p class="text-base-content/70 mb-6 text-sm">Votre invitation est validée. <br/> Veuillez définir un mot de passe.</p> <label class="w-full text-left"><div class="label"><span class="label-text">Votre Pseudo / Nom</span></div> <input type="text" class="input w-full" placeholder="Ex: Chef Gusto"/></label> <label class="mt-3 w-full text-left"><div class="label"><span class="label-text">Nouveau mot de passe</span></div> <input type="password" placeholder="Minimum 8 caractères" class="input w-full"/></label> <div class="card-actions mt-6"><button class="btn btn-primary w-full"><!> Terminer l'inscription</button></div>`,1),Ef=x('<div class="bg-base-200 flex min-h-screen items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body text-center"><!></div></div></div>');function Af(t,e){J(e,!0);let n=A(!0),s=A("verifying"),r=A(""),i=A(""),a=A(""),o="",l="";na(async()=>{if(o=js("userId")||"",l=js("secret")||"",js("teamId"),!o||!l){h(s,"error"),h(r,"Lien d'invitation incomplet ou invalide."),h(n,!1);return}try{console.log("[AcceptInvite] Initialisation avec JWT...");const{client:b,account:_}=await se();b.setJWT(l);const E=await _.get();console.log("[AcceptInvite] Token valide pour :",E.name),h(a,E.name,!0),E.passwordUpdate,h(s,"set-password")}catch(b){console.error("[AcceptInvite] Erreur validation:",b),h(s,"error"),h(r,"Ce lien d'invitation a expiré ou est invalide.")}finally{h(n,!1)}});var d=Ef(),u=v(d),f=v(u),p=v(f);{var m=b=>{var _=wf();I(b,_)},g=b=>{var _=Z(),E=W(_);{var M=P=>{var $=_f(),R=W($);cd(R,{class:"text-error mb-2 size-7"});var D=w(R,4),q=v(D),V=w(D,2);V.__click=[bf],ce(()=>ee(q,c(r))),I(P,$)},k=P=>{var $=Z(),R=W($);{var D=q=>{var V=Sf(),le=w(W(V),6),Q=w(v(le),2),G=w(le,2),we=w(v(G),2),Re=w(G,2),de=v(Re);de.__click=[yf,i,n,a];var U=v(de);{var H=O=>{var be=If();I(O,be)};z(U,O=>{c(n)&&O(H)})}ce(()=>de.disabled=c(n)),Ze(Q,()=>c(a),O=>h(a,O)),Ze(we,()=>c(i),O=>h(i,O)),I(q,V)};z(R,q=>{c(s)==="set-password"&&q(D)},!0)}I(P,$)};z(E,P=>{c(s)==="error"?P(M):P(k,!1)},!0)}I(b,_)};z(p,b=>{c(n)&&c(s)!=="set-password"?b(m):b(g,!1)})}I(t,d),X()}At(["click"]);var Rf=x('<div class="flex items-center justify-center py-20"><p class="text-slate-400">Chargement...</p></div>'),Pf=x("<!> <!>",1),Tf=x("<!> <!> <!> <!>",1);function $f(t,e){J(e,!0);let n=A(null);mt.addRoute("/",si),mt.addRoute("/dashboard",si),mt.addRoute("/eventEdit",ii),mt.addRoute("/eventEdit/:id",ii),mt.addRoute("/accept-invite",Af);let s=A(null);ht(()=>{!oe.isAuthenticated&&mt.path!=="/"&&mt.path!=="/accept-invite"&&(window.location.hash="/",window.location.pathname="/")}),ht(()=>{mt.match().then(b=>{h(s,b,!0)})});async function r(){try{await oe.initializeAuth()}catch(b){console.error("Erreur d'initialisation auth:",b)}}async function i(){try{await Promise.all([_a.initialize(),fr.initialize(),Pt.initialize()])}catch(b){console.error("Erreur d'initialisation dashboard:",b),h(n,b.message||"Erreur inconnue lors de l'initialisation",!0)}}na(()=>{(async()=>(await r(),oe.isAuthenticated&&(window.location.pathname=="/"&&(window.location.pathname="/a"),await i())))()});let a=Y(()=>c(n)||wl.error);var o=Tf(),l=W(o);jd(l,{});var d=w(l,2);{var u=b=>{const _=Y(()=>c(s).component);var E=Z(),M=W(E);Ki(M,()=>c(_),(k,P)=>{P(k,{get params(){return c(s).params},get query(){return c(s).query}})}),I(b,E)},f=b=>{var _=Rf();I(b,_)};z(d,b=>{c(s)?b(u):b(f,!1)})}var p=w(d,2);Vd(p,{});var m=w(p,2);{var g=b=>{var _=Pf(),E=W(_);{var M=P=>{Hl(P,{get message(){return c(a)}})};z(E,P=>{c(a)&&P(M)})}var k=w(E,2);Gd(k,{get isOpen(){return oe.isConflictModalOpen},get conflictData(){return oe.conflictData}}),I(b,_)};z(m,b=>{oe.isAuthenticated&&b(g)})}I(t,o),X()}let Vn=null;window.location.pathname.startsWith("/a")?Vn=document.getElementById("app"):Vn=document.getElementById("svelte-header");if(!Vn)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${Vn.id}`);Jo($f,{target:Vn});
