(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const ss=!1;var Yn=Array.isArray,ki=Array.prototype.indexOf,Jr=Array.from,jr=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,$i=Object.getOwnPropertyDescriptors,is=Object.prototype,Ci=Array.prototype,Or=Object.getPrototypeOf,ha=Object.isExtensible;function In(n){return typeof n=="function"}const me=()=>{};function qi(n){for(var e=0;e<n.length;e++)n[e]()}function os(){var n,e,t=new Promise((r,a)=>{n=r,e=a});return{promise:t,resolve:n,reject:e}}function cs(n,e){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const t=[];for(const r of n)if(t.push(r),t.length===e)break;return t}const st=2,Yr=4,Xr=8,hn=16,zt=32,pn=64,Zr=128,wt=256,lr=512,Ye=1024,ft=2048,Ft=4096,Et=8192,vn=16384,Fr=32768,mn=65536,pa=1<<17,ji=1<<18,Pn=1<<19,Ni=1<<20,Nr=1<<21,pr=1<<22,sn=1<<23,on=Symbol("$state"),ls=Symbol("legacy props"),Li=Symbol(""),zn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ui(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Hi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Bi(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vi(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Qi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wi(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ki(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ji(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Oi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const vr=1,mr=2,ds=4,Yi=8,Xi=16,Zi=1,Fi=4,eo=8,to=16,no=1,ro=2,Be=Symbol(),ao="http://www.w3.org/1999/xhtml",so="http://www.w3.org/2000/svg",io="@attach";function oo(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function co(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let lo=!1;function us(n){return n===this.v}function uo(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function fo(n,e){return n!==e}function fs(n){return!uo(n,this.v)}let ho=!1;const po=[];function wn(n,e=!1,t=!1){return sr(n,new Map,"",po,null,t)}function sr(n,e,t,r,a=null,s=!1){if(typeof n=="object"&&n!==null){var i=e.get(n);if(i!==void 0)return i;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(Yn(n)){var o=Array(n.length);e.set(n,o),a!==null&&e.set(a,o);for(var l=0;l<n.length;l+=1){var d=n[l];l in n&&(o[l]=sr(d,e,t,r,null,s))}return o}if(Or(n)===is){o={},e.set(n,o),a!==null&&e.set(a,o);for(var f in n)o[f]=sr(n[f],e,t,r,null,s);return o}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function"&&!s)return sr(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}let ht=null;function En(n){ht=n}function ce(n,e=!1,t){ht={p:ht,c:null,e:null,s:n,x:null,l:null}}function le(n){var e=ht,t=e.e;if(t!==null){e.e=null;for(var r of t)Ms(r)}return ht=e.p,{}}function hs(){return!0}let nn=[];function ps(){var n=nn;nn=[],qi(n)}function Xt(n){if(nn.length===0&&!Vn){var e=nn;queueMicrotask(()=>{e===nn&&ps()})}nn.push(n)}function vo(){for(;nn.length>0;)ps()}const mo=new WeakMap;function vs(n){var e=Ee;if(e===null)return Ae.f|=sn,n;if((e.f&Fr)===0){if((e.f&Zr)===0)throw!e.parent&&n instanceof Error&&ms(n),n;e.b.error(n)}else xn(n,e)}function xn(n,e){for(;e!==null;){if((e.f&Zr)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&ms(n),n}function ms(n){const e=mo.get(n);e&&(jr(n,"message",{value:e.message}),jr(n,"stack",{value:e.stack}))}const nr=new Set;let $e=null,ir=null,Lr=new Set,Mt=[],gr=null,Ur=!1,Vn=!1;class yt{current=new Map;#e=new Map;#t=new Set;#n=0;#s=null;#r=[];#o=[];#i=[];#l=[];#u=[];#d=[];skipped_effects=new Set;process(e){Mt=[],ir=null;var t=yt.apply(this);for(const s of e)this.#f(s);if(this.#n===0){this.#h();var r=this.#o,a=this.#i;this.#o=[],this.#i=[],this.#l=[],ir=this,$e=null,va(r),va(a),ir=null,this.#s?.resolve()}else this.#a(this.#o),this.#a(this.#i),this.#a(this.#l);t();for(const s of this.#r)Gn(s);this.#r=[]}#f(e){e.f^=Ye;for(var t=e.first;t!==null;){var r=t.f,a=(r&(zt|pn))!==0,s=a&&(r&Ye)!==0,i=s||(r&Et)!==0||this.skipped_effects.has(t);if(!i&&t.fn!==null){a?t.f^=Ye:(r&Yr)!==0?this.#i.push(t):(r&Ye)===0&&((r&pr)!==0&&t.b?.is_pending()?this.#r.push(t):Ir(t)&&((t.f&hn)!==0&&this.#l.push(t),Gn(t)));var o=t.first;if(o!==null){t=o;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}}#a(e){for(const t of e)((t.f&ft)!==0?this.#u:this.#d).push(t),Fe(t,Ye);e.length=0}capture(e,t){this.#e.has(e)||this.#e.set(e,t),this.current.set(e,e.v)}activate(){$e=this}deactivate(){$e=null}flush(){if(Mt.length>0){if(this.activate(),gs(),$e!==null&&$e!==this)return}else this.#n===0&&this.#h();this.deactivate();for(const e of Lr)if(Lr.delete(e),e(),$e!==null)break}#h(){for(const e of this.#t)e();if(this.#t.clear(),nr.size>1){this.#e.clear();let e=!0;for(const t of nr){if(t===this){e=!1;continue}for(const[r,a]of this.current){if(t.current.has(r))if(e)t.current.set(r,a);else continue;ys(r)}if(Mt.length>0){$e=t;const r=yt.apply(t);for(const a of Mt)t.#f(a);Mt=[],r()}}$e=null}nr.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#u)Fe(e,ft),ln(e);for(const e of this.#d)Fe(e,Ft),ln(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#s??=os()).promise}static ensure(){if($e===null){const e=$e=new yt;nr.add($e),Vn||yt.enqueue(()=>{$e===e&&e.flush()})}return $e}static enqueue(e){Xt(e)}static apply(e){return me}}function go(n){var e=Vn;Vn=!0;try{for(var t;;){if(vo(),Mt.length===0&&($e?.flush(),Mt.length===0))return gr=null,t;gs()}}finally{Vn=e}}function gs(){var n=Sn;Ur=!0;try{var e=0;for(ba(!0);Mt.length>0;){var t=yt.ensure();if(e++>1e3){var r,a;yo()}t.process(Mt),Ot.clear()}}finally{Ur=!1,ba(n),gr=null}}function yo(){try{Qi()}catch(n){xn(n,gr)}}let tn=null;function va(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(vn|Et))===0&&Ir(r)&&(tn=[],Gn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?js(r):r.fn=null),tn?.length>0)){Ot.clear();for(const a of tn)Gn(a);tn=[]}}tn=null}}function ys(n){if(n.reactions!==null)for(const e of n.reactions){const t=e.f;(t&st)!==0?ys(e):(t&(pr|hn))!==0&&(Fe(e,ft),ln(e))}}function ln(n){for(var e=gr=n;e.parent!==null;){e=e.parent;var t=e.f;if(Ur&&e===Ee&&(t&hn)!==0)return;if((t&(pn|zt))!==0){if((t&Ye)===0)return;e.f^=Ye}}Mt.push(e)}function ea(n){let e=0,t=Zt(0),r;return()=>{$o()&&(c(t),ks(()=>(e===0&&(r=Rn(()=>n(()=>kt(t)))),e+=1,()=>{Xt(()=>{e-=1,e===0&&(r?.(),r=void 0,kt(t))})})))}}var bo=mn|Pn|Zr;function wo(n,e,t){new _o(n,e,t)}class _o{parent;#e=!1;#t;#n=null;#s;#r;#o;#i=null;#l=null;#u=null;#d=null;#f=0;#a=0;#h=!1;#p=null;#v=()=>{this.#p&&An(this.#p,this.#f)};#b=ea(()=>(this.#p=Zt(this.#f),()=>{this.#p=null}));constructor(e,t,r){this.#t=e,this.#s=t,this.#r=r,this.parent=Ee.b,this.#e=!!this.#s.pending,this.#o=Wt(()=>{Ee.b=this;{try{this.#i=We(()=>r(this.#t))}catch(a){this.error(a)}this.#a>0?this.#g():this.#e=!1}},bo)}#m(){try{this.#i=We(()=>this.#r(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#s.pending;e&&(this.#l=We(()=>e(this.#t)),yt.enqueue(()=>{this.#i=this.#c(()=>(yt.ensure(),We(()=>this.#r(this.#t)))),this.#a>0?this.#g():(Ut(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#c(e){var t=Ee,r=Ae,a=ht;jt(this.#o),at(this.#o),En(this.#o.ctx);try{return e()}catch(s){return vs(s),null}finally{jt(t),at(r),En(a)}}#g(){const e=this.#s.pending;this.#i!==null&&(this.#d=document.createDocumentFragment(),Io(this.#i,this.#d)),this.#l===null&&(this.#l=We(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#a+=e,this.#a===0&&(this.#e=!1,this.#l&&Ut(this.#l,()=>{this.#l=null}),this.#d&&(this.#t.before(this.#d),this.#d=null),Xt(()=>{yt.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,Lr.add(this.#v)}get_effect_pending(){return this.#b(),c(this.#p)}error(e){var t=this.#s.onerror;let r=this.#s.failed;if(this.#h||!t&&!r)throw e;this.#i&&(Ke(this.#i),this.#i=null),this.#l&&(Ke(this.#l),this.#l=null),this.#u&&(Ke(this.#u),this.#u=null);var a=!1,s=!1;const i=()=>{if(a){co();return}a=!0,s&&Oi(),yt.ensure(),this.#f=0,this.#u!==null&&Ut(this.#u,()=>{this.#u=null}),this.#e=this.has_pending_snippet(),this.#i=this.#c(()=>(this.#h=!1,We(()=>this.#r(this.#t)))),this.#a>0?this.#g():this.#e=!1};var o=Ae;try{at(null),s=!0,t?.(e,i),s=!1}catch(l){xn(l,this.#o&&this.#o.parent)}finally{at(o)}r&&Xt(()=>{this.#u=this.#c(()=>{this.#h=!0;try{return We(()=>{r(this.#t,()=>e,()=>i)})}catch(l){return xn(l,this.#o.parent),null}finally{this.#h=!1}})})}}function Io(n,e){for(var t=n.nodes_start,r=n.nodes_end;t!==null;){var a=t===r?null:Xn(t);e.append(t),t=a}}function bs(n,e,t){const r=yr;if(e.length===0){t(n.map(r));return}var a=$e,s=Ee,i=So();Promise.all(e.map(o=>Eo(o))).then(o=>{i();try{t([...n.map(r),...o])}catch(l){(s.f&vn)===0&&xn(l,s)}a?.deactivate(),ws()}).catch(o=>{xn(o,s)})}function So(){var n=Ee,e=Ae,t=ht,r=$e;return function(){jt(n),at(e),En(t),r?.activate()}}function ws(){jt(null),at(null),En(null)}function yr(n){var e=st|ft,t=Ae!==null&&(Ae.f&st)!==0?Ae:null;return Ee===null||t!==null&&(t.f&wt)!==0?e|=wt:Ee.f|=Pn,{ctx:ht,deps:null,effects:null,equals:us,f:e,fn:n,reactions:null,rv:0,v:Be,wv:0,parent:t??Ee,ac:null}}function Eo(n,e){let t=Ee;t===null&&Hi();var r=t.b,a=void 0,s=Zt(Be),i=!Ae,o=new Map;return qo(()=>{var l=os();a=l.promise;try{Promise.resolve(n()).then(l.resolve,l.reject)}catch(v){l.reject(v)}var d=$e,f=r.is_pending();i&&(r.update_pending_count(1),f||(d.increment(),o.get(d)?.reject(zn),o.set(d,l)));const h=(v,y=void 0)=>{f||d.activate(),y?y!==zn&&(s.f|=sn,An(s,y)):((s.f&sn)!==0&&(s.f^=sn),An(s,v)),i&&(r.update_pending_count(-1),f||d.decrement()),ws()};l.promise.then(h,v=>h(null,v||"unknown"))}),Ds(()=>{for(const l of o.values())l.reject(zn)}),new Promise(l=>{function d(f){function h(){f===a?l(s):d(a)}f.then(h,h)}d(a)})}function X(n){const e=yr(n);return Us(e),e}function _s(n){const e=yr(n);return e.equals=fs,e}function Is(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Ke(e[t])}}function xo(n){for(var e=n.parent;e!==null;){if((e.f&st)===0)return e;e=e.parent}return null}function ta(n){var e,t=Ee;jt(xo(n));try{Is(n),e=Vs(n)}finally{jt(t)}return e}function Ss(n){var e=ta(n);if(n.equals(e)||(n.v=e,n.wv=Bs()),!gn){var t=(Gt||(n.f&wt)!==0)&&n.deps!==null?Ft:Ye;Fe(n,t)}}const Ot=new Map;function Zt(n,e){var t={f:0,v:n,reactions:null,equals:us,rv:0,wv:0};return t}function q(n,e){const t=Zt(n);return Us(t),t}function Ao(n,e=!1,t=!0){const r=Zt(n);return e||(r.equals=fs),r}function p(n,e,t=!1){Ae!==null&&(!St||(Ae.f&pa)!==0)&&hs()&&(Ae.f&(st|hn|pr|pa))!==0&&!Ht?.includes(n)&&Ji();let r=t?Pe(e):e;return An(n,r)}function An(n,e){if(!n.equals(e)){var t=n.v;gn?Ot.set(n,e):Ot.set(n,t),n.v=e;var r=yt.ensure();r.capture(n,t),(n.f&st)!==0&&((n.f&ft)!==0&&ta(n),Fe(n,(n.f&wt)===0?Ye:Ft)),n.wv=Bs(),Es(n,ft),Ee!==null&&(Ee.f&Ye)!==0&&(Ee.f&(zt|pn))===0&&(mt===null?No([n]):mt.push(n))}return e}function kt(n){p(n,n.v+1)}function Es(n,e){var t=n.reactions;if(t!==null)for(var r=t.length,a=0;a<r;a++){var s=t[a],i=s.f,o=(i&ft)===0;o&&Fe(s,e),(i&st)!==0?Es(s,Ft):o&&((i&hn)!==0&&tn!==null&&tn.push(s),ln(s))}}function Pe(n){if(typeof n!="object"||n===null||on in n)return n;const e=Or(n);if(e!==is&&e!==Ci)return n;var t=new Map,r=Yn(n),a=q(0),s=Bt,i=o=>{if(Bt===s)return o();var l=Ae,d=Bt;at(null),_a(s);var f=o();return at(l),_a(d),f};return r&&t.set("length",q(n.length)),new Proxy(n,{defineProperty(o,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Gi();var f=t.get(l);return f===void 0?f=i(()=>{var h=q(d.value);return t.set(l,h),h}):p(f,d.value,!0),!0},deleteProperty(o,l){var d=t.get(l);if(d===void 0){if(l in o){const f=i(()=>q(Be));t.set(l,f),kt(a)}}else p(d,Be),kt(a);return!0},get(o,l,d){if(l===on)return n;var f=t.get(l),h=l in o;if(f===void 0&&(!h||Jt(o,l)?.writable)&&(f=i(()=>{var y=Pe(h?o[l]:Be),b=q(y);return b}),t.set(l,f)),f!==void 0){var v=c(f);return v===Be?void 0:v}return Reflect.get(o,l,d)},getOwnPropertyDescriptor(o,l){var d=Reflect.getOwnPropertyDescriptor(o,l);if(d&&"value"in d){var f=t.get(l);f&&(d.value=c(f))}else if(d===void 0){var h=t.get(l),v=h?.v;if(h!==void 0&&v!==Be)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(o,l){if(l===on)return!0;var d=t.get(l),f=d!==void 0&&d.v!==Be||Reflect.has(o,l);if(d!==void 0||Ee!==null&&(!f||Jt(o,l)?.writable)){d===void 0&&(d=i(()=>{var v=f?Pe(o[l]):Be,y=q(v);return y}),t.set(l,d));var h=c(d);if(h===Be)return!1}return f},set(o,l,d,f){var h=t.get(l),v=l in o;if(r&&l==="length")for(var y=d;y<h.v;y+=1){var b=t.get(y+"");b!==void 0?p(b,Be):y in o&&(b=i(()=>q(Be)),t.set(y+"",b))}if(h===void 0)(!v||Jt(o,l)?.writable)&&(h=i(()=>q(void 0)),p(h,Pe(d)),t.set(l,h));else{v=h.v!==Be;var _=i(()=>Pe(d));p(h,_)}var w=Reflect.getOwnPropertyDescriptor(o,l);if(w?.set&&w.set.call(f,d),!v){if(r&&typeof l=="string"){var A=t.get("length"),E=Number(l);Number.isInteger(E)&&E>=A.v&&p(A,E+1)}kt(a)}return!0},ownKeys(o){c(a);var l=Reflect.ownKeys(o).filter(h=>{var v=t.get(h);return v===void 0||v.v!==Be});for(var[d,f]of t)f.v!==Be&&!(d in o)&&l.push(d);return l},setPrototypeOf(){Ki()}})}function ma(n){try{if(n!==null&&typeof n=="object"&&on in n)return n[on]}catch{}return n}function Ro(n,e){return Object.is(ma(n),ma(e))}var ga,xs,As,Rs;function To(){if(ga===void 0){ga=window,xs=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;As=Jt(e,"firstChild").get,Rs=Jt(e,"nextSibling").get,ha(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),ha(t)&&(t.__t=void 0)}}function Vt(n=""){return document.createTextNode(n)}function qt(n){return As.call(n)}function Xn(n){return Rs.call(n)}function u(n,e){return qt(n)}function z(n,e=!1){{var t=qt(n);return t instanceof Comment&&t.data===""?Xn(t):t}}function m(n,e=1,t=!1){let r=n;for(;e--;)r=Xn(r);return r}function Po(n){n.textContent=""}function br(){return!1}function Ts(n,e){if(e){const t=document.body;n.autofocus=!0,Xt(()=>{document.activeElement===t&&n.focus()})}}let ya=!1;function Do(){ya||(ya=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function wr(n){var e=Ae,t=Ee;at(null),jt(null);try{return n()}finally{at(e),jt(t)}}function Ps(n,e,t,r=t){n.addEventListener(e,()=>wr(t));const a=n.__on_r;a?n.__on_r=()=>{a(),r(!0)}:n.__on_r=()=>r(!0),Do()}function Mo(n){Ee===null&&Ae===null&&Vi(),Ae!==null&&(Ae.f&wt)!==0&&Ee===null&&zi(),gn&&Bi()}function ko(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Qt(n,e,t,r=!0){var a=Ee;a!==null&&(a.f&Et)!==0&&(n|=Et);var s={ctx:ht,deps:null,nodes_start:null,nodes_end:null,f:n|ft,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Gn(s),s.f|=Fr}catch(l){throw Ke(s),l}else e!==null&&ln(s);if(r){var i=s;if(t&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Pn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&ko(i,a),Ae!==null&&(Ae.f&st)!==0&&(n&pn)===0)){var o=Ae;(o.effects??=[]).push(i)}}return s}function $o(){return Ae!==null&&!St}function Ds(n){const e=Qt(Xr,null,!1);return Fe(e,Ye),e.teardown=n,e}function ut(n){Mo();var e=Ee.f,t=!Ae&&(e&zt)!==0&&(e&Fr)===0;if(t){var r=ht;(r.e??=[]).push(n)}else return Ms(n)}function Ms(n){return Qt(Yr|Ni,n,!1)}function Co(n){yt.ensure();const e=Qt(pn|Pn,n,!0);return(t={})=>new Promise(r=>{t.outro?Ut(e,()=>{Ke(e),r(void 0)}):(Ke(e),r(void 0))})}function na(n){return Qt(Yr,n,!1)}function qo(n){return Qt(pr|Pn,n,!0)}function ks(n,e=0){return Qt(Xr|e,n,!0)}function Q(n,e=[],t=[]){bs(e,t,r=>{Qt(Xr,()=>n(...r.map(c)),!0)})}function Wt(n,e=0){var t=Qt(hn|e,n,!0);return t}function We(n,e=!0){return Qt(zt|Pn,n,!0,e)}function $s(n){var e=n.teardown;if(e!==null){const t=gn,r=Ae;wa(!0),at(null);try{e.call(null)}finally{wa(t),at(r)}}}function Cs(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const a=t.ac;a!==null&&wr(()=>{a.abort(zn)});var r=t.next;(t.f&pn)!==0?t.parent=null:Ke(t,e),t=r}}function jo(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&zt)===0&&Ke(e),e=t}}function Ke(n,e=!0){var t=!1;(e||(n.f&ji)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(qs(n.nodes_start,n.nodes_end),t=!0),Cs(n,e&&!t),dr(n,0),Fe(n,vn);var r=n.transitions;if(r!==null)for(const s of r)s.stop();$s(n);var a=n.parent;a!==null&&a.first!==null&&js(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function qs(n,e){for(;n!==null;){var t=n===e?null:Xn(n);n.remove(),n=t}}function js(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function Ut(n,e){var t=[];ra(n,t,!0),Ns(t,()=>{Ke(n),e&&e()})}function Ns(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var a of n)a.out(r)}else e()}function ra(n,e,t){if((n.f&Et)===0){if(n.f^=Et,n.transitions!==null)for(const i of n.transitions)(i.is_global||t)&&e.push(i);for(var r=n.first;r!==null;){var a=r.next,s=(r.f&mn)!==0||(r.f&zt)!==0;ra(r,e,s?t:!1),r=a}}}function _r(n){Ls(n,!0)}function Ls(n,e){if((n.f&Et)!==0){n.f^=Et,(n.f&Ye)===0&&(Fe(n,ft),ln(n));for(var t=n.first;t!==null;){var r=t.next,a=(t.f&mn)!==0||(t.f&zt)!==0;Ls(t,a?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Sn=!1;function ba(n){Sn=n}let gn=!1;function wa(n){gn=n}let Ae=null,St=!1;function at(n){Ae=n}let Ee=null;function jt(n){Ee=n}let Ht=null;function Us(n){Ae!==null&&(Ht===null?Ht=[n]:Ht.push(n))}let Xe=null,dt=0,mt=null;function No(n){mt=n}let Hs=1,Wn=0,Bt=Wn;function _a(n){Bt=n}let Gt=!1;function Bs(){return++Hs}function Ir(n){var e=n.f;if((e&ft)!==0)return!0;if((e&Ft)!==0){var t=n.deps,r=(e&wt)!==0;if(t!==null){var a,s,i=(e&lr)!==0,o=r&&Ee!==null&&!Gt,l=t.length;if((i||o)&&(Ee===null||(Ee.f&vn)===0)){var d=n,f=d.parent;for(a=0;a<l;a++)s=t[a],(i||!s?.reactions?.includes(d))&&(s.reactions??=[]).push(d);i&&(d.f^=lr),o&&f!==null&&(f.f&wt)===0&&(d.f^=wt)}for(a=0;a<l;a++)if(s=t[a],Ir(s)&&Ss(s),s.wv>n.wv)return!0}(!r||Ee!==null&&!Gt)&&Fe(n,Ye)}return!1}function zs(n,e,t=!0){var r=n.reactions;if(r!==null&&!Ht?.includes(n))for(var a=0;a<r.length;a++){var s=r[a];(s.f&st)!==0?zs(s,e,!1):e===s&&(t?Fe(s,ft):(s.f&Ye)!==0&&Fe(s,Ft),ln(s))}}function Vs(n){var e=Xe,t=dt,r=mt,a=Ae,s=Gt,i=Ht,o=ht,l=St,d=Bt,f=n.f;Xe=null,dt=0,mt=null,Gt=(f&wt)!==0&&(St||!Sn||Ae===null),Ae=(f&(zt|pn))===0?n:null,Ht=null,En(n.ctx),St=!1,Bt=++Wn,n.ac!==null&&(wr(()=>{n.ac.abort(zn)}),n.ac=null);try{n.f|=Nr;var h=n.fn,v=h(),y=n.deps;if(Xe!==null){var b;if(dr(n,dt),y!==null&&dt>0)for(y.length=dt+Xe.length,b=0;b<Xe.length;b++)y[dt+b]=Xe[b];else n.deps=y=Xe;if(!Gt||(f&st)!==0&&n.reactions!==null)for(b=dt;b<y.length;b++)(y[b].reactions??=[]).push(n)}else y!==null&&dt<y.length&&(dr(n,dt),y.length=dt);if(hs()&&mt!==null&&!St&&y!==null&&(n.f&(st|Ft|ft))===0)for(b=0;b<mt.length;b++)zs(mt[b],n);return a!==null&&a!==n&&(Wn++,mt!==null&&(r===null?r=mt:r.push(...mt))),(n.f&sn)!==0&&(n.f^=sn),v}catch(_){return vs(_)}finally{n.f^=Nr,Xe=e,dt=t,mt=r,Ae=a,Gt=s,Ht=i,En(o),St=l,Bt=d}}function Lo(n,e){let t=e.reactions;if(t!==null){var r=ki.call(t,n);if(r!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[r]=t[a],t.pop())}}t===null&&(e.f&st)!==0&&(Xe===null||!Xe.includes(e))&&(Fe(e,Ft),(e.f&(wt|lr))===0&&(e.f^=lr),Is(e),dr(e,0))}function dr(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Lo(n,t[r])}function Gn(n){var e=n.f;if((e&vn)===0){Fe(n,Ye);var t=Ee,r=Sn;Ee=n,Sn=!0;try{(e&hn)!==0?jo(n):Cs(n),$s(n);var a=Vs(n);n.teardown=typeof a=="function"?a:null,n.wv=Hs;var s;ss&&ho&&(n.f&ft)!==0&&n.deps}finally{Sn=r,Ee=t}}}async function Uo(){await Promise.resolve(),go()}function c(n){var e=n.f,t=(e&st)!==0;if(Ae!==null&&!St){var r=Ee!==null&&(Ee.f&vn)!==0;if(!r&&!Ht?.includes(n)){var a=Ae.deps;if((Ae.f&Nr)!==0)n.rv<Wn&&(n.rv=Wn,Xe===null&&a!==null&&a[dt]===n?dt++:Xe===null?Xe=[n]:(!Gt||!Xe.includes(n))&&Xe.push(n));else{(Ae.deps??=[]).push(n);var s=n.reactions;s===null?n.reactions=[Ae]:s.includes(Ae)||s.push(Ae)}}}else if(t&&n.deps===null&&n.effects===null){var i=n,o=i.parent;o!==null&&(o.f&wt)===0&&(i.f^=wt)}if(gn){if(Ot.has(n))return Ot.get(n);if(t){i=n;var l=i.v;return((i.f&Ye)===0&&i.reactions!==null||Qs(i))&&(l=ta(i)),Ot.set(i,l),l}}else t&&(i=n,Ir(i)&&Ss(i));if((n.f&sn)!==0)throw n.v;return n.v}function Qs(n){if(n.v===Be)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(Ot.has(e)||(e.f&st)!==0&&Qs(e))return!0;return!1}function Rn(n){var e=St;try{return St=!0,n()}finally{St=e}}const Ho=-7169;function Fe(n,e){n.f=n.f&Ho|e}function Bo(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const zo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Vo(n){return zo.includes(n)}const Qo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Wo(n){return n=n.toLowerCase(),Qo[n]??n}const Go=["touchstart","touchmove"];function Ko(n){return Go.includes(n)}const Ws=new Set,Hr=new Set;function Gs(n,e,t,r={}){function a(s){if(r.capture||Hn.call(e,s),!s.cancelBubble)return wr(()=>t?.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Xt(()=>{e.addEventListener(n,a,r)}):e.addEventListener(n,a,r),a}function Br(n,e,t,r={}){var a=Gs(e,n,t,r);return()=>{n.removeEventListener(e,a,r)}}function Ne(n){for(var e=0;e<n.length;e++)Ws.add(n[e]);for(var t of Hr)t(n)}let Ia=null;function Hn(n){var e=this,t=e.ownerDocument,r=n.type,a=n.composedPath?.()||[],s=a[0]||n.target;Ia=n;var i=0,o=Ia===n&&n.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var d=a.indexOf(e);if(d===-1)return;l<=d&&(i=l)}if(s=a[i]||n.target,s!==e){jr(n,"currentTarget",{configurable:!0,get(){return s||t}});var f=Ae,h=Ee;at(null),jt(null);try{for(var v,y=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];if(_!=null&&(!s.disabled||n.target===s))if(Yn(_)){var[w,...A]=_;w.apply(s,[n,...A])}else _.call(s,n)}catch(E){v?y.push(E):v=E}if(n.cancelBubble||b===e||b===null)break;s=b}if(v){for(let E of y)queueMicrotask(()=>{throw E});throw v}}finally{n.__root=e,delete n.currentTarget,at(f),jt(h)}}}function aa(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function dn(n,e){var t=Ee;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function I(n,e){var t=(e&no)!==0,r=(e&ro)!==0,a,s=!n.startsWith("<!>");return()=>{a===void 0&&(a=aa(s?n:"<!>"+n),t||(a=qt(a)));var i=r||xs?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=qt(i),l=i.lastChild;dn(o,l)}else dn(i,i);return i}}function Jo(n,e,t="svg"){var r=!n.startsWith("<!>"),a=`<${t}>${r?n:"<!>"+n}</${t}>`,s;return()=>{if(!s){var i=aa(a),o=qt(i);s=qt(o)}var l=s.cloneNode(!0);return dn(l,l),l}}function Oo(n,e){return Jo(n,e,"svg")}function Ks(n=""){{var e=Vt(n+"");return dn(e,e),e}}function se(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Vt();return n.append(e,t),dn(e,t),n}function g(n,e){n!==null&&n.before(e)}function L(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function Yo(n,e){return Xo(n,e)}const _n=new Map;function Xo(n,{target:e,anchor:t,props:r={},events:a,context:s,intro:i=!0}){To();var o=new Set,l=h=>{for(var v=0;v<h.length;v++){var y=h[v];if(!o.has(y)){o.add(y);var b=Ko(y);e.addEventListener(y,Hn,{passive:b});var _=_n.get(y);_===void 0?(document.addEventListener(y,Hn,{passive:b}),_n.set(y,1)):_n.set(y,_+1)}}};l(Jr(Ws)),Hr.add(l);var d=void 0,f=Co(()=>{var h=t??e.appendChild(Vt());return wo(h,{pending:()=>{}},v=>{if(s){ce({});var y=ht;y.c=s}a&&(r.$$events=a),d=n(v,r)||{},s&&le()}),()=>{for(var v of o){e.removeEventListener(v,Hn);var y=_n.get(v);--y===0?(document.removeEventListener(v,Hn),_n.delete(v)):_n.set(v,y)}Hr.delete(l),h!==t&&h.parentNode?.removeChild(h)}});return Zo.set(d,f),d}let Zo=new WeakMap;function C(n,e,t=!1){var r=n,a=null,s=null,i=Be,o=t?mn:0,l=!1;const d=(y,b=!0)=>{l=!0,v(b,y)};var f=null;function h(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var y=i?a:s,b=i?s:a;y&&_r(y),b&&Ut(b,()=>{i?s=null:a=null})}const v=(y,b)=>{if(i!==(i=y)){var _=br(),w=r;if(_&&(f=document.createDocumentFragment(),f.append(w=Vt())),i?a??=b&&We(()=>b(w)):s??=b&&We(()=>b(w)),_){var A=$e,E=i?a:s,k=i?s:a;E&&A.skipped_effects.delete(E),k&&A.skipped_effects.add(k),A.add_callback(h)}else h()}};Wt(()=>{l=!1,e(d),l||v(null,null)},o)}function Fo(n,e,t){var r=n,a=Be,s,i,o=null,l=fo;function d(){s&&Ut(s),o!==null&&(o.lastChild.remove(),r.before(o),o=null),s=i}Wt(()=>{if(l(a,a=e())){var f=r,h=br();h&&(o=document.createDocumentFragment(),o.append(f=Vt())),i=We(()=>t(f)),h?$e.add_callback(d):d()}})}let cn=null;function Sa(n){cn=n}function xt(n,e){return e}function ec(n,e,t){for(var r=n.items,a=[],s=e.length,i=0;i<s;i++)ra(e[i].e,a,!0);var o=s>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;Po(l),l.append(t),r.clear(),Pt(n,e[0].prev,e[s-1].next)}Ns(a,()=>{for(var d=0;d<s;d++){var f=e[d];o||(r.delete(f.k),Pt(n,f.prev,f.next)),Ke(f.e,!o)}})}function Ce(n,e,t,r,a,s=null){var i=n,o={flags:e,items:new Map,first:null},l=(e&ds)!==0;if(l){var d=n;i=d.appendChild(Vt())}var f=null,h=!1,v=new Map,y=_s(()=>{var A=t();return Yn(A)?A:A==null?[]:Jr(A)}),b,_;function w(){tc(_,b,o,v,i,a,e,r,t),s!==null&&(b.length===0?f?_r(f):f=We(()=>s(i)):f!==null&&Ut(f,()=>{f=null}))}Wt(()=>{_??=Ee,b=c(y);var A=b.length;if(!(h&&A===0)){h=A===0;var E,k,P,D;if(br()){var S=new Set,T=$e;for(k=0;k<A;k+=1){P=b[k],D=r(P,k);var $=o.items.get(D)??v.get(D);$?(e&(vr|mr))!==0&&Js($,P,k,e):(E=Os(null,o,null,null,P,D,k,a,e,t,!0),v.set(D,E)),S.add(D)}for(const[H,F]of o.items)S.has(H)||T.skipped_effects.add(F.e);T.add_callback(w)}else w();c(y)}})}function tc(n,e,t,r,a,s,i,o,l){var d=(i&Yi)!==0,f=(i&(vr|mr))!==0,h=e.length,v=t.items,y=t.first,b=y,_,w=null,A,E=[],k=[],P,D,S,T;if(d)for(T=0;T<h;T+=1)P=e[T],D=o(P,T),S=v.get(D),S!==void 0&&(S.a?.measure(),(A??=new Set).add(S));for(T=0;T<h;T+=1){if(P=e[T],D=o(P,T),S=v.get(D),S===void 0){var $=r.get(D);if($!==void 0){r.delete(D),v.set(D,$);var H=w?w.next:b;Pt(t,w,$),Pt(t,$,H),Pr($,H,a),w=$}else{var F=b?b.e.nodes_start:a;w=Os(F,t,w,w===null?t.first:w.next,P,D,T,s,i,l)}v.set(D,w),E=[],k=[],b=w.next;continue}if(f&&Js(S,P,T,i),(S.e.f&Et)!==0&&(_r(S.e),d&&(S.a?.unfix(),(A??=new Set).delete(S))),S!==b){if(_!==void 0&&_.has(S)){if(E.length<k.length){var U=k[0],B;w=U.prev;var Y=E[0],V=E[E.length-1];for(B=0;B<E.length;B+=1)Pr(E[B],U,a);for(B=0;B<k.length;B+=1)_.delete(k[B]);Pt(t,Y.prev,V.next),Pt(t,w,Y),Pt(t,V,U),b=U,w=V,T-=1,E=[],k=[]}else _.delete(S),Pr(S,b,a),Pt(t,S.prev,S.next),Pt(t,S,w===null?t.first:w.next),Pt(t,w,S),w=S;continue}for(E=[],k=[];b!==null&&b.k!==D;)(b.e.f&Et)===0&&(_??=new Set).add(b),k.push(b),b=b.next;if(b===null)continue;S=b}E.push(S),w=S,b=S.next}if(b!==null||_!==void 0){for(var K=_===void 0?[]:Jr(_);b!==null;)(b.e.f&Et)===0&&K.push(b),b=b.next;var W=K.length;if(W>0){var ae=(i&ds)!==0&&h===0?a:null;if(d){for(T=0;T<W;T+=1)K[T].a?.measure();for(T=0;T<W;T+=1)K[T].a?.fix()}ec(t,K,ae)}}d&&Xt(()=>{if(A!==void 0)for(S of A)S.a?.apply()}),n.first=t.first&&t.first.e,n.last=w&&w.e;for(var ne of r.values())Ke(ne.e);r.clear()}function Js(n,e,t,r){(r&vr)!==0&&An(n.v,e),(r&mr)!==0?An(n.i,t):n.i=t}function Os(n,e,t,r,a,s,i,o,l,d,f){var h=cn,v=(l&vr)!==0,y=(l&Xi)===0,b=v?y?Ao(a,!1,!1):Zt(a):a,_=(l&mr)===0?i:Zt(i),w={i:_,v:b,k:s,a:null,e:null,prev:t,next:r};cn=w;try{if(n===null){var A=document.createDocumentFragment();A.append(n=Vt())}return w.e=We(()=>o(n,b,_,d),lo),w.e.prev=t&&t.e,w.e.next=r&&r.e,t===null?f||(e.first=w):(t.next=w,t.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{cn=h}}function Pr(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var i=Xn(s);a.before(s),s=i}}function Pt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ea(n,e,t=!1,r=!1,a=!1){var s=n,i="";Q(()=>{var o=Ee;if(i!==(i=e()??"")&&(o.nodes_start!==null&&(qs(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),i!=="")){var l=i+"";t?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var d=aa(l);if((t||r)&&(d=qt(d)),dn(qt(d),d.lastChild),t||r)for(;qt(d);)s.before(qt(d));else s.before(d)}})}function we(n,e,...t){var r=n,a=me,s;Wt(()=>{a!==(a=e())&&(s&&(Ke(s),s=null),s=We(()=>a(r,...t)))},mn)}function yn(n,e,t){var r=n,a,s,i=null,o=null;function l(){s&&(Ut(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=o,o=null}Wt(()=>{if(a!==(a=e())){var d=br();if(a){var f=r;d&&(i=document.createDocumentFragment(),i.append(f=Vt()),s&&$e.skipped_effects.add(s)),o=We(()=>t(f,a))}d?$e.add_callback(l):l()}},mn)}function nc(n,e,t,r,a,s){var i,o,l=null,d=n,f,h=cn;Wt(()=>{const v=e()||null;var y=so;if(v!==i){var b=cn;Sa(h),f&&(v===null?Ut(f,()=>{f=null,o=null}):v===o?_r(f):Ke(f)),v&&v!==o&&(f=We(()=>{if(l=document.createElementNS(y,v),dn(l,l),r){var _=l.appendChild(Vt());r(l,_)}Ee.nodes_end=l,d.before(l)})),i=v,i&&(o=i),Sa(b)}},mn)}function Ys(n,e){var t=void 0,r;Wt(()=>{t!==(t=e())&&(r&&(Ke(r),r=null),t&&(r=We(()=>{na(()=>t(n))})))})}function Xs(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=Xs(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function rc(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=Xs(n))&&(r&&(r+=" "),r+=e);return r}function ac(n){return typeof n=="object"?rc(n):n??""}const xa=[...` 	
\r\f \v\uFEFF`];function sc(n,e,t){var r=n==null?"":""+n;if(t){for(var a in t)if(t[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var o=i+s;(i===0||xa.includes(r[i-1]))&&(o===r.length||xa.includes(r[o]))?r=(i===0?"":r.substring(0,i))+r.substring(o+1):i=o}}return r===""?null:r}function Aa(n,e=!1){var t=e?" !important;":";",r="";for(var a in n){var s=n[a];s!=null&&s!==""&&(r+=" "+a+": "+s+t)}return r}function Dr(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function ic(n,e){if(e){var t="",r,a;if(Array.isArray(e)?(r=e[0],a=e[1]):r=e,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,i=0,o=!1,l=[];r&&l.push(...Object.keys(r).map(Dr)),a&&l.push(...Object.keys(a).map(Dr));var d=0,f=-1;const _=n.length;for(var h=0;h<_;h++){var v=n[h];if(o?v==="/"&&n[h-1]==="*"&&(o=!1):s?s===v&&(s=!1):v==="/"&&n[h+1]==="*"?o=!0:v==='"'||v==="'"?s=v:v==="("?i++:v===")"&&i--,!o&&s===!1&&i===0){if(v===":"&&f===-1)f=h;else if(v===";"||h===_-1){if(f!==-1){var y=Dr(n.substring(d,f).trim());if(!l.includes(y)){v!==";"&&h++;var b=n.substring(d,h).trim();t+=" "+b+";"}}d=h+1,f=-1}}}}return r&&(t+=Aa(r)),a&&(t+=Aa(a,!0)),t=t.trim(),t===""?null:t}return n==null?null:String(n)}function Le(n,e,t,r,a,s){var i=n.__className;if(i!==t||i===void 0){var o=sc(t,r,s);o==null?n.removeAttribute("class"):e?n.className=o:n.setAttribute("class",o),n.__className=t}else if(s&&a!==s)for(var l in s){var d=!!s[l];(a==null||d!==!!a[l])&&n.classList.toggle(l,d)}return s}function Mr(n,e={},t,r){for(var a in t){var s=t[a];e[a]!==s&&(t[a]==null?n.style.removeProperty(a):n.style.setProperty(a,s,r))}}function oc(n,e,t,r){var a=n.__style;if(a!==e){var s=ic(e,r);s==null?n.removeAttribute("style"):n.style.cssText=s,n.__style=e}else r&&(Array.isArray(r)?(Mr(n,t?.[0],r[0]),Mr(n,t?.[1],r[1],"important")):Mr(n,t,r));return r}function ur(n,e,t=!1){if(n.multiple){if(e==null)return;if(!Yn(e))return oo();for(var r of n.options)r.selected=e.includes(Qn(r));return}for(r of n.options){var a=Qn(r);if(Ro(a,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Zs(n){var e=new MutationObserver(()=>{ur(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ds(()=>{e.disconnect()})}function zr(n,e,t=e){var r=!0;Ps(n,"change",a=>{var s=a?"[selected]":":checked",i;if(n.multiple)i=[].map.call(n.querySelectorAll(s),Qn);else{var o=n.querySelector(s)??n.querySelector("option:not([disabled])");i=o&&Qn(o)}t(i)}),na(()=>{var a=e();if(ur(n,a,r),r&&a===void 0){var s=n.querySelector(":checked");s!==null&&(a=Qn(s),t(a))}n.__value=a,r=!1}),Zs(n)}function Qn(n){return"__value"in n?n.__value:n.value}const Nn=Symbol("class"),Ln=Symbol("style"),Fs=Symbol("is custom element"),ei=Symbol("is html");function cc(n,e){var t=Sr(n);t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e??"")}function lc(n,e){var t=Sr(n);t.checked!==(t.checked=e??void 0)&&(n.checked=e)}function dc(n,e){e?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function bt(n,e,t,r){var a=Sr(n);a[e]!==(a[e]=t)&&(e==="loading"&&(n[Li]=t),t==null?n.removeAttribute(e):typeof t!="string"&&ti(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function uc(n,e,t,r,a=!1,s=!1){var i=Sr(n),o=i[Fs],l=!i[ei],d=e||{},f=n.tagName==="OPTION";for(var h in e)h in t||(t[h]=null);t.class?t.class=ac(t.class):t[Nn]&&(t.class=null),t[Ln]&&(t.style??=null);var v=ti(n);for(const P in t){let D=t[P];if(f&&P==="value"&&D==null){n.value=n.__value="",d[P]=D;continue}if(P==="class"){var y=n.namespaceURI==="http://www.w3.org/1999/xhtml";Le(n,y,D,r,e?.[Nn],t[Nn]),d[P]=D,d[Nn]=t[Nn];continue}if(P==="style"){oc(n,D,e?.[Ln],t[Ln]),d[P]=D,d[Ln]=t[Ln];continue}var b=d[P];if(!(D===b&&!(D===void 0&&n.hasAttribute(P)))){d[P]=D;var _=P[0]+P[1];if(_!=="$$")if(_==="on"){const S={},T="$$"+P;let $=P.slice(2);var w=Vo($);if(Bo($)&&($=$.slice(0,-7),S.capture=!0),!w&&b){if(D!=null)continue;n.removeEventListener($,d[T],S),d[T]=null}if(D!=null)if(w)n[`__${$}`]=D,Ne([$]);else{let H=function(F){d[P].call(this,F)};var k=H;d[T]=Gs($,n,H,S)}else w&&(n[`__${$}`]=void 0)}else if(P==="style")bt(n,P,D);else if(P==="autofocus")Ts(n,!!D);else if(!o&&(P==="__value"||P==="value"&&D!=null))n.value=n.__value=D;else if(P==="selected"&&f)dc(n,D);else{var A=P;l||(A=Wo(A));var E=A==="defaultValue"||A==="defaultChecked";if(D==null&&!o&&!E)if(i[P]=null,A==="value"||A==="checked"){let S=n;const T=e===void 0;if(A==="value"){let $=S.defaultValue;S.removeAttribute(A),S.defaultValue=$,S.value=S.__value=T?$:null}else{let $=S.defaultChecked;S.removeAttribute(A),S.defaultChecked=$,S.checked=T?$:!1}}else n.removeAttribute(P);else E||v.includes(A)&&(o||typeof D!="string")?(n[A]=D,A in i&&(i[A]=Be)):typeof D!="function"&&bt(n,A,D)}}}return d}function Ra(n,e,t=[],r=[],a,s=!1,i=!1){bs(t,r,o=>{var l=void 0,d={},f=n.nodeName==="SELECT",h=!1;if(Wt(()=>{var y=e(...o.map(c)),b=uc(n,l,y,a,s,i);h&&f&&"value"in y&&ur(n,y.value);for(let w of Object.getOwnPropertySymbols(d))y[w]||Ke(d[w]);for(let w of Object.getOwnPropertySymbols(y)){var _=y[w];w.description===io&&(!l||_!==l[w])&&(d[w]&&Ke(d[w]),d[w]=We(()=>Ys(n,()=>_))),b[w]=_}l=b}),f){var v=n;na(()=>{ur(v,l.value,!0),Zs(v)})}h=!0})}function Sr(n){return n.__attributes??={[Fs]:n.nodeName.includes("-"),[ei]:n.namespaceURI===ao}}var Ta=new Map;function ti(n){var e=n.getAttribute("is")||n.nodeName,t=Ta.get(e);if(t)return t;Ta.set(e,t=[]);for(var r,a=n,s=Element.prototype;s!==a;){r=$i(a);for(var i in r)r[i].set&&t.push(i);a=Or(a)}return t}const fc=()=>performance.now(),Lt={tick:n=>requestAnimationFrame(n),now:()=>fc(),tasks:new Set};function ni(){const n=Lt.now();Lt.tasks.forEach(e=>{e.c(n)||(Lt.tasks.delete(e),e.f())}),Lt.tasks.size!==0&&Lt.tick(ni)}function hc(n){let e;return Lt.tasks.size===0&&Lt.tick(ni),{promise:new Promise(t=>{Lt.tasks.add(e={c:n,f:t})}),abort(){Lt.tasks.delete(e)}}}function pc(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Pa(n){const e={},t=n.split(";");for(const r of t){const[a,s]=r.split(":");if(!a||s===void 0)break;const i=pc(a.trim());e[i]=s.trim()}return e}const vc=n=>n;function ri(n,e,t){var r=cn,a,s,i,o=null;r.a??={element:n,measure(){a=this.element.getBoundingClientRect()},apply(){if(i?.abort(),s=this.element.getBoundingClientRect(),a.left!==s.left||a.right!==s.right||a.top!==s.top||a.bottom!==s.bottom){const l=e()(this.element,{from:a,to:s},t?.());i=ai(this.element,l,void 0,1,()=>{i?.abort(),i=void 0})}},fix(){if(!n.getAnimations().length){var{position:l,width:d,height:f}=getComputedStyle(n);if(l!=="absolute"&&l!=="fixed"){var h=n.style;o={position:h.position,width:h.width,height:h.height,transform:h.transform},h.position="absolute",h.width=d,h.height=f;var v=n.getBoundingClientRect();if(a.left!==v.left||a.top!==v.top){var y=`translate(${a.left-v.left}px, ${a.top-v.top}px)`;h.transform=h.transform?`${h.transform} ${y}`:y}}}},unfix(){if(o){var l=n.style;l.position=o.position,l.width=o.width,l.height=o.height,l.transform=o.transform}}},r.a.element=n}function ai(n,e,t,r,a){if(In(e)){var s,i=!1;return Xt(()=>{if(!i){var _=e({direction:"in"});s=ai(n,_,t,r,a)}}),{abort:()=>{i=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!e?.duration)return a(),{abort:me,deactivate:me,reset:me,t:()=>r};const{delay:o=0,css:l,tick:d,easing:f=vc}=e;var h=[];if(d&&d(0,1),l){var v=Pa(l(0,1));h.push(v,v)}var y=()=>1-r,b=n.animate(h,{duration:o,fill:"forwards"});return b.onfinish=()=>{b.cancel();var _=1-r,w=r-_,A=e.duration*Math.abs(w),E=[];if(A>0){var k=!1;if(l)for(var P=Math.ceil(A/16.666666666666668),D=0;D<=P;D+=1){var S=_+w*f(D/P),T=Pa(l(S,1-S));E.push(T),k||=T.overflow==="hidden"}k&&(n.style.overflow="hidden"),y=()=>{var $=b.currentTime;return _+w*f($/A)},d&&hc(()=>{if(b.playState!=="running")return!1;var $=y();return d($,1-$),!0})}b=n.animate(E,{duration:A,fill:"forwards"}),b.onfinish=()=>{y=()=>r,d?.(r,1-r),a()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=me)},deactivate:()=>{a=me},reset:()=>{},t:()=>y()}}function et(n,e,t=e){var r=new WeakSet;Ps(n,"input",async a=>{var s=a?n.defaultValue:n.value;if(s=kr(n)?$r(s):s,t(s),$e!==null&&r.add($e),await Uo(),s!==(s=e())){var i=n.selectionStart,o=n.selectionEnd;n.value=s??"",o!==null&&(n.selectionStart=i,n.selectionEnd=Math.min(o,n.value.length))}}),Rn(e)==null&&n.value&&(t(kr(n)?$r(n.value):n.value),$e!==null&&r.add($e)),ks(()=>{var a=e();if(n===document.activeElement){var s=ir??$e;if(r.has(s))return}kr(n)&&a===$r(n.value)||n.type==="date"&&!a&&!n.value||a!==n.value&&(n.value=a??"")})}function kr(n){var e=n.type;return e==="number"||e==="range"}function $r(n){return n===""?null:+n}let rr=!1;function mc(n){var e=rr;try{return rr=!1,[n(),rr]}finally{rr=e}}const gc={get(n,e){if(!n.exclude.includes(e))return n.props[e]},set(n,e){return!1},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function _e(n,e,t){return new Proxy({props:n,exclude:e},gc)}const yc={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(In(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let a=n.props[r];In(a)&&(a=a());const s=Jt(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(In(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=Jt(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(n,e){if(e===on||e===ls)return!1;for(let t of n.props)if(In(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props)if(In(t)&&(t=t()),!!t){for(const r in t)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(t))e.includes(r)||e.push(r)}return e}};function Ie(...n){return new Proxy({props:n},yc)}function ge(n,e,t,r){var a=(t&eo)!==0,s=(t&to)!==0,i=r,o=!0,l=()=>(o&&(o=!1,i=s?Rn(r):r),i),d;if(a){var f=on in n||ls in n;d=Jt(n,e)?.set??(f&&e in n?E=>n[e]=E:void 0)}var h,v=!1;a?[h,v]=mc(()=>n[e]):h=n[e],h===void 0&&r!==void 0&&(h=l(),d&&(Wi(),d(h)));var y;if(y=()=>{var E=n[e];return E===void 0?l():(o=!0,E)},(t&Fi)===0)return y;if(d){var b=n.$$legacy;return(function(E,k){return arguments.length>0?((!k||b||v)&&d(k?y():E),E):y()})}var _=!1,w=((t&Zi)!==0?yr:_s)(()=>(_=!1,y()));a&&c(w);var A=Ee;return(function(E,k){if(arguments.length>0){const P=k?c(w):a?Pe(E):E;return p(w,P),_=!0,i!==void 0&&(i=P),E}return gn&&_||(A.f&vn)!==0?w.v:c(w)})}function sa(n){ht===null&&Ui(),ut(()=>{const e=Rn(n);if(typeof e=="function")return e})}const bc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(bc);const wc="modulepreload",_c=function(n){return"/"+n},Da={},Vr=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var i=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=d(t.map(f=>{if(f=_c(f),f in Da)return;Da[f]=!0;const h=f.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":wc,h||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),h)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};class Kt extends Map{#e=new Map;#t=q(0);#n=q(0);#s=Bt||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#n.v=super.size}}#r(e){return Bt===this.#s?q(e):Zt(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var a=super.get(e);if(a!==void 0)r=this.#r(0),t.set(e,r);else return c(this.#t),!1}return c(r),!0}forEach(e,t){this.#o(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var a=super.get(e);if(a!==void 0)r=this.#r(0),t.set(e,r);else{c(this.#t);return}}return c(r),super.get(e)}set(e,t){var r=this.#e,a=r.get(e),s=super.get(e),i=super.set(e,t),o=this.#t;if(a===void 0)a=this.#r(0),r.set(e,a),p(this.#n,super.size),kt(o);else if(s!==t){kt(a);var l=o.reactions===null?null:new Set(o.reactions),d=l===null||!a.reactions?.every(f=>l.has(f));d&&kt(o)}return i}delete(e){var t=this.#e,r=t.get(e),a=super.delete(e);return r!==void 0&&(t.delete(e),p(this.#n,super.size),p(r,-1),kt(this.#t)),a}clear(){if(super.size!==0){super.clear();var e=this.#e;p(this.#n,0);for(var t of e.values())p(t,-1);kt(this.#t),e.clear()}}#o(){c(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#r(0);e.set(t,r)}}for([,r]of this.#e)c(r)}keys(){return c(this.#t),super.keys()}values(){return this.#o(),super.values()}entries(){return this.#o(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return c(this.#n),super.size}}class Ic{#e;#t;constructor(e,t){this.#e=e,this.#t=ea(t)}get current(){return this.#t(),this.#e()}}const Sc=/\(.+\)/,Ec=new Set(["all","print","screen","and","or","not","only"]);class xc extends Ic{constructor(e,t){let r=Sc.test(e)||e.split(/[\s,]+/).some(s=>Ec.has(s.trim()))?e:`(${e})`;const a=window.matchMedia(r);super(()=>a.matches,s=>Br(a,"change",s))}}const Ac=typeof window<"u"?window:void 0;function Rc(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class Tc{#e;#t;constructor(e={}){const{window:t=Ac,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=ea(a=>{const s=Br(t,"focusin",a),i=Br(t,"focusout",a);return()=>{s(),i()}}))}get current(){return this.#t?.(),this.#e?Rc(this.#e):null}}new Tc;function Pc(n){return typeof n=="function"}function Dc(n,e){if(Pc(n)){const r=n();return r===void 0?e:r}return n===void 0?e:n}function Mc(n,e){let t=q(null);const r=X(()=>Dc(e,250));function a(...s){if(c(t))c(t).timeout&&clearTimeout(c(t).timeout);else{let i,o;const l=new Promise((d,f)=>{i=d,o=f});p(t,{timeout:null,runner:null,promise:l,resolve:i,reject:o},!0)}return c(t).runner=async()=>{if(!c(t))return;const i=c(t);p(t,null);try{i.resolve(await n.apply(this,s))}catch(o){i.reject(o)}},c(t).timeout=setTimeout(c(t).runner,c(r)),c(t).promise}return a.cancel=async()=>{(!c(t)||c(t).timeout===null)&&(await new Promise(s=>setTimeout(s,0)),!c(t)||c(t).timeout===null)||(clearTimeout(c(t).timeout),c(t).reject("Cancelled"),p(t,null))},a.runScheduledNow=async()=>{(!c(t)||!c(t).timeout)&&(await new Promise(s=>setTimeout(s,0)),!c(t)||!c(t).timeout)||(clearTimeout(c(t).timeout),c(t).timeout=null,await c(t).runner?.())},Object.defineProperty(a,"pending",{enumerable:!0,get(){return!!c(t)?.timeout}}),a}function $t(n){if(!n?.trim())return null;try{return JSON.parse(n)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function Er(n){return n?.length?n.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function xr(n){if(!n?.length)return[];const e=new Map;return n.forEach(t=>{if(!t.q||!t.u||typeof t.q!="number"||isNaN(t.q))return;const r=e.get(t.u)||0;e.set(t.u,r+t.q)}),Array.from(e.entries()).map(([t,r])=>({q:r,u:t}))}function Ar(n,e){if(!n?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=n.map(l=>rn(l.q.toString(),l.u)).join(" et ");return{numeric:n,display:o}}const t=new Map,r=new Map;n.forEach(o=>{const l=parseFloat(o.q);isNaN(l)||t.set(o.u,(t.get(o.u)||0)+l)}),e.forEach(o=>{r.set(o.u,(r.get(o.u)||0)+o.q)});const a=[],s=[];t.forEach((o,l)=>{const d=r.get(l)||0,f=o-d;f>0&&(a.push({q:f,u:l}),s.push(rn(f.toString(),l)))});const i=s.length>0?s.join(" et "):"✅ Complet";return{numeric:a,display:i}}function tt(n){return n?.length?n.map(e=>rn(e.q.toString(),e.u)).join(" et "):"-"}function rn(n,e){const t=parseFloat(n);if(isNaN(t))return`${n} ${e}`;if((e==="gr."||e==="ml")&&t>=1e3){const r=t/1e3,a=e==="gr."?"kg":"l.";let i=(Math.round(r*100)/100).toString();return i.endsWith(",0")&&(i=i.slice(0,-2)),i.endsWith(",00")&&(i=i.slice(0,-3)),`${i} ${a}`}if(!["gr.","ml","kg","l."].includes(e)){let a=(Math.round(t*10)/10).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),`${a} ${e}`}return`${t} ${e}`}function ia(n){if(!n?.length)return[];const e=new Map;return n.forEach(({q:t,u:r})=>{if(typeof t=="number"&&!isNaN(t)){const a=e.get(r)||0;e.set(r,a+t)}}),Array.from(e.entries()).map(([t,r])=>({q:r,u:t}))}function kc(n){return n?Object.values(n).some(e=>e.recipes?.some(t=>t.q!==void 0||t.u!==void 0)):!1}function oa(n){if(!n)return[];const e=Object.values(n).flatMap(t=>t.totalConsolidated);return ia(e)}function si(n,e){const t=new Map,r=new Map;n.forEach(({q:i,u:o})=>{t.set(o,(t.get(o)||0)+i)}),e.forEach(({q:i,u:o})=>{r.set(o,(r.get(o)||0)+i)});const a=[],s=new Set([...t.keys(),...r.keys()]);for(const i of s){const o=t.get(i)||0,l=r.get(i)||0,d=o-l;Math.abs(d)>.001&&a.push({q:d,u:i})}return a}function ca(n){if(!n?.length)return"Équilibré";const e=n.filter(r=>r.q>0),t=n.filter(r=>r.q<0);if(e.length>0&&t.length>0){const r=e.map(s=>rn(s.q.toString(),s.u)).join(" et "),a=t.map(s=>rn(Math.abs(s.q).toString(),s.u)).join(" et ");return`${r} disponibles, ${a} manquant${t.length>1?"s":""}`}else return e.length>0?e.map(r=>"+"+rn(r.q.toString(),r.u)).join(" et ")+" disponibles":t.length>0?t.map(r=>rn(Math.abs(r.q).toString(),r.u)).join(" et ")+` manquant${t.length>1?"s":""}`:"Équilibré"}function $c(n,e){if(e.searchQuery.trim()){const t=e.searchQuery.toLowerCase();if(!n.productName.toLowerCase().includes(t))return!1}return!(e.selectedStores.length>0&&(!n.storeInfo?.storeName||!e.selectedStores.includes(n.storeInfo.storeName))||e.selectedWho.length>0&&(!n.who||!n.who.some(t=>e.selectedWho.includes(t)))||e.selectedProductTypes.length>0&&(!n.productType||!e.selectedProductTypes.includes(n.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&n.pFrais||e.selectedTemperatures.includes("surgele")&&n.pSurgel))}function Ma(n){return{...n,products:n.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:n.mainId}}function Cc(n){const e=$t(n.specs)??null,t=xr(Er(n.purchases??[]));let r=[];e?.quantity&&(r=[e.quantity]);const{numeric:a,display:s}=Ar(r,t),i=$t(n.stockReel)??null,o=tt(t),l=n.store?$t(n.store):null,d=i?`${i.quantity} ${i.unit}`:o;return{$id:n.$id,$createdAt:n.$createdAt,$updatedAt:n.$updatedAt,productHugoUuid:n.productHugoUuid||"",productName:n.productName,productType:n.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:n.isSynced,mainId:n.mainId,totalNeededRaw:[],status:n.status,who:n.who,store:n.store,stockReel:n.stockReel,previousNames:n.previousNames,isMerged:n.isMerged,mergedFrom:n.mergedFrom,mergeDate:n.mergeDate,mergeReason:n.mergeReason,mergedInto:n.mergedInto,totalNeededOverride:n.totalNeededOverride,purchases:n.purchases,specs:n.specs,byDate:{},storeInfo:l,stockParsed:i,specsParsed:e,totalNeededArray:r,totalPurchasesArray:t,missingQuantityArray:a,stockOrTotalPurchases:d,displayTotalNeeded:tt(r),displayTotalPurchases:o,displayMissingQuantity:s,totalNeededOverrideParsed:$t(n.totalNeededOverride),displayTotalOverride:(()=>{const f=$t(n.totalNeededOverride);return f?tt([f.totalOverride]):""})()}}function ar(n,e){const t=n.purchases??e.purchases,r=n.specs??e.specs,a=r?$t(r):e.specsParsed,s=xr(Er(t??[])),i=tt(s);let o=e.totalNeededArray;!e.productHugoUuid&&a?.quantity&&(o=[a.quantity]);const{numeric:l,display:d}=Ar(o,s),f=n.stockReel??e.stockReel,h=f?$t(f):e.stockParsed,v=n.store??e.store,y=v?$t(v):e.storeInfo,b=h?`${h.quantity} ${h.unit}`:i;return n.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:n.$updatedAt,productName:n.productName??e.productName,productType:n.productType??e.productType,isSynced:n.isSynced??e.isSynced,mainId:n.mainId??e.mainId,pFrais:a?.pFrais??e.pFrais,pSurgel:a?.pSurgel??e.pSurgel,status:n.status??e.status,who:n.who??e.who,store:v,stockReel:f,specs:r,purchases:t,previousNames:n.previousNames??e.previousNames,isMerged:n.isMerged??e.isMerged,mergedFrom:n.mergedFrom??e.mergedFrom,mergeDate:n.mergeDate??e.mergeDate,mergeReason:n.mergeReason??e.mergeReason,mergedInto:n.mergedInto??e.mergedInto,totalNeededOverride:n.totalNeededOverride??e.totalNeededOverride,storeInfo:y,stockParsed:h,specsParsed:a,totalNeededArray:o,totalPurchasesArray:s,missingQuantityArray:l,stockOrTotalPurchases:b,displayTotalPurchases:i,displayMissingQuantity:d,displayTotalNeeded:tt(o),totalNeededOverrideParsed:$t(n.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const _=$t(n.totalNeededOverride??e.totalNeededOverride);return _?tt([_.totalOverride]):""})()}}class qc{#e=q(Pe([]));MAX_TOASTS=3;get toasts(){return[...c(this.#e)].sort((e,t)=>t.timestamp-e.timestamp)}create(e){const t=e.id||crypto.randomUUID(),r={id:t,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,autoCloseDelay:e.autoCloseDelay,details:e.details,actions:e.actions||[]};return this.#t(r),t}update(e,t){const r=c(this.#e).findIndex(s=>s.id===e);if(r===-1)return;const a=c(this.#e)[r];a.timeoutId&&clearTimeout(a.timeoutId),c(this.#e)[r]={...a,state:t.state||a.state,message:t.message||a.message,source:t.source||a.source,actions:t.actions||a.actions,autoCloseDelay:t.autoCloseDelay!==void 0?t.autoCloseDelay:a.autoCloseDelay},this.#n(c(this.#e)[r])}async track(e,t){const r=this.create({id:t.id,state:"loading",message:t.loading,source:"user"});try{const a=await e;return this.update(r,{state:"success",message:t.success||"Opération réussie",autoCloseDelay:t.successDelay}),a}catch(a){throw this.update(r,{state:"error",message:t.error||"Erreur lors de l'opération",autoCloseDelay:t.errorDelay}),a}}dismiss(e){const t=c(this.#e).findIndex(a=>a.id===e);if(t===-1)return;const r=c(this.#e)[t];r.timeoutId&&clearTimeout(r.timeoutId),c(this.#e).splice(t,1)}dismissAll(){c(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),p(this.#e,[],!0)}#t(e){if(e.source==="user"){const t=c(this.#e).findIndex(r=>r.source==="user");t>=0?c(this.#e)[t]=e:c(this.#e).push(e)}else{const t=c(this.#e).filter(r=>r.source!=="user");if(t.length>=2){const r=t[0];this.dismiss(r.id)}c(this.#e).push(e)}c(this.#e).length>this.MAX_TOASTS&&c(this.#e).splice(0,c(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){const t=e.autoCloseDelay!==void 0;if(!(e.state==="success"||e.state==="info"||e.state==="error"&&t||e.state==="warning"&&t))return;let a;if(e.autoCloseDelay!==void 0)a=e.autoCloseDelay;else switch(e.state){case"success":case"info":a=e.source==="realtime-other"?4e3:2e3;break;case"warning":if(!e.autoCloseDelay)return;a=e.autoCloseDelay;break;case"error":if(!e.autoCloseDelay)return;a=e.autoCloseDelay;break;default:return}e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},a)}success(e,t){return this.create({state:"success",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay})}error(e,t){return this.create({state:"error",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay})}warning(e,t){return this.create({state:"warning",message:e,source:t?.source||"system",details:t?.details,actions:t?.actions,autoCloseDelay:t?.autoCloseDelay})}info(e,t){return this.create({state:"info",message:e,source:t?.source||"system",details:t?.details,autoCloseDelay:t?.autoCloseDelay})}loading(e,t){return this.create({state:"loading",message:e,details:t?.details,autoCloseDelay:t?.autoCloseDelay})}}const Me=new qc;function Cr(n,e,t,r){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(f){try{d(r.next(f))}catch(h){i(h)}}function l(f){try{d(r.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):a(f.value).then(o,l)}d((r=r.apply(n,[])).next())})}function jc(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}class j{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}j.equal=(n,e)=>new j("equal",n,e).toString();j.notEqual=(n,e)=>new j("notEqual",n,e).toString();j.lessThan=(n,e)=>new j("lessThan",n,e).toString();j.lessThanEqual=(n,e)=>new j("lessThanEqual",n,e).toString();j.greaterThan=(n,e)=>new j("greaterThan",n,e).toString();j.greaterThanEqual=(n,e)=>new j("greaterThanEqual",n,e).toString();j.isNull=n=>new j("isNull",n).toString();j.isNotNull=n=>new j("isNotNull",n).toString();j.between=(n,e,t)=>new j("between",n,[e,t]).toString();j.startsWith=(n,e)=>new j("startsWith",n,e).toString();j.endsWith=(n,e)=>new j("endsWith",n,e).toString();j.select=n=>new j("select",void 0,n).toString();j.search=(n,e)=>new j("search",n,e).toString();j.orderDesc=n=>new j("orderDesc",n).toString();j.orderAsc=n=>new j("orderAsc",n).toString();j.orderRandom=()=>new j("orderRandom").toString();j.cursorAfter=n=>new j("cursorAfter",void 0,n).toString();j.cursorBefore=n=>new j("cursorBefore",void 0,n).toString();j.limit=n=>new j("limit",void 0,n).toString();j.offset=n=>new j("offset",void 0,n).toString();j.contains=(n,e)=>new j("contains",n,e).toString();j.notContains=(n,e)=>new j("notContains",n,e).toString();j.notSearch=(n,e)=>new j("notSearch",n,e).toString();j.notBetween=(n,e,t)=>new j("notBetween",n,[e,t]).toString();j.notStartsWith=(n,e)=>new j("notStartsWith",n,e).toString();j.notEndsWith=(n,e)=>new j("notEndsWith",n,e).toString();j.createdBefore=n=>j.lessThan("$createdAt",n);j.createdAfter=n=>j.greaterThan("$createdAt",n);j.createdBetween=(n,e)=>j.between("$createdAt",n,e);j.updatedBefore=n=>j.lessThan("$updatedAt",n);j.updatedAfter=n=>j.greaterThan("$updatedAt",n);j.updatedBetween=(n,e)=>j.between("$updatedAt",n,e);j.or=n=>new j("or",void 0,n.map(e=>JSON.parse(e))).toString();j.and=n=>new j("and",void 0,n.map(e=>JSON.parse(e))).toString();j.distanceEqual=(n,e,t,r=!0)=>new j("distanceEqual",n,[[e,t,r]]).toString();j.distanceNotEqual=(n,e,t,r=!0)=>new j("distanceNotEqual",n,[[e,t,r]]).toString();j.distanceGreaterThan=(n,e,t,r=!0)=>new j("distanceGreaterThan",n,[[e,t,r]]).toString();j.distanceLessThan=(n,e,t,r=!0)=>new j("distanceLessThan",n,[[e,t,r]]).toString();j.intersects=(n,e)=>new j("intersects",n,[e]).toString();j.notIntersects=(n,e)=>new j("notIntersects",n,[e]).toString();j.crosses=(n,e)=>new j("crosses",n,[e]).toString();j.notCrosses=(n,e)=>new j("notCrosses",n,[e]).toString();j.overlaps=(n,e)=>new j("overlaps",n,[e]).toString();j.notOverlaps=(n,e)=>new j("notOverlaps",n,[e]).toString();j.touches=(n,e)=>new j("touches",n,[e]).toString();j.notTouches=(n,e)=>new j("notTouches",n,[e]).toString();class x extends Error{constructor(e,t=0,r="",a=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=a}}class Dt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const a=new URLSearchParams;this.config.project&&a.set("project",this.config.project),this.realtime.channels.forEach(i=>{a.append("channels[]",i)});const s=this.config.endpointRealtime+"/realtime?"+a.toString();(s!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",i=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",i=>{var o,l,d;if(!this.realtime.reconnect||((l=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const f=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${f/1e3} seconds.`,i.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},f)}))},onMessage:e=>{var t,r;try{const a=JSON.parse(e.data);switch(this.realtime.lastMessage=a,a.type){case"connected":let s=this.config.session;if(!s){const l=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}");s=l?.[`a_session_${this.config.project}`]}const i=a.data;s&&!i.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let o=a.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(f=>d.channels.includes(f))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw a.data;default:break}}catch(a){console.error(a)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([a,s])=>s.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new x("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new x("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(s=>this.realtime.channels.add(s));const a=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(a,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(a),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},a={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("cookieFallback");i&&(r["X-Fallback-Cookies"]=i)}let s={method:e,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(s.credentials="include"),e==="GET")for(const[i,o]of Object.entries(Dt.flatten(a)))t.searchParams.append(i,o);else switch(r["content-type"]){case"application/json":s.body=JSON.stringify(a);break;case"multipart/form-data":const i=new FormData;for(const[o,l]of Object.entries(a))if(l instanceof File)i.append(o,l,l.name);else if(Array.isArray(l))for(const d of l)i.append(`${o}[]`,d);else i.append(o,l);s.body=i,delete r["content-type"];break}return{uri:t.toString(),options:s}}chunkedUpload(e,t,r={},a={},s){var i;return Cr(this,void 0,void 0,function*(){const[o,l]=(i=Object.entries(a).find(([h,v])=>v instanceof File))!==null&&i!==void 0?i:[];if(!l||!o)throw new Error("File not found in payload");if(l.size<=Dt.CHUNK_SIZE)return yield this.call(e,t,r,a);let d=0,f=null;for(;d<l.size;){let h=d+Dt.CHUNK_SIZE;h>=l.size&&(h=l.size),r["content-range"]=`bytes ${d}-${h-1}/${l.size}`;const v=l.slice(d,h);let y=Object.assign({},a);y[o]=new File([v],l.name),f=yield this.call(e,t,r,y),s&&typeof s=="function"&&s({$id:f.$id,progress:Math.round(h/l.size*100),sizeUploaded:h,chunksTotal:Math.ceil(l.size/Dt.CHUNK_SIZE),chunksUploaded:Math.ceil(h/Dt.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),d=h}return f})}ping(){return Cr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},a={},s="json"){var i,o;return Cr(this,void 0,void 0,function*(){const{uri:l,options:d}=this.prepareRequest(e,t,r,a);let f=null;const h=yield fetch(l,d);if(h.type==="opaque")throw new x(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const v=h.headers.get("x-appwrite-warning");if(v&&v.split(";").forEach(b=>console.warn("Warning: "+b)),!((i=h.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?f=yield h.json():s==="arrayBuffer"?f=yield h.arrayBuffer():f={message:yield h.text()},400<=h.status){let b="";throw!((o=h.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||s==="arrayBuffer"?b=JSON.stringify(f):b=f?.message,new x(f?.message,h.status,f?.type,b)}const y=h.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&y&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",y)),f})}static flatten(e,t=""){let r={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?r=Object.assign(Object.assign({},r),Dt.flatten(s,i)):r[i]=s}return r}}Dt.CHUNK_SIZE=1024*1024*5;class Kn{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?r=Object.assign(Object.assign({},r),Kn.flatten(s,i)):r[i]=s}return r}}Kn.CHUNK_SIZE=5*1024*1024;class Nc{constructor(e){this.client=e}get(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}create(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],password:t[1],name:t[2]};const a=r.userId,s=r.email,i=r.password,o=r.name;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "email"');if(typeof i>"u")throw new x('Missing required parameter: "password"');const l="/account",d={};typeof a<"u"&&(d.userId=a),typeof s<"u"&&(d.email=s),typeof i<"u"&&(d.password=i),typeof o<"u"&&(d.name=o);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("post",f,h,d)}updateEmail(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:t[0]};const a=r.email,s=r.password;if(typeof a>"u")throw new x('Missing required parameter: "email"');if(typeof s>"u")throw new x('Missing required parameter: "password"');const i="/account/email",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}listIdentities(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:t[0]};const a=r.queries,s=r.total,i="/account/identities",o={};typeof a<"u"&&(o.queries=a),typeof s<"u"&&(o.total=s);const l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}deleteIdentity(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={identityId:e};const r=t.identityId;if(typeof r>"u")throw new x('Missing required parameter: "identityId"');const a="/account/identities/{identityId}".replace("{identityId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createJWT(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}listLogs(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:t[0]};const a=r.queries,s=r.total,i="/account/logs",o={};typeof a<"u"&&(o.queries=a),typeof s<"u"&&(o.total=s);const l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}updateMFA(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={mfa:e};const r=t.mfa;if(typeof r>"u")throw new x('Missing required parameter: "mfa"');const a="/account/mfa",s={};typeof r<"u"&&(s.mfa=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}createMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new x('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new x('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateMfaAuthenticator(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:t[0]};const a=r.type,s=r.otp;if(typeof a>"u")throw new x('Missing required parameter: "type"');if(typeof s>"u")throw new x('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),o={};typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAAuthenticator(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:t[0]};const a=r.type,s=r.otp;if(typeof a>"u")throw new x('Missing required parameter: "type"');if(typeof s>"u")throw new x('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),o={};typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deleteMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new x('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}deleteMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new x('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createMfaChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const r=t.factor;if(typeof r>"u")throw new x('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof r<"u"&&(s.factor=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createMFAChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const r=t.factor;if(typeof r>"u")throw new x('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof r<"u"&&(s.factor=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateMfaChallenge(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:t[0]};const a=r.challengeId,s=r.otp;if(typeof a>"u")throw new x('Missing required parameter: "challengeId"');if(typeof s>"u")throw new x('Missing required parameter: "otp"');const i="/account/mfa/challenge",o={};typeof a<"u"&&(o.challengeId=a),typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAChallenge(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:t[0]};const a=r.challengeId,s=r.otp;if(typeof a>"u")throw new x('Missing required parameter: "challengeId"');if(typeof s>"u")throw new x('Missing required parameter: "otp"');const i="/account/mfa/challenge",o={};typeof a<"u"&&(o.challengeId=a),typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}listMfaFactors(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}listMFAFactors(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}updateName(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={name:e};const r=t.name;if(typeof r>"u")throw new x('Missing required parameter: "name"');const a="/account/name",s={};typeof r<"u"&&(s.name=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}updatePassword(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={password:e,oldPassword:t[0]};const a=r.password,s=r.oldPassword;if(typeof a>"u")throw new x('Missing required parameter: "password"');const i="/account/password",o={};typeof a<"u"&&(o.password=a),typeof s<"u"&&(o.oldPassword=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}updatePhone(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={phone:e,password:t[0]};const a=r.phone,s=r.password;if(typeof a>"u")throw new x('Missing required parameter: "phone"');if(typeof s>"u")throw new x('Missing required parameter: "password"');const i="/account/phone",o={};typeof a<"u"&&(o.phone=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}getPrefs(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}updatePrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?t=e||{}:t={prefs:e};const r=t.prefs;if(typeof r>"u")throw new x('Missing required parameter: "prefs"');const a="/account/prefs",s={};typeof r<"u"&&(s.prefs=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}createRecovery(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,url:t[0]};const a=r.email,s=r.url;if(typeof a>"u")throw new x('Missing required parameter: "email"');if(typeof s>"u")throw new x('Missing required parameter: "url"');const i="/account/recovery",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.url=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateRecovery(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0],password:t[1]};const a=r.userId,s=r.secret,i=r.password;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');if(typeof i>"u")throw new x('Missing required parameter: "password"');const o="/account/recovery",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.secret=s),typeof i<"u"&&(l.password=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("put",d,f,l)}listSessions(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}deleteSessions(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("delete",r,a,t)}createAnonymousSession(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}createEmailPasswordSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:t[0]};const a=r.email,s=r.password;if(typeof a>"u")throw new x('Missing required parameter: "email"');if(typeof s>"u")throw new x('Missing required parameter: "password"');const i="/account/sessions/email",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateMagicURLSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/sessions/magic-url",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createOAuth2Session(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=r.provider,s=r.success,i=r.failure,o=r.scopes;if(typeof a>"u")throw new x('Missing required parameter: "provider"');const l="/account/sessions/oauth2/{provider}".replace("{provider}",a),d={};typeof s<"u"&&(d.success=s),typeof i<"u"&&(d.failure=i),typeof o<"u"&&(d.scopes=o);const f=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[h,v]of Object.entries(Kn.flatten(d)))f.searchParams.append(h,v);if(typeof window<"u"&&window?.location){window.location.href=f.toString();return}else return f.toString()}updatePhoneSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/sessions/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/sessions/token",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}getSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new x('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new x('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}deleteSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new x('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}updateStatus(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}createPushTarget(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:t[0],providerId:t[1]};const a=r.targetId,s=r.identifier,i=r.providerId;if(typeof a>"u")throw new x('Missing required parameter: "targetId"');if(typeof s>"u")throw new x('Missing required parameter: "identifier"');const o="/account/targets/push",l={};typeof a<"u"&&(l.targetId=a),typeof s<"u"&&(l.identifier=s),typeof i<"u"&&(l.providerId=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("post",d,f,l)}updatePushTarget(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:t[0]};const a=r.targetId,s=r.identifier;if(typeof a>"u")throw new x('Missing required parameter: "targetId"');if(typeof s>"u")throw new x('Missing required parameter: "identifier"');const i="/account/targets/{targetId}/push".replace("{targetId}",a),o={};typeof s<"u"&&(o.identifier=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deletePushTarget(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={targetId:e};const r=t.targetId;if(typeof r>"u")throw new x('Missing required parameter: "targetId"');const a="/account/targets/{targetId}/push".replace("{targetId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createEmailToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],phrase:t[1]};const a=r.userId,s=r.email,i=r.phrase;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "email"');const o="/account/tokens/email",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.email=s),typeof i<"u"&&(l.phrase=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("post",d,f,l)}createMagicURLToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],url:t[1],phrase:t[2]};const a=r.userId,s=r.email,i=r.url,o=r.phrase;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "email"');const l="/account/tokens/magic-url",d={};typeof a<"u"&&(d.userId=a),typeof s<"u"&&(d.email=s),typeof i<"u"&&(d.url=i),typeof o<"u"&&(d.phrase=o);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("post",f,h,d)}createOAuth2Token(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=r.provider,s=r.success,i=r.failure,o=r.scopes;if(typeof a>"u")throw new x('Missing required parameter: "provider"');const l="/account/tokens/oauth2/{provider}".replace("{provider}",a),d={};typeof s<"u"&&(d.success=s),typeof i<"u"&&(d.failure=i),typeof o<"u"&&(d.scopes=o);const f=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[h,v]of Object.entries(Kn.flatten(d)))f.searchParams.append(h,v);if(typeof window<"u"&&window?.location){window.location.href=f.toString();return}else return f.toString()}createPhoneToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,phone:t[0]};const a=r.userId,s=r.phone;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "phone"');const i="/account/tokens/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.phone=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}createEmailVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const r=t.url;if(typeof r>"u")throw new x('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof r<"u"&&(s.url=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const r=t.url;if(typeof r>"u")throw new x('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof r<"u"&&(s.url=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateEmailVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/verifications/email",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/verifications/email",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createPhoneVerification(){const e="/account/verifications/phone",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}updatePhoneVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "userId"');if(typeof s>"u")throw new x('Missing required parameter: "secret"');const i="/account/verifications/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}class Lc{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const r=t.queries,a="/databases/transactions",s={};typeof r<"u"&&(s.queries=r);const i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const r=t.ttl,a="/databases/transactions",s={};typeof r<"u"&&(s.ttl=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new x('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateTransaction(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:t[0],rollback:t[1]};const a=r.transactionId,s=r.commit,i=r.rollback;if(typeof a>"u")throw new x('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("patch",d,f,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new x('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createOperations(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:t[0]};const a=r.transactionId,s=r.operations;if(typeof a>"u")throw new x('Missing required parameter: "transactionId"');const i="/databases/transactions/{transactionId}/operations".replace("{transactionId}",a),o={};typeof s<"u"&&(o.operations=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listDocuments(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=r.databaseId,s=r.collectionId,i=r.queries,o=r.transactionId,l=r.total;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),f={};typeof i<"u"&&(f.queries=i),typeof o<"u"&&(f.transactionId=o),typeof l<"u"&&(f.total=l);const h=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",h,v,f)}createDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');if(typeof o>"u")throw new x('Missing required parameter: "data"');const f="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),h={};typeof i<"u"&&(h.documentId=i),typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",v,y,h)}getDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],queries:t[2],transactionId:t[3]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.queries,l=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),f={};typeof o<"u"&&(f.queries=o),typeof l<"u"&&(f.transactionId=l);const h=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",h,v,f)}upsertDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');if(typeof o>"u")throw new x('Missing required parameter: "data"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),h={};typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("put",v,y,h)}updateDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),h={};typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,h)}deleteDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],transactionId:t[2]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),d={};typeof o<"u"&&(d.transactionId=o);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("delete",f,h,d)}decrementDocumentAttribute(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.attribute,l=r.value,d=r.min,f=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');if(typeof o>"u")throw new x('Missing required parameter: "attribute"');const h="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.min=d),typeof f<"u"&&(v.transactionId=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",y,b,v)}incrementDocumentAttribute(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.attribute,l=r.value,d=r.max,f=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "collectionId"');if(typeof i>"u")throw new x('Missing required parameter: "documentId"');if(typeof o>"u")throw new x('Missing required parameter: "attribute"');const h="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.max=d),typeof f<"u"&&(v.transactionId=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",y,b,v)}}class Uc{constructor(e){this.client=e}listExecutions(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,queries:t[0],total:t[1]};const a=r.functionId,s=r.queries,i=r.total;if(typeof a>"u")throw new x('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",a),l={};typeof s<"u"&&(l.queries=s),typeof i<"u"&&(l.total=i);const d=new URL(this.client.config.endpoint+o),f={};return this.client.call("get",d,f,l)}createExecution(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,body:t[0],async:t[1],xpath:t[2],method:t[3],headers:t[4],scheduledAt:t[5]};const a=r.functionId,s=r.body,i=r.async,o=r.xpath,l=r.method,d=r.headers,f=r.scheduledAt;if(typeof a>"u")throw new x('Missing required parameter: "functionId"');const h="/functions/{functionId}/executions".replace("{functionId}",a),v={};typeof s<"u"&&(v.body=s),typeof i<"u"&&(v.async=i),typeof o<"u"&&(v.path=o),typeof l<"u"&&(v.method=l),typeof d<"u"&&(v.headers=d),typeof f<"u"&&(v.scheduledAt=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("post",y,b,v)}getExecution(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,executionId:t[0]};const a=r.functionId,s=r.executionId;if(typeof a>"u")throw new x('Missing required parameter: "functionId"');if(typeof s>"u")throw new x('Missing required parameter: "executionId"');const i="/functions/{functionId}/executions/{executionId}".replace("{functionId}",a).replace("{executionId}",s),o={},l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}}class Hc{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const r=t.queries,a="/tablesdb/transactions",s={};typeof r<"u"&&(s.queries=r);const i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const r=t.ttl,a="/tablesdb/transactions",s={};typeof r<"u"&&(s.ttl=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new x('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateTransaction(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:t[0],rollback:t[1]};const a=r.transactionId,s=r.commit,i=r.rollback;if(typeof a>"u")throw new x('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("patch",d,f,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new x('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createOperations(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:t[0]};const a=r.transactionId,s=r.operations;if(typeof a>"u")throw new x('Missing required parameter: "transactionId"');const i="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",a),o={};typeof s<"u"&&(o.operations=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listRows(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=r.databaseId,s=r.tableId,i=r.queries,o=r.transactionId,l=r.total;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),f={};typeof i<"u"&&(f.queries=i),typeof o<"u"&&(f.transactionId=o),typeof l<"u"&&(f.total=l);const h=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",h,v,f)}createRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');if(typeof o>"u")throw new x('Missing required parameter: "data"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),h={};typeof i<"u"&&(h.rowId=i),typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",v,y,h)}getRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],queries:t[2],transactionId:t[3]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.queries,l=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),f={};typeof o<"u"&&(f.queries=o),typeof l<"u"&&(f.transactionId=l);const h=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",h,v,f)}upsertRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),h={};typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("put",v,y,h)}updateRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),h={};typeof o<"u"&&(h.data=o),typeof l<"u"&&(h.permissions=l),typeof d<"u"&&(h.transactionId=d);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,h)}deleteRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],transactionId:t[2]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');const l="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),d={};typeof o<"u"&&(d.transactionId=o);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("delete",f,h,d)}decrementRowColumn(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.column,l=r.value,d=r.min,f=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');if(typeof o>"u")throw new x('Missing required parameter: "column"');const h="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.min=d),typeof f<"u"&&(v.transactionId=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",y,b,v)}incrementRowColumn(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.column,l=r.value,d=r.max,f=r.transactionId;if(typeof a>"u")throw new x('Missing required parameter: "databaseId"');if(typeof s>"u")throw new x('Missing required parameter: "tableId"');if(typeof i>"u")throw new x('Missing required parameter: "rowId"');if(typeof o>"u")throw new x('Missing required parameter: "column"');const h="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.max=d),typeof f<"u"&&(v.transactionId=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("patch",y,b,v)}}class Bc{constructor(e){this.client=e}list(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,search:t[0],total:t[1]};const a=r.queries,s=r.search,i=r.total,o="/teams",l={};typeof a<"u"&&(l.queries=a),typeof s<"u"&&(l.search=s),typeof i<"u"&&(l.total=i);const d=new URL(this.client.config.endpoint+o),f={};return this.client.call("get",d,f,l)}create(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:t[0],roles:t[1]};const a=r.teamId,s=r.name,i=r.roles;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "name"');const o="/teams",l={};typeof a<"u"&&(l.teamId=a),typeof s<"u"&&(l.name=s),typeof i<"u"&&(l.roles=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("post",d,f,l)}get(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new x('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateName(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:t[0]};const a=r.teamId,s=r.name;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "name"');const i="/teams/{teamId}".replace("{teamId}",a),o={};typeof s<"u"&&(o.name=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}delete(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new x('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}listMemberships(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,queries:t[0],search:t[1],total:t[2]};const a=r.teamId,s=r.queries,i=r.search,o=r.total;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');const l="/teams/{teamId}/memberships".replace("{teamId}",a),d={};typeof s<"u"&&(d.queries=s),typeof i<"u"&&(d.search=i),typeof o<"u"&&(d.total=o);const f=new URL(this.client.config.endpoint+l),h={};return this.client.call("get",f,h,d)}createMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,roles:t[0],email:t[1],userId:t[2],phone:t[3],url:t[4],name:t[5]};const a=r.teamId,s=r.roles,i=r.email,o=r.userId,l=r.phone,d=r.url,f=r.name;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "roles"');const h="/teams/{teamId}/memberships".replace("{teamId}",a),v={};typeof i<"u"&&(v.email=i),typeof o<"u"&&(v.userId=o),typeof l<"u"&&(v.phone=l),typeof s<"u"&&(v.roles=s),typeof d<"u"&&(v.url=d),typeof f<"u"&&(v.name=f);const y=new URL(this.client.config.endpoint+h),b={"content-type":"application/json"};return this.client.call("post",y,b,v)}getMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0]};const a=r.teamId,s=r.membershipId;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),o={},l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}updateMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0],roles:t[1]};const a=r.teamId,s=r.membershipId,i=r.roles;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "membershipId"');if(typeof i>"u")throw new x('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),l={};typeof i<"u"&&(l.roles=i);const d=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return this.client.call("patch",d,f,l)}deleteMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0]};const a=r.teamId,s=r.membershipId;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),o={},l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("delete",l,d,o)}updateMembershipStatus(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0],userId:t[1],secret:t[2]};const a=r.teamId,s=r.membershipId,i=r.userId,o=r.secret;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "membershipId"');if(typeof i>"u")throw new x('Missing required parameter: "userId"');if(typeof o>"u")throw new x('Missing required parameter: "secret"');const l="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",a).replace("{membershipId}",s),d={};typeof i<"u"&&(d.userId=i),typeof o<"u"&&(d.secret=o);const f=new URL(this.client.config.endpoint+l),h={"content-type":"application/json"};return this.client.call("patch",f,h,d)}getPrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new x('Missing required parameter: "teamId"');const a="/teams/{teamId}/prefs".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updatePrefs(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,prefs:t[0]};const a=r.teamId,s=r.prefs;if(typeof a>"u")throw new x('Missing required parameter: "teamId"');if(typeof s>"u")throw new x('Missing required parameter: "prefs"');const i="/teams/{teamId}/prefs".replace("{teamId}",a),o={};typeof s<"u"&&(o.prefs=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}var ka;(function(n){n[n.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",n[n.POLICY_VIOLATION=1008]="POLICY_VIOLATION",n[n.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(ka||(ka={}));class Ge{}Ge.read=n=>`read("${n}")`;Ge.write=n=>`write("${n}")`;Ge.create=n=>`create("${n}")`;Ge.update=n=>`update("${n}")`;Ge.delete=n=>`delete("${n}")`;class gt{static any(){return"any"}static user(e,t=""){return t===""?`user:${e}`:`user:${e}/${t}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,t=""){return t===""?`team:${e}`:`team:${e}/${t}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ii,oi;class un{static custom(e){return e}static unique(e=7){const t=jc(un,ii,"m",oi).call(un);let r="";for(let a=0;a<e;a++){const s=Math.floor(Math.random()*16).toString(16);r+=s}return t+r}}ii=un,oi=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var $a;(function(n){n.Equal="equal",n.NotEqual="notEqual",n.GreaterThan="greaterThan",n.GreaterThanEqual="greaterThanEqual",n.LessThan="lessThan",n.LessThanEqual="lessThanEqual",n.Contains="contains",n.IsNull="isNull",n.IsNotNull="isNotNull"})($a||($a={}));var Ca;(function(n){n.Totp="totp"})(Ca||(Ca={}));var qa;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(qa||(qa={}));var ja;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Figma="figma",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(ja||(ja={}));var Na;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(Na||(Na={}));var La;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionPay="unionpay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro",n.Rupay="rupay"})(La||(La={}));var Ua;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(Ua||(Ua={}));var Ha;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS",n.HEAD="HEAD"})(Ha||(Ha={}));var Ba;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(Ba||(Ba={}));var za;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Png="png",n.Webp="webp",n.Heic="heic",n.Avif="avif",n.Gif="gif"})(za||(za={}));var Va;(function(n){n.Http="http",n.Schedule="schedule",n.Event="event"})(Va||(Va={}));var Qa;(function(n){n.Waiting="waiting",n.Processing="processing",n.Completed="completed",n.Failed="failed",n.Scheduled="scheduled"})(Qa||(Qa={}));const Ct={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3",usersTeamsManager:"692cb2cd000cbb24549c"},collections:{events:"events",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products",kteams:"kteams"}};let an=null;async function Re(){if(an)return an;console.log("[appwrite] Initialisation des instances Appwrite...");const n=new Dt().setEndpoint(Ct.endpoint).setProject(Ct.projectId),e=new Nc(n),t=new Lc(n),r=new Hc(n),a=new Uc(n),s=new Bc(n);return an={client:n,account:e,databases:t,tables:r,functions:a,teams:s,config:Ct},console.log("[appwrite] Instances initialisées avec succès"),an}function zc(){console.log("[appwrite] Cache réinitialisé"),an=null}function Rr(){return{APPWRITE_ENDPOINT:Ct.endpoint,APPWRITE_PROJECT_ID:Ct.projectId,APPWRITE_FUNCTION_ID:Ct.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:Ct.functions.accessRequest,APPWRITE_CONFIG:Ct}}function ci(n,e){return an?an.client.subscribe(n,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new Dt().setEndpoint(Ct.endpoint).setProject(Ct.projectId).subscribe(n,e))}function Bn(){return localStorage.getItem("appwrite-user-name")||""}async function Vc(n,e,t=100){try{const{tables:r,config:a}=await Re(),s=await r.listRows({databaseId:a.databaseId,tableId:a.APPWRITE_CONFIG.collections.purchases,queries:[j.greaterThan("$updatedAt",e),j.equal("mainId",n),j.limit(t),j.select(["*","products.$id"])]});return console.log(`[Appwrite Interactions] ${s.rows.length} purchases modifiés chargés`),s.rows}catch(r){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",r),[]}}async function li(n,e){const{lastSync:t,limit:r=100}=e;try{const{tables:a,config:s}=await Re();if(!t)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await a.listRows({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.products,queries:[j.equal("mainId",n),j.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),j.limit(r)]})).rows;const i=await a.listRows({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.products,queries:[j.greaterThan("$updatedAt",t),j.equal("mainId",n),j.limit(r),j.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]});return i.rows.length>0&&console.log(`[Appwrite Interactions] ${i.rows.length} produits synchronisés avec leurs purchases`),i.rows}catch(a){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${n}:`,a);const s=a instanceof Error?a.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${s}`)}}async function di(n,e,t=!0){const{tables:r,config:a}=await Re();return t&&(e.updatedBy=Bn()),await r.updateRow({databaseId:a.databaseId,tableId:a.APPWRITE_CONFIG.collections.products,rowId:n,data:e})}async function ui(n,e,t=!1){if(!n)throw new Error("ID du produit requis pour la mise à jour de l'override");const r=JSON.stringify(e),a=await di(n,{totalNeededOverride:r},t);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${n}:`,e),a}async function fi(n){if(!n?.length)return[];try{const{tables:e,config:t}=await Re(),r=await e.listRows(t.databaseId,t.APPWRITE_CONFIG.collections.purchases,[j.equal("$id",n),j.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${r.rows.length} purchases chargés avec relations products`),r.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const t=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${t}`)}}function hi(n,e={}){let t=null;const r=s=>{const{events:i,payload:o}=s;if(!o)return;const l=i.some(y=>y.includes("products.")),d=i.some(y=>y.includes("purchases.")),f=i.some(y=>y.includes(".create")),h=i.some(y=>y.includes(".update")),v=i.some(y=>y.includes(".delete"));if(l){const y=o;y.updatedBy&&y.updatedBy!==Bn()&&(f||h?Me.info(`${y.updatedBy} a modifié le produit "${y.productName}"`,{source:"realtime-other"}):v&&Me.info(`${y.updatedBy} a supprimé un produit`,{source:"realtime-other"})),f&&e.onProductCreate?e.onProductCreate(y):h&&e.onProductUpdate?e.onProductUpdate(y):v&&e.onProductDelete&&e.onProductDelete(y.$id)}else if(d){const y=o;if(y.createdBy&&y.createdBy!==Bn()){const b=y.products?.[0]?.productName||"un produit";f&&y.who!==Bn()?Me.info(`${y.who} a ajouté un achat pour ${b}`,{source:"realtime-other"}):h&&y.who!==Bn()?Me.info(`${y.who} a modifié un achat pour ${b}`,{source:"realtime-other"}):v&&Me.info(`${y.who} a supprimé un achat pour ${b}`,{source:"realtime-other"})}f&&e.onPurchaseCreate?e.onPurchaseCreate(y):h&&e.onPurchaseUpdate?e.onPurchaseUpdate(y):v&&e.onPurchaseDelete&&e.onPurchaseDelete(y.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),t=window.AppwriteClient.subscribeToCollections(["products","purchases"],n,r,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:s=>{console.error("[Appwrite Interactions] Erreur realtime:",s),e.onError?.(s)}}))}catch(s){console.error("[Appwrite Interactions] Impossible de configurer realtime:",s),e.onError?.(s)}})(),()=>{t&&(t(),t=null)}}async function pi(n){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${n}`);const{tables:e,config:t}=await Re(),r=await e.getRow(t.databaseId,t.collections.main,n);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${r.name}`),r}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${n}:`,e),null}}async function vi(n,e,t,r){try{console.log(`[Appwrite Interactions] Création du Main document: ${n}`);const{tables:a,config:s,account:i}=await Re(),o=await i.get();await a.createRow(s.databaseId,s.APPWRITE_CONFIG.collections.main,n,{name:r,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:t,status:"active",dateStart:t[0]||null,dateEnd:t[t.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${n}`)}catch(a){throw console.error("[Appwrite Interactions] Erreur création Main document:",a),a}}async function Qc(n){try{const{tables:e,config:t}=await Re(),r=await e.listRows(t.databaseId,t.APPWRITE_CONFIG.collections.purchases,[j.equal("mainId",n),j.equal("status","expense"),j.limit(1e3)]);return console.log(`[Appwrite Interactions] ${r.rows.length} dépenses globales chargées`),r.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Wa=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:vi,loadMainEventData:pi,loadOrphanPurchases:Qc,loadPurchasesListByIds:fi,loadUpdatedPurchases:Vc,subscribeToRealtime:hi,syncProductsWithPurchases:li,updateProduct:di,updateTotalOverride:ui},Symbol.toStringTag,{value:"Module"}));function Wc(n){const t=new Date(n).getHours();return t>=11&&t<=13?"sun":t>=19&&t<=21?"moon":t>=7&&t<=9?"cloud":null}function Gc(n){return{formattedDate:new Date(n).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:Wc(n)}}function mi(n){const e={};for(const t of n)e[t]=Gc(t);return e}function Kc(n,e){if(!n.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const t=n.byDate[e],r=[e],a=new Map;t.recipes?.length&&a.set(e,t.recipes);const s=t.totalConsolidated||[],i=s.length>0?tt(s):"-",o=Jc(n,e,s),l=o.filter(v=>v.q>0),d=new Date().toISOString().split("T")[0],h=e<d?[]:o.filter(v=>v.q<0);return{requiredQuantities:s,requiredQuantitiesFormatted:i,stockBalance:o,availableStockQuantities:l,missingStockQuantities:h,availableStockFormatted:ca(o),missingStockFormatted:tt(h.map(v=>({q:Math.abs(v.q),u:v.u}))),hasAvailableStock:l.length>0,hasMissingStock:h.length>0,totalRecipesInRange:t.recipes?.length||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:r,recipesByDate:a}}function Jc(n,e,t){let r=[],a="";n.stockParsed?.dateTime&&n.stockParsed.dateTime<=e&&(r=[{q:parseFloat(n.stockParsed.quantity),u:n.stockParsed.unit}],a=n.stockParsed.dateTime);const s=[];if(n.purchases)for(const l of n.purchases)Oc(l,e,a)&&s.push({q:l.quantity,u:l.unit});const i=[...r,...s],o=ia(i);return si(o,t)}function Oc(n,e,t=""){if(n.status==="cancelled")return!1;const r=n.deliveryDate||n.$createdAt;return!r||r>e||t&&n.$createdAt<t?!1:r<=e}function Yc(n,e){const t=n.totalNeededArray||[],r=t.length>0?tt(t):"-",a=gi(n,e[0],e[e.length-1],t),s=a.filter(d=>d.q>0),i=a.filter(d=>d.q<0),o=[...e].sort(),l=new Map;if(n.byDate)for(const[d,f]of Object.entries(n.byDate))f.recipes?.length&&l.set(d,f.recipes);return{requiredQuantities:t,requiredQuantitiesFormatted:r,stockBalance:a,availableStockQuantities:s,missingStockQuantities:i,availableStockFormatted:ca(a),missingStockFormatted:tt(i.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:s.length>0,hasMissingStock:i.length>0,totalRecipesInRange:n.nbRecipes||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:l}}function Xc(n,e,t){if(!n.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const r=new Date(e),a=new Date(t),s=[],i=new Map,o=new Map;let l=0,d=0;for(const[A,E]of Object.entries(n.byDate)){const k=new Date(A);k>=r&&k<=a&&(s.push(A),l+=E.totalAssiettes||0,E.recipes?.length&&(i.set(A,E.recipes),d+=E.recipes.length),E.totalConsolidated&&E.totalConsolidated.forEach(({q:P,u:D})=>{o.set(D,(o.get(D)||0)+P)}))}const f=Array.from(o.entries()).map(([A,E])=>({q:E,u:A})),h=f.length>0?tt(f):"-",v=gi(n,e,t,f),y=v.filter(A=>A.q>0),b=new Date().toISOString().split("T")[0],w=t<b?[]:v.filter(A=>A.q<0);return{requiredQuantities:f,requiredQuantitiesFormatted:h,stockBalance:v,availableStockQuantities:y,missingStockQuantities:w,availableStockFormatted:ca(v),missingStockFormatted:tt(w.map(A=>({q:Math.abs(A.q),u:A.u}))),hasAvailableStock:y.length>0,hasMissingStock:w.length>0,totalRecipesInRange:d,totalPortionsInRange:l,datesInSelectedRange:s,recipesByDate:i}}function gi(n,e,t,r){let a=[],s="";n.stockParsed?.dateTime&&n.stockParsed.dateTime<=e&&(a=[{q:parseFloat(n.stockParsed.quantity),u:n.stockParsed.unit}],s=n.stockParsed.dateTime);const i=[];if(n.purchases)for(const d of n.purchases)Zc(d,e,t,s)&&i.push({q:d.quantity,u:d.unit});const o=[...a,...i],l=ia(o);return si(l,r)}function Zc(n,e,t,r=""){if(n.status==="cancelled")return!1;const a=n.deliveryDate||n.$createdAt;return!a||a>t||r&&n.$createdAt<r?!1:a<=t}async function Fc(n){let e;if(e=await fetch(`/evenements/${n}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const t=await e.json();if(!t.mainGroup_id||!t.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return t}async function Ga(n){const e=await fetch(`/evenements/${n}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const t=await e.json();if(!t.mainGroup_id||!t.ingredients)throw new Error("Format de données Hugo invalide");return t}async function el(n,e){if(!n)return!0;try{return(await Fc(e)).hugoContentHash!==n}catch(t){return console.warn("Impossible de vérifier le hash Hugo:",t),!1}}function yi(n,e){const t=oa(n.byDate),r=xr(Er([])),{numeric:a,display:s}=Ar(t,r),i=Object.keys(n.byDate||{}),o=mi(i);return{$id:`${n.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:n.ingredientHugoUuid,productName:n.ingredientName,productType:n.ingType,pFrais:n.pFrais||!1,pSurgel:n.pSurgel||!1,nbRecipes:n.nbRecipes,totalNeededRaw:n.totalNeededRaw,totalAssiettes:n.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:n.byDate,storeInfo:null,stockParsed:null,totalNeededArray:t,totalPurchasesArray:r,missingQuantityArray:a,stockOrTotalPurchases:"-",displayTotalNeeded:tt(t),displayTotalPurchases:"-",displayMissingQuantity:s,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function tl(n,e){return n.map(t=>yi(t,e))}class nl{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.PRODUCTS_STORE)||(s.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.$id,o)}),console.log(`[IDBCache] ${i.size} produits chargés`),e(i)},s.onerror=()=>t(s.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,o={lastSync:null,allDates:[],hugoContentHash:null};i.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.ALL_DATES_KEY?o.allDates=l.value||[]:l.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=l.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},s.onerror=()=>t(s.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),s=a.objectStore(this.PRODUCTS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),t()},a.onerror=()=>r(a.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&s.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),a.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),t()},a.onerror=()=>r(a.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),t()},i.onerror=()=>r(i.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});i.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),t()},i.onerror=()=>r(i.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const r=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.PRODUCTS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},r.onerror=()=>t(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function rl(n){const e=new nl(n);return await e.open(),e}function al(n){return!!(n.isMerged||n.totalNeededOverride)}function sl(n,e){if(!n||n.length!==e.length)return!0;for(let t=0;t<n.length;t++){const r=n[t],a=e[t];if(r.q!==a.q||r.u!==a.u)return!0}return!1}async function il(n,e){const t={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},r=new Set;for(const a of e.ingredients){const s=a.productSemanticKey;if(!s){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${a.ingredientName}`);continue}r.add(s);const i=n.get(s);if(i){if(sl(i.totalNeededRaw,a.totalNeededRaw)){const l=ol(i,a);if(l&&t.overrideConflicts.push(l),i.isMerged){const d=i.displayTotalNeeded;Ka(i,a),t.mergedProductsUpdated.push({product:i,oldDisplayTotal:d,newDisplayTotal:i.displayTotalNeeded,currentOverride:i.totalNeededOverrideParsed,semanticKey:s})}else Ka(i,a);t.updated.push(s)}n.set(s,i)}else{t.added.push(a);const o=yi(a,e.mainGroup_id);n.set(o.$id,o)}}for(const[a,s]of n)r.has(a)||(t.removed.push(s),!al(s)&&!s.purchases?.length&&!s.stockReel&&!s.who?.length&&n.delete(a));return t.overrideConflicts.length>0&&await cl(t.overrideConflicts),t.summary=dl(t),t}function ol(n,e){if(!n.totalNeededOverride||!n.totalNeededOverrideParsed)return null;const t=oa(e.byDate),r=tt(t),a=n.displayTotalNeeded;return a!==r?{product:n,oldDisplayTotal:a,newDisplayTotal:r,currentOverride:n.totalNeededOverrideParsed,semanticKey:n.$id}:null}async function cl(n){for(const e of n){const t={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(t);try{await ui(e.product.$id,t,!1)}catch(r){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,r)}}}function Ka(n,e){n.byDate=e.byDate,n.nbRecipes=e.nbRecipes,n.totalAssiettes=e.totalAssiettes,n.productType=e.ingType,n.pFrais=e.pFrais||!1,n.pSurgel=e.pSurgel||!1,ll(n)}function ll(n){n.totalNeededArray=oa(n.byDate),n.displayTotalNeeded=tt(n.totalNeededArray);const e=xr(Er(n.purchases)),{numeric:t,display:r}=Ar(n.totalNeededArray,e);n.totalPurchasesArray=e,n.missingQuantityArray=t,n.displayMissingQuantity=r;const a=Object.keys(n.byDate||{});n.dateDisplayInfo=mi(a),n.stockOrTotalPurchases=n.purchases.length>0?n.displayTotalPurchases:n.displayTotalNeeded}function dl(n){const e=[];if((n.added.length>0||n.updated.length>0||n.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),n.added.length>0&&e.push(`${n.added.length} nouveau(x) ingrédient(s)`),n.updated.length>0&&e.push(` ${n.updated.length} ingrédient(s) mis à jour`),n.overrideConflicts.length>0&&e.push(`⚠️ ${n.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),n.mergedProductsUpdated.length>0&&e.push(`🔀 ${n.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),n.removed.length>0){const t=n.removed.filter(r=>r.purchases?.length||r.stockReel||r.who?.length).length;t>0?e.push(`⚠️ ${t} suppression(s) avec données conservées`):e.push(`${n.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}const{APPWRITE_CONFIG:Nt}=Rr();async function bi(){try{const{tables:n,account:e}=await Re(),t=await e.get();return{teams:(await n.listRows({databaseId:Nt.databaseId,tableId:"kteams"})).rows}}catch(n){throw console.error("[teams] Error listing teams:",n),n}}async function Zn(n){try{const{tables:e}=await Re();return await e.getRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:n})}catch(e){throw console.error(`[teams] Error getting team ${n}:`,e),e}}async function ul(n,e){try{const{tables:t,account:r}=await Re(),a=await r.get(),s=un.unique(),i={id:a.$id,name:a.name,role:"owner",joinedAt:new Date().toISOString()},o=await t.createRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:s,data:{name:n,description:e||null,membersId:[a.$id],members:[JSON.stringify(i)],invited:null,main:[]},permissions:[Ge.read(gt.user(a.$id)),Ge.update(gt.user(a.$id)),Ge.delete(gt.user(a.$id))]});return console.log(`[teams] Team created: ${s}`),o}catch(t){throw console.error("[teams] Error creating team:",t),t}}async function fl(n,e,t){try{const{tables:r}=await Re(),a={};e!==void 0&&(a.name=e),t!==void 0&&(a.description=t);const s=await r.updateRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:n,data:a});return console.log(`[teams] Team updated: ${n}`),s}catch(r){throw console.error(`[teams] Error updating team ${n}:`,r),r}}async function hl(n){try{const{tables:e}=await Re();await e.deleteRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:n}),console.log(`[teams] Team deleted: ${n}`)}catch(e){throw console.error(`[teams] Error deleting team ${n}:`,e),e}}async function pl(n,e,t,r){try{const{tables:a}=await Re(),s=await Zn(n);if(!s.membersId.includes(e)){const i={id:e,name:t,role:"member",joinedAt:new Date().toISOString()},o=[...s.membersId,e],l=[...s.members,JSON.stringify(i)],d=await a.updateRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:n,data:{membersId:o,members:l},permissions:[Ge.read(gt.user(e)),Ge.update(gt.user(e))]});return console.log(`[teams] Member added to team ${n}: ${e}`),d}return s}catch(a){throw console.error(`[teams] Error adding member to team ${n}:`,a),a}}async function vl(n,e){try{const{tables:t}=await Re(),r=await Zn(n);if(r.membersId.includes(e)){const a=r.membersId.filter(o=>o!==e),s=r.members.filter((o,l)=>r.membersId[l]!==e),i=await t.updateRow({databaseId:Nt.databaseId,tableId:"kteams",rowId:n,data:{membersId:a,members:s}});return console.log(`[teams] Member removed from team ${n}: ${e}`),i}return r}catch(t){throw console.error(`[teams] Error removing member from team ${n}:`,t),t}}async function ml(n,e,t){try{const{functions:r}=await Re(),a=await Zn(n),s=await r.createExecution({functionId:Nt.functions.usersTeamsManager,body:JSON.stringify({action:"invite",emails:e,context:{type:"team",id:n,name:a.name},message:t||""})}),i=JSON.parse(s.responseBody);if(!i.success)throw new Error(i.error||"Erreur lors de l'invitation");return i.emailResults&&i.emailResults.failed>0&&console.warn(`[teams] Certains emails n'ont pas pu être envoyés pour l'équipe ${n}: ${i.emailResults.failed}/${i.emailResults.sent+i.emailResults.failed} échecs`),i}catch(r){throw console.error(`[teams] Error inviting members to team ${n}:`,r),r}}async function gl(n,e,t){try{const{functions:r}=await Re(),a=await r.createExecution({functionId:Nt.functions.usersTeamsManager,body:JSON.stringify({action:"exchange-invite",teamId:n,userId:e,secret:t})}),s=JSON.parse(a.responseBody);if(!s.success)throw new Error(s.error||"L'invitation est invalide ou expirée.");return{token:s.token,userId:s.userId}}catch(r){throw console.error("[teams] Error validating invitation:",r),r}}async function yl(n,e){try{const{functions:t}=await Re(),r=await t.createExecution({functionId:Nt.functions.usersTeamsManager,body:JSON.stringify({action:"accept-invitation",userId:n,context:{type:"team",id:e}})}),a=JSON.parse(r.responseBody);if(!a.success)throw new Error(a.error||"Erreur lors de l'acceptation");return await Zn(e)}catch(t){throw console.error(`[teams] Error accepting invitation for team ${e}:`,t),t}}async function or(){try{return(await bi()).teams.map(e=>e.$id)}catch(n){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",n),[]}}async function bl(n){try{return(await or()).includes(n)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}class wl{isMobileQuery=new xc("max-width: 1024px");#e=q(null);#t=q(Pe([]));#n=q(!1);#s=q(null);#r=q(!1);get user(){return c(this.#e)}get userId(){return c(this.#e)?.$id??null}get userTeams(){return c(this.#t)}get isAuthenticated(){return c(this.#e)!==null}get authLoading(){return c(this.#n)}get authError(){return c(this.#s)}get authInitialized(){return c(this.#r)}async initializeAuth(){if(c(this.#r)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),p(this.#n,!0),p(this.#s,null);try{const{account:e}=await Re();p(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",c(this.#e).name),localStorage.setItem("appwrite-user-email",c(this.#e).email),localStorage.setItem("appwrite-user-id",c(this.#e).$id),p(this.#t,await or(),!0),console.log(`[GlobalState] Authentifié: ${c(this.#e).name} (${c(this.#t).length} équipes)`)}catch(e){p(this.#e,null),p(this.#t,[],!0),p(this.#s,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{p(this.#n,!1),p(this.#r,!0)}}async refreshAuthAfterLogin(){console.log("[GlobalState] Réinitialisation après login..."),p(this.#n,!0),p(this.#s,null);try{const{account:e}=await Re();p(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",c(this.#e).name),localStorage.setItem("appwrite-user-email",c(this.#e).email),localStorage.setItem("appwrite-user-id",c(this.#e).$id),p(this.#t,await or(),!0),console.log(`[GlobalState] Réinitialisé après login: ${c(this.#e).name} (${c(this.#t).length} équipes)`)}catch(e){console.error("[GlobalState] Erreur lors de la réinitialisation:",e),p(this.#s,e instanceof Error?e.message:"Erreur de réinitialisation",!0)}finally{p(this.#n,!1)}}async logout(){try{const{account:e}=await Re();await e.deleteSession({sessionId:"current"}),zc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),p(this.#e,null),p(this.#t,[],!0),p(this.#r,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!c(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await or();(e.length>0||c(this.#t).length===0)&&(p(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${c(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return c(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return Me.toasts}get toast(){return Me}#o=q(Pe({isOpen:!1,conflicts:[]}));get modalOverride(){return c(this.#o)}set modalOverride(e){p(this.#o,e,!0)}#i=q(Pe({isOpen:!1}));get modal(){return c(this.#i)}set modal(e){p(this.#i,e,!0)}#l=q(Pe({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return c(this.#l)}set backgroundOperation(e){p(this.#l,e,!0)}#u=q(Pe({isOpen:!1}));get authModal(){return c(this.#u)}set authModal(e){p(this.#u,e,!0)}}const pe=new wl;class Un{#e=q(Pe({}));get data(){return c(this.#e)}set data(e){p(this.#e,e,!0)}dateStore;constructor(e,t){this.data=e,this.dateStore=t}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=X(()=>{const e=this.dateStore.current,t=this.dateStore.dates;let r;if(this.dateStore.isFullRange)r=Yc(this.data,t),r.datesInSelectedRange&&(r.datesInSelectedRange=r.datesInSelectedRange.filter(a=>this.data.byDate&&this.data.byDate[a]));else if(e.start&&e.end&&e.start===e.end)r=Kc(this.data,e.start);else if(e.start&&e.end)r=Xc(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:r.requiredQuantities,formattedQuantities:r.requiredQuantitiesFormatted,nbRecipes:r.totalRecipesInRange,totalAssiettes:r.totalPortionsInRange,stockResult:r.stockBalance,availableQuantities:r.availableStockQuantities,missingQuantities:r.missingStockQuantities,formattedMissingQuantities:r.missingStockFormatted,formattedAvailableQuantities:r.availableStockFormatted,hasAvailable:r.hasAvailableStock,hasMissing:r.hasMissingStock,concernedDates:r.datesInSelectedRange,recipesByDate:r.recipesByDate}});get stats(){return c(this.#t)}set stats(e){p(this.#t,e)}}class _l{#e=q(Pe([]));#t=q(null);#n=q(null);constructor(e=[]){p(this.#e,e,!0),this.initializeSmartRange()}get start(){return c(this.#t)}get end(){return c(this.#n)}get dates(){return c(this.#e)}#s=X(()=>[...c(this.#e)].sort()[0]);get firstAvailableDate(){return c(this.#s)}set firstAvailableDate(e){p(this.#s,e)}#r=X(()=>[...c(this.#e)].sort()[c(this.#e).length-1]);get lastAvailableDate(){return c(this.#r)}set lastAvailableDate(e){p(this.#r,e)}get current(){return{start:c(this.#t),end:c(this.#n)}}#o=X(()=>{if(c(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return c(this.#o)}set isEventPassed(e){p(this.#o,e)}#i=X(()=>{if(c(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),c(this.#e).some(t=>new Date(t)>=e)});get hasUpcomingDates(){return c(this.#i)}set hasUpcomingDates(e){p(this.#i,e)}#l=X(()=>c(this.#t)===this.firstAvailableDate&&c(this.#n)===this.lastAvailableDate);get isFullRange(){return c(this.#l)}set isFullRange(e){p(this.#l,e)}#u=X(()=>{if(c(this.#e).length===0)return!1;const e=[...c(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const r=e.find(i=>new Date(i)>=t)||null;let a,s;if(r)a=r,s=e[e.length-1];else{const i=e[e.length-1];a=i,s=i}return c(this.#t)===a&&c(this.#n)===s});get isUpcomingRange(){return c(this.#u)}set isUpcomingRange(e){p(this.#u,e)}#d=X(()=>c(this.#e).length===1);get hasSingleDateEvent(){return c(this.#d)}set hasSingleDateEvent(e){p(this.#d,e)}#f=X(()=>!!(c(this.#t)&&c(this.#t)===c(this.#n)));get hasSingleDateInRange(){return c(this.#f)}set hasSingleDateInRange(e){p(this.#f,e)}#a=X(()=>{if(!c(this.#t)||!c(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(c(this.#t))<e});get hasPastDatesInRange(){return c(this.#a)}set hasPastDatesInRange(e){p(this.#a,e)}setAvailableDates(e){p(this.#e,e,!0),this.initializeSmartRange()}setRange(e,t){if(!e&&!t){p(this.#t,null),p(this.#n,null);return}if(!e||!t){const s=e||t;p(this.#t,s,!0),p(this.#n,s,!0);return}const r=new Date(e)<=new Date(t)?e:t,a=new Date(e)>=new Date(t)?e:t;p(this.#t,r,!0),p(this.#n,a,!0)}selectAll(){c(this.#e).length!==0&&(p(this.#t,c(this.#e)[0],!0),p(this.#n,c(this.#e)[c(this.#e).length-1],!0))}selectUpcoming(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const r=e.find(a=>new Date(a)>=t)||null;if(r)p(this.#t,r,!0),p(this.#n,e[e.length-1],!0);else{const a=e[e.length-1];p(this.#t,a,!0),p(this.#n,a,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const t=c(this.#e).filter(r=>new Date(r)>=e);t.length>0&&(p(this.#t,t[0],!0),p(this.#n,t[t.length-1],!0))}initializeSmartRange(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),t=this.isEventPassed,r=new Date(e[0])<new Date,a=new Date;let s;t?s=e[0]:r?s=a.toISOString().slice(0,19)+"Z":s=e[0],p(this.#t,s,!0),p(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${c(this.#t)} - ${c(this.#n)}`)}}const Ja=1e3;class Il{#e=new Kt;#t=new Kt;#n=q(null);#s=q(null);#r=q(!1);#o=q(!1);#i=q(null);#l=q(!1);#u=q(!1);#d=q(null);#f=q(null);get currentMainId(){return c(this.#n)}dateStore=new _l;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#a=null;#h=null;#p=q(!1);#v=null;#b=q(!1);#m=q();#w=q(Pe([]));get hasPendingConflicts(){return c(this.#w).length>0}get pendingConflicts(){return c(this.#w)}#c=q(Pe({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return c(this.#c)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return c(this.#o)}get error(){return c(this.#i)}get lastSync(){return c(this.#d)}get syncing(){return c(this.#l)}setDateRange(e,t){this.dateStore.setRange(e,t)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return c(this.#u)}#g=X(()=>{const e=Array.from(this.#e.values()).map(t=>t.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return c(this.#g)}set enrichedProducts(e){p(this.#g,e)}#y=X(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),t=new Date(this.dateRange.end),r=new Map;for(const[a,s]of this.#e){const i=s.data,o=!i.productHugoUuid;if(!i.byDate&&!o||!$c(i,c(this.#c)))continue;let d=!1;i.byDate&&(d=Object.keys(i.byDate).some(f=>{const h=new Date(f);return h>=e&&h<=t})),(d||o)&&r.set(a,s)}return r});get filteredProductsMap(){return c(this.#y)}set filteredProductsMap(e){p(this.#y,e)}#E=X(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return c(this.#E)}set stats(e){p(this.#E,e)}#x=X(()=>{const e=Array.from(this.#e.values()).map(t=>t.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return c(this.#x)}set uniqueStores(e){p(this.#x,e)}#A=X(()=>{const e=Array.from(this.#e.values()).flatMap(t=>t.who||[]);return[...new Set(e)]});get uniqueWho(){return c(this.#A)}set uniqueWho(e){p(this.#A,e)}#R=X(()=>{const e=Array.from(this.#e.values()).map(t=>t.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return c(this.#R)}set uniqueProductTypes(e){p(this.#R,e)}#T=X(()=>{const t=Array.from(this.filteredProductsMap.values()).sort((i,o)=>i.$id.localeCompare(o.$id));if(c(this.#c).groupBy==="none")return{"":t};const r=Object.groupBy(t,i=>c(this.#c).groupBy==="store"?i.storeInfo?.storeName||"Non défini":i.productType||"Non défini"),a=Object.keys(r).sort((i,o)=>i===""?1:o===""?-1:i.localeCompare(o)),s={};return a.forEach(i=>{s[i]=r[i]}),s});get groupedFilteredProducts(){return c(this.#T)}set groupedFilteredProducts(e){p(this.#T,e)}async initialize(e,t){if(!e?.trim())throw new Error("mainId invalide fourni");if(c(this.#r)&&c(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),p(this.#n,e,!0),p(this.#s,t,!0);try{this.#a=await rl(e)}catch(r){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",r),new Error("Impossible d'initialiser le cache IndexedDB")}p(this.#i,null);try{if(await this.#$(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");const a=await Ga(t);console.log(`[ProductsStore] Hugo chargé: ${a.ingredients.length} ingrédients`),p(this.#f,a.hugoContentHash,!0),tl(a.ingredients,e).forEach(o=>{this.#e.set(o.$id,new Un(o,this.dateStore))}),this.dateStore.setAvailableDates([...a.allDates]),await pi(e)||await vi(a.mainGroup_id,a.hugoContentHash,a.allDates,a.name),await this.#P()}this.initializeDateRange(),await this.#C(),await this.#G(),p(this.#r,!0);const r=this.#W();this.#h=hi(e,r),this.#L(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#D(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(r){const a=r instanceof Error?r.message:"Erreur lors de l'initialisation";throw p(this.#i,a,!0),console.error("[ProductsStore]",a,r),r}}async#$(){if(this.#a)try{const e=await this.#a.loadProducts();e.forEach((r,a)=>{r.status==="isSyncing"&&(r.status="active"),this.#e.set(a,new Un(r,this.dateStore))});const t=await this.#a.loadMetadata();p(this.#d,t.lastSync,!0),this.dateStore.setAvailableDates([...t.allDates]),p(this.#f,t.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${t.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#C(){if(c(this.#n)){p(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${c(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${c(this.#d)}`);const e=await li(c(this.#n),{lastSync:c(this.#d),limit:Ja});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(t=>{const r=this.#e.get(t.$id);console.log(`[ProductsStore] Sync produit ${t.$id}: existing=${!!r}, who=${t.who}, store=${t.store}`);const a=this.#M(t,r?.data);a.isSynced=!0,r?r.update(a):this.#e.set(t.$id,new Un(a,this.dateStore))}),c(this.#d)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${c(this.#d)}`);const{loadUpdatedPurchases:t}=await Vr(async()=>{const{loadUpdatedPurchases:a}=await Promise.resolve().then(()=>Wa);return{loadUpdatedPurchases:a}},void 0),r=await t(c(this.#n),c(this.#d),Ja);console.log(`[ProductsStore] ${r.length} purchases modifiés récupérés`),r.forEach(a=>{if(a.status==="expense")this.#t.set(a.$id,a);else if(a.products?.length){const s=a.products.map(i=>typeof i=="string"?i:i.$id);this.#S(s,a)}})}this.#j(),await this.#q(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{p(this.#l,!1)}}}async#q(){if(this.#a)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#a.saveProducts(e),await this.#a.saveMetadata({lastSync:c(this.#d),allDates:[...this.dateStore.dates],hugoContentHash:c(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#a)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#d)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#P(){if(this.#a)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#d)),await this.#a.updateAllDates([...this.availableDates]),await this.#a.updateHugoContentHash(c(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#a||e.length===0))try{const t=e.map(r=>this.#e.get(r)?.data).filter(r=>r!=null).map(r=>{const a=wn(r);return a.status==="isSyncing"&&(a.status="active"),this.#a.upsertProduct(a)});t.length>0&&(await Promise.all(t),console.log(`[ProductsStore] ${t.length} produits affectés persistés`))}catch(t){console.error("[ProductsStore] Erreur persistence produits affectés:",t)}}#j(){p(this.#d,new Date().toISOString(),!0)}async#D(){if(!c(this.#s)||c(this.#o))return!1;try{const e=await el(c(this.#f),c(this.#s));return e&&!c(this.#p)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${c(this.#s)}, analyse approfondie en cours...`),p(this.#p,!0),await this.#N()),p(this.#m,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!c(this.#s)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Ga(c(this.#s)),t=new Map;this.#e.forEach((s,i)=>t.set(i,s.data));const r=await il(t,e);console.log(`[ProductsStore  - hugo change] ${r.summary}`);for(const[s,i]of t){const o=this.#e.get(s);if(o)o.update(i);else{const l=new Un(i,this.dateStore);this.#e.set(s,l),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${s}`)}}const a=[];for(const[s]of this.#e)t.has(s)||a.push(s);for(const s of a)this.#e.delete(s),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${s}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${t.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),r.overrideConflicts.length>0&&(p(this.#w,r.overrideConflicts,!0),Me.error(`${r.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{actions:[{label:"Réviser",onClick:()=>pe.modalOverride.isOpen=!0}]})),r.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${r.mergedProductsUpdated.length} produits fusionnés modifiés`),r.removed.length>0){const s=r.removed.filter(i=>i.purchases?.length||i.stockReel||i.who?.length);s.length>0&&console.log(`[ProductsStore] ℹ️ ${s.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),p(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#P(),(r.added.length||r.updated.length||r.removed.length)&&Me.success(r.summary),p(this.#p,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),Me.error("Erreur lors de la mise à jour Hugo")}}#L(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#D()},6e4)}#U(){this.#v&&(clearInterval(this.#v),this.#v=null)}#M(e,t){return t?ar(e,t):Cc(e)}#J(e){e.length&&(e.forEach(t=>this.#_(t)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const t=this.#e.get(e.$id),r=this.#M(e,t?.data);t?t.update(r):(this.dateStore.dates,this.#e.set(e.$id,new Un(r,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const t=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#Q(t,e),t}async#z(e){if(e.products?.length){const t=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(t,e),t}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[t]=await fi([e.$id]);if(t?.products?.length){const r=t.products.map(a=>typeof a=="string"?a:a.$id).filter(Boolean);return this.#S(r,t),r}return[]}catch(t){return console.error("[ProductsStore] Erreur rechargement purchase:",t),[]}}async#V(e){const t=Array.from(this.#e.values()).map(r=>r.data).filter(r=>r.purchases?.some(a=>a.$id===e));return t.forEach(r=>{this.#_(r)}),t.map(r=>r.$id)}#Q(e,t){const r=Ma(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const o=i.data,l=o.purchases||[];if(!l.some(d=>d.$id===r.$id)){const d=ar({...o,purchases:[...l,r],status:"active"},o);a.push(d)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#S(e,t){const r=Ma(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const o=i.data,l=o.purchases||[],d=l.findIndex(f=>f.$id===r.$id);if(d>=0){const f=[...l];f[d]=r;const h=ar({...o,purchases:f,status:"active"},o);a.push(h)}else{const f=ar({...o,purchases:[...l,t],status:"active"},o);a.push(f)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#W(){return{onProductCreate:e=>{if(this.#_(e),this.#a){const t=this.#e.get(e.$id);t&&this.#a.upsertProduct(wn(t.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductUpdate:e=>{if(this.#_(e),this.#a){const t=this.#e.get(e.$id);t&&this.#a.upsertProduct(wn(t.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductDelete:e=>{this.#H(e),this.#a&&this.#a.deleteProduct(e).catch(t=>console.error("[ProductsStore] Erreur suppression produit:",t))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const t=await this.#B(e);await this.#I(t)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const t=await this.#z(e);await this.#I(t)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const t=await this.#V(e);await this.#I(t)},onConnect:()=>{p(this.#u,!0)},onDisconnect:()=>{p(this.#u,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=Mc(e=>{c(this.#c).searchQuery=e},()=>500);toggleProductType(e){const t=c(this.#c).selectedProductTypes.indexOf(e);t>-1?c(this.#c).selectedProductTypes.splice(t,1):c(this.#c).selectedProductTypes.push(e)}toggleTemperature(e){const t=c(this.#c).selectedTemperatures.indexOf(e);t>-1?c(this.#c).selectedTemperatures.splice(t,1):c(this.#c).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){c(this.#c).selectedProductTypes=[],c(this.#c).selectedTemperatures=[]}setGroupBy(e){c(this.#c).groupBy=e}toggleStore(e){const t=c(this.#c).selectedStores.indexOf(e);t>-1?c(this.#c).selectedStores.splice(t,1):c(this.#c).selectedStores.push(e)}toggleWho(e){const t=c(this.#c).selectedWho.indexOf(e);t>-1?c(this.#c).selectedWho.splice(t,1):c(this.#c).selectedWho.push(e)}clearStoreFilters(){c(this.#c).selectedStores=[]}clearWhoFilters(){c(this.#c).selectedWho=[]}handleSort(e){c(this.#c).sortColumn===e?c(this.#c).sortDirection=c(this.#c).sortDirection==="asc"?"desc":"asc":(c(this.#c).sortColumn=e,c(this.#c).sortDirection="asc")}clearFilters(){p(this.#c,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return c(this.#c).sortColumn?[...e].sort((t,r)=>{let a=t[c(this.#c).sortColumn],s=r[c(this.#c).sortColumn];return c(this.#c).sortColumn==="totalNeededConsolidated"?(a=parseFloat(a)||0,s=parseFloat(s)||0):c(this.#c).sortColumn==="purchases"&&(a=t.purchases?.length||0,s=r.purchases?.length||0),a<s?c(this.#c).sortDirection==="asc"?-1:1:a>s?c(this.#c).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const t=this.#e.get(e)?.data;return t?.byDate?kc(t.byDate):!1}async forceReload(e,t){await this.clearCache(),await this.initialize(e,t)}async clearCache(){this.#e.clear(),p(this.#d,null),this.#a&&await this.#a.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,t){const r=t?"isSyncing":"active";e.forEach(a=>{const s=this.#e.get(a);if(s){const i={...s.data,status:r};s.update(i)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${r}`)}clearSyncStatus(){const e=[];for(const[t,r]of this.#e)r.status==="isSyncing"&&e.push(t);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#h?.(),this.#h=null,this.#U(),this.#a&&(this.#a.close(),this.#a=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(c(this.#n))try{const{loadOrphanPurchases:e}=await Vr(async()=>{const{loadOrphanPurchases:r}=await Promise.resolve().then(()=>Wa);return{loadOrphanPurchases:r}},void 0),t=await e(c(this.#n));t.forEach(r=>{this.#t.set(r.$id,r)}),console.log(`[ProductsStore] ${t.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#k=X(()=>{let e=0;const t={},r={},a=[];for(const s of this.#t.values()){const i=s.invoiceTotal||s.price||0;e+=i;const o=s.store||"Non défini";t[o]=(t[o]||0)+i;const l=s.who||"Non défini";r[l]=(r[l]||0)+i,a.push(s)}for(const s of this.#e.values()){const i=s.data;if(i.purchases&&i.purchases.length>0){for(const o of i.purchases)if(o.price){e+=o.price;const l=o.store||"Non défini";t[l]=(t[l]||0)+o.price;const d=o.who||"Non défini";r[d]=(r[d]||0)+o.price;const f={...o,_productName:i.productName};a.push(f)}}}return a.sort((s,i)=>{const o=new Date(s.orderDate||s.$createdAt).getTime();return new Date(i.orderDate||i.$createdAt).getTime()-o}),{totalGlobal:e,byStore:t,byWho:r,allPurchases:a}});get financialStats(){return c(this.#k)}set financialStats(e){p(this.#k,e)}}const Sl=new Il,{APPWRITE_CONFIG:Fn}=Rr(),Dn="main";async function El(n){try{const{tables:e}=await Re();return{events:(await e.listRows({databaseId:Fn.databaseId,tableId:Dn,queries:[j.orderDesc("dateStart"),j.or([j.equal("createdBy",n),j.contains("contributorsIds",n)])]})).rows}}catch(e){throw console.error("[appwrite-events] Error listing events:",e),e}}async function xl(n){try{const{tables:e}=await Re();return await e.getRow({databaseId:Fn.databaseId,tableId:Dn,rowId:n})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${n}:`,e),e}}async function Al(n,e){try{const{tables:t}=await Re(),r=un.unique(),a=n.contributors?n.contributors.map(i=>i.id):[],s=await t.createRow({databaseId:Fn.databaseId,tableId:Dn,rowId:r,data:{name:n.name,dateStart:n.dateStart,dateEnd:n.dateEnd,allDates:n.allDates,meals:n.meals?n.meals.map(i=>JSON.stringify(i)):[],createdBy:e,teams:n.teams??[],contributors:n.contributors?n.contributors.map(i=>JSON.stringify(i)):[],contributorsIds:a}});return console.log(`[appwrite-events] Event created: ${r}`),s}catch(t){throw console.error("[appwrite-events] Error creating event:",t),t}}async function Rl(n,e){try{const{tables:t}=await Re(),r={...e};e.meals&&(r.meals=e.meals.map(s=>JSON.stringify(s))),e.contributors&&(r.contributors=Array.isArray(e.contributors)?e.contributors.map(s=>JSON.stringify(s)):[],r.contributorsIds=e.contributors.map(s=>s.id)),e.allDates&&(r.allDates=e.allDates);const a=await t.updateRow({databaseId:Fn.databaseId,tableId:Dn,rowId:n,data:r});return console.log(`[appwrite-events] Event updated: ${n}`),a}catch(t){throw console.error(`[appwrite-events] Error updating event ${n}:`,t),t}}async function Tl(n){try{const{tables:e}=await Re();await e.deleteRow({databaseId:Fn.databaseId,tableId:Dn,rowId:n}),console.log(`[appwrite-events] Event deleted: ${n}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${n}:`,e),e}}async function Pl(n,e,t){const{config:r}=await Re(),a=`databases.${r.databaseId}.collections.${Dn}.documents`;return ci([a],async s=>{const i=s.payload;let o="update";s.events.some(l=>l.includes(".create"))?o="create":s.events.some(l=>l.includes(".delete"))&&(o="delete"),t(i,o)})}let fr=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function Dl(n){if(!n||!Array.isArray(n))return[];try{const e=[];for(const t of n)try{const r=JSON.parse(t);r.id||(r.id=fr(6)),e.push(r)}catch{console.warn("[events.utils] Failed to parse meal string:",t)}return e}catch(e){return console.error("[events.utils] Error parsing meals:",e),[]}}function Ml(n){if(!n||!Array.isArray(n))return[];try{const e=[];for(const t of n)try{const r=JSON.parse(t);e.push(r)}catch{e.push({id:t,status:"accepted",invitedAt:new Date().toISOString()})}return e}catch(e){return console.error("[events.utils] Error parsing contributors:",e),[]}}class kl{dbName="events-cache";db=null;version=1;EVENTS_STORE="events";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";async open(){if(!this.db)return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[EventsIDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.EVENTS_STORE)||(s.createObjectStore(this.EVENTS_STORE,{keyPath:"$id"}),console.log("[EventsIDBCache] Object store 'events' créé")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[EventsIDBCache] Object store 'metadata' créé"))}})}async loadEvents(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.EVENTS_STORE,"readonly").objectStore(this.EVENTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.$id,o)}),console.log(`[EventsIDBCache] ${i.size} événements chargés`),e(i)},s.onerror=()=>t(s.error)})}async saveEvents(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.EVENTS_STORE,"readwrite"),s=a.objectStore(this.EVENTS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[EventsIDBCache] ${e.size} événements sauvegardés`),t()},a.onerror=()=>r(a.error)})}async saveEvent(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.EVENTS_STORE,"readwrite").objectStore(this.EVENTS_STORE).put(e);i.onsuccess=()=>{console.log(`[EventsIDBCache] Événement ${e.$id} sauvegardé`),t()},i.onerror=()=>r(i.error)})}async deleteEvent(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.EVENTS_STORE,"readwrite").objectStore(this.EVENTS_STORE).delete(e);i.onsuccess=()=>{console.log(`[EventsIDBCache] Événement ${e} supprimé`),t()},i.onerror=()=>r(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,o={lastSync:null};i.forEach(l=>{l.key===this.LAST_SYNC_KEY&&(o.lastSync=l.value)}),console.log(`[EventsIDBCache] Metadata chargées: lastSync=${o.lastSync}`),e(o)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite");a.objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e.lastSync}),a.oncomplete=()=>{console.log("[EventsIDBCache] Metadata sauvegardées"),t()},a.onerror=()=>r(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const r=this.db.transaction([this.EVENTS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.EVENTS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[EventsIDBCache] Cache vidé"),e()},r.onerror=()=>t(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[EventsIDBCache] Connexion fermée"))}}async function $l(){const n=new kl;return await n.open(),n}class Cl{#e=new Kt;#t=q(!1);#n=q(null);#s=q(!1);#r=null;#o=null;#i=[];#l=null;get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#s)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}#u=X(()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(e);return t.setDate(t.getDate()+1),Array.from(this.#e.values()).filter(r=>{if(!r.dateStart||!r.dateEnd)return!1;const a=new Date(r.dateEnd);return a>=e&&a<t})});#d=X(()=>{const e=new Date;return Array.from(this.#e.values()).filter(t=>t.dateStart?new Date(t.dateStart)>e:!1).sort((t,r)=>{const a=new Date(t.dateStart).getTime(),s=new Date(r.dateStart).getTime();return a-s})});#f=X(()=>{const e=new Date;return Array.from(this.#e.values()).filter(t=>t.dateEnd?new Date(t.dateEnd)<e:!1)});get currentEvents(){return c(this.#u)}get upcomingEvents(){return c(this.#d)}get pastEvents(){return c(this.#f)}get pastEventsCount(){return c(this.#f).length}async initialize(){if(c(this.#s)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),p(this.#t,!0),p(this.#n,null);try{if(!pe.isAuthenticated)throw new Error("Utilisateur non connecté");this.#o=pe.userId,this.#i=pe.userTeams,this.#r=await $l();const e=await this.#r.loadEvents();if(e.size>0){console.log(`[EventsStore] ${e.size} événements chargés depuis le cache`),this.#e.clear();for(const[t,r]of e)this.#e.set(t,r)}await this.#a(),this.#r&&(await this.#r.saveEvents(this.#e),await this.#r.saveMetadata({lastSync:new Date().toISOString()})),this.#p(),p(this.#s,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#n,t,!0),console.error("[EventsStore]",t,e),e}finally{p(this.#t,!1)}}async#a(){try{if(console.log("[EventsStore] Chargement des événements..."),!this.#o){console.warn("[EventsStore] userId non défini, impossible de charger les événements");return}const{events:e}=await El(this.#o);e.forEach(t=>{this.#e.set(t.$id,this.#h(t))}),console.log(`[EventsStore] ${e.length} événements chargés (filtrés pour userId: ${this.#o})`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#h(e){return{...e,meals:Dl(e.meals),contributors:Ml(e.contributors)}}#p(){try{this.#l=()=>{Pl(this.#o,this.#i,async(e,t)=>{if(console.log(`[EventsStore] Realtime: ${t} pour ${e.$id}`),t==="create"||t==="update"){const r=this.#h(e);this.#e.set(e.$id,r),this.#r&&await this.#r.saveEvent(r)}else t==="delete"&&(this.#e.delete(e.$id),this.#r&&await this.#r.deleteEvent(e.$id))}),console.log("[EventsStore] Realtime activé")}}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const t=await xl(e);if(t){const r=this.#h(t);return this.#e.set(e,r),r}return null}catch(t){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,t),null}}getEventsByDateRange(e,t){return this.events.filter(r=>r.dateStart&&r.dateEnd&&r.dateStart>=e&&r.dateEnd<=t)}canEditEvent(e){if(!this.#o)return!1;const t=this.#e.get(e);return t?!!(t.createdBy===this.#o||t.teams?.some(r=>this.#i.includes(r))||t.contributors&&t.contributors.some(r=>r.id===this.#o&&r.status==="accepted")):!1}async createEvent(e){try{if(!pe.userId)throw new Error("Utilisateur non connecté");const t=await Al(e,pe.userId),r=this.#h(t);return this.#e.set(t.$id,r),console.log(`[EventsStore] Événement créé: ${t.$id}`),r}catch(t){throw console.error("[EventsStore] Erreur création:",t),t}}async updateEvent(e,t){try{const r=await Rl(e,t),a=this.#h(r);return this.#e.set(e,a),console.log(`[EventsStore] Événement mis à jour: ${e}`),a}catch(r){throw console.error(`[EventsStore] Erreur mise à jour ${e}:`,r),r}}async deleteEvent(e){try{await Tl(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(t){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,t),t}}getContributors(e){const t=this.#e.get(e);return t?t.contributors:[]}getContributorStatus(e){const t=this.#e.get(e);if(!t)return"";const r=t.contributors.filter(a=>a.id===this.#o);return r.length>0?r[0].status:""}async addContributors(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");if(t.length===0)return console.log("[EventsStore] Aucun email à ajouter"),r;const a=new Set(r.contributors.map(l=>l.email).filter(Boolean)),s=t.filter(l=>!a.has(l));if(s.length===0)return console.log("[EventsStore] Tous les contributeurs sont déjà présents"),r;const{inviteToEvent:i}=await Vr(async()=>{const{inviteToEvent:l}=await Promise.resolve().then(()=>sh);return{inviteToEvent:l}},void 0);await i(e,r.name,s),await new Promise(l=>setTimeout(l,500));const o=await this.fetchEvent(e);if(!o)throw new Error("Impossible de recharger l'événement");return console.log(`[EventsStore] ${s.length} contributeur(s) ajouté(s) à l'événement ${e}`),o}catch(r){throw console.error("[EventsStore] Erreur ajout contributeurs:",r),r}}async addContributorFromKteam(e,t,r,a){try{const s=this.#e.get(e);if(!s)throw new Error("Événement introuvable");const i=[...s.contributors];if(i.some(l=>l.id===t||r&&l.email===r))return console.log(`[EventsStore] Contributeur KTeam déjà présent: ${t}`),s;const o={id:t,email:r,name:a,status:"accepted",invitedAt:new Date().toISOString(),respondedAt:new Date().toISOString()};return i.push(o),await this.updateEvent(e,{contributors:i})}catch(s){throw console.error("[EventsStore] Erreur ajout contributeur KTeam:",s),s}}async removeContributor(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=r.contributors.filter(s=>s.id!==t&&s.email!==t);return r.contributors.length===a.length?r:await this.updateEvent(e,{contributors:a})}catch(r){throw console.error("[EventsStore] Erreur suppression contributeur:",r),r}}async updateContributorStatus(e,t,r){try{const a=this.#e.get(e);if(!a)throw new Error("Événement introuvable");const s=[...a.contributors],i=s.findIndex(o=>o.id===t||o.email===t);if(i===-1)throw new Error("Contributeur introuvable");return s[i]={...s[i],status:r,respondedAt:new Date().toISOString()},await this.updateEvent(e,{contributors:s})}catch(a){throw console.error("[EventsStore] Erreur maj statut:",a),a}}getMeals(e){const t=this.#e.get(e);return t?t.meals:[]}async addMeal(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=[...r.meals,t];return await this.updateEvent(e,{meals:a})}catch(r){throw console.error("[EventsStore] Erreur ajout meal:",r),r}}async updateMeal(e,t,r){try{const a=this.#e.get(e);if(!a)throw new Error("Événement introuvable");const s=[...a.meals];if(t<0||t>=s.length)throw new Error("Index invalide");return s[t]=r,await this.updateEvent(e,{meals:s})}catch(a){throw console.error("[EventsStore] Erreur maj meal:",a),a}}async deleteMeal(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=[...r.meals];if(t<0||t>=a.length)throw new Error("Index invalide");return a.splice(t,1),await this.updateEvent(e,{meals:a})}catch(r){throw console.error("[EventsStore] Erreur suppression meal:",r),r}}calculateScaleFactor(e,t){return e/t}async reload(){console.log("[EventsStore] Rechargement..."),p(this.#t,!0),p(this.#n,null);try{this.#e.clear(),await this.#a(),console.log("[EventsStore] Rechargement complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#n,t,!0),console.error("[EventsStore]",t,e),e}finally{p(this.#t,!1)}}destroy(){this.#l&&(this.#l(),this.#l=null),this.#r&&(this.#r.close(),this.#r=null),this.#e.clear(),p(this.#s,!1),console.log("[EventsStore] Ressources nettoyées")}}const Ze=new Cl;class ql{#e=new Kt;#t=q(!1);#n=q(null);#s=q(!1);get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#s)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}async initialize(){if(c(this.#s)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),p(this.#t,!0),p(this.#n,null);try{if(!pe.userId){console.log("[TeamsStore] Utilisateur non connecté"),p(this.#s,!0);return}await this.#r(),p(this.#s,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#n,t,!0),console.error("[TeamsStore]",t,e),e}finally{p(this.#t,!1)}}async#r(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await bi();for(const t of e.teams)try{const r=t.members.map(i=>{try{return JSON.parse(i)}catch{return{id:"unknown",name:i.split("@")[0]||i,role:"member",joinedAt:new Date().toISOString()}}}),a=t.invited?t.invited.map(i=>{try{return JSON.parse(i)}catch{return{email:i,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],s={...t,members:r,invited:a};this.#e.set(t.$id,s)}catch(r){console.error(`[TeamsStore] Erreur lors du parsing de l'équipe ${t.$id}:`,r)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const t=await Zn(e);if(t){const r=t.members.map(i=>{try{return JSON.parse(i)}catch{return{id:"unknown",name:i.split("@")[0]||i,role:"member",joinedAt:new Date().toISOString()}}}),a=t.invited?t.invited.map(i=>{try{return JSON.parse(i)}catch{return{email:i,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],s={...t,members:r,invited:a};return this.#e.set(e,s),s}return null}catch(t){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,t),null}}async isMemberOf(e){return await bl(e)}getTeamMembers(e){return this.#e.get(e)?.members}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async createTeam(e,t){if(!pe.userId)throw new Error("Utilisateur non connecté");try{const r=await ul(e,t),a=JSON.parse(r.members[0]),s={...r,members:[a],invited:[]};return this.#e.set(r.$id,s),console.log(`[TeamsStore] Équipe créée: ${r.$id}`),s}catch(r){throw console.error("[TeamsStore] Erreur lors de la création:",r),r}}async updateTeam(e,t,r){try{const a=await fl(e,t,r),s=this.#e.get(e);let i=[],o=[];s?(i=s.members,o=s.invited):(i=a.members.map(d=>JSON.parse(d)),o=a.invited?a.invited.map(d=>JSON.parse(d)):[]);const l={...a,members:i,invited:o};return this.#e.set(e,l),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),l}catch(a){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,a),a}}async deleteTeam(e){try{await hl(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(t){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,t),t}}async inviteTeamMember(e,t,r){try{const a=await ml(e,t,r);if(await this.fetchTeam(e),a.emailResults&&a.emailResults?.failed>0){const s=a.emailResults.failed,i=a.emailResults.sent;throw console.warn(`[TeamsStore] ${s}/${s+i} invitations n'ont pas pu être envoyées`),new Error(`${a.processed} invitations traitées, mais ${s} emails n'ont pas pu être envoyés. Vérifiez les adresses email et réessayez.`)}else console.log(`[TeamsStore] ${a.processed} membres invités dans ${e}`)}catch(a){throw console.error("[TeamsStore] Erreur lors de l'invitation:",a),a}}async addMember(e,t,r){try{await pl(e,t,r),await this.fetchTeam(e),console.log(`[TeamsStore] Membre ajouté à ${e}: ${t}`)}catch(a){throw console.error("[TeamsStore] Erreur lors de l'ajout du membre:",a),a}}async removeMember(e,t){try{await vl(e,t),await this.fetchTeam(e),console.log(`[TeamsStore] Membre supprimé de ${e}: ${t}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",r),r}}async acceptTeamInvitation(e){try{if(!pe.userId)throw new Error("Utilisateur non connecté");await yl(pe.userId,e),await this.fetchTeam(e),console.log(`[TeamsStore] Invitation acceptée pour l'équipe: ${e}`)}catch(t){throw console.error("[TeamsStore] Erreur lors de l'acceptation:",t),t}}async declineTeamInvitation(e){console.warn("[TeamsStore] declineTeamInvitation non implémenté")}async reload(){console.log("[TeamsStore] Rechargement..."),p(this.#t,!0),p(this.#n,null);try{this.#e.clear(),await this.#r(),console.log("[TeamsStore] Rechargement complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#n,t,!0),console.error("[TeamsStore]",t,e),e}finally{p(this.#t,!1)}}destroy(){this.#e.clear(),p(this.#s,!1),console.log("[TeamsStore] Ressources nettoyées")}}const je=new ql;class jl{dbName="recipes-cache";db=null;version=2;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(s.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),s.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(s.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.u,o)}),console.log(`[RecipesIDBCache] ${i.size} recettes (index) chargées`),e(i)},s.onerror=()=>t(s.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),s=a.objectStore(this.RECIPES_INDEX_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),t()},a.onerror=()=>r(a.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);i.onsuccess=()=>{const o=i.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),t(o||null)},i.onerror=()=>r(i.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);i.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),t()},i.onerror=()=>r(i.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${i.size} détails de recettes chargés`),e(i)},s.onerror=()=>t(s.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,o={lastSync:null,indexHash:null,recipesCount:0};i.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.INDEX_HASH_KEY?o.indexHash=l.value:l.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=l.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),s.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),a.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),t()},a.onerror=()=>r(a.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const r=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.RECIPES_INDEX_STORE).clear(),r.objectStore(this.RECIPES_DETAILS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},r.onerror=()=>t(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function Nl(){const n=new jl;return await n.open(),n}function Ll(n){if(!n||typeof n!="object"||Array.isArray(n))throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(n)}`);return{uuid:n.uuid||"",name:n.name||"",originalQuantity:n.originalQuantity||0,originalUnit:n.originalUnit||"",normalizedQuantity:n.normalizedQuantity||0,normalizedUnit:n.normalizedUnit||"",comment:n.comment||"",allergens:Array.isArray(n.allergens)?n.allergens:[],type:n.type||""}}function Ul(n){if(!n||typeof n!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(n.ingredients)&&n.ingredients.forEach(t=>{try{e.push(Ll(t))}catch(r){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",r)}}),{uuid:n.uuid||"",title:n.title||"",plate:n.plate||1,ingredients:e,preparation:n.preparation||""}}const Mn="recettes";async function Oa(){try{const{tables:n,config:e}=await Re(),t=[j.equal("isPublished",!1)];return(await n.listRows({databaseId:e.databaseId,tableId:Mn,queries:t})).rows}catch(n){throw console.error("[appwrite-recipes] Error listing all recipes:",n),n}}async function Ya(n){try{const{tables:e,config:t}=await Re();return await e.getRow({databaseId:t.databaseId,tableId:Mn,rowId:n})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${n}:`,e),e}}async function Hl(n,e){try{const{tables:t,config:r}=await Re(),a=un.unique(),s=[Ge.read(gt.user(e)),Ge.update(gt.user(e)),Ge.delete(gt.user(e))];n.contributors&&n.contributors.forEach(o=>{s.push(Ge.read(gt.user(o))),s.push(Ge.update(gt.user(o)))}),n.teams&&n.teams.forEach(o=>{s.push(Ge.read(gt.team(o))),s.push(Ge.update(gt.team(o)))});const i=await t.createRow({databaseId:r.databaseId,tableId:Mn,rowId:a,data:{title:n.title,plate:n.plate,ingredients:n.ingredients,preparation:n.preparation,draft:n.draft??!0,typeR:n.typeR,categories:n.categories??[],regime:n.regime??[],isPublished:!1,createdBy:e,teams:n.teams??[],contributors:n.contributors??[]},permissions:s});return console.log(`[appwrite-recipes] Recipe created: ${a}`),i}catch(t){throw console.error("[appwrite-recipes] Error creating recipe:",t),t}}async function wi(n,e){try{const{tables:t,config:r}=await Re(),a=await t.updateRow({databaseId:r.databaseId,tableId:Mn,rowId:n,data:e});return console.log(`[appwrite-recipes] Recipe updated: ${n}`),a}catch(t){throw console.error(`[appwrite-recipes] Error updating recipe ${n}:`,t),t}}async function Bl(n){try{const{tables:e,config:t}=await Re();await e.deleteRow({databaseId:t.databaseId,tableId:Mn,rowId:n}),console.log(`[appwrite-recipes] Recipe deleted: ${n}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${n}:`,e),e}}async function zl(n,e){return await wi(n,{isPublished:!0,publishedAt:new Date().toISOString()})}function Vl(n,e,t){const a=`databases.${Rr().APPWRITE_CONFIG.databaseId}.collections.${Mn}.documents`;return ci([a],s=>{const i=s.payload;if(!(i.createdBy===n||i.contributors?.includes(n)||i.teams?.some(d=>e.includes(d))))return;let l="update";s.events.some(d=>d.includes(".create"))?l="create":s.events.some(d=>d.includes(".delete"))&&(l="delete"),t(i,l)})}const Ql="/api/data.json";class Wl{#e=new Kt;#t=new Kt;#n=q(!1);#s=q(null);#r=q(null);#o=q(!1);#i=null;#l=new Set;#u=null;get loading(){return c(this.#n)}get error(){return c(this.#s)}get lastSync(){return c(this.#r)}get isInitialized(){return c(this.#o)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(c(this.#o)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),p(this.#n,!0),p(this.#s,null);try{this.#i=await Nl();const e=await this.#i.loadRecipesIndex(),t=await this.#i.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new Kt(e),p(this.#r,t.lastSync,!0)),await this.#d(),pe.userId&&await this.#a(),pe.userId&&await this.#h(),pe.userId&&this.#p(),p(this.#o,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#v()} published, ${this.#b()} non-published)`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#s,t,!0),console.error("[RecipesStore]",t,e),e}finally{p(this.#n,!1)}}async#d(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(Ql);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const r=(await e.json()).recipes;if(!Array.isArray(r))throw new Error("Format de données invalide: recipes n'est pas un tableau");const a=await this.#f(JSON.stringify(r));if((await this.#i.loadMetadata()).indexHash===a){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const i=new Map;r.forEach(o=>{i.set(o.u,o)}),this.#e=new Kt(i),p(this.#r,new Date().toISOString(),!0),this.#i&&(await this.#i.saveRecipesIndex(i),await this.#i.saveMetadata({lastSync:c(this.#r),indexHash:a,recipesCount:i.size})),console.log(`[RecipesStore] ${i.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}async#a(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await Oa();let t=0;for(const r of e)this.#e.has(r.$id)&&(await zl(r.$id),t++);t>0&&console.log(`[RecipesStore] ${t} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#h(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await Oa();e.forEach(t=>{this.#e.set(t.$id,{u:t.$id,n:t.title,t:t.typeR,p:null,plates:t.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#p(){try{this.#u=Vl(pe.userId,pe.userTeams,(e,t)=>{console.log(`[RecipesStore] Realtime: ${t} pour ${e.$id}`),t==="create"||t==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):t==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#b(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#m(e){return{uuid:e.$id,title:e.title,plate:e.plate,materiel:e.materiel||[],ingredients:JSON.parse(e.ingredients),preparation:e.preparation,prepAlt:e.prepAlt||[]}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}async getCompleteRecipe(e){const t=this.#e.get(e);if(!t)return null;try{const r=await this.getRecipeByUuid(e);return{...t,details:r||void 0}}catch(r){return console.warn(`[RecipesStore] Impossible de charger les détails pour ${e}:`,r),t}}searchRecipes(e){if(!e.trim())return this.recipesIndex;const t=e.toLowerCase();return this.recipesIndex.filter(r=>{const a=r.n.toLowerCase().includes(t),s=r.c?.some(i=>i.toLowerCase().includes(t))||!1;return a||s})}getRecipesByType(e){return this.recipesIndex.filter(t=>t.t===e)}getRecipesByRegime(e){return this.recipesIndex.filter(t=>t.r?.includes(e)||!1)}getRecipesWithCooking(){return this.recipesIndex.filter(e=>e.cu===!0)}getRecipesWithoutCooking(){return this.recipesIndex.filter(e=>e.cu===!1)}getRecipesByTemperature(e){return this.recipesIndex.filter(t=>t.te===e)}getPublishedRecipes(){return this.recipesIndex.filter(e=>e.isPublished===!0)}getDraftRecipes(){return this.recipesIndex.filter(e=>e.d===!0)}filterRecipes(e){return this.recipesIndex.filter(t=>{if(e.type&&t.t!==e.type||e.regimes&&e.regimes.length>0&&!e.regimes.some(a=>t.r?.includes(a))||e.cuisson!==void 0&&t.cu!==e.cuisson||e.temperature&&t.te!==e.temperature||e.draft!==void 0&&t.d!==e.draft)return!1;if(e.query?.trim()){const r=e.query.toLowerCase(),a=t.n.toLowerCase().includes(r),s=t.c?.some(i=>i.toLowerCase().includes(r))||!1;if(!a&&!s)return!1}return!0})}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(t=>e.add(t.t)),Array.from(e).sort()}async canEditRecipe(e){if(!pe.userId)return!1;const t=this.#e.get(e);if(!t||t.isPublished!==!1)return!1;try{const r=await Ya(e);return r?r.createdBy===pe.userId||!!r.contributors?.includes(pe.userId)||!!r.teams?.some(a=>pe.userTeams.includes(a)):!1}catch(r){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,r),!1}}async getRecipeByUuid(e){const t=this.#t.get(e);if(t)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),t;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(r=>setTimeout(r,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#i){const s=await this.#i.loadRecipeDetail(e);if(s)return this.#t.set(e,s),s}const r=this.#e.get(e);if(!r)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let a;if(r.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${r.p}...`);const s=await fetch(r.p);if(!s.ok)throw new Error(`Erreur HTTP: ${s.status}`);const i=await s.json();a=Ul(i)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const s=await Ya(e);if(!s)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;a=this.#m(s)}return this.#t.set(e,a),this.#i&&await this.#i.saveRecipeDetail(a),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),a}catch(r){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,r),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const t=e.map(r=>this.getRecipeByUuid(r));await Promise.all(t),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!pe.userId)throw new Error("Utilisateur non connecté");try{const t={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:e.typeR,categories:[],regime:[],teams:[],contributors:[]},r=await Hl(t,pe.userId);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:!1}),this.#m(r)}catch(t){throw console.error("[RecipesStore] Erreur lors de la création:",t),t}}async updateRecipe(e,t){try{const r={};t.title&&(r.title=t.title),t.plate&&(r.plate=t.plate),t.ingredients&&(r.ingredients=JSON.stringify(t.ingredients)),t.preparation&&(r.preparation=t.preparation);const a=await wi(e,r);return this.#e.set(a.$id,{u:a.$id,n:a.title,t:a.typeR,p:null,plates:a.plate,isPublished:a.isPublished}),this.#t.delete(e),this.#m(a)}catch(r){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteRecipe(e){try{await Bl(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(t){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,t),t}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),p(this.#n,!0),p(this.#s,null);try{await this.#d(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#s,t,!0),console.error("[RecipesStore]",t,e),e}finally{p(this.#n,!1)}}async clearCache(){this.#i&&(await this.#i.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),p(this.#r,null),p(this.#o,!1)}destroy(){this.#u&&(this.#u(),this.#u=null),this.#i&&(this.#i.close(),this.#i=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),p(this.#o,!1),console.log("[RecipesStore] Ressources nettoyées")}}const Yt=new Wl;var Gl=I('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Kl(n,e){var t=Gl(),r=m(u(t),2),a=m(u(r),2),s=u(a);Q(()=>L(s,e.message)),g(n,t)}class Jl{routes=[];#e=q("");get currentPath(){return c(this.#e)}set currentPath(e){p(this.#e,e,!0)}#t=q(Pe({}));get currentParams(){return c(this.#t)}set currentParams(e){p(this.#t,e,!0)}#n=q(Pe({}));get currentQuery(){return c(this.#n)}set currentQuery(e){p(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,t,r){this.routes.push({path:e,component:t,guard:r})}navigate(e,t){const r=t?"?"+new URLSearchParams(t).toString():"",a="#"+(e.startsWith("/")?e:"/"+e)+r;window.location.hash=a}async match(){for(const e of this.routes){const t=this.matchRoute(e.path,this.currentPath);if(t)return e.guard&&!await e.guard()?null:(this.currentParams=t.params,{component:e.component,params:t.params,query:this.currentQuery})}return null}matchRoute(e,t){if(e instanceof RegExp){const o=t.match(e);return o?{params:o.groups||{}}:null}const r=[],a=e.replace(/:([^/]+)/g,(o,l)=>(r.push(l),"([^/]+)")),s=new RegExp(`^${a}$`),i=t.match(s);if(i){const o={};return r.forEach((l,d)=>{o[l]=i[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const t=window.location.hash.slice(1).split("?")[1],r={};t&&new URLSearchParams(t).forEach((s,i)=>{r[i]=s}),this.currentQuery=r}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const vt=new Jl;function _t(n,e){vt.navigate(n,e)}function qr(n){return vt.query[n]}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Ol={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Yl=Oo("<svg><!><!></svg>");function Se(n,e){ce(e,!0);const t=ge(e,"color",3,"currentColor"),r=ge(e,"size",3,24),a=ge(e,"strokeWidth",3,2),s=ge(e,"absoluteStrokeWidth",3,!1),i=ge(e,"iconNode",19,()=>[]),o=_e(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=Yl();Ra(l,h=>({...Ol,...o,width:r(),height:r(),stroke:t(),"stroke-width":h,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(a())*24/Number(r()):a()]);var d=u(l);Ce(d,17,i,xt,(h,v)=>{var y=X(()=>cs(c(v),2));let b=()=>c(y)[0],_=()=>c(y)[1];var w=se(),A=z(w);nc(A,b,!0,(E,k)=>{Ra(E,()=>({..._()}))}),g(h,w)});var f=m(d);we(f,()=>e.children??me),g(n,l),le()}function Xl(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Se(n,Ie({name:"arrow-left"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Qr(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];Se(n,Ie({name:"arrow-right"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function cr(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];Se(n,Ie({name:"book-open"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function It(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];Se(n,Ie({name:"calendar"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Wr(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Se(n,Ie({name:"check"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function fn(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];Se(n,Ie({name:"chef-hat"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Zl(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];Se(n,Ie({name:"chevron-down"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Fl(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m9 18 6-6-6-6"}]];Se(n,Ie({name:"chevron-right"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function la(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];Se(n,Ie({name:"circle-alert"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function ed(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];Se(n,Ie({name:"circle-check-big"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function td(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];Se(n,Ie({name:"circle-x"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function nd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];Se(n,Ie({name:"clock"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function rd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];Se(n,Ie({name:"cloud"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function ad(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Se(n,Ie({name:"copy"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function _i(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}],["path",{d:"M5 21h14"}]];Se(n,Ie({name:"crown"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function sd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];Se(n,Ie({name:"info"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function id(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];Se(n,Ie({name:"lightbulb"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function da(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Se(n,Ie({name:"loader-circle"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function od(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Se(n,Ie({name:"log-out"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Jn(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];Se(n,Ie({name:"mail"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function cd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];Se(n,Ie({name:"map-pin"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Xa(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];Se(n,Ie({name:"moon"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Ii(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Se(n,Ie({name:"pencil-line"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Tn(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Se(n,Ie({name:"plus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function ld(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Se(n,Ie({name:"save"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function dd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];Se(n,Ie({name:"search"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Si(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];Se(n,Ie({name:"settings"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Ei(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]];Se(n,Ie({name:"shield"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function ud(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"}],["path",{d:"M20 2v4"}],["path",{d:"M22 4h-4"}],["circle",{cx:"4",cy:"20",r:"2"}]];Se(n,Ie({name:"sparkles"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function fd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Se(n,Ie({name:"sun"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function hd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Se(n,Ie({name:"trash-2"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function hr(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];Se(n,Ie({name:"triangle-alert"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function pd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];Se(n,Ie({name:"user-minus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function Gr(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];Se(n,Ie({name:"user-plus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function pt(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];Se(n,Ie({name:"users"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function vd(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"}],["path",{d:"m2.1 21.8 6.4-6.3"}],["path",{d:"m19 5-7 7"}]];Se(n,Ie({name:"utensils-crossed"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function md(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];Se(n,Ie({name:"utensils"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}function bn(n,e){ce(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=_e(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Se(n,Ie({name:"x"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=se(),o=z(i);we(o,()=>e.children??me),g(a,i)},$$slots:{default:!0}})),le()}Ne(["click"]);Ne(["click"]);var gd=(n,e,t,r)=>e(c(t),c(r)),yd=I('<button class="btn btn-sm btn-primary"> </button>'),bd=(n,e,t)=>e(c(t)),wd=I('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),_d=(n,e,t)=>e(c(t)),Id=I('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),Sd=I('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),Ed=I("<div></div>");function xd(n,e){ce(e,!0);let t=ge(e,"position",3,"toast-right toast-bottom"),r=ge(e,"padding",3,"md");const a=X(()=>r()==="sm"?"px-2 py-0.5":""),s=X(()=>Me.toasts);function i(h){return h==="success"||h==="info"}function o(h){Me.dismiss(h.id)}function l(h){e.onShowDetails?.({id:h.id,message:h.message,details:h.details})}function d(h,v){v.onClick()}var f=Ed();Ce(f,21,()=>c(s),h=>h.id,(h,v)=>{var y=Sd(),b=u(y),_=u(b),w=u(_);{var A=U=>{da(U,{class:"h-5 w-5 animate-spin"})};C(w,U=>{c(v).state==="loading"&&U(A)})}var E=m(w,2),k=u(E),P=m(_,2),D=u(P);{var S=U=>{var B=se(),Y=z(B);Ce(Y,17,()=>c(v).actions,xt,(V,K)=>{var W=yd();W.__click=[gd,d,v,K];var ae=u(W);Q(()=>L(ae,c(K).label)),g(V,W)}),g(U,B)};C(D,U=>{c(v).actions&&c(v).actions.length>0&&U(S)})}var T=m(D,2);{var $=U=>{var B=wd();B.__click=[bd,l,v];var Y=u(B);Zl(Y,{class:"h-3 w-3"}),g(U,B)};C(T,U=>{c(v).details&&U($)})}var H=m(T,2);{var F=U=>{var B=Id();B.__click=[_d,o,v];var Y=u(B);bn(Y,{class:"h-4 w-4"}),g(U,B)};C(H,U=>{(c(v).state==="error"||c(v).state==="warning"||!i(c(v).state))&&U(F)})}Q(()=>{Le(y,1,`alert alert-${c(v).state??""} max-w-sm ${c(a)??""} shadow-lg`),L(k,c(v).message)}),g(h,y)}),Q(()=>Le(f,1,`toast ${t()??""} z-50`)),g(n,f),le()}Ne(["click"]);function Ad(n,e){ce(e,!0),le()}var Rd=I('<div><div class="modal-box"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-bold"> </h3> <button class="btn btn-circle btn-ghost btn-sm" aria-label="Fermer"><!></button></div> <div><!> <span> </span></div> <div class="modal-action"><button class="btn btn-ghost"> </button> <button> </button></div></div></div>');function Kr(n,e){let t=ge(e,"variant",3,"warning"),r=ge(e,"confirmLabel",3,"Confirmer"),a=ge(e,"cancelLabel",3,"Annuler");const s=X(()=>t()==="danger"?"alert-error":t()==="info"?"alert-info":"alert-warning"),i=X(()=>t()==="danger"?"btn-error":t()==="info"?"btn-info":"btn-warning"),o=X(()=>t()==="danger"?la:t()==="info"?sd:hr);var l=Rd(),d=u(l),f=u(d),h=u(f),v=u(h),y=m(h,2);y.__click=function(...$){e.onCancel?.apply(this,$)};var b=u(y);bn(b,{class:"h-4 w-4"});var _=m(f,2),w=u(_);yn(w,()=>c(o),($,H)=>{H($,{class:"h-5 w-5"})});var A=m(w,2),E=u(A),k=m(_,2),P=u(k);P.__click=function(...$){e.onCancel?.apply(this,$)};var D=u(P),S=m(P,2);S.__click=function(...$){e.onConfirm?.apply(this,$)};var T=u(S);Q(()=>{Le(l,1,`modal ${(e.isOpen&&"modal-open")??""}`),L(v,e.title),Le(_,1,`alert ${c(s)??""} mb-6`),L(E,e.message),L(D,a()),Le(S,1,`btn ${c(i)??""}`),L(T,r())}),g(n,l)}Ne(["click"]);var Td=I('<div class="py-8 text-center opacity-50"><!> <p class="text-sm">Aucun membre</p></div>'),Pd=I('<span class="text-xs opacity-50">(vous)</span>'),Dd=(n,e)=>p(e,!0),Md=I(`<button class="btn btn-error btn-sm" title="Quitter l'équipe"><!></button>`),kd=(n,e,t)=>e(c(t).id,c(t).name),$d=I('<button class="btn btn-error btn-sm" title="Retirer ce membre"><!></button>'),Cd=I('<div class="card bg-base-100 border-base-200 border p-4 transition-shadow hover:shadow-md"><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-3"><div class="avatar placeholder"><div class="bg-neutral text-neutral-content w-12 rounded-full"><span class="text-lg"> </span></div></div> <div class="flex-1"><div class="font-medium"> <!></div> <div class="text-sm opacity-70"> </div></div></div> <div><!> </div> <div class="flex gap-2"><!></div></div></div>'),qd=I('<div class="space-y-2"></div>'),jd=I('<div class="space-y-4"><!></div> <!> <!>',1);function Nd(n,e){ce(e,!0);let t=q(Pe({isOpen:!1,memberId:null,memberName:null})),r=q(!1),a=q(!1);const s=X(()=>pe.userId),i=X(()=>()=>c(s)&&e.team.members.find(T=>T.id===c(s))?.role||null),o=X(()=>c(i)()==="owner"||c(i)()==="admin");function l(S){return new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}function d(S,T){p(t,{isOpen:!0,memberId:S,memberName:T},!0)}async function f(){if(c(t).memberId){p(a,!0);try{await je.removeMember(e.team.$id,c(t).memberId),p(t,{isOpen:!1,memberId:null,memberName:null},!0),e.onMemberRemoved?.()}catch(S){console.error("[TeamMembersList] Erreur suppression:",S),alert("Erreur lors de la suppression du membre")}finally{p(a,!1)}}}async function h(){if(c(s)){p(a,!0);try{await je.removeMember(e.team.$id,c(s)),p(r,!1),e.onMemberRemoved?.()}catch(S){console.error("[TeamMembersList] Erreur désinscription:",S),alert("Erreur lors de la désinscription")}finally{p(a,!1)}}}function v(S){return S==="owner"?_i:S==="admin"?Ei:pt}function y(S){return S==="owner"?"badge-primary":S==="admin"?"badge-secondary":"badge-ghost"}function b(S){return S==="owner"?"Propriétaire":S==="admin"?"Administrateur":"Membre"}var _=jd(),w=z(_),A=u(w);{var E=S=>{var T=Td(),$=u(T);pt($,{class:"mx-auto mb-2 h-8 w-8"}),g(S,T)},k=S=>{var T=qd();Ce(T,21,()=>e.team.members,$=>$.id,($,H)=>{const F=X(()=>v(c(H).role)),U=X(()=>c(H).id===c(s)),B=X(()=>c(o)&&!c(U));var Y=Cd(),V=u(Y),K=u(V),W=u(K),ae=u(W),ne=u(ae),R=u(ne),ee=m(W,2),de=u(ee),fe=u(de),ve=m(fe);{var be=ie=>{var Z=Pd();g(ie,Z)};C(ve,ie=>{c(U)&&ie(be)})}var re=m(de,2),te=u(re),he=m(K,2),G=u(he);yn(G,()=>c(F),(ie,Z)=>{Z(ie,{class:"h-3 w-3"})});var J=m(G),oe=m(he,2),M=u(oe);{var N=ie=>{var Z=Md();Z.__click=[Dd,r];var ue=u(Z);od(ue,{class:"h-4 w-4"}),Q(()=>Z.disabled=c(a)),g(ie,Z)},O=ie=>{var Z=se(),ue=z(Z);{var xe=ke=>{var ye=$d();ye.__click=[kd,d,H];var De=u(ye);pd(De,{class:"h-4 w-4"}),Q(()=>ye.disabled=c(a)),g(ke,ye)};C(ue,ke=>{c(B)&&ke(xe)},!0)}g(ie,Z)};C(M,ie=>{c(U)&&c(H).role!=="owner"?ie(N):ie(O,!1)})}Q((ie,Z,ue,xe)=>{L(R,ie),L(fe,`${c(H).name??""} `),L(te,`Membre depuis ${Z??""}`),Le(he,1,`badge ${ue??""} gap-1`),L(J,` ${xe??""}`)},[()=>c(H).name.split(" ").map(ie=>ie[0]).join("").toUpperCase().slice(0,2),()=>l(c(H).joinedAt),()=>y(c(H).role),()=>b(c(H).role)]),g($,Y)}),g(S,T)};C(A,S=>{e.team.members.length===0?S(E):S(k,!1)})}var P=m(w,2);Kr(P,{get isOpen(){return c(t).isOpen},title:"Retirer un membre",get message(){return`Êtes-vous sûr de vouloir retirer ${c(t).memberName??""} de l'équipe ? Cette action est irréversible.`},variant:"warning",confirmLabel:"Retirer",cancelLabel:"Annuler",onConfirm:f,onCancel:()=>p(t,{isOpen:!1,memberId:null,memberName:null},!0)});var D=m(P,2);Kr(D,{get isOpen(){return c(r)},title:"Quitter l'équipe",message:"Êtes-vous sûr de vouloir quitter cette équipe ? Vous devrez être réinvité pour y revenir.",variant:"warning",confirmLabel:"Quitter",cancelLabel:"Annuler",onConfirm:h,onCancel:()=>p(r,!1)}),g(n,_),le()}Ne(["click"]);var Ld=I('<div class="mb-1 text-xs opacity-70"> </div>'),Ud=(n,e,t)=>e(c(t)),Hd=I("<button><!> </button>"),Bd=I('<div><!> <div class="ms-1 flex flex-wrap items-center gap-1"><!> <!></div></div>');function zd(n,e){ce(e,!0);let t=ge(e,"maxSuggestions",3,8),r=ge(e,"buttonSize",3,"btn-xs"),a=ge(e,"buttonVariant",3,"btn-soft"),s=ge(e,"disabled",3,!1);const i=X(()=>e.suggestions.slice(0,t()));function o(h){!s()&&!h.disabled&&e.onSuggestionClick(h)}var l=se(),d=z(l);{var f=h=>{var v=Bd(),y=u(v);{var b=E=>{var k=Ld(),P=u(k);Q(()=>L(P,e.title)),g(E,k)};C(y,E=>{e.title&&E(b)})}var _=m(y,2),w=u(_);Ii(w,{class:"text-base-content/70 mr-1",size:14});var A=m(w,2);Ce(A,17,()=>c(i),E=>E.id,(E,k)=>{var P=Hd();P.__click=[Ud,o,k];var D=u(P);{var S=$=>{var H=se(),F=z(H);yn(F,()=>c(k).icon,(U,B)=>{B(U,{class:"h-3 w-3"})}),g($,H)};C(D,$=>{c(k).icon&&$(S)})}var T=m(D);Q(()=>{Le(P,1,`btn btn-primary ${r()??""} ${a()??""}`),P.disabled=s()||c(k).disabled,bt(P,"title",c(k).disabled?"Déjà sélectionné":c(k).label),L(T,` ${c(k).label??""}`)}),g(E,P)}),g(h,v)};C(d,h=>{c(i).length>0&&h(f)})}g(n,l),le()}Ne(["click"]);async function Vd(n,e,t,r,a,s){if(c(e).length===0){p(t,"Veuillez ajouter au moins une adresse email");return}p(r,!0),p(t,null);try{await je.inviteTeamMember(a.team.$id,c(e),c(s)||void 0),p(e,[],!0),p(s,""),a.onSuccess?.()}catch(i){p(t,i.message||"Erreur lors de l'envoi des invitations",!0),console.error("[InviteMembersForm] Erreur:",i)}finally{p(r,!1)}}function Qd(n,e){n.key==="Enter"&&(n.preventDefault(),e())}var Wd=I('<div class="alert alert-error"><span class="text-sm"> </span></div>'),Gd=(n,e,t)=>e(t),Kd=I('<div class="badge badge-primary badge-lg gap-2"><!> <button class="btn btn-circle btn-ghost btn-xs" title="Retirer"><!></button></div>'),Jd=I('<div><div class="mb-2 text-sm font-medium opacity-70"> </div> <div class="flex flex-wrap gap-2"></div></div>'),Od=I('<span class="loading loading-spinner loading-sm"></span>'),Yd=I('<div class="space-y-4"><div class="flex gap-2"><label class="input flex-1"><!> <input type="email" placeholder="email@example.com"/></label> <button class="btn btn-primary" title="Ajouter à la liste"><!></button></div> <!> <!> <!> <div><label class="label"><span class="label-text">Message personnalisé (optionnel)</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Ajoutez un message pour les personnes invitées..." rows="3" maxlength="200"></textarea> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <div class="flex justify-end"><button class="btn btn-primary"><!> </button></div></div>');function xi(n,e){ce(e,!0);let t=q(""),r=q(Pe([])),a=q(""),s=q(!1),i=q(null);function o(R){return je.isValidEmail(R)}const l=X(()=>[]);function d(){const R=c(t).trim().toLowerCase();if(!R){p(i,"Veuillez entrer une adresse email");return}if(!o(R)){p(i,"Adresse email invalide");return}if(c(r).includes(R)){p(i,"Cet email est déjà dans la liste");return}if(e.team.members.some(fe=>fe.name.toLowerCase()===R)){p(i,"Cette personne est déjà membre de l'équipe");return}if(e.team.invited?.some(fe=>fe.email.toLowerCase()===R)){p(i,"Cette personne a déjà été invitée");return}c(r).push(R),p(t,""),p(i,null)}function f(R){p(r,c(r).filter(ee=>ee!==R),!0)}var h=Yd(),v=u(h),y=u(v),b=u(y);Jn(b,{class:"h-4 w-4 opacity-50"});var _=m(b,2);_.__keydown=[Qd,d];var w=m(y,2);w.__click=d;var A=u(w);Gr(A,{class:"h-5 w-5"});var E=m(v,2);{var k=R=>{zd(R,{get suggestions(){return c(l)},onSuggestionClick:ee=>{p(t,ee.label,!0),d()},title:"Suggestions",buttonSize:"btn-sm"})};C(E,R=>{c(l).length>0&&R(k)})}var P=m(E,2);{var D=R=>{var ee=Wd(),de=u(ee),fe=u(de);Q(()=>L(fe,c(i))),g(R,ee)};C(P,R=>{c(i)&&R(D)})}var S=m(P,2);{var T=R=>{var ee=Jd(),de=u(ee),fe=u(de),ve=m(de,2);Ce(ve,20,()=>c(r),be=>be,(be,re)=>{var te=Kd(),he=u(te);Jn(he,{class:"h-3 w-3"});var G=m(he),J=m(G);J.__click=[Gd,f,re];var oe=u(J);bn(oe,{class:"h-3 w-3"}),Q(()=>{L(G,` ${re??""} `),J.disabled=c(s)}),g(be,te)}),Q(()=>L(fe,`Personnes à inviter (${c(r).length??""})`)),g(R,ee)};C(S,R=>{c(r).length>0&&R(T)})}var $=m(S,2),H=m(u($),2),F=m(H,2),U=u(F),B=u(U),Y=m($,2),V=u(Y);V.__click=[Vd,r,i,s,e,a];var K=u(V);{var W=R=>{var ee=Od();g(R,ee)},ae=R=>{Gr(R,{class:"h-5 w-5"})};C(K,R=>{c(s)?R(W):R(ae,!1)})}var ne=m(K);Q(R=>{_.disabled=c(s),w.disabled=R,H.disabled=c(s),L(B,`${c(a).length??""}/200 caractères`),V.disabled=c(s)||c(r).length===0,L(ne,` Envoyer ${c(r).length>0?`${c(r).length} invitation${c(r).length>1?"s":""}`:"les invitations"}`)},[()=>c(s)||!c(t).trim()]),et(_,()=>c(t),R=>p(t,R)),et(H,()=>c(a),R=>p(a,R)),g(n,h),le()}Ne(["keydown","click"]);var Xd=I('<span class="ml-1"> </span>'),Zd=I('<div class="card bg-base-100 border-base-200 border p-4 transition-shadow hover:shadow-md"><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-3"><div class="avatar placeholder"><div class="bg-base-200 text-base-content w-12 rounded-full"><!></div></div> <div class="flex-1"><div class="font-medium"> </div> <div class="flex items-center gap-1 text-sm opacity-70"><!> <!></div></div></div> <div class="badge badge-warning">En attente</div></div></div>'),Fd=I('<div><h4 class="mb-3 text-sm font-medium opacity-70"> </h4> <div class="space-y-2"></div></div> <div class="divider"></div>',1),eu=I('<div class="space-y-6"><!> <div><h4 class="mb-3 text-sm font-medium opacity-70">Inviter de nouveaux membres</h4> <!></div></div>');function tu(n,e){ce(e,!0);function t(l){return new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}var r=eu(),a=u(r);{var s=l=>{var d=Fd(),f=z(d),h=u(f),v=u(h),y=m(h,2);Ce(y,21,()=>e.team.invited,b=>b.email,(b,_)=>{var w=Zd(),A=u(w),E=u(A),k=u(E),P=u(k),D=u(P);Jn(D,{class:"h-5 w-5"});var S=m(k,2),T=u(S),$=u(T),H=m(T,2),F=u(H);nd(F,{class:"h-3 w-3"});var U=m(F),B=m(U);{var Y=V=>{var K=Xd(),W=u(K);Q(()=>L(W,`par ${c(_).invitedBy??""}`)),g(V,K)};C(B,V=>{c(_).invitedBy&&V(Y)})}Q(V=>{L($,c(_).email),L(U,` Invité le ${V??""} `)},[()=>t(c(_).invitedAt)]),g(b,w)}),Q(()=>L(v,`Invitations en attente (${e.team.invited.length??""})`)),g(l,d)};C(a,l=>{e.team.invited&&e.team.invited.length>0&&l(s)})}var i=m(a,2),o=m(u(i),2);xi(o,{get team(){return e.team},get onSuccess(){return e.onInvitationSent}}),g(n,r),le()}async function nu(n,e,t,r,a,s){if(!(!c(e)||!c(t))){p(r,!0);try{await je.updateTeam(c(e).$id,c(a).trim()||void 0,c(s).trim()||void 0),p(t,!1)}catch(i){console.error("[TeamDetailModal] Erreur sauvegarde:",i),alert("Erreur lors de la sauvegarde")}finally{p(r,!1)}}}var ru=I('<p class="text-sm opacity-70"> </p>'),au=(n,e)=>p(e,"members"),su=(n,e)=>p(e,"invitations"),iu=I('<span class="badge badge-sm badge-warning ml-1"> </span>'),ou=I('<span class="badge badge-sm badge-ghost ml-1">0</span>'),cu=(n,e)=>p(e,"settings"),lu=I('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),du=I('<button role="tab"><!> Paramètres <!></button>'),uu=I('<span class="loading loading-spinner loading-sm"></span>'),fu=I(`<div class="space-y-4"><div><label class="label"><span class="label-text">Nom de l'équipe</span></label> <input type="text" class="input input-bordered w-full" placeholder="Nom de l'équipe" maxlength="50"/></div> <div><label class="label"><span class="label-text">Description</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Description de l'équipe" rows="3" maxlength="200"></textarea></div> <div class="flex justify-end"><button class="btn btn-primary"><!></button></div></div>`),hu=I('<div class="flex items-center justify-between border-b p-4 pt-0"><div><h3 class="text-xl font-bold"> </h3> <!></div> <div class="flex items-center gap-2"></div></div> <div class="tabs tabs-border flex-none" role="tablist"><button role="tab"><!> Membres <span class="badge badge-sm badge-secondary ml-1"> </span></button> <button role="tab"><!> Invitations <!></button> <!></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div>',1),pu=I('<div><div class="modal-box fixed top-0 flex h-lvh w-lvw flex-col overflow-auto md:top-10 md:h-full md:max-h-11/12 md:w-full md:max-w-4xl"><button class="btn btn-circle btn-ghost btn-sm absolute top-4 right-4" aria-label="Fermer"><!></button> <!></div></div> <!>',1);function Ai(n,e){ce(e,!0);let t=q("members"),r=q(!1),a=q(!1);const s=X(()=>e.teamId?je.getTeamById(e.teamId):null),i=X(()=>!c(s)||!pe.userId?null:c(s).members.find($=>$.id===pe.userId)?.role||null),o=X(()=>c(i)==="owner"),l=X(()=>c(o)||c(i)==="admin");let d=q(""),f=q(""),h=q(!1);ut(()=>{c(s)&&(p(d,c(s).name,!0),p(f,c(s).description||"",!0),p(h,!1))}),ut(()=>{c(s)&&p(h,c(d)!==c(s).name||c(f)!==(c(s).description||""),!0)});async function v(){if(c(s)){p(a,!0);try{await je.deleteTeam(c(s).$id),p(r,!1),e.onClose()}catch(T){console.error("[TeamDetailModal] Erreur suppression:",T),alert("Erreur lors de la suppression de l'équipe")}finally{p(a,!1)}}}async function y(){e.teamId&&await je.fetchTeam(e.teamId)}async function b(){e.teamId&&await je.fetchTeam(e.teamId)}var _=pu(),w=z(_),A=u(w),E=u(A);E.__click=function(...T){e.onClose?.apply(this,T)};var k=u(E);bn(k,{class:"h-4 w-4"});var P=m(E,2);{var D=T=>{var $=hu(),H=z($),F=u(H),U=u(F),B=u(U),Y=m(U,2);{var V=M=>{var N=ru(),O=u(N);Q(()=>L(O,c(s).description)),g(M,N)};C(Y,M=>{c(s).description&&M(V)})}var K=m(H,2),W=u(K);W.__click=[au,t];var ae=u(W);pt(ae,{class:"mr-1 h-5 w-5"});var ne=m(ae,2),R=u(ne),ee=m(W,2);ee.__click=[su,t];var de=u(ee);Jn(de,{class:"mr-1 h-5 w-5"});var fe=m(de,2);{var ve=M=>{var N=iu(),O=u(N);Q(()=>L(O,c(s).invited.length)),g(M,N)},be=M=>{var N=ou();g(M,N)};C(fe,M=>{c(s).invited&&c(s).invited.length>0?M(ve):M(be,!1)})}var re=m(ee,2);{var te=M=>{var N=du();N.__click=[cu,t];var O=u(N);Si(O,{class:"mr-1 h-5 w-5"});var ie=m(O,2);{var Z=ue=>{var xe=lu();g(ue,xe)};C(ie,ue=>{c(h)&&ue(Z)})}Q(()=>Le(N,1,`tab ${c(t)==="settings"?"tab-active":""}`)),g(M,N)};C(re,M=>{c(l)&&M(te)})}var he=m(K,2),G=u(he);Fo(G,()=>c(t),M=>{var N=se(),O=z(N);{var ie=ue=>{Nd(ue,{get team(){return c(s)},onMemberRemoved:y})},Z=ue=>{var xe=se(),ke=z(xe);{var ye=qe=>{tu(qe,{get team(){return c(s)},onInvitationSent:b})},De=qe=>{var Je=se(),ze=z(Je);{var nt=rt=>{var At=fu(),Te=u(At),Ve=m(u(Te),2),it=m(Te,2),Ue=m(u(it),2),Rt=m(it,2),ot=u(Rt);ot.__click=[nu,s,h,a,d,f];var ct=u(ot);{var Tt=He=>{var Qe=uu();g(He,Qe)},Oe=He=>{var Qe=Ks("Enregistrer");g(He,Qe)};C(ct,He=>{c(a)?He(Tt):He(Oe,!1)})}Q(()=>{Ve.disabled=c(a),Ue.disabled=c(a),ot.disabled=c(a)||!c(h)}),et(Ve,()=>c(d),He=>p(d,He)),et(Ue,()=>c(f),He=>p(f,He)),g(rt,At)};C(ze,rt=>{c(t)==="settings"&&c(l)&&rt(nt)},!0)}g(qe,Je)};C(ke,qe=>{c(t)==="invitations"?qe(ye):qe(De,!1)},!0)}g(ue,xe)};C(O,ue=>{c(t)==="members"?ue(ie):ue(Z,!1)})}g(M,N)});var J=m(he,2),oe=u(J);oe.__click=function(...M){e.onClose?.apply(this,M)},Q(()=>{L(B,c(s).name),Le(W,1,`tab ${c(t)==="members"?"tab-active":""}`),L(R,c(s).members.length),Le(ee,1,`tab ${c(t)==="invitations"?"tab-active":""}`)}),g(T,$)};C(P,T=>{c(s)&&T(D)})}var S=m(w,2);Kr(S,{get isOpen(){return c(r)},title:"Supprimer l'équipe",message:"Êtes-vous sûr de vouloir supprimer définitivement cette équipe ? Tous les membres seront retirés et cette action est irréversible.",variant:"danger",confirmLabel:"Supprimer définitivement",cancelLabel:"Annuler",onConfirm:v,onCancel:()=>p(r,!1)}),Q(()=>Le(w,1,`modal ${(e.teamId&&"modal-open")??""}`)),g(n,_),le()}Ne(["click"]);function Za(){_t("/teams")}var vu=I('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),mu=I('<div class="py-6 text-center"><!> <p class="text-base-content/60 text-sm">Aucune équipe ou invitation</p> <button class="btn btn-primary btn-sm mt-3">Créer une équipe</button></div>'),gu=(n,e,t)=>e(c(t).$id),yu=(n,e,t)=>{(n.key==="Enter"||n.key===" ")&&e(c(t).$id)},bu=I('<div class="text-base-content/60 text-xs"> </div>'),wu=I('<div class="bg-base-200/50 hover:bg-base-200/70 flex cursor-pointer items-center justify-between rounded-lg p-2 transition-colors" role="button" tabindex="0"><div><div class="text-sm font-medium"> </div> <!></div> <div class="badge badge-primary badge-sm">Membre</div></div>'),_u=I('<div><h3 class="text-base-content/70 mb-2 text-sm font-semibold"> </h3> <div class="space-y-2"></div></div>'),Iu=(n,e,t)=>e(c(t).$id),Su=(n,e,t)=>e(c(t).$id),Eu=I(`<div class="bg-warning/10 border-warning/20 flex items-center justify-between rounded-lg border p-2"><div class="flex-1"><div class="text-sm font-medium"> </div> <div class="text-base-content/60 text-xs"> </div></div> <div class="flex gap-1"><button class="btn btn-success btn-xs" title="Accepter l'invitation"><!></button> <button class="btn btn-error btn-xs" title="Refuser l'invitation"><!></button></div></div>`),xu=I('<div><h3 class="text-base-content/70 mb-2 text-sm font-semibold"> </h3> <div class="space-y-2"></div></div>'),Au=I('<div class="space-y-4"><!> <!></div>'),Ru=I('<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Mes Équipes</h2> <button class="btn btn-ghost btn-sm" title="Voir toutes les équipes">Voir tout</button></div> <!></div></div> <!>',1);function Tu(n,e){ce(e,!0);let t=ge(e,"teams",19,()=>[]),r=ge(e,"invitations",19,()=>[]),a=ge(e,"loading",3,!1),s=q(null);function i(S){p(s,S,!0)}function o(){p(s,null)}async function l(S){try{console.log("Accept invitation:",S)}catch(T){console.error("Erreur lors de l'acceptation de l'invitation:",T)}}async function d(S){try{console.log("Reject invitation:",S)}catch(T){console.error("Erreur lors du rejet de l'invitation:",T)}}var f=Ru(),h=z(f),v=u(h),y=u(v),b=u(y),_=u(b);pt(_,{class:"text-primary h-5 w-5"});var w=m(b,2);w.__click=[Za];var A=m(y,2);{var E=S=>{var T=vu();g(S,T)},k=S=>{var T=se(),$=z(T);{var H=U=>{var B=mu(),Y=u(B);pt(Y,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var V=m(Y,4);V.__click=[Za],g(U,B)},F=U=>{var B=Au(),Y=u(B);{var V=ae=>{var ne=_u(),R=u(ne),ee=u(R),de=m(R,2);Ce(de,21,t,xt,(fe,ve)=>{var be=wu();be.__click=[gu,i,ve],be.__keydown=[yu,i,ve];var re=u(be),te=u(re),he=u(te),G=m(te,2);{var J=oe=>{var M=bu(),N=u(M);Q(()=>L(N,`${c(ve).members.length??""} membre${c(ve).members.length>1?"s":""}`)),g(oe,M)};C(G,oe=>{c(ve).members&&oe(J)})}Q(()=>{bt(be,"title",`Voir les détails de ${c(ve).name??""}`),L(he,c(ve).name)}),g(fe,be)}),Q(()=>L(ee,`Vos équipes (${t().length??""})`)),g(ae,ne)};C(Y,ae=>{t().length>0&&ae(V)})}var K=m(Y,2);{var W=ae=>{var ne=xu(),R=u(ne),ee=u(R),de=m(R,2);Ce(de,21,r,xt,(fe,ve)=>{var be=Eu(),re=u(be),te=u(re),he=u(te),G=m(te,2),J=u(G),oe=m(re,2),M=u(oe);M.__click=[Iu,l,ve];var N=u(M);ed(N,{class:"h-3 w-3"});var O=m(M,2);O.__click=[Su,d,ve];var ie=u(O);td(ie,{class:"h-3 w-3"}),Q(()=>{L(he,c(ve).teamName),L(J,`Invité par ${c(ve).invitedBy??""}`)}),g(fe,be)}),Q(()=>L(ee,`Invitations en attente (${r().length??""})`)),g(ae,ne)};C(K,ae=>{r().length>0&&ae(W)})}g(U,B)};C($,U=>{t().length===0&&r().length===0?U(H):U(F,!1)},!0)}g(S,T)};C(A,S=>{a()?S(E):S(k,!1)})}var P=m(h,2);{var D=S=>{Ai(S,{get teamId(){return c(s)},onClose:o})};C(P,S=>{c(s)&&S(D)})}g(n,f),le()}Ne(["click","keydown"]);function Pu(n,e){return`${n}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function Du(n){return n.split("T")[0]}function Fa(n){const e=parseInt(n.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function Mu(n){const e=new Date(n),r=Math.abs(new Date().getTime()-e.getTime()),a=Math.ceil(r/(1e3*60*60*24));if(a===0)return"Aujourd'hui";if(a===1)return"Hier";if(a<7)return`Il y a ${a} jours`;if(a<30){const s=Math.floor(a/7);return`Il y a ${s} semaine${s>1?"s":""}`}return e.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}function en(n){if(!n)return"";try{return new Date(n).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return n}}var ku=I('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),$u=I('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucun événement prévu</p></div>'),Cu=(n,e)=>_t(`/eventEdit/${c(e).$id}`),qu=(n,e)=>{n.key==="Enter"||n.key},ju=I("<!> ",1),Nu=I("<!> ",1),Lu=I('<div class="badge badge-info badge-lg ms-auto">Vous êtes invité à participer</div>'),Uu=I('<div class="flex items-center gap-1"><!> <span> </span></div>'),Hu=I('<div class="bg-success/5 border-success/20 hover:bg-success/10 flex cursor-pointer items-start gap-3 rounded-lg border p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-4"><div class="truncate text-lg font-semibold"> </div> <div class="badge font-medium"><!></div> <!></div> <div class="text-base-content/60 mt-2 flex items-center gap-3 text-xs"><div class="flex items-center gap-1"><!> <span> </span></div> <!></div></div> <!></div>'),Bu=I('<div class="my-4"><div class="space-y-3"></div></div>'),zu=(n,e)=>_t(`/eventEdit/${c(e).$id}`),Vu=(n,e)=>{(n.key==="Enter"||n.key===" ")&&_t(`/eventEdit/${c(e).$id}`)},Qu=I("<!> ",1),Wu=I("<!> ",1),Gu=I('<div class="badge badge-info badge-lg ms-auto">Vous êtes invité·e à participer</div>'),Ku=I('<div class="flex items-center gap-1"><!> <span> </span></div>'),Ju=I('<div class="bg-base-200/30 hover:bg-base-200/50 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-2"><div class="truncate text-lg font-semibold"> </div> <div class="badge font-medium"><!></div> <!></div> <div class="text-base-content/60 mt-2 flex items-center gap-3 text-xs"><!></div></div> <!></div>'),Ou=I('<div class="mb-4"><div class="space-y-3"></div></div>'),Yu=()=>_t("/eventList"),Xu=I('<button class="text-base-content/50 bg-base-200/30 hover:bg-base-300/30 cursor-pointer rounded p-3 text-center text-sm"> </button>'),Zu=()=>_t("/eventEdit"),Fu=I('<!> <!> <!> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm"><!> Créer un événement</button></div>',1),ef=I('<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><h2 class="card-title flex items-center gap-2"><!> Événements</h2> <!></div></div>');function tf(n,e){ce(e,!0);let t=ge(e,"currentEvents",19,()=>[]),r=ge(e,"upcomingEvents",19,()=>[]),a=ge(e,"pastEventsCount",3,0),s=ge(e,"loading",3,!1);function i(_){return"Lieu à définir"}function o(_){return Ze.getContributorStatus(_)==="invited"}var l=ef(),d=u(l),f=u(d),h=u(f);It(h,{class:"text-primary h-5 w-5"});var v=m(f,2);{var y=_=>{var w=ku();g(_,w)},b=_=>{var w=se(),A=z(w);{var E=P=>{var D=$u(),S=u(D);It(S,{class:"mx-auto mb-3 h-12 w-12 opacity-20"}),g(P,D)},k=P=>{var D=Fu(),S=z(D);{var T=K=>{var W=Bu(),ae=u(W);Ce(ae,21,t,ne=>ne.$id,(ne,R)=>{var ee=Hu();ee.__click=[Cu,R],ee.__keydown=[qu,R];var de=u(ee),fe=u(de),ve=u(fe),be=u(ve),re=m(ve,2),te=u(re);{var he=ye=>{var De=ju(),qe=z(De);It(qe,{class:"h-4 w-4"});var Je=m(qe);Q((ze,nt)=>L(Je,` ${ze??""} au ${nt??""}`),[()=>en(c(R).dateStart),()=>en(c(R).dateEnd)]),g(ye,De)},G=ye=>{var De=se(),qe=z(De);{var Je=ze=>{var nt=Nu(),rt=z(nt);It(rt,{class:"h-4 w-4"});var At=m(rt);Q(Te=>L(At,` ${Te??""}`),[()=>en(c(R).dateStart)]),g(ze,nt)};C(qe,ze=>{c(R).dateStart&&ze(Je)},!0)}g(ye,De)};C(te,ye=>{c(R).allDates&&c(R).allDates.length>1&&c(R).dateStart&&c(R).dateEnd?ye(he):ye(G,!1)})}var J=m(re,2);{var oe=ye=>{var De=Lu();g(ye,De)};C(J,ye=>{o(c(R).$id)&&ye(oe)})}var M=m(fe,2),N=u(M),O=u(N);cd(O,{class:"h-3 w-3"});var ie=m(O,2),Z=u(ie),ue=m(N,2);{var xe=ye=>{var De=Uu(),qe=u(De);pt(qe,{class:"h-3 w-3"});var Je=m(qe,2),ze=u(Je);Q(()=>L(ze,`${c(R).contributors.length??""} participant${c(R).contributors.length>1?"s":""}`)),g(ye,De)};C(ue,ye=>{c(R).contributors&&c(R).contributors.length>0&&ye(xe)})}var ke=m(de,2);Qr(ke,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),Q(ye=>{bt(ee,"title",`Voir les détails de ${c(R).name??""}`),L(be,c(R).name),L(Z,ye)},[()=>i(c(R))]),g(ne,ee)}),g(K,W)};C(S,K=>{t().length>0&&K(T)})}var $=m(S,2);{var H=K=>{var W=Ou(),ae=u(W);Ce(ae,21,()=>r().slice(0,3),ne=>ne.$id,(ne,R)=>{var ee=Ju();ee.__click=[zu,R],ee.__keydown=[Vu,R];var de=u(ee),fe=u(de),ve=u(fe),be=u(ve),re=m(ve,2),te=u(re);{var he=Z=>{var ue=Qu(),xe=z(ue);It(xe,{class:"h-4 w-4"});var ke=m(xe);Q((ye,De)=>L(ke,` ${ye??""} au ${De??""}`),[()=>en(c(R).dateStart),()=>en(c(R).dateEnd)]),g(Z,ue)},G=Z=>{var ue=se(),xe=z(ue);{var ke=ye=>{var De=Wu(),qe=z(De);It(qe,{class:"h-4 w-4"});var Je=m(qe);Q(ze=>L(Je,` ${ze??""}`),[()=>en(c(R).dateStart)]),g(ye,De)};C(xe,ye=>{c(R).dateStart&&ye(ke)},!0)}g(Z,ue)};C(te,Z=>{c(R).allDates&&c(R).allDates.length>1&&c(R).dateStart&&c(R).dateEnd?Z(he):Z(G,!1)})}var J=m(re,2);{var oe=Z=>{var ue=Gu();g(Z,ue)};C(J,Z=>{o(c(R).$id)&&Z(oe)})}var M=m(fe,2),N=u(M);{var O=Z=>{var ue=Ku(),xe=u(ue);pt(xe,{class:"h-3 w-3"});var ke=m(xe,2),ye=u(ke);Q(()=>L(ye,`${c(R).contributors.length??""} participant${c(R).contributors.length>1?"s":""}`)),g(Z,ue)};C(N,Z=>{c(R).contributors&&c(R).contributors.length>0&&Z(O)})}var ie=m(de,2);Qr(ie,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),Q(()=>{bt(ee,"title",`Voir les détails de ${c(R).name??""}`),L(be,c(R).name)}),g(ne,ee)}),g(K,W)};C($,K=>{r().length>0&&K(H)})}var F=m($,2);{var U=K=>{var W=Xu();W.__click=[Yu];var ae=u(W);Q(()=>L(ae,`${a()??""} événement${a()>1?"s":""} passé${a()>1?"s":""}`)),g(K,W)};C(F,K=>{a()>0&&K(U)})}var B=m(F,2),Y=u(B);Y.__click=[Zu];var V=u(Y);It(V,{class:"mr-2 h-4 w-4"}),g(P,D)};C(A,P=>{t().length===0&&r().length===0?P(E):P(k,!1)},!0)}g(_,w)};C(v,_=>{s()?_(y):_(b,!1)})}g(n,l),le()}Ne(["click","keydown"]);function nf(){console.log("Navigate to all recipes")}function es(){console.log("Create new recipe")}var rf=I('<div class="flex items-center justify-center py-8"><span class="loading loading-spinner loading-md"></span></div>'),af=I('<div class="py-6 text-center"><!> <p class="text-base-content/60 mb-4 text-sm">Aucune recette publiée</p> <button class="btn btn-primary btn-sm"><!> Créer une recette</button></div>'),sf=(n,e,t)=>e(c(t).u),of=(n,e,t)=>{(n.key==="Enter"||n.key===" ")&&e(c(t).u)},cf=I('<span class="text-xs opacity-70"> </span>'),lf=I('<div class="flex items-center gap-1"><!> <span> </span></div>'),df=I('<div class="bg-base-200/30 hover:bg-base-200/50 flex cursor-pointer items-start gap-3 rounded-lg p-3 transition-colors" role="button" tabindex="0"><div class="min-w-0 flex-1"><div class="truncate text-sm font-medium"> </div> <div class="text-base-content/60 mt-1 flex items-center gap-2 text-xs"><span class="badge badge-ghost badge-sm capitalize"> </span> <!></div> <div class="text-base-content/50 mt-2 flex items-center gap-3 text-xs"><!> <div class="flex items-center gap-1"><span> </span></div></div></div> <!></div>'),uf=I('<div class="space-y-3"></div> <div class="card-actions border-base-200 mt-4 justify-end border-t pt-4"><button class="btn btn-primary btn-sm"><!> Créer une recette</button></div>',1),ff=I('<div class="card bg-base-100 border-base-200 border shadow-xl"><div class="card-body"><div class="flex items-center justify-between"><h2 class="card-title flex items-center gap-2"><!> Dernières Recettes</h2> <button class="btn btn-ghost btn-sm" title="Voir toutes les recettes">Voir tout</button></div> <!></div></div>');function hf(n,e){ce(e,!0);const t=X(()=>Yt.recipesIndex.filter(w=>w.isPublished!==!1&&w.pd).sort((w,A)=>{const E=w.pd?new Date(w.pd).getTime():0;return(A.pd?new Date(A.pd).getTime():0)-E}).slice(0,5));function r(_){return _.pd?Mu(_.pd):"Date inconnue"}function a(_){switch(_){case"entree":return"Entrée";case"plat":return"Plat";case"dessert":return"Dessert";default:return _}}function s(_){_t(`/recipe/${_}`)}var i=ff(),o=u(i),l=u(o),d=u(l),f=u(d);cr(f,{class:"text-primary h-5 w-5"});var h=m(d,2);h.__click=[nf];var v=m(l,2);{var y=_=>{var w=rf();g(_,w)},b=_=>{var w=se(),A=z(w);{var E=P=>{var D=af(),S=u(D);fn(S,{class:"mx-auto mb-3 h-12 w-12 opacity-20"});var T=m(S,4);T.__click=[es];var $=u(T);cr($,{class:"mr-2 h-4 w-4"}),g(P,D)},k=P=>{var D=uf(),S=z(D);Ce(S,21,()=>c(t),F=>F.u,(F,U)=>{var B=df();B.__click=[sf,s,U],B.__keydown=[of,s,U];var Y=u(B),V=u(Y),K=u(V),W=m(V,2),ae=u(W),ne=u(ae),R=m(ae,2);{var ee=G=>{var J=cf(),oe=u(J);Q(M=>L(oe,`${M??""}
                    ${c(U).c.length>2?"...":""}`),[()=>c(U).c.slice(0,2).join(", ")]),g(G,J)};C(R,G=>{c(U).c&&c(U).c.length>0&&G(ee)})}var de=m(W,2),fe=u(de);{var ve=G=>{var J=lf(),oe=u(J);pt(oe,{class:"h-3 w-3"});var M=m(oe,2),N=u(M);Q(()=>L(N,`${c(U).plates??""} pers`)),g(G,J)};C(fe,G=>{c(U).plates&&G(ve)})}var be=m(fe,2),re=u(be),te=u(re),he=m(Y,2);Qr(he,{class:"mt-1 h-4 w-4 flex-shrink-0 opacity-40"}),Q((G,J)=>{L(K,c(U).n),L(ne,G),L(te,`• ${J??""}`)},[()=>a(c(U).t),()=>r(c(U))]),g(F,B)});var T=m(S,2),$=u(T);$.__click=[es];var H=u($);cr(H,{class:"mr-2 h-4 w-4"}),g(P,D)};C(A,P=>{c(t).length===0?P(E):P(k,!1)},!0)}g(_,w)};C(v,_=>{Yt.loading?_(y):_(b,!1)})}g(n,i),le()}Ne(["click","keydown"]);function pf(){_t("/eventEdit")}function vf(){console.log("Navigate to create recipe")}var mf=()=>{console.log("Open auth modal")},gf=I('<div class="bg-base-100 border-base-200 rounded-xl border p-8 text-center shadow-sm"><!> <h2 class="mb-2 text-xl font-semibold">Connectez-vous pour accéder à votre tableau de bord</h2> <p class="text-base-content/60 mb-6">Connectez-vous pour voir vos équipes, événements et recettes.</p> <button class="btn btn-primary">Se connecter</button></div>'),yf=I('<div class="flex items-center justify-center py-20"><div class="text-center"><!> <p class="text-base-content/60">Chargement de votre tableau de bord...</p></div></div>'),bf=I('<div class="alert alert-error shadow-lg"><span> </span></div>'),wf=I('<div class="grid grid-cols-1 gap-6 lg:grid-cols-3"><div class="space-y-6 lg:col-span-2"><!> <!></div> <div class="space-y-6"><!></div></div>'),_f=I('<div class="bg-base-200/30 min-h-screen"><div class="bg-base-100 border-base-200 bg-opacity-90 sticky top-0 z-10 border-b backdrop-blur-sm"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 items-center justify-between"><div><h1 class="text-base-content flex items-center gap-2 text-2xl font-bold"><!> Tableau de Bord</h1> <p class="text-base-content/60 text-sm"> </p></div> <div class="flex gap-2"><button class="btn btn-primary"><!> Nouvel Événement</button> <button class="btn btn-secondary"><!> Créer une Recette</button></div></div></div></div> <div class="mx-auto max-w-7xl px-4 py-8"><!></div></div>');function ts(n,e){ce(e,!0);const t=X(()=>Ze.currentEvents),r=X(()=>Ze.upcomingEvents),a=X(()=>Ze.pastEventsCount),s=[{$id:"inv1",teamName:"Équipe Famille",invitedBy:"Marie",status:"pending"},{$id:"inv2",teamName:"Amis Foodies",invitedBy:"Thomas",status:"pending"}];var i=_f(),o=u(i),l=u(o),d=u(l),f=u(d),h=u(f),v=u(h);ud(v,{class:"text-primary h-6 w-6"});var y=m(h,2),b=u(y),_=m(f,2),w=u(_);w.__click=[pf];var A=u(w);It(A,{class:"h-4 w-4"});var E=m(w,2);E.__click=[vf];var k=u(E);cr(k,{class:"h-4 w-4"});var P=m(o,2),D=u(P);{var S=$=>{var H=gf(),F=u(H);Si(F,{class:"mx-auto mb-4 h-16 w-16 opacity-20"});var U=m(F,6);U.__click=[mf],g($,H)},T=$=>{var H=se(),F=z(H);{var U=Y=>{var V=yf(),K=u(V),W=u(K);da(W,{class:"text-primary mx-auto mb-4 h-12 w-12 animate-spin"}),g(Y,V)},B=Y=>{var V=se(),K=z(V);{var W=ne=>{var R=bf(),ee=u(R),de=u(ee);Q(()=>L(de,Ze.error||je.error||"Une erreur est survenue")),g(ne,R)},ae=ne=>{var R=wf(),ee=u(R),de=u(ee);tf(de,{get currentEvents(){return c(t)},get upcomingEvents(){return c(r)},get pastEventsCount(){return c(a)},get loading(){return Ze.loading}});var fe=m(de,2);hf(fe,{});var ve=m(ee,2),be=u(ve);Tu(be,{get teams(){return je.teams},get invitations(){return s},get loading(){return je.loading}}),g(ne,R)};C(K,ne=>{Ze.error||je.error?ne(W):ne(ae,!1)},!0)}g(Y,V)};C(F,Y=>{Ze.loading&&je.loading?Y(U):Y(B,!1)},!0)}g($,H)};C(D,$=>{pe.isAuthenticated?$(T,!1):$(S)})}Q(()=>L(b,`Bienvenue ${(pe.user?.name||"")??""}`)),g(n,i),le()}Ne(["click"]);function If(n){return e=>{n.shouldFocus&&requestAnimationFrame(()=>{e.focus()});const t=r=>{(r.key==="Enter"||r.key==="Tab")&&e instanceof HTMLInputElement&&e.value.trim()===""&&(r.preventDefault(),n.onEmptySubmit?.())};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}}function Sf(n,e,t,r){c(e).length&&(n.key==="ArrowDown"?(n.preventDefault(),p(t,(c(t)+1)%c(e).length)):n.key==="ArrowUp"?(n.preventDefault(),p(t,c(t)<=0?c(e).length-1:c(t)-1,!0)):(n.key==="Enter"||n.key==="Tab")&&c(t)>=0&&(n.preventDefault(),r(c(e)[c(t)])))}var Ef=I('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),xf=(n,e,t)=>e(c(t)),Af=I('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),Rf=I('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),Tf=I('<div class="mt-2"><label class="input input-accent w-full"><!> <input type="text" placeholder="Rechercher une recette..."/> <!></label> <!> <!></div>'),Pf=(n,e)=>p(e,null),Df=I('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),Mf=I('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function kf(n,e){ce(e,!0);let t=ge(e,"defaultPlates",3,4),r=ge(e,"autoFocus",3,!1),a=q(""),s=q(""),i=q(Pe(t())),o=q(null),l=!1,d=q(-1),f=X(()=>c(a).length>1?Yt.searchRecipes(c(a)).slice(0,5):[]);ut(()=>{c(f).length>0&&c(d)===-1?p(d,0):c(f).length===0&&p(d,-1)});function h(){p(o,null),p(a,""),p(s,""),p(i,t()),p(d,-1)}function v(S){p(o,S,!0);const T=S.t||"plat";p(s,c(s)?c(s):T,!0),e.onSelect(S,c(s),c(i)),h()}const y=Math.random().toString(36).slice(2);var b=Mf(),_=u(b),w=u(_),A=u(w),E=u(A);Tn(E,{class:"text-primary h-4 w-4"});var k=m(w,2);{var P=S=>{var T=Tf(),$=u(T),H=u($);dd(H,{class:"h-4 w-4 opacity-50"});var F=m(H,2);F.__keydown=[Sf,f,d,v],Ys(F,()=>If({shouldFocus:r(),onEmptySubmit:e.onEmptySubmit}));var U=m(F,2);C(U,W=>{});var B=m($,2);{var Y=W=>{var ae=Ef();g(W,ae)};C(B,W=>{c(a).length>1&&c(f).length===0&&W(Y)})}var V=m(B,2);{var K=W=>{var ae=Rf();Ce(ae,23,()=>c(f),ne=>ne.u,(ne,R,ee)=>{var de=Af(),fe=u(de);fe.__click=[xf,v,R],fe.disabled=l;var ve=u(fe),be=u(ve);fn(be,{class:"h-3 w-3 opacity-70"});var re=m(ve,2),te=u(re);Q(()=>{Le(fe,1,`flex items-center gap-2 py-2 text-left ${c(ee)===c(d)&&"ring-accent/40 ring-2"} `),L(te,c(R).n)}),g(ne,de)}),g(W,ae)};C(V,W=>{c(f).length>0&&W(K)})}et(F,()=>c(a),W=>p(a,W)),g(S,T)},D=S=>{var T=Df(),$=u(T),H=u($),F=u(H);fn(F,{class:"h-5 w-5"});var U=m(H,2),B=u(U),Y=u(B),V=m(B,2);V.__click=[Pf,o];var K=m($,2),W=u(K),ae=u(W),ne=m(ae,2),R=u(ne);R.value=R.__value="";var ee=m(R);ee.value=ee.__value="entree";var de=m(ee);de.value=de.__value="plat";var fe=m(de);fe.value=fe.__value="dessert";var ve=m(W,2),be=u(ve),re=m(be,2);Q(()=>{L(Y,c(o).n),bt(ae,"for",`type-${y}`),bt(ne,"id",`type-${y}`),bt(be,"for",`plates-${y}`),bt(re,"id",`plates-${y}`)}),zr(ne,()=>c(s),te=>p(s,te)),et(re,()=>c(i),te=>p(i,te)),g(S,T)};C(k,S=>{c(o)?S(D,!1):S(P)})}g(n,b),le()}Ne(["keydown","click"]);function $f(n){const e=n-1;return e*e*e+1}function Ri(n,{from:e,to:t},r={}){var{delay:a=0,duration:s=S=>Math.sqrt(S)*120,easing:i=$f}=r,o=getComputedStyle(n),l=o.transform==="none"?"":o.transform,[d,f]=o.transformOrigin.split(" ").map(parseFloat);d/=n.clientWidth,f/=n.clientHeight;var h=Cf(n),v=n.clientWidth/t.width/h,y=n.clientHeight/t.height/h,b=e.left+e.width*d,_=e.top+e.height*f,w=t.left+t.width*d,A=t.top+t.height*f,E=(b-w)*v,k=(_-A)*y,P=e.width/t.width,D=e.height/t.height;return{delay:a,duration:typeof s=="function"?s(Math.sqrt(E*E+k*k)):s,easing:i,css:(S,T)=>{var $=T*E,H=T*k,F=S+T*P,U=S+T*D;return`transform: ${l} translate(${$}px, ${H}px) scale(${F}, ${U});`}}}function Cf(n){if("currentCSSZoom"in n)return n.currentCSSZoom;for(var e=n,t=1;e!==null;)t*=+getComputedStyle(e).zoom,e=e.parentElement;return t}var qf=(n,e,t)=>{(n.key==="Enter"||n.key===" ")&&!e()&&t()},jf=(n,e)=>{e(!1)},Nf=I(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),Lf=(n,e,t)=>{e(!0),t.onEditToggle&&t.onEditToggle()},Uf=I('<button class="btn btn-ghost" title="Éditer"><!></button>'),Hf=I('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Bf=(n,e,t)=>e(c(t).recipeUuid),zf=I('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),Vf=I('<div class="mb-4 space-y-2"></div>'),Qf=I('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Wf=I('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),Gf=I('<div class="flex flex-wrap gap-2"></div>'),Kf=I('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),Jf=I('<div class="space-y-2"><!></div>'),Of=I('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function Yf(n,e){ce(e,!0);let t=ge(e,"meal",15),r=ge(e,"defaultGuests",3,100),a=ge(e,"isEditing",15,!1),s=ge(e,"allDates",19,()=>[]),i=ge(e,"disabled",3,!1),o=q(!1);t().guests||t(t().guests=r(),!0),t().recipes||t(t().recipes=[],!0);let l=X(()=>Fa(t().date||"")),d=q(!1),f=q(Pe(Du(t().date||""))),h=q(Pe(Fa(t().date||""))),v=X(()=>Pu(c(f),c(h)));ut(()=>{const re=!y(c(v)),te=t().date;re?(t(t().date=c(v),!0),p(d,!1),e.onDateChanged&&t().id&&te!==c(v)&&e.onDateChanged(t().id,c(v)),p(d,!1)):p(d,!0)});function y(re){const te=t().date||"";return s().some(he=>he!==te&&he===re)}const b=X(()=>{const re=c(l)||"";return re==="matin"?rd:re==="midi"?fd:Xa}),_=X(()=>{const re={entree:1,plat:2,dessert:3};return[...t().recipes].sort((te,he)=>{const G=re[te.type]||999,J=re[he.type]||999;return G-J})});function w(re,te,he){if(t().recipes.some(M=>M.recipeUuid===re.u))return;const J=he||t().guests,oe={recipeUuid:re.u,plates:J,type:te};t(t().recipes=[...t().recipes,{...oe}],!0)}function A(re){t(t().recipes=t().recipes.filter(te=>te.recipeUuid!==re),!0)}function E(re){return Yt.getRecipeIndexByUuid(re)}function k(){i()||a()&&e.onEditToggle||!a()&&e.onEditToggle&&(e.onEditToggle(),p(o,!0))}ut(()=>{a()&&(p(o,!0),setTimeout(()=>{p(o,!1)},100))});function P(re){return re==="entree"?"bg-lime-100 border-lime-200":re==="plat"?"bg-orange-100 border-orange-200":re==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var D=Of();D.__click=k,D.__keydown=[qf,a,k];var S=u(D),T=u(S),$=u(T),H=u($),F=u(H),U=m(H,2),B=u(U);yn(B,()=>c(b),(re,te)=>{te(re,{size:16})});var Y=m(B,2),V=u(Y),K=m(U,2),W=u(K);pt(W,{class:"h-3 w-3"});var ae=m(W),ne=m($,2),R=u(ne);{var ee=re=>{var te=Nf(),he=z(te);he.__click=[jf,a];var G=m(he,2);G.__click=function(...N){e.onDuplicate?.apply(this,N)};var J=u(G);ad(J,{class:"h-4 w-4"});var oe=m(G,2);oe.__click=function(...N){e.onDelete?.apply(this,N)};var M=u(oe);hd(M,{class:"h-4 w-4"}),Q(()=>{he.disabled=i(),G.disabled=i(),oe.disabled=i()}),g(re,te)},de=re=>{var te=Uf();te.__click=[Lf,a,e];var he=u(te);Ii(he,{class:"h-4 w-4"}),Q(()=>te.disabled=i()),g(re,te)};C(R,re=>{a()?re(ee):re(de,!1)})}var fe=m(T,2);{var ve=re=>{var te=Qf(),he=u(te),G=u(he),J=m(u(G),2),oe=m(J,2);{var M=Te=>{var Ve=Hf();g(Te,Ve)};C(oe,Te=>{c(d)&&Te(M)})}var N=m(G,2),O=m(u(N),2),ie=u(O);ie.value=ie.__value="";var Z=m(ie);Z.value=Z.__value="matin";var ue=m(Z);ue.value=ue.__value="midi";var xe=m(ue);xe.value=xe.__value="soir";var ke=m(N,2),ye=m(u(ke),2),De=m(he,2),qe=u(De),Je=u(qe),ze=u(Je);md(ze,{class:"h-4 w-4"});var nt=m(qe,2);{var rt=Te=>{var Ve=Vf();Ce(Ve,31,()=>c(_),it=>it.recipeUuid,(it,Ue,Rt)=>{const ot=X(()=>E(c(Ue).recipeUuid));var ct=zf(),Tt=u(ct),Oe=u(Tt),He=u(Oe);fn(He,{class:"h-5 w-5"});var Qe=m(Oe,2),lt=u(Qe),er=u(lt),kn=m(Tt,2),$n=u(kn),Cn=u($n);Cn.value=Cn.__value="entree";var qn=m(Cn);qn.value=qn.__value="plat";var tr=m(qn);tr.value=tr.__value="dessert";var fa=m($n,2),Di=u(fa),Tr=m(fa,2);Tr.__click=[Bf,A,Ue];var Mi=u(Tr);bn(Mi,{class:"h-4 w-4"}),Q(jn=>{Le(Oe,1,`${jn??""} rounded-md border-2 p-2`),L(er,c(ot)?.n||"Recette inconnue"),Tr.disabled=i()},[()=>P(c(Ue).type)]),zr($n,()=>c(Ue).type,jn=>c(Ue).type=jn),et(Di,()=>c(Ue).plates,jn=>c(Ue).plates=jn),ri(ct,()=>Ri,()=>({duration:200})),g(it,ct)}),g(Te,Ve)};C(nt,Te=>{t().recipes.length>=1&&Te(rt)})}var At=m(nt,2);kf(At,{onSelect:w,get defaultPlates(){return t().guests},get autoFocus(){return c(o)},get onEmptySubmit(){return e.onEmptySearchSubmit}}),Q(()=>{Le(J,1,`input input-bordered w-full ${c(d)?"input-error":""}`),Le(O,1,`select select-bordered w-full ${c(d)?"select-error":""}`)}),et(J,()=>c(f),Te=>p(f,Te)),zr(O,()=>c(h),Te=>p(h,Te)),et(ye,()=>t().guests,Te=>t(t().guests=Te,!0)),g(re,te)},be=re=>{var te=Jf(),he=u(te);{var G=oe=>{var M=Gf();Ce(M,21,()=>c(_),N=>N.recipeUuid,(N,O)=>{const ie=X(()=>E(c(O).recipeUuid));var Z=Wf(),ue=u(Z);fn(ue,{class:"h-4 w-4"});var xe=m(ue,2),ke=u(xe),ye=m(xe,2),De=u(ye);Q(qe=>{Le(Z,1,`badge badge-lg ${qe??""} h-auto gap-2 py-1 font-medium`),L(ke,c(ie)?.n||"..."),L(De,`${(c(O).plates||t().guests)??""}p`)},[()=>P(c(O).type)]),g(N,Z)}),g(oe,M)},J=oe=>{var M=Kf();g(oe,M)};C(he,oe=>{c(_).length>0?oe(G):oe(J,!1)})}g(re,te)};C(fe,re=>{a()?re(ve):re(be,!1)})}Q((re,te)=>{Le(D,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${a()?"ring-accent/40 ring-2":""} ${a()||i()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"} ${i()?"opacity-75":""}`),bt(D,"tabindex",a()||i()?-1:0),L(F,re),L(V,te),L(ae,` ${t().guests??""} pers.`)},[()=>t().date?en(t().date):"Date non définie",()=>c(l)?c(l).toUpperCase():"REPAS"]),g(n,D),le()}Ne(["click","keydown"]);var Xf=(n,e,t)=>e(c(t).id),Zf=I("<span> </span>"),Ff=I('<button><!> <span class="max-w-32 truncate"> </span> <!> <!></button>'),eh=I('<span class="flex items-center gap-1"><!> </span>'),th=I('<div class="mt-4 flex items-center justify-between text-sm opacity-70"><div class="flex items-center gap-4"><span class="flex items-center gap-1"><!> </span> <!></div> <span> </span></div>'),nh=I('<div class="flex flex-wrap gap-2"></div> <!>',1);function rh(n,e){ce(e,!0);let t=ge(e,"badgeSize",3,"btn-lg"),r=ge(e,"color",3,"primary"),a=ge(e,"badgeStyle",3,""),s=ge(e,"onToggleItem",3,()=>{}),i=ge(e,"showStats",3,!1),o=ge(e,"showIcon",3,!0),l=q(Pe({}));ut(()=>{const w={};e.items.forEach(A=>{w[A.id]=A.selected??!0}),p(l,w,!0)});function d(w){c(l)[w]=!c(l)[w],s()(w)}const f=X(()=>Object.values(c(l)).filter(Boolean).length),h=X(()=>Object.values(c(l)).filter(w=>!w).length);var v=nh(),y=z(v);Ce(y,21,()=>e.items,w=>w.id,(w,A)=>{const E=X(()=>c(l)[c(A).id]);var k=Ff();k.__click=[Xf,d,A];var P=u(k);{var D=B=>{var Y=se(),V=z(Y);yn(V,()=>c(A).icon,(K,W)=>{W(K,{class:"h-3 w-3",get title(){return c(A).title}})}),g(B,Y)};C(P,B=>{c(A).icon&&B(D)})}var S=m(P,2),T=u(S),$=m(S,2);{var H=B=>{var Y=Zf(),V=u(Y);Q(()=>{Le(Y,1,`badge badge-sm badge-${r()??""}`),L(V,c(A).badge)}),g(B,Y)};C($,B=>{c(A).badge&&B(H)})}var F=m($,2);{var U=B=>{var Y=se(),V=z(Y);{var K=ae=>{Wr(ae,{size:16})},W=ae=>{Tn(ae,{size:16})};C(V,ae=>{c(E)?ae(K):ae(W,!1)})}g(B,Y)};C(F,B=>{o()&&B(U)})}Q(()=>{Le(k,1,`btn ${t()??""} btn-${r()??""} flex cursor-pointer items-center gap-2 transition-all duration-200
        ${c(E)?`${a()} hover:line-through `:"btn-dash hover:border-solid "}`),bt(k,"title",c(E)?"Retirer de la liste":"Réajouter à la liste"),L(T,c(A).label)}),g(w,k)});var b=m(y,2);{var _=w=>{var A=th(),E=u(A),k=u(E),P=u(k);Wr(P,{class:"text-success h-3 w-3"});var D=m(P),S=m(k,2);{var T=F=>{var U=eh(),B=u(U);bn(B,{class:"text-error h-3 w-3"});var Y=m(B);Q(()=>L(Y,` ${c(h)??""} retirés`)),g(F,U)};C(S,F=>{c(h)>0&&F(T)})}var $=m(E,2),H=u($);Q(()=>{L(D,` ${c(f)??""} actifs`),L(H,`Total: ${e.items.length??""} items`)}),g(w,A)};C(b,w=>{i()&&w(_)})}g(n,v),le()}Ne(["click"]);const{APPWRITE_CONFIG:ua}=Rr();async function Ti(n){try{const{functions:e}=await Re(),t=await e.createExecution({functionId:ua.functions.usersTeamsManager,body:JSON.stringify({action:"checkEmails",emails:n}),async:!1}),r=JSON.parse(t.responseBody);if(!r.success)throw new Error(r.error||"Erreur lors de la vérification des emails");return r.data}catch(e){throw console.error("[appwrite-functions] Erreur checkUserEmails:",e),e}}async function ah(n,e,t,r){try{const{functions:a}=await Re(),s=await a.createExecution({functionId:ua.functions.usersTeamsManager,body:JSON.stringify({action:"invite",context:{type:"event",id:n,name:e},emails:t,message:r}),async:!1}),i=JSON.parse(s.responseBody);if(!i.success)throw new Error(i.error||"Erreur lors de l'invitation");console.log(`[appwrite-functions] ${i.processed} invitations envoyées pour l'événement ${e}`)}catch(a){throw console.error("[appwrite-functions] Erreur inviteToEvent:",a),a}}async function Pi(n,e,t){try{const{functions:r}=await Re();console.log(`[appwrite-functions] Envoi de la demande d'acceptation pour ${n} ${e}`);const a=await r.createExecution({functionId:ua.functions.usersTeamsManager,body:JSON.stringify({action:"accept-invitation",userId:t,context:{type:n,id:e}}),async:!1});if(console.log("[appwrite-functions] Réponse reçue:",a),!a.responseBody||a.responseBody.trim()==="")throw new Error("Réponse vide de la fonction Appwrite");let s;try{s=JSON.parse(a.responseBody)}catch(i){throw console.error("[appwrite-functions] Erreur de parsing JSON:",i),console.error("[appwrite-functions] Corps de la réponse:",a.responseBody),new Error(`Réponse invalide du serveur: ${i.message}`)}if(!s.success)throw new Error(s.error||"Erreur lors de l'acceptation de l'invitation");return console.log(`[appwrite-functions] Invitation acceptée avec succès pour ${n} ${e}`),s}catch(r){throw console.error("[appwrite-functions] Erreur acceptInvitation:",r),r}}const sh=Object.freeze(Object.defineProperty({__proto__:null,acceptInvitation:Pi,checkUserEmails:Ti,inviteToEvent:ah},Symbol.toStringTag,{value:"Module"}));var ih=I('<div class="badge badge-soft badge-success gap-2 p-3"><span class="font-medium"> </span></div>'),oh=I('<fieldset class="fieldset"><legend class="text-base-content/70 p-1 text-sm font-medium">Participants</legend> <div class="flex flex-wrap gap-2"></div></fieldset>'),ch=I('<div class="badge badge-warning badge-soft gap-2 p-3"><span class="font-medium"> </span></div>'),lh=I('<fieldset class="fieldset"><legend class="text-base-content/70 p-1 text-sm font-medium">Invité·es</legend> <div class="flex flex-wrap gap-2"></div></fieldset>'),dh=I('<p class="text-xs italic opacity-60">Aucun participant enregistré</p>'),uh=(n,e)=>p(e,!0),fh=I('<div class="card bg-base-100 shadow-xl"><div class="card-body p-4"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Participants</h3> <div class="divider my-2"></div> <div class="mb-6"><div class="space-y-3"><!> <!> <!></div></div> <div class="my-2"><button class="btn btn-primary btn-outline btn-block gap-1"><!> Inviter des participant·es</button></div></div></div>'),hh=(n,e)=>n.key==="Enter"&&e(),ph=I('<span class="loading loading-spinner loading-xs"></span>'),vh=I('<p class="text-error mt-1 text-xs"> </p>'),mh=(n,e,t)=>e(c(t).$id),gh=I('<label class="hover:bg-base-200 flex cursor-pointer items-center gap-3 rounded-lg p-2 transition-colors"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span class="text-sm font-medium"> </span></label>'),yh=I('<div class="flex flex-col gap-2"></div>'),bh=I('<p class="text-sm italic opacity-60">Aucune équipe disponible</p>'),wh=I('<p class="text-sm italic opacity-60">Aucun membre disponible à inviter.</p>'),_h=(n,e)=>p(e,!1),Ih=(n,e,t)=>{p(e,!1),t()},Sh=I(`<!> <div><div class="modal-box overflow-auto not-md:h-lvh"><h3 class="mb-4 text-lg font-bold">Inviter des participants</h3> <fieldset class="fieldset mb-6"><legend class="legend">Par email</legend> <div class="flex gap-2"><label class="input input-bordered flex flex-1 items-center gap-2"><!> <input type="email" class="grow" placeholder="email@exemple.com"/></label> <button class="btn btn-primary"><!> Ajouter</button></div> <!> <p class="text-base-content/60 mt-1 text-xs">Recherche automatiquement si l'utilisateur existe déjà.</p></fieldset> <div class="divider">OU</div> <fieldset><legend class="mb-2 text-sm font-medium">Invitez une équipe entière</legend> <!></fieldset> <div class="divider">OU</div> <fieldset><legend class="mb-2 text-sm font-medium">Invitez des membres spécifiques</legend> <!></fieldset> <div class="modal-action"><button class="btn">Annuler</button> <button class="btn btn-primary"><!> </button></div></div></div>`,1);function Eh(n,e){ce(e,!0);let t=ge(e,"selectedTeams",15),r=ge(e,"newContributors",15),a=ge(e,"userId",3,""),s=ge(e,"eventId",3,""),i=ge(e,"openModalRequest",3,!1),o=q(!1);ut(()=>{i()&&p(o,!0)});let l=q(""),d=q(!1),f=q(null),h=X(()=>{const M=[];for(const N of e.teamsStore.teams)if(N.members)for(const O of N.members)O.id!==a()&&!e.contributors.some(ie=>ie.id===O.id)&&M.push({id:O.id,label:O.name,selected:r().some(ie=>ie.id===O.id)});return Array.from(new Map(M.map(N=>[N.id,N])).values())}),v=X(()=>{const M=[...c(h)];for(const N of r())M.some(O=>O.id===N.id)||M.push({id:N.id,label:N.name||N.email||N.id,selected:!0});return M}),y=X(()=>e.contributors.filter(M=>M.status==="accepted")),b=X(()=>e.contributors.filter(M=>M.status==="invited"));function _(M){const N=e.teamsStore.teams.find(O=>O.$id===M);if(N){if(t().includes(M)){if(t(t().filter(O=>O!==M)),N.members){const O=N.members.filter(Z=>!e.teamsStore.teams.some(xe=>xe.$id!==M&&t().includes(xe.$id)&&xe.members?.some(ke=>ke.id===Z.id))),ie=new Set(O.map(Z=>Z.id));r(r().filter(Z=>!ie.has(Z.id)))}}else if(t([...t(),M]),N.members){const ie=N.members.filter(Z=>!(Z.id===a()||e.contributors.some(ue=>ue.id===Z.id)||r().some(ue=>ue.id===Z.id))).map(Z=>({id:Z.id,name:Z.name,status:"invited",invitedAt:new Date().toISOString()}));r([...r(),...ie])}}}function w(M){if(r().findIndex(Z=>Z.id===M)!==-1){r(r().filter(Z=>Z.id!==M));return}let O;for(const Z of e.teamsStore.teams){const ue=Z.members?.find(xe=>xe.id===M);if(ue){O=ue;break}}if(!O)return;const ie={id:O.id,name:O.name,email:O.email,status:"invited",invitedAt:new Date().toISOString()};r([...r(),ie])}async function A(){if(!c(l))return;const M=c(l).trim();if(e.contributors.some(N=>N.email===M)||r().some(N=>N.email===M)){p(f,"Cet email est déjà invité.");return}p(d,!0),p(f,null);try{const O=(await Ti([M]))[M];let ie;O?ie={id:O.id,name:O.name,email:M,status:"invited",invitedAt:new Date().toISOString()}:ie={id:fr(),email:M,status:"invited",invitedAt:new Date().toISOString()},r([...r(),ie]),p(l,"")}catch(N){console.error("Erreur check email:",N),p(f,"Erreur lors de la vérification de l'email.")}finally{p(d,!1)}}async function E(){if(r().length===0){Me.warning("Aucune invitation à envoyer");return}if(!s()){Me.error("ID d'événement manquant");return}try{const M=r().filter(O=>O.email);if(M.length===0){Me.error("Aucun contributeur avec un email valide à inviter");return}const N=M.map(O=>O.email);console.log(`[PermissionsManager] Envoi de ${N.length} invitation(s)`),await Me.track(e.eventsStore.addContributors(s(),N),{loading:"Envoi des invitations en cours...",success:`${N.length} invitation(s) envoyée(s) avec succès`,error:"Erreur lors de l'envoi des invitations"}),r([])}catch(M){console.error("Erreur lors de l'envoi des invitations:",M)}}var k=Sh(),P=z(k);{var D=M=>{var N=fh(),O=u(N),ie=u(O),Z=u(ie);pt(Z,{class:"text-secondary h-5 w-5"});var ue=m(ie,4),xe=u(ue),ke=u(xe);{var ye=Te=>{var Ve=oh(),it=m(u(Ve),2);Ce(it,21,()=>c(y),Ue=>Ue.id,(Ue,Rt)=>{var ot=ih(),ct=u(ot),Tt=u(ct);Q(()=>L(Tt,c(Rt).name||c(Rt).email)),g(Ue,ot)}),g(Te,Ve)};C(ke,Te=>{c(y).length>0&&Te(ye)})}var De=m(ke,2);{var qe=Te=>{var Ve=lh(),it=m(u(Ve),2);Ce(it,21,()=>c(b),Ue=>Ue.id,(Ue,Rt)=>{var ot=ch(),ct=u(ot),Tt=u(ct);Q(()=>L(Tt,c(Rt).name||c(Rt).email)),g(Ue,ot)}),g(Te,Ve)};C(De,Te=>{c(b).length>0&&Te(qe)})}var Je=m(De,2);{var ze=Te=>{var Ve=dh();g(Te,Ve)};C(Je,Te=>{e.contributors.length===0&&Te(ze)})}var nt=m(ue,2),rt=u(nt);rt.__click=[uh,o];var At=u(rt);Gr(At,{class:"mr-2 h-4 w-4"}),g(M,N)};C(P,M=>{s()&&M(D)})}var S=m(P,2),T=u(S),$=m(u(T),2),H=m(u($),2),F=u(H),U=u(F);Jn(U,{class:"h-4 w-4 opacity-70"});var B=m(U,2);B.__keydown=[hh,A];var Y=m(F,2);Y.__click=A;var V=u(Y);{var K=M=>{var N=ph();g(M,N)};C(V,M=>{c(d)&&M(K)})}var W=m(H,2);{var ae=M=>{var N=vh(),O=u(N);Q(()=>L(O,c(f))),g(M,N)};C(W,M=>{c(f)&&M(ae)})}var ne=m($,4),R=m(u(ne),2);{var ee=M=>{var N=yh();Ce(N,21,()=>e.teamsStore.teams,xt,(O,ie)=>{var Z=gh(),ue=u(Z);ue.__change=[mh,_,ie];var xe=m(ue,2),ke=u(xe);Q(ye=>{lc(ue,ye),L(ke,c(ie).name)},[()=>t().includes(c(ie).$id)]),g(O,Z)}),g(M,N)},de=M=>{var N=bh();g(M,N)};C(R,M=>{e.teamsStore.teams.length>0?M(ee):M(de,!1)})}var fe=m(ne,4),ve=m(u(fe),2);{var be=M=>{rh(M,{get items(){return c(v)},onToggleItem:w,badgeSize:"btn-sm",badgeStyle:"btn-soft",showIcon:!0})},re=M=>{var N=wh();g(M,N)};C(ve,M=>{c(v).length>0?M(be):M(re,!1)})}var te=m(fe,2),he=u(te);he.__click=[_h,o];var G=m(he,2);G.__click=[Ih,o,E];var J=u(G);Wr(J,{class:"mr-2 h-4 w-4"});var oe=m(J);Q(()=>{Le(S,1,`modal ${(c(o)&&"modal-open")??""}`),Y.disabled=c(d)||!c(l),G.disabled=r().length===0,L(oe,` Envoyer les invitations (${r().length??""})`)}),et(B,()=>c(l),M=>p(l,M)),g(n,k),le()}Ne(["click","keydown","change"]);function xh(){history.back()}async function Ah(n,e,t,r,a,s,i,o,l,d,f){if(!c(e)){Me.error("Veuillez renseigner le nom de l'événement",{autoCloseDelay:5e3});return}if(c(t).length===0){Me.error("Veuillez ajouter au moins un repas",{autoCloseDelay:5e3});return}if(c(r).length>0){Me.warning(`Il y a ${c(r).length} invitation(s) en attente. Veuillez les envoyer avant de sauvegarder.`,{autoCloseDelay:5e3});return}p(a,!0);try{const h={name:c(e),dateStart:c(s),dateEnd:c(i),allDates:c(o),teams:c(l),contributors:c(d),meals:c(t)};let v;c(f)?v=await Me.track(Ze.updateEvent(c(f),h),{loading:"Mise à jour de l'événement...",success:"Événement mis à jour avec succès",error:"Erreur lors de la mise à jour de l'événement"}):(v=await Me.track(Ze.createEvent(h),{loading:"Création de l'événement...",success:"Événement créé avec succès",error:"Erreur lors de la création de l'événement"}),p(f,v.$id,!0),console.log("eventId:",c(f)))}catch(h){console.error("Erreur lors de la sauvegarde de l'événement:",h),Me.error("Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{p(a,!1),_t(`/eventEdit/${c(f)}`)}}var Rh=I('<span class="loading loading-spinner loading-sm"></span>'),Th=(n,e)=>e(!0),Ph=I(`<div class="alert alert-info"><!> <div><h3 class="font-bold">Invitation à participer</h3> <div class="text-xs">Vous avez été invité à participer à cet événement. Acceptez pour
          pouvoir modifier le menu et les repas.</div></div> <div class="flex gap-2"><button class="btn">Accepter</button></div></div>`),Dh=I(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),Mh=I('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),kh=I("<div><!></div>"),$h=I('<div class="space-y-4"></div>'),Ch=I(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <!></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),qh=I('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!> <!></div>');function ns(n,e){ce(e,!0);let t=q(Pe(e.params?.id)),r=q(""),a=q(Pe([])),s=q(Pe([])),i=q(Pe([])),o=q(Pe([])),l=q(!1),d=q(!1),f=!1,h=q(null);const v=X(()=>{const G=c(o).map(J=>J.date).filter(Boolean);return[...new Set(G)].sort()}),y=X(()=>c(v).length>0?c(v)[0]:""),b=X(()=>c(v).length>0?c(v)[c(v).length-1]:"");ut(()=>{const G=c(t);Rn(()=>{if(G){p(d,!0);const J=Ze.getEventById(G);J?(p(r,J.name||"",!0),p(a,J.teams||[],!0),p(s,J.contributors||[],!0),p(o,(J.meals||[]).sort((oe,M)=>oe.date.localeCompare(M.date)),!0),p(i,[],!0),p(d,!1)):Ze.fetchEvent(G).then(oe=>{oe?(p(r,oe.name||"",!0),p(a,oe.teams||[],!0),p(s,oe.contributors||[],!0),p(o,(oe.meals||[]).sort((M,N)=>M.date.localeCompare(N.date)),!0),p(i,[],!0)):Me.error("Événement introuvable")}).catch(oe=>{console.error("Erreur lors du chargement de l'événement:",oe),Me.error("Erreur lors du chargement de l'événement")}).finally(()=>{p(d,!1)})}else p(r,""),p(a,[],!0),p(o,[],!0),p(s,[],!0),p(i,[],!0)})}),ut(()=>{!c(t)&&pe.userId&&Rn(()=>{c(s).length===0&&p(s,[{id:pe.userId,name:pe.userName(),status:"accepted",invitedAt:new Date().toISOString(),respondedAt:new Date().toISOString()}],!0)})});let _=q(!1),w=q(!1);ut(()=>{const G=c(s).find(J=>J.id===pe.userId);G&&G.status==="accepted"&&p(w,!0),G&&G.status==="invited"&&p(_,!0)});async function A(G){if(!(!c(t)||!pe.userId))try{p(l,!0),G?(await Pi("event",c(t),pe.userId),p(s,c(s).map(J=>J.id===pe.userId?{...J,status:"accepted",respondedAt:new Date().toISOString()}:J),!0),Me.success("Vous avez accepté l'invitation")):(await Ze.updateContributorStatus(c(t),pe.userId,"declined"),p(s,c(s).map(J=>J.id===pe.userId?{...J,status:"declined",respondedAt:new Date().toISOString()}:J),!0),Me.success("Vous avez décliné l'invitation"))}catch(J){console.error("Erreur lors de la réponse à l'invitation:",J),Me.error("Erreur lors de la réponse à l'invitation")}finally{p(l,!1)}}function E(){const G=fr(6);let J;if(c(v).length===0){const M=new Date;M.setHours(12,0,0,0),J=M.toISOString()}else{const M=c(v)[c(v).length-1],N=new Date(M);N.getHours()<14?N.setHours(20,0,0,0):(N.setDate(N.getDate()+1),N.setHours(12,0,0,0)),J=N.toISOString()}if(c(o).some(M=>M.date===J)){Me.error("Un repas existe déjà à cette date et heure");return}const oe={id:G,date:J,guests:100,recipes:[]};p(o,[...c(o),oe].sort((M,N)=>M.date.localeCompare(N.date)),!0),p(h,G,!0)}function k(G){p(o,c(o).filter(J=>J.id!==G),!0)}function P(G){}function D(G){p(h,c(h)===G?null:G,!0)}function S(G){const J=c(o).findIndex(oe=>oe.id===G);if(J<c(o).length-1){const oe=c(o)[J+1];oe.id||(oe.id=fr(6)),p(h,oe.id,!0)}else E()}function T(G,J){p(o,c(o).sort((oe,M)=>oe.date.localeCompare(M.date)),!0)}var $=qh(),H=u($),F=u(H),U=u(F);U.__click=[xh];var B=u(U);Xl(B,{class:"h-6 w-6"});var Y=m(U,2),V=u(Y),K=u(V),W=m(V,2),ae=u(W),ne=m(F,2);ne.__click=[Ah,r,o,i,l,y,b,v,a,s,t];var R=u(ne);{var ee=G=>{var J=Rh();g(G,J)},de=G=>{ld(G,{class:"mr-2 h-4 w-4"})};C(R,G=>{c(l)?G(ee):G(de,!1)})}var fe=m(R),ve=m(H,2);{var be=G=>{var J=Ph(),oe=u(J);la(oe,{class:"h-6 w-6 shrink-0"});var M=m(oe,4),N=u(M);N.__click=[Th,A],Q(()=>N.disabled=c(l)),g(G,J)};C(ve,G=>{c(_)&&G(be)})}var re=m(ve,2);{var te=G=>{var J=Dh();g(G,J)},he=G=>{var J=Ch(),oe=u(J),M=u(oe),N=u(M),O=u(N),ie=u(O);It(ie,{class:"text-primary h-5 w-5"});var Z=m(O,2),ue=u(Z),xe=u(ue),ke=u(xe);It(ke,{class:"h-4 w-4 opacity-50"});var ye=m(ke,2),De=m(M,2);{let Oe=X(()=>pe.userId||""),He=X(()=>pe.userTeams||[]);Eh(De,{get teamsStore(){return je},get eventsStore(){return Ze},get userId(){return c(Oe)},get userTeams(){return c(He)},get eventId(){return c(t)},openModalRequest:f,get selectedTeams(){return c(a)},set selectedTeams(Qe){p(a,Qe,!0)},get contributors(){return c(s)},set contributors(Qe){p(s,Qe,!0)},get newContributors(){return c(i)},set newContributors(Qe){p(i,Qe,!0)}})}var qe=m(oe,2),Je=u(qe),ze=u(Je),nt=u(ze),rt=u(nt),At=u(rt),Te=m(rt,2);Te.__click=E;var Ve=u(Te);Tn(Ve,{class:"mr-1 h-4 w-4"});var it=m(nt,2);{var Ue=Oe=>{var He=Mh(),Qe=u(He),lt=u(Qe);It(lt,{class:"h-8 w-8 opacity-50"}),g(Oe,He)},Rt=Oe=>{var He=$h();Ce(He,31,()=>c(o),Qe=>Qe.id,(Qe,lt,er)=>{var kn=kh(),$n=u(kn);{let Cn=X(()=>c(h)===c(lt).id),qn=X(()=>!c(w));Yf($n,{get isEditing(){return c(Cn)},onEditToggle:()=>c(lt).id&&D(c(lt).id),onDelete:()=>c(lt).id&&k(c(lt).id),onDuplicate:()=>c(lt).id&&(c(lt).id,void 0),get allDates(){return c(v)},onEmptySearchSubmit:()=>c(lt).id&&S(c(lt).id),onDateChanged:T,get disabled(){return c(qn)},get meal(){return c(o)[c(er)]},set meal(tr){c(o)[c(er)]=tr}})}ri(kn,()=>Ri,()=>({delay:100,duration:400})),g(Qe,kn)}),g(Oe,He)};C(it,Oe=>{c(o).length===0?Oe(Ue):Oe(Rt,!1)})}var ot=m(it,2),ct=u(ot);ct.__click=E;var Tt=u(ct);Tn(Tt,{class:"mr-1 h-4 w-4"}),Q(()=>{L(At,`Repas & Menus (${c(o).length??""})`),Te.disabled=!c(w),ct.disabled=!c(w)}),et(ye,()=>c(r),Oe=>p(r,Oe)),g(G,J)};C(re,G=>{c(d)?G(te):G(he,!1)})}Q(()=>{L(K,`${c(t)?"Éditer":"Nouvel"} Événement`),L(ae,c(t)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),ne.disabled=c(l)||c(d)||!c(w),L(fe,` ${c(t)?"Enregistrer":"Créer l'événement"}`)}),g(n,$),le()}Ne(["click"]);async function jh(n,e,t,r){if(c(e).length<8){alert("Le mot de passe doit faire au moins 8 caractères.");return}p(t,!0);try{const{client:a,account:s}=await Re();await s.updatePassword({password:c(e)}),c(r)&&await s.updateName({name:c(r)}),console.log("[AcceptInvite] Session créée, redirection..."),_t("/dashboard")}catch(a){console.error("[AcceptInvite] Erreur finalisation:",a),alert("Erreur : "+a.message),p(t,!1)}}var Nh=I(`<span class="loading loading-spinner loading-lg text-primary mx-auto"></span> <p class="text-base-content/70 mt-4">Vérification de l'invitation...</p>`,1),Lh=()=>_t("/"),Uh=I(`<!> <h2 class="text-error text-xl font-bold">Oups !</h2> <p class="py-4"> </p> <button class="btn btn-ghost">Retour à l'accueil</button>`,1),Hh=I('<span class="loading loading-spinner loading-xs"></span>'),Bh=I(`<div class="mb-2 text-4xl">👋</div> <h2 class="card-title justify-center text-2xl">Bienvenue !</h2> <p class="text-base-content/70 mb-6 text-sm">Votre invitation est validée. <br/> Veuillez définir un mot de passe.</p> <label class="w-full text-left"><div class="label"><span class="label-text">Votre Pseudo / Nom</span></div> <input type="text" class="input w-full" placeholder="Ex: Chef Gusto"/></label> <label class="mt-3 w-full text-left"><div class="label"><span class="label-text">Nouveau mot de passe</span></div> <input type="password" placeholder="Minimum 8 caractères" class="input w-full"/></label> <div class="card-actions mt-6"><button class="btn btn-primary w-full"><!> Terminer l'inscription</button></div>`,1),zh=I('<div class="bg-base-200 flex min-h-screen items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body text-center"><!></div></div></div>');function Vh(n,e){ce(e,!0);let t=q(!0),r=q("verifying"),a=q(""),s=q(""),i=q(""),o="",l="",d="";sa(async()=>{if(o=qr("userId")||"",l=qr("secret")||"",d=qr("teamId")||"",!o||!l){p(r,"error"),p(a,"Lien d'invitation incomplet ou invalide."),p(t,!1);return}try{console.log("[AcceptInvite] Initialisation avec Secret...");const{client:w,account:A}=await Re(),{token:E}=await gl(d,o,l);console.log("[AcceptInvite] Token frais reçu, création session..."),await A.createSession({userId:o,secret:E});const k=await A.get();console.log("[AcceptInvite] Connecté en tant que :",k.name),p(i,k.name,!0),k.passwordUpdate,p(r,"set-password")}catch(w){console.error("[AcceptInvite] Erreur validation:",w),p(r,"error"),p(a,"Ce lien d'invitation a expiré ou est invalide.")}finally{p(t,!1)}});var f=zh(),h=u(f),v=u(h),y=u(v);{var b=w=>{var A=Nh();g(w,A)},_=w=>{var A=se(),E=z(A);{var k=D=>{var S=Uh(),T=z(S);hr(T,{class:"text-error mb-2 size-7"});var $=m(T,4),H=u($),F=m($,2);F.__click=[Lh],Q(()=>L(H,c(a))),g(D,S)},P=D=>{var S=se(),T=z(S);{var $=H=>{var F=Bh(),U=m(z(F),6),B=m(u(U),2),Y=m(U,2),V=m(u(Y),2),K=m(Y,2),W=u(K);W.__click=[jh,s,t,i];var ae=u(W);{var ne=R=>{var ee=Hh();g(R,ee)};C(ae,R=>{c(t)&&R(ne)})}Q(()=>W.disabled=c(t)),et(B,()=>c(i),R=>p(i,R)),et(V,()=>c(s),R=>p(s,R)),g(H,F)};C(T,H=>{c(r)==="set-password"&&H($)},!0)}g(D,S)};C(E,D=>{c(r)==="error"?D(k):D(P,!1)},!0)}g(w,A)};C(y,w=>{c(t)&&c(r)!=="set-password"?w(b):w(_,!1)})}g(n,f),le()}Ne(["click"]);var Qh=(n,e)=>e.onClick(e.team.$id),Wh=(n,e)=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e.onClick(e.team.$id))},Gh=I("<div><!> </div>"),Kh=I('<p class="text-base-content/70 mb-2 line-clamp-2 text-sm"> </p>'),Jh=(n,e)=>{n.stopPropagation(),e()},Oh=(n,e)=>{n.stopPropagation(),e()},Yh=I(`<div class="card border-info bg-info/10 flex flex-col gap-2 border-2 p-2"><p class="text-center">Vous avez été invité à rejoindre l'équipe !</p> <div class="flex justify-center gap-4"><button class="btn btn-ghost btn-sm">Décliner</button> <button class="btn btn-primary btn-sm">Accepter l'invitation</button></div></div>`),Xh=I('<div class="badge badge-warning badge-sm gap-1"> </div>'),Zh=I('<div class="card bg-base-100 border-base-200 hover:border-primary/50 group cursor-pointer border text-left shadow-xl transition-all hover:shadow-2xl" role="button" tabindex="0"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <!> <!> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Gérer <!></span></div></div></div>');function Fh(n,e){ce(e,!0);const t=X(()=>{const V=pe.userId;return V&&e.team.members.find(W=>W.id===V)?.role||null}),r=X(()=>c(t)==="owner"?_i:c(t)==="admin"?Ei:null),a=X(()=>c(t)==="owner"?"badge-primary":c(t)==="admin"?"badge-secondary":"badge-ghost"),s=X(()=>e.team.invited?.length||0),i=X(()=>e.team.invited.find(V=>V.id===pe.userId)!==void 0);async function o(){await je.declineTeamInvitation(e.teamId)}async function l(){await je.acceptTeamInvitation(e.teamId)}var d=Zh();d.__click=[Qh,e],d.__keydown=[Wh,e];var f=u(d),h=u(f),v=u(h),y=u(v),b=m(v,2);{var _=V=>{var K=Gh(),W=u(K);{var ae=R=>{var ee=se(),de=z(ee);yn(de,()=>c(r),(fe,ve)=>{ve(fe,{class:"h-3 w-3"})}),g(R,ee)};C(W,R=>{c(r)&&R(ae)})}var ne=m(W);Q(()=>{Le(K,1,`badge ${c(a)??""} gap-1`),L(ne,` ${c(t)??""}`)}),g(V,K)};C(b,V=>{c(t)&&V(_)})}var w=m(h,2);{var A=V=>{var K=Kh(),W=u(K);Q(()=>L(W,e.team.description)),g(V,K)};C(w,V=>{e.team.description&&V(A)})}var E=m(w,2);{var k=V=>{var K=Yh(),W=m(u(K),2),ae=u(W);ae.__click=[Jh,o];var ne=m(ae,2);ne.__click=[Oh,l],g(V,K)};C(E,V=>{c(i)&&V(k)})}var P=m(E,2),D=u(P),S=u(D);pt(S,{class:"h-4 w-4"});var T=m(S,2),$=u(T),H=m(D,2);{var F=V=>{var K=Xh(),W=u(K);Q(()=>L(W,`${c(s)??""} invitation${c(s)>1?"s":""}`)),g(V,K)};C(H,V=>{c(t)&&c(s)>0&&V(F)})}var U=m(P,2),B=u(U),Y=m(u(B));Fl(Y,{class:"h-4 w-4"}),Q(()=>{L(y,e.team.name),L($,`${e.team.members.length??""} membre${e.team.members.length>1?"s":""}`)}),g(n,d),le()}Ne(["click","keydown"]);function rs(n,e,t){e(),t.onClose()}function ep(n,e,t){n.key==="Enter"&&c(e)==="create"&&(n.preventDefault(),t())}var tp=I('<div class="alert alert-error"><span class="text-sm"> </span></div>'),np=I('<span class="loading loading-spinner loading-sm"></span>'),rp=I(`<div class="space-y-4"><div><label class="label"><span class="label-text">Nom de l'équipe *</span></label> <input type="text" class="input input-bordered w-full" placeholder="Ex: Équipe Marketing" maxlength="50"/> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <div><label class="label"><span class="label-text">Description (optionnel)</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Décrivez l'objectif de cette équipe..." rows="3" maxlength="200"></textarea> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <!></div> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!> Créer l'équipe</button></div>`,1),ap=I('<div class="mb-4"><div class="alert alert-success"><span> </span></div></div> <!> <div class="modal-action"><button class="btn btn-ghost">Passer cette étape</button></div>',1),sp=I('<div><div class="modal-box max-w-2xl"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-bold"> </h3> <button class="btn btn-circle btn-ghost btn-sm" aria-label="Fermer"><!></button></div> <!></div></div>');function ip(n,e){ce(e,!0);let t=q(""),r=q(""),a=q(!1),s=q(null),i=q("create"),o=q(null);function l(){p(t,""),p(r,""),p(s,null),p(i,"create"),p(o,null)}async function d(){if(!c(t).trim()){p(s,"Le nom de l'équipe est requis");return}p(a,!0),p(s,null);try{const D=await je.createTeam(c(t).trim(),c(r).trim()||void 0);p(o,D.$id,!0),p(i,"invite")}catch(D){p(s,D.message||"Erreur lors de la création de l'équipe",!0),console.error("[CreateTeamModal] Erreur:",D)}finally{p(a,!1)}}function f(){c(o)&&e.onSuccess?.(c(o)),l(),e.onClose()}var h=sp(),v=u(h),y=u(v),b=u(y),_=u(b),w=m(b,2);w.__click=[rs,l,e];var A=u(w);bn(A,{class:"h-4 w-4"});var E=m(y,2);{var k=D=>{var S=rp(),T=z(S),$=u(T),H=m(u($),2);H.__keydown=[ep,i,d],Ts(H,!0);var F=m(H,2),U=u(F),B=u(U),Y=m($,2),V=m(u(Y),2),K=m(V,2),W=u(K),ae=u(W),ne=m(Y,2);{var R=te=>{var he=tp(),G=u(he),J=u(G);Q(()=>L(J,c(s))),g(te,he)};C(ne,te=>{c(s)&&te(R)})}var ee=m(T,2),de=u(ee);de.__click=[rs,l,e];var fe=m(de,2);fe.__click=d;var ve=u(fe);{var be=te=>{var he=np();g(te,he)},re=te=>{Tn(te,{class:"h-5 w-5"})};C(ve,te=>{c(a)?te(be):te(re,!1)})}Q(te=>{H.disabled=c(a),L(B,`${c(t).length??""}/50 caractères`),V.disabled=c(a),L(ae,`${c(r).length??""}/200 caractères`),de.disabled=c(a),fe.disabled=te},[()=>c(a)||!c(t).trim()]),et(H,()=>c(t),te=>p(t,te)),et(V,()=>c(r),te=>p(r,te)),g(D,S)},P=D=>{var S=se(),T=z(S);{var $=H=>{const F=X(()=>je.getTeamById(c(o)));var U=se(),B=z(U);{var Y=V=>{var K=ap(),W=z(K),ae=u(W),ne=u(ae),R=u(ne),ee=m(W,2);xi(ee,{get team(){return c(F)},onSuccess:f});var de=m(ee,2),fe=u(de);fe.__click=f,Q(()=>L(R,`Équipe "${c(F).name??""}" créée avec succès !`)),g(V,K)};C(B,V=>{c(F)&&V(Y)})}g(H,U)};C(T,H=>{c(i)==="invite"&&c(o)&&H($)},!0)}g(D,S)};C(E,D=>{c(i)==="create"?D(k):D(P,!1)})}Q(()=>{Le(h,1,`modal ${(e.isOpen&&"modal-open")??""}`),L(_,c(i)==="create"?"Créer une équipe":"Inviter des membres")}),g(n,h),le()}Ne(["click","keydown"]);function as(n,e){p(e,!0)}var op=I('<div class="alert alert-warning"><span>Vous devez être connecté pour voir vos équipes</span></div>'),cp=I('<div class="flex items-center justify-center py-20"><!></div>'),lp=I('<div class="alert alert-error shadow-lg"><span> </span></div>'),dp=I(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucune équipe</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé ou rejoint d'équipe.</p> <button class="btn btn-primary btn-sm">Créer ma première équipe</button></div>`),up=I('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),fp=I('<div class="mx-auto max-w-7xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Équipes</h1></div> <button class="btn btn-primary"><!> Créer une équipe</button></div> <!></div> <!> <!>',1);function hp(n,e){ce(e,!0);let t=q(!1),r=q(null);function a(E){p(r,E,!0)}function s(){p(r,null)}function i(){p(t,!1)}function o(E){i(),a(E)}var l=fp(),d=z(l),f=u(d),h=m(u(f),2);h.__click=[as,t];var v=u(h);Tn(v,{class:"ml-2 h-5 w-5"});var y=m(f,2);{var b=E=>{var k=op();g(E,k)},_=E=>{var k=se(),P=z(k);{var D=T=>{var $=cp(),H=u($);da(H,{class:"text-primary h-8 w-8 animate-spin"}),g(T,$)},S=T=>{var $=se(),H=z($);{var F=B=>{var Y=lp(),V=u(Y),K=u(V);Q(()=>L(K,je.error)),g(B,Y)},U=B=>{var Y=se(),V=z(Y);{var K=ae=>{var ne=dp(),R=u(ne),ee=u(R);pt(ee,{class:"h-8 w-8 opacity-50"});var de=m(R,6);de.__click=[as,t],g(ae,ne)},W=ae=>{var ne=up();Ce(ne,21,()=>je.teams,R=>R.$id,(R,ee)=>{Fh(R,{get team(){return c(ee)},get teamId(){return c(ee).$id},onClick:de=>a(de)})}),g(ae,ne)};C(V,ae=>{je.count===0?ae(K):ae(W,!1)},!0)}g(B,Y)};C(H,B=>{je.error?B(F):B(U,!1)},!0)}g(T,$)};C(P,T=>{je.loading&&je.count===0?T(D):T(S,!1)},!0)}g(E,k)};C(y,E=>{pe.isAuthenticated?E(_,!1):E(b)})}var w=m(d,2);ip(w,{get isOpen(){return c(t)},onClose:i,onSuccess:o});var A=m(w,2);Ai(A,{get teamId(){return c(r)},onClose:s}),g(n,l),le()}Ne(["click"]);var pp=I('<p class="text-base-content/60 text-lg"> </p>'),vp=I('<div class="mb-6"><h1 class="mb-2 flex items-center gap-3 text-4xl font-bold"><!> </h1> <!></div>');function mp(n,e){var t=vp(),r=u(t),a=u(r);fn(a,{class:"text-primary h-10 w-10"});var s=m(a),i=m(r,2);{var o=l=>{var d=pp(),f=u(d);Q(()=>L(f,`une recette de ${e.author??""}`)),g(l,d)};C(i,l=>{e.author&&l(o)})}Q(()=>L(s,` ${e.title??""}`)),g(n,t)}var gp=I('<span class="badge badge-warning">Servir Chaud</span>'),yp=I('<span class="badge badge-info">Servir Froid</span>'),bp=I('<span class="badge badge-warning">Avec Cuisson</span>'),wp=I('<span class="badge badge-info">Sans Cuisson</span>'),_p=I('<span class="badge badge-success"> </span>'),Ip=I('<span class="badge badge-neutral"> </span>'),Sp=I('<div class="flex flex-wrap items-center gap-2 text-sm"><!> <!> <!> <!></div>');function Ep(n,e){let t=ge(e,"regimes",19,()=>[]),r=ge(e,"materiel",19,()=>[]);const a=X(()=>e.cuisson==="Oui"||e.cuisson===!0||e.cuisson==="true");var s=Sp(),i=u(s);{var o=v=>{var y=se(),b=z(y);{var _=A=>{var E=gp();g(A,E)},w=A=>{var E=yp();g(A,E)};C(b,A=>{e.temperature==="Chaud"?A(_):A(w,!1)})}g(v,y)};C(i,v=>{e.temperature&&v(o)})}var l=m(i,2);{var d=v=>{var y=se(),b=z(y);{var _=A=>{var E=bp();g(A,E)},w=A=>{var E=wp();g(A,E)};C(b,A=>{c(a)?A(_):A(w,!1)})}g(v,y)};C(l,v=>{e.cuisson!==void 0&&v(d)})}var f=m(l,2);Ce(f,17,t,xt,(v,y)=>{var b=_p(),_=u(b);Q(()=>L(_,c(y))),g(v,b)});var h=m(f,2);Ce(h,17,r,xt,(v,y)=>{var b=Ip(),_=u(b);Q(()=>L(_,c(y))),g(v,b)}),g(n,s)}function xp(n,e){const t=n.target,r=parseInt(t.value);!isNaN(r)&&r>0&&e.onServingsChange(r)}var Ap=I('<p class="text-base-content/60 mt-2 text-sm"> </p>'),Rp=I('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body p-4"><div class="flex items-center gap-4"><label for="servings-input" class="flex items-center gap-2 font-medium"><!> Nombre de couverts à servir :</label> <input id="servings-input" type="number" min="1" class="input input-bordered input-primary w-24"/></div> <!></div></div>');function Tp(n,e){ce(e,!0);var t=Rp(),r=u(t),a=u(r),s=u(a),i=u(s);pt(i,{class:"h-5 w-5"});var o=m(s,2);o.__input=[xp,e];var l=m(a,2);{var d=f=>{var h=Ap(),v=u(h);Q(()=>L(v,`Quantités ajustées pour ${e.currentServings??""} couverts (recette originale :
        ${e.defaultServings??""} couverts)`)),g(f,h)};C(l,f=>{e.currentServings!==e.defaultServings&&f(d)})}Q(()=>cc(o,e.currentServings)),g(n,t),le()}Ne(["input"]);function Pp(n,e){return e==="gr."?n>=1e3?{quantity:n/1e3,unit:"Kg"}:{quantity:n,unit:"gr."}:e==="ml"?n>=1e3?{quantity:n/1e3,unit:"l."}:{quantity:n,unit:"ml"}:{quantity:n,unit:e}}function Dp(n,e){switch(e){case"l.":case"Kg":return Math.round(n*100)/100;case"ml":case"gr.":return Math.round(n);default:return Math.round(n*10)/10}}function Mp(n,e,t){const r=n*t,{quantity:a,unit:s}=Pp(r,e),i=Dp(a,s);return{quantity:a,unit:s,formatted:i}}var kp=I('<h4 class="text-base-content/80 mb-2 font-semibold capitalize"> </h4>'),$p=I('<span class="tooltip"><!></span>'),Cp=I('<div class="text-base-content/60 text-sm"> </div>'),qp=I('<li class="flex flex-wrap items-start gap-2"><div class="flex-1"><span class="font-medium"> </span> <!> <span class="text-primary min-w-[80px]"><span class="amount"> </span> <span class="unit ml-1"> </span></span></div> <!></li>'),jp=I('<div class="border-base-200 rounded-xl border p-2"><!> <ul class="space-y-2"></ul></div>'),Np=I('<div class="space-y-6"><!> <div class="text-base-content/60 flex items-center gap-1 text-sm"><!> <span>→ Allergènes</span></div></div>');function Lp(n,e){ce(e,!0);const t=X(()=>e.servings/e.defaultServings),r=X(()=>()=>{const d=new Map;return e.ingredients.forEach(f=>{const h=f.type||"Autres";d.has(h)||d.set(h,[]),d.get(h).push(f)}),d});function a(d){const f=Mp(d.normalizedQuantity,d.normalizedUnit,c(t));return{...d,displayQuantity:f.formatted,displayUnit:f.unit}}var s=Np(),i=u(s);Ce(i,17,()=>[...c(r)()],xt,(d,f)=>{var h=X(()=>cs(c(f),2));let v=()=>c(h)[0],y=()=>c(h)[1];var b=jp(),_=u(b);{var w=E=>{var k=kp(),P=u(k);Q(()=>L(P,v())),g(E,k)};C(_,E=>{v()!=="Autres"&&E(w)})}var A=m(_,2);Ce(A,21,y,xt,(E,k)=>{const P=X(()=>a(c(k)));var D=qp(),S=u(D),T=u(S),$=u(T),H=m(T,2);{var F=ne=>{var R=$p(),ee=u(R);{let de=X(()=>c(k).allergens.join(", "));hr(ee,{class:"text-warning ml-1 inline h-4 w-4",get"data-tooltip"(){return`Allergène: ${c(de)??""}`}})}g(ne,R)};C(H,ne=>{c(k).allergens&&c(k).allergens.length>0&&ne(F)})}var U=m(H,2),B=u(U),Y=u(B),V=m(B,2),K=u(V),W=m(S,2);{var ae=ne=>{var R=Cp(),ee=u(R);Q(()=>L(ee,`(${c(k).comment??""})`)),g(ne,R)};C(W,ne=>{c(k).comment&&ne(ae)})}Q(()=>{L($,`${c(k).name??""} :`),L(Y,c(P).displayQuantity),L(K,c(P).displayUnit)}),g(E,D)}),g(d,b)});var o=m(i,2),l=u(o);hr(l,{class:"h-4 w-4"}),g(n,s),le()}var Up=I(`<div class="alert alert-warning"><div><h5 class="font-bold">A prévoir à l'avance !</h5> <div class="prose prose-sm max-w-none"><!></div></div></div>`),Hp=I('<div class="card bg-base-200"><div class="card-body p-4"><div class="flex items-start gap-2"><!> <div><div class="text-sm font-semibold">Astuce :</div> <div class="text-sm"> </div></div></div></div></div>'),Bp=I('<div class="space-y-2"></div>'),zp=I('<div class="space-y-4"><!> <div class="prose max-w-none"><!></div> <!></div>');function Vp(n,e){ce(e,!0);let t=ge(e,"astuces",19,()=>[]);var r=zp(),a=u(r);{var s=f=>{var h=Up(),v=u(h),y=m(u(v),2),b=u(y);Ea(b,()=>e.preparation24h),g(f,h)};C(a,f=>{e.preparation24h&&f(s)})}var i=m(a,2),o=u(i);Ea(o,()=>e.preparation);var l=m(i,2);{var d=f=>{var h=Bp();Ce(h,21,t,xt,(v,y)=>{let b=()=>c(y).astuce;var _=Hp(),w=u(_),A=u(w),E=u(A);id(E,{class:"text-warning mt-0.5 h-5 w-5 flex-shrink-0"});var k=m(E,2),P=m(u(k),2),D=u(P);Q(()=>L(D,b())),g(v,_)}),g(f,h)};C(l,f=>{t().length>0&&f(d)})}g(n,r),le()}var Qp=I('<div class="text-base-content/70 text-sm"> <!></div>'),Wp=I(`<div class="alert alert-error shadow-sm"><!> <div class="text-sm">Les auteur·ices de la recette ne l'ont <strong>pas testé</strong> </div></div>`);function Gp(n,e){let t=ge(e,"isChecked",3,!1);var r=se(),a=z(r);{var s=o=>{var l=Qp(),d=u(l),f=m(d);{var h=v=>{var y=Ks();Q(()=>L(y,`et pour ${e.checkedFor??""} couverts`)),g(v,y)};C(f,v=>{e.checkedFor&&v(h)})}Q(()=>L(d,`Cette recette a été testée pour ${e.defaultServings??""} couverts `)),g(o,l)},i=o=>{var l=Wp(),d=u(l);la(d,{class:"h-5 w-5"});var f=m(d,2),h=m(u(f),2);Q(()=>L(h,` pour le
      nombre de couverts indiqué par défaut (${e.defaultServings??""}).`)),g(o,l)};C(a,o=>{t()?o(s):o(i,!1)})}g(n,r)}var Kp=(n,e,t)=>e(t()),Jp=I('<li><button class="link link-primary"> </button></li>'),Op=I('<div class="card bg-base-200"><div class="card-body p-4"><h4 class="card-title text-base">Préparation(s) alternative(s) :</h4> <ul class="space-y-1"></ul></div></div>');function Yp(n,e){ce(e,!0);let t=ge(e,"alternatives",19,()=>[]);function r(l){return e.recipesIndex.get(l)?.n||"Recette inconnue"}function a(l){_t(`/recipe/${l}`)}var s=se(),i=z(s);{var o=l=>{var d=Op(),f=u(d),h=m(u(f),2);Ce(h,21,t,xt,(v,y)=>{let b=()=>c(y).recetteAlt;var _=Jp(),w=u(_);w.__click=[Kp,a,b];var A=u(w);Q(E=>L(A,E),[()=>r(b())]),g(v,_)}),g(l,d)};C(i,l=>{t().length>0&&l(o)})}g(n,s),le()}Ne(["click"]);var Xp=I('<div class="flex items-center justify-center py-20"><div class="loading loading-spinner loading-lg"></div></div>'),Zp=I('<div class="alert alert-error"><div><h3 class="font-bold">Erreur</h3> <div> </div></div></div>'),Fp=I('<div class="mb-6"><p class="text-base-content/70 text-center italic"> </p></div>'),ev=I('<div class="mb-6"><!></div>'),tv=I('<div class="mt-8"><!></div>'),nv=I('<span class="mr-4"> </span>'),rv=I('<!> <div class="mb-6"><!></div> <!> <div class="mb-6"><!></div> <!> <div class="mt-8 grid grid-cols-1 gap-8 lg:grid-cols-3"><div class="lg:col-span-1"><div class="sticky top-4"><h2 class="mb-4 flex items-center gap-2 text-2xl font-bold"><!> Ingrédients</h2> <!></div></div> <div class="lg:col-span-2"><h2 class="mb-4 flex items-center gap-2 text-2xl font-bold"><!> Préparation</h2> <!> <!></div></div> <div class="text-base-content/60 mt-8 text-right text-sm"><!></div>',1),av=I('<div class="container mx-auto max-w-6xl px-4 py-8"><!></div>');function sv(n,e){ce(e,!0);let t=q(!0),r=q(null),a=q(null),s=q(null),i=q(4);async function o(b){p(t,!0),p(r,null);try{const _=Yt.getRecipeIndexByUuid(b);if(!_){p(r,"Recette non trouvée");return}p(a,_,!0);const w=await Yt.getRecipeByUuid(b);if(!w){p(r,"Impossible de charger les détails de la recette");return}p(s,w,!0),p(i,w.plate,!0)}catch(_){console.error("Erreur lors du chargement de la recette:",_),p(r,_ instanceof Error?_.message:"Erreur lors du chargement",!0)}finally{p(t,!1)}}sa(()=>{e.params?.uuid?o(e.params.uuid):(p(r,"UUID de recette manquant"),p(t,!1))});function l(b){p(i,b,!0)}const d=X(()=>{const b=new Map;return Yt.recipesIndex.forEach(_=>{b.set(_.u,{n:_.n})}),b});var f=av(),h=u(f);{var v=b=>{var _=Xp();g(b,_)},y=b=>{var _=se(),w=z(_);{var A=k=>{var P=Zp(),D=u(P),S=m(u(D),2),T=u(S);Q(()=>L(T,c(r))),g(k,P)},E=k=>{var P=se(),D=z(P);{var S=T=>{var $=rv(),H=z($);mp(H,{get title(){return c(s).title},get author(){return c(a).pd}});var F=m(H,2),U=u(F);Ep(U,{get temperature(){return c(a).te},get cuisson(){return c(a).cu},get regimes(){return c(a).r},get materiel(){return c(s).materiel}});var B=m(F,2);{var Y=O=>{var ie=Fp(),Z=u(ie),ue=u(Z);Q(()=>L(ue,c(a).q)),g(O,ie)};C(B,O=>{c(a).q&&O(Y)})}var V=m(B,2),K=u(V);Tp(K,{get defaultServings(){return c(s).plate},get currentServings(){return c(i)},onServingsChange:l});var W=m(V,2);{var ae=O=>{var ie=ev(),Z=u(ie);Gp(Z,{get isChecked(){return c(a).ch},get defaultServings(){return c(s).plate}}),g(O,ie)};C(W,O=>{c(a).ch!==void 0&&O(ae)})}var ne=m(W,2),R=u(ne),ee=u(R),de=u(ee),fe=u(de);vd(fe,{class:"h-6 w-6"});var ve=m(de,2);Lp(ve,{get ingredients(){return c(s).ingredients},get servings(){return c(i)},get defaultServings(){return c(s).plate}});var be=m(R,2),re=u(be),te=u(re);fn(te,{class:"h-6 w-6"});var he=m(re,2);Vp(he,{get preparation(){return c(s).preparation},get preparation24h(){return c(s).preparation24h},get astuces(){return c(s).astuces}});var G=m(he,2);{var J=O=>{var ie=tv(),Z=u(ie);Yp(Z,{get alternatives(){return c(s).prepAlt},get recipesIndex(){return c(d)}}),g(O,ie)};C(G,O=>{c(s).prepAlt&&c(s).prepAlt.length>0&&O(J)})}var oe=m(ne,2),M=u(oe);{var N=O=>{var ie=nv(),Z=u(ie);Q(()=>L(Z,`Publié le : ${c(a).pd??""}`)),g(O,ie)};C(M,O=>{c(a).pd&&O(N)})}g(T,$)};C(D,T=>{c(a)&&c(s)&&T(S)},!0)}g(k,P)};C(w,k=>{c(r)?k(A):k(E,!1)},!0)}g(b,_)};C(h,b=>{c(t)?b(v):b(y,!1)})}g(n,f),le()}var iv=I('<div class="flex items-center justify-center py-20"><div class="loading"></div></div>'),ov=I("<!> <!>",1),cv=I('<div class="mt-7"><!></div> <!> <!>',1);function lv(n,e){ce(e,!0);let t=q(null);vt.addRoute("/",ts),vt.addRoute("/dashboard",ts),vt.addRoute("/eventEdit",ns),vt.addRoute("/eventEdit/:id",ns),vt.addRoute("/teams",hp),vt.addRoute("/accept-invite",Vh),vt.addRoute("/recipe/:uuid",sv);let r=q(null);ut(()=>{!pe.isAuthenticated&&vt.path!=="/"&&vt.path!=="/accept-invite"&&(window.location.hash="/",window.location.pathname="/")}),ut(()=>{vt.match().then(_=>{p(r,_,!0)})});async function a(){try{await pe.initializeAuth()}catch(_){console.error("Erreur d'initialisation auth:",_)}}async function s(){try{await Promise.all([je.initialize(),Yt.initialize(),Ze.initialize()])}catch(_){console.error("Erreur d'initialisation dashboard:",_),p(t,_.message||"Erreur inconnue lors de l'initialisation",!0)}}sa(()=>{(async()=>(await a(),pe.isAuthenticated&&await s()))()});let i=X(()=>c(t)||Sl.error);var o=cv(),l=z(o),d=u(l);{var f=_=>{const w=X(()=>c(r).component);var A=se(),E=z(A);yn(E,()=>c(w),(k,P)=>{P(k,{get params(){return c(r).params},get query(){return c(r).query}})}),g(_,A)},h=_=>{var w=iv();g(_,w)};C(d,_=>{c(r)&&pe.authInitialized?_(f):_(h,!1)})}var v=m(l,2);xd(v,{});var y=m(v,2);{var b=_=>{var w=ov(),A=z(w);{var E=P=>{Kl(P,{get message(){return c(i)}})};C(A,P=>{c(i)&&P(E)})}var k=m(A,2);Ad(k,{get isOpen(){return pe.isConflictModalOpen},get conflictData(){return pe.conflictData}}),g(_,w)};C(y,_=>{pe.isAuthenticated&&_(b)})}g(n,o),le()}let On=null;window.location.pathname.startsWith("/a")?On=document.getElementById("app"):On=document.getElementById("svelte-header");if(!On)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${On.id}`);Yo(lv,{target:On});
