(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const oi=!1;var Yn=Array.isArray,Ra=Array.prototype.indexOf,Xr=Array.from,Lr=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,ci=Object.getOwnPropertyDescriptors,li=Object.prototype,Pa=Array.prototype,vr=Object.getPrototypeOf,ps=Object.isExtensible;function mn(t){return typeof t=="function"}const de=()=>{};function Ta(t){return t()}function Ur(t){for(var e=0;e<t.length;e++)t[e]()}function di(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}function $a(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const rt=2,Zr=4,mr=8,Jt=16,Bt=32,dn=64,Or=128,ht=256,or=512,Ye=1024,ot=2048,Xt=4096,yt=8192,un=16384,gr=32768,Zt=65536,vs=1<<17,Ma=1<<18,An=1<<19,ui=1<<20,Hr=1<<21,yr=1<<22,on=1<<23,Nt=Symbol("$state"),fi=Symbol("legacy props"),Da=Symbol(""),Ln=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function xa(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ka(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ca(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function qa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ja(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Na(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function La(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ua(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ha(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ba(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function za(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const wr=1,br=2,hi=4,Wa=8,Qa=16,Va=1,Ga=2,Ka=4,Ya=8,Ja=16,Xa=4,Za=1,Oa=2,ze=Symbol(),Fa="http://www.w3.org/1999/xhtml",eo="http://www.w3.org/2000/svg",to="@attach";function no(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function ro(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let so=!1;function pi(t){return t===this.v}function io(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function vi(t){return!io(t,this.v)}let Rn=!1,ao=!1;function oo(){Rn=!0}const co=[];function hn(t,e=!1,n=!1){return ir(t,new Map,"",co,null,n)}function ir(t,e,n,r,s=null,i=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Yn(t)){var o=Array(t.length);e.set(t,o),s!==null&&e.set(s,o);for(var l=0;l<t.length;l+=1){var d=t[l];l in t&&(o[l]=ir(d,e,n,r,null,i))}return o}if(vr(t)===li){o={},e.set(t,o),s!==null&&e.set(s,o);for(var u in t)o[u]=ir(t[u],e,n,r,null,i);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return ir(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let ke=null;function wn(t){ke=t}function O(t,e=!1,n){ke={p:ke,c:null,e:null,s:t,x:null,l:Rn&&!e?{s:null,u:null,$:[]}:null}}function F(t){var e=ke,n=e.e;if(n!==null){e.e=null;for(var r of n)Di(r)}return ke=e.p,{}}function Jn(){return!Rn||ke!==null&&ke.l===null}let tn=[];function mi(){var t=tn;tn=[],Ur(t)}function Kt(t){if(tn.length===0&&!Un){var e=tn;queueMicrotask(()=>{e===tn&&mi()})}tn.push(t)}function lo(){for(;tn.length>0;)mi()}const uo=new WeakMap;function gi(t){var e=ee;if(e===null)return le.f|=on,t;if((e.f&gr)===0){if((e.f&Or)===0)throw!e.parent&&t instanceof Error&&yi(t),t;e.b.error(t)}else bn(t,e)}function bn(t,e){for(;e!==null;){if((e.f&Or)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&yi(t),t}function yi(t){const e=uo.get(t);e&&(Lr(t,"message",{value:e.message}),Lr(t,"stack",{value:e.stack}))}const tr=new Set;let Te=null,ar=null,Br=new Set,Et=[],_r=null,zr=!1,Un=!1;class ut{current=new Map;#e=new Map;#t=new Set;#n=0;#i=null;#s=[];#c=[];#r=[];#l=[];#d=[];#u=[];skipped_effects=new Set;process(e){Et=[],ar=null;var n=ut.apply(this);for(const i of e)this.#f(i);if(this.#n===0){this.#h();var r=this.#c,s=this.#r;this.#c=[],this.#r=[],this.#l=[],ar=this,Te=null,ms(r),ms(s),ar=null,this.#i?.resolve()}else this.#a(this.#c),this.#a(this.#r),this.#a(this.#l);n();for(const i of this.#s)Wn(i);this.#s=[]}#f(e){e.f^=Ye;for(var n=e.first;n!==null;){var r=n.f,s=(r&(Bt|dn))!==0,i=s&&(r&Ye)!==0,a=i||(r&yt)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){s?n.f^=Ye:(r&Zr)!==0?this.#r.push(n):(r&Ye)===0&&((r&yr)!==0&&n.b?.is_pending()?this.#s.push(n):Er(n)&&((n.f&Jt)!==0&&this.#l.push(n),Wn(n)));var o=n.first;if(o!==null){n=o;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}}#a(e){for(const n of e)((n.f&ot)!==0?this.#d:this.#u).push(n),Oe(n,Ye);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v)}activate(){Te=this}deactivate(){Te=null}flush(){if(Et.length>0){if(this.activate(),wi(),Te!==null&&Te!==this)return}else this.#n===0&&this.#h();this.deactivate();for(const e of Br)if(Br.delete(e),e(),Te!==null)break}#h(){for(const e of this.#t)e();if(this.#t.clear(),tr.size>1){this.#e.clear();let e=!0;for(const n of tr){if(n===this){e=!1;continue}for(const[r,s]of this.current){if(n.current.has(r))if(e)n.current.set(r,s);else continue;bi(r)}if(Et.length>0){Te=n;const r=ut.apply(n);for(const s of Et)n.#f(s);Et=[],r()}}Te=null}tr.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#d)Oe(e,ot),ln(e);for(const e of this.#u)Oe(e,Xt),ln(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#i??=di()).promise}static ensure(){if(Te===null){const e=Te=new ut;tr.add(Te),Un||ut.enqueue(()=>{Te===e&&e.flush()})}return Te}static enqueue(e){Kt(e)}static apply(e){return de}}function fo(t){var e=Un;Un=!0;try{for(var n;;){if(lo(),Et.length===0&&(Te?.flush(),Et.length===0))return _r=null,n;wi()}}finally{Un=e}}function wi(){var t=gn;zr=!0;try{var e=0;for(bs(!0);Et.length>0;){var n=ut.ensure();if(e++>1e3){var r,s;ho()}n.process(Et),Vt.clear()}}finally{zr=!1,bs(t),_r=null}}function ho(){try{Na()}catch(t){bn(t,_r)}}let en=null;function ms(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(un|yt))===0&&Er(r)&&(en=[],Wn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?qi(r):r.fn=null),en?.length>0)){Vt.clear();for(const s of en)Wn(s);en=[]}}en=null}}function bi(t){if(t.reactions!==null)for(const e of t.reactions){const n=e.f;(n&rt)!==0?bi(e):(n&(yr|Jt))!==0&&(Oe(e,ot),ln(e))}}function ln(t){for(var e=_r=t;e.parent!==null;){e=e.parent;var n=e.f;if(zr&&e===ee&&(n&Jt)!==0)return;if((n&(dn|Bt))!==0){if((n&Ye)===0)return;e.f^=Ye}}Et.push(e)}function Fr(t){let e=0,n=Yt(0),r;return()=>{To()&&(c(n),xi(()=>(e===0&&(r=Tn(()=>t(()=>At(n)))),e+=1,()=>{Kt(()=>{e-=1,e===0&&(r?.(),r=void 0,At(n))})})))}}var po=Zt|An|Or;function vo(t,e,n){new mo(t,e,n)}class mo{parent;#e=!1;#t;#n=null;#i;#s;#c;#r=null;#l=null;#d=null;#u=null;#f=0;#a=0;#h=!1;#p=null;#v=()=>{this.#p&&_n(this.#p,this.#f)};#w=Fr(()=>(this.#p=Yt(this.#f),()=>{this.#p=null}));constructor(e,n,r){this.#t=e,this.#i=n,this.#s=r,this.parent=ee.b,this.#e=!!this.#i.pending,this.#c=Ft(()=>{ee.b=this;{try{this.#r=Ke(()=>r(this.#t))}catch(s){this.error(s)}this.#a>0?this.#g():this.#e=!1}},po)}#b(){try{this.#r=Ke(()=>this.#s(this.#t))}catch(e){this.error(e)}this.#e=!1}#m(){const e=this.#i.pending;e&&(this.#l=Ke(()=>e(this.#t)),ut.enqueue(()=>{this.#r=this.#o(()=>(ut.ensure(),Ke(()=>this.#s(this.#t)))),this.#a>0?this.#g():(Gt(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#o(e){var n=ee,r=le,s=ke;$t(this.#c),nt(this.#c),wn(this.#c.ctx);try{return e()}catch(i){return gi(i),null}finally{$t(n),nt(r),wn(s)}}#g(){const e=this.#i.pending;this.#r!==null&&(this.#u=document.createDocumentFragment(),go(this.#r,this.#u)),this.#l===null&&(this.#l=Ke(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#a+=e,this.#a===0&&(this.#e=!1,this.#l&&Gt(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),Kt(()=>{ut.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,Br.add(this.#v)}get_effect_pending(){return this.#w(),c(this.#p)}error(e){var n=this.#i.onerror;let r=this.#i.failed;if(this.#h||!n&&!r)throw e;this.#r&&(Ge(this.#r),this.#r=null),this.#l&&(Ge(this.#l),this.#l=null),this.#d&&(Ge(this.#d),this.#d=null);var s=!1,i=!1;const a=()=>{if(s){ro();return}s=!0,i&&za(),ut.ensure(),this.#f=0,this.#d!==null&&Gt(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#r=this.#o(()=>(this.#h=!1,Ke(()=>this.#s(this.#t)))),this.#a>0?this.#g():this.#e=!1};var o=le;try{nt(null),i=!0,n?.(e,a),i=!1}catch(l){bn(l,this.#c&&this.#c.parent)}finally{nt(o)}r&&Kt(()=>{this.#d=this.#o(()=>{this.#h=!0;try{return Ke(()=>{r(this.#t,()=>e,()=>a)})}catch(l){return bn(l,this.#c.parent),null}finally{this.#h=!1}})})}}function go(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var s=n===r?null:Zn(n);e.append(n),n=s}}function _i(t,e,n){const r=Jn()?Xn:es;if(e.length===0){n(t.map(r));return}var s=Te,i=ee,a=yo();Promise.all(e.map(o=>wo(o))).then(o=>{a();try{n([...t.map(r),...o])}catch(l){(i.f&un)===0&&bn(l,i)}s?.deactivate(),Ii()}).catch(o=>{bn(o,i)})}function yo(){var t=ee,e=le,n=ke,r=Te;return function(){$t(t),nt(e),wn(n),r?.activate()}}function Ii(){$t(null),nt(null),wn(null)}function Xn(t){var e=rt|ot,n=le!==null&&(le.f&rt)!==0?le:null;return ee===null||n!==null&&(n.f&ht)!==0?e|=ht:ee.f|=An,{ctx:ke,deps:null,effects:null,equals:pi,f:e,fn:t,reactions:null,rv:0,v:ze,wv:0,parent:n??ee,ac:null}}function wo(t,e){let n=ee;n===null&&ka();var r=n.b,s=void 0,i=Yt(ze),a=!le,o=new Map;return Do(()=>{var l=di();s=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject)}catch(p){l.reject(p)}var d=Te,u=r.is_pending();a&&(r.update_pending_count(1),u||(d.increment(),o.get(d)?.reject(Ln),o.set(d,l)));const f=(p,m=void 0)=>{u||d.activate(),m?m!==Ln&&(i.f|=on,_n(i,m)):((i.f&on)!==0&&(i.f^=on),_n(i,p)),a&&(r.update_pending_count(-1),u||d.decrement()),Ii()};l.promise.then(f,p=>f(null,p||"unknown"))}),rs(()=>{for(const l of o.values())l.reject(Ln)}),new Promise(l=>{function d(u){function f(){u===s?l(i):d(s)}u.then(f,f)}d(s)})}function J(t){const e=Xn(t);return Li(e),e}function es(t){const e=Xn(t);return e.equals=vi,e}function Si(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ge(e[n])}}function bo(t){for(var e=t.parent;e!==null;){if((e.f&rt)===0)return e;e=e.parent}return null}function ts(t){var e,n=ee;$t(bo(t));try{Si(t),e=zi(t)}finally{$t(n)}return e}function Ei(t){var e=ts(t);if(t.equals(e)||(t.v=e,t.wv=Hi()),!fn){var n=(zt||(t.f&ht)!==0)&&t.deps!==null?Xt:Ye;Oe(t,n)}}const Vt=new Map;function Yt(t,e){var n={f:0,v:t,reactions:null,equals:pi,rv:0,wv:0};return n}function A(t,e){const n=Yt(t);return Li(n),n}function _o(t,e=!1,n=!0){const r=Yt(t);return e||(r.equals=vi),Rn&&n&&ke!==null&&ke.l!==null&&(ke.l.s??=[]).push(r),r}function h(t,e,n=!1){le!==null&&(!mt||(le.f&vs)!==0)&&Jn()&&(le.f&(rt|Jt|yr|vs))!==0&&!Lt?.includes(t)&&Ba();let r=n?$e(e):e;return _n(t,r)}function _n(t,e){if(!t.equals(e)){var n=t.v;fn?Vt.set(t,e):Vt.set(t,n),t.v=e;var r=ut.ensure();r.capture(t,n),(t.f&rt)!==0&&((t.f&ot)!==0&&ts(t),Oe(t,(t.f&ht)===0?Ye:Xt)),t.wv=Hi(),Ai(t,ot),Jn()&&ee!==null&&(ee.f&Ye)!==0&&(ee.f&(Bt|dn))===0&&(lt===null?Co([t]):lt.push(t))}return e}function At(t){h(t,t.v+1)}function Ai(t,e){var n=t.reactions;if(n!==null)for(var r=Jn(),s=n.length,i=0;i<s;i++){var a=n[i],o=a.f;if(!(!r&&a===ee)){var l=(o&ot)===0;l&&Oe(a,e),(o&rt)!==0?Ai(a,Xt):l&&((o&Jt)!==0&&en!==null&&en.push(a),ln(a))}}}function $e(t){if(typeof t!="object"||t===null||Nt in t)return t;const e=vr(t);if(e!==li&&e!==Pa)return t;var n=new Map,r=Yn(t),s=A(0),i=Ut,a=o=>{if(Ut===i)return o();var l=le,d=Ut;nt(null),Is(i);var u=o();return nt(l),Is(d),u};return r&&n.set("length",A(t.length)),new Proxy(t,{defineProperty(o,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ua();var u=n.get(l);return u===void 0?u=a(()=>{var f=A(d.value);return n.set(l,f),f}):h(u,d.value,!0),!0},deleteProperty(o,l){var d=n.get(l);if(d===void 0){if(l in o){const u=a(()=>A(ze));n.set(l,u),At(s)}}else h(d,ze),At(s);return!0},get(o,l,d){if(l===Nt)return t;var u=n.get(l),f=l in o;if(u===void 0&&(!f||Qt(o,l)?.writable)&&(u=a(()=>{var m=$e(f?o[l]:ze),y=A(m);return y}),n.set(l,u)),u!==void 0){var p=c(u);return p===ze?void 0:p}return Reflect.get(o,l,d)},getOwnPropertyDescriptor(o,l){var d=Reflect.getOwnPropertyDescriptor(o,l);if(d&&"value"in d){var u=n.get(l);u&&(d.value=c(u))}else if(d===void 0){var f=n.get(l),p=f?.v;if(f!==void 0&&p!==ze)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return d},has(o,l){if(l===Nt)return!0;var d=n.get(l),u=d!==void 0&&d.v!==ze||Reflect.has(o,l);if(d!==void 0||ee!==null&&(!u||Qt(o,l)?.writable)){d===void 0&&(d=a(()=>{var p=u?$e(o[l]):ze,m=A(p);return m}),n.set(l,d));var f=c(d);if(f===ze)return!1}return u},set(o,l,d,u){var f=n.get(l),p=l in o;if(r&&l==="length")for(var m=d;m<f.v;m+=1){var y=n.get(m+"");y!==void 0?h(y,ze):m in o&&(y=a(()=>A(ze)),n.set(m+"",y))}if(f===void 0)(!p||Qt(o,l)?.writable)&&(f=a(()=>A(void 0)),h(f,$e(d)),n.set(l,f));else{p=f.v!==ze;var _=a(()=>$e(d));h(f,_)}var I=Reflect.getOwnPropertyDescriptor(o,l);if(I?.set&&I.set.call(u,d),!p){if(r&&typeof l=="string"){var E=n.get("length"),D=Number(l);Number.isInteger(D)&&D>=E.v&&h(E,D+1)}At(s)}return!0},ownKeys(o){c(s);var l=Reflect.ownKeys(o).filter(f=>{var p=n.get(f);return p===void 0||p.v!==ze});for(var[d,u]of n)u.v!==ze&&!(d in o)&&l.push(d);return l},setPrototypeOf(){Ha()}})}function gs(t){try{if(t!==null&&typeof t=="object"&&Nt in t)return t[Nt]}catch{}return t}function Io(t,e){return Object.is(gs(t),gs(e))}var ys,Ri,Pi,Ti;function So(){if(ys===void 0){ys=window,Ri=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Pi=Qt(e,"firstChild").get,Ti=Qt(e,"nextSibling").get,ps(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ps(n)&&(n.__t=void 0)}}function Ot(t=""){return document.createTextNode(t)}function In(t){return Pi.call(t)}function Zn(t){return Ti.call(t)}function v(t,e){return In(t)}function z(t,e=!1){{var n=In(t);return n instanceof Comment&&n.data===""?Zn(n):n}}function g(t,e=1,n=!1){let r=t;for(;e--;)r=Zn(r);return r}function Eo(t){t.textContent=""}function ns(){return!1}function Ao(t,e){if(e){const n=document.body;t.autofocus=!0,Kt(()=>{document.activeElement===n&&t.focus()})}}let ws=!1;function Ro(){ws||(ws=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Pn(t){var e=le,n=ee;nt(null),$t(null);try{return t()}finally{nt(e),$t(n)}}function $i(t,e,n,r=n){t.addEventListener(e,()=>Pn(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r(!0)}:t.__on_r=()=>r(!0),Ro()}function Mi(t){ee===null&&le===null&&ja(),le!==null&&(le.f&ht)!==0&&ee===null&&qa(),fn&&Ca()}function Po(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Mt(t,e,n,r=!0){var s=ee;s!==null&&(s.f&yt)!==0&&(t|=yt);var i={ctx:ke,deps:null,nodes_start:null,nodes_end:null,f:t|ot,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Wn(i),i.f|=gr}catch(l){throw Ge(i),l}else e!==null&&ln(i);if(r){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&An)===0&&(a=a.first),a!==null&&(a.parent=s,s!==null&&Po(a,s),le!==null&&(le.f&rt)!==0&&(t&dn)===0)){var o=le;(o.effects??=[]).push(a)}}return i}function To(){return le!==null&&!mt}function rs(t){const e=Mt(mr,null,!1);return Oe(e,Ye),e.teardown=t,e}function wt(t){Mi();var e=ee.f,n=!le&&(e&Bt)!==0&&(e&gr)===0;if(n){var r=ke;(r.e??=[]).push(t)}else return Di(t)}function Di(t){return Mt(Zr|ui,t,!1)}function $o(t){return Mi(),Mt(mr|ui,t,!0)}function Mo(t){ut.ensure();const e=Mt(dn|An,t,!0);return(n={})=>new Promise(r=>{n.outro?Gt(e,()=>{Ge(e),r(void 0)}):(Ge(e),r(void 0))})}function Ir(t){return Mt(Zr,t,!1)}function Do(t){return Mt(yr|An,t,!0)}function xi(t,e=0){return Mt(mr|e,t,!0)}function ce(t,e=[],n=[]){_i(e,n,r=>{Mt(mr,()=>t(...r.map(c)),!0)})}function Ft(t,e=0){var n=Mt(Jt|e,t,!0);return n}function Ke(t,e=!0){return Mt(Bt|An,t,!0,e)}function ki(t){var e=t.teardown;if(e!==null){const n=fn,r=le;_s(!0),nt(null);try{e.call(null)}finally{_s(n),nt(r)}}}function Ci(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Pn(()=>{s.abort(Ln)});var r=n.next;(n.f&dn)!==0?n.parent=null:Ge(n,e),n=r}}function xo(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Bt)===0&&Ge(e),e=n}}function Ge(t,e=!0){var n=!1;(e||(t.f&Ma)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ko(t.nodes_start,t.nodes_end),n=!0),Ci(t,e&&!n),cr(t,0),Oe(t,un);var r=t.transitions;if(r!==null)for(const i of r)i.stop();ki(t);var s=t.parent;s!==null&&s.first!==null&&qi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ko(t,e){for(;t!==null;){var n=t===e?null:Zn(t);t.remove(),t=n}}function qi(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Gt(t,e){var n=[];ss(t,n,!0),ji(n,()=>{Ge(t),e&&e()})}function ji(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function ss(t,e,n){if((t.f&yt)===0){if(t.f^=yt,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&Zt)!==0||(r.f&Bt)!==0;ss(r,e,i?n:!1),r=s}}}function Sr(t){Ni(t,!0)}function Ni(t,e){if((t.f&yt)!==0){t.f^=yt,(t.f&Ye)===0&&(Oe(t,ot),ln(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&Zt)!==0||(n.f&Bt)!==0;Ni(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let gn=!1;function bs(t){gn=t}let fn=!1;function _s(t){fn=t}let le=null,mt=!1;function nt(t){le=t}let ee=null;function $t(t){ee=t}let Lt=null;function Li(t){le!==null&&(Lt===null?Lt=[t]:Lt.push(t))}let Ze=null,it=0,lt=null;function Co(t){lt=t}let Ui=1,zn=0,Ut=zn;function Is(t){Ut=t}let zt=!1;function Hi(){return++Ui}function Er(t){var e=t.f;if((e&ot)!==0)return!0;if((e&Xt)!==0){var n=t.deps,r=(e&ht)!==0;if(n!==null){var s,i,a=(e&or)!==0,o=r&&ee!==null&&!zt,l=n.length;if((a||o)&&(ee===null||(ee.f&un)===0)){var d=t,u=d.parent;for(s=0;s<l;s++)i=n[s],(a||!i?.reactions?.includes(d))&&(i.reactions??=[]).push(d);a&&(d.f^=or),o&&u!==null&&(u.f&ht)===0&&(d.f^=ht)}for(s=0;s<l;s++)if(i=n[s],Er(i)&&Ei(i),i.wv>t.wv)return!0}(!r||ee!==null&&!zt)&&Oe(t,Ye)}return!1}function Bi(t,e,n=!0){var r=t.reactions;if(r!==null&&!Lt?.includes(t))for(var s=0;s<r.length;s++){var i=r[s];(i.f&rt)!==0?Bi(i,e,!1):e===i&&(n?Oe(i,ot):(i.f&Ye)!==0&&Oe(i,Xt),ln(i))}}function zi(t){var e=Ze,n=it,r=lt,s=le,i=zt,a=Lt,o=ke,l=mt,d=Ut,u=t.f;Ze=null,it=0,lt=null,zt=(u&ht)!==0&&(mt||!gn||le===null),le=(u&(Bt|dn))===0?t:null,Lt=null,wn(t.ctx),mt=!1,Ut=++zn,t.ac!==null&&(Pn(()=>{t.ac.abort(Ln)}),t.ac=null);try{t.f|=Hr;var f=t.fn,p=f(),m=t.deps;if(Ze!==null){var y;if(cr(t,it),m!==null&&it>0)for(m.length=it+Ze.length,y=0;y<Ze.length;y++)m[it+y]=Ze[y];else t.deps=m=Ze;if(!zt||(u&rt)!==0&&t.reactions!==null)for(y=it;y<m.length;y++)(m[y].reactions??=[]).push(t)}else m!==null&&it<m.length&&(cr(t,it),m.length=it);if(Jn()&&lt!==null&&!mt&&m!==null&&(t.f&(rt|Xt|ot))===0)for(y=0;y<lt.length;y++)Bi(lt[y],t);return s!==null&&s!==t&&(zn++,lt!==null&&(r===null?r=lt:r.push(...lt))),(t.f&on)!==0&&(t.f^=on),p}catch(_){return gi(_)}finally{t.f^=Hr,Ze=e,it=n,lt=r,le=s,zt=i,Lt=a,wn(o),mt=l,Ut=d}}function qo(t,e){let n=e.reactions;if(n!==null){var r=Ra.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(e.f&rt)!==0&&(Ze===null||!Ze.includes(e))&&(Oe(e,Xt),(e.f&(ht|or))===0&&(e.f^=or),Si(e),cr(e,0))}function cr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)qo(t,n[r])}function Wn(t){var e=t.f;if((e&un)===0){Oe(t,Ye);var n=ee,r=gn;ee=t,gn=!0;try{(e&Jt)!==0?xo(t):Ci(t),ki(t);var s=zi(t);t.teardown=typeof s=="function"?s:null,t.wv=Ui;var i;oi&&ao&&(t.f&ot)!==0&&t.deps}finally{gn=r,ee=n}}}async function jo(){await Promise.resolve(),fo()}function c(t){var e=t.f,n=(e&rt)!==0;if(le!==null&&!mt){var r=ee!==null&&(ee.f&un)!==0;if(!r&&!Lt?.includes(t)){var s=le.deps;if((le.f&Hr)!==0)t.rv<zn&&(t.rv=zn,Ze===null&&s!==null&&s[it]===t?it++:Ze===null?Ze=[t]:(!zt||!Ze.includes(t))&&Ze.push(t));else{(le.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[le]:i.includes(le)||i.push(le)}}}else if(n&&t.deps===null&&t.effects===null){var a=t,o=a.parent;o!==null&&(o.f&ht)===0&&(a.f^=ht)}if(fn){if(Vt.has(t))return Vt.get(t);if(n){a=t;var l=a.v;return((a.f&Ye)===0&&a.reactions!==null||Wi(a))&&(l=ts(a)),Vt.set(a,l),l}}else n&&(a=t,Er(a)&&Ei(a));if((t.f&on)!==0)throw t.v;return t.v}function Wi(t){if(t.v===ze)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Vt.has(e)||(e.f&rt)!==0&&Wi(e))return!0;return!1}function Tn(t){var e=mt;try{return mt=!0,t()}finally{mt=e}}const No=-7169;function Oe(t,e){t.f=t.f&No|e}function Lo(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Nt in t)Wr(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Nt in n&&Wr(n)}}}function Wr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Wr(t[r],e)}catch{}const n=vr(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ci(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}function Uo(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Ho=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Bo(t){return Ho.includes(t)}const zo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Wo(t){return t=t.toLowerCase(),zo[t]??t}const Qo=["touchstart","touchmove"];function Vo(t){return Qo.includes(t)}const Qi=new Set,Qr=new Set;function is(t,e,n,r={}){function s(i){if(r.capture||jn.call(e,i),!i.cancelBubble)return Pn(()=>n?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Kt(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function Vr(t,e,n,r={}){var s=is(e,t,n,r);return()=>{t.removeEventListener(e,s,r)}}function Mr(t,e,n,r,s){var i={capture:r,passive:s},a=is(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&rs(()=>{e.removeEventListener(t,a,i)})}function Dt(t){for(var e=0;e<t.length;e++)Qi.add(t[e]);for(var n of Qr)n(t)}let Ss=null;function jn(t){var e=this,n=e.ownerDocument,r=t.type,s=t.composedPath?.()||[],i=s[0]||t.target;Ss=t;var a=0,o=Ss===t&&t.__root;if(o){var l=s.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var d=s.indexOf(e);if(d===-1)return;l<=d&&(a=l)}if(i=s[a]||t.target,i!==e){Lr(t,"currentTarget",{configurable:!0,get(){return i||n}});var u=le,f=ee;nt(null),$t(null);try{for(var p,m=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+r];if(_!=null&&(!i.disabled||t.target===i))if(Yn(_)){var[I,...E]=_;I.apply(i,[t,...E])}else _.call(i,t)}catch(D){p?m.push(D):p=D}if(t.cancelBubble||y===e||y===null)break;i=y}if(p){for(let D of m)queueMicrotask(()=>{throw D});throw p}}finally{t.__root=e,delete t.currentTarget,nt(u),$t(f)}}}function Vi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Sn(t,e){var n=ee;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function x(t,e){var n=(e&Za)!==0,r=(e&Oa)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Vi(i?t:"<!>"+t),n||(s=In(s)));var a=r||Ri?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=In(a),l=a.lastChild;Sn(o,l)}else Sn(a,a);return a}}function Go(t,e,n="svg"){var r=!t.startsWith("<!>"),s=`<${n}>${r?t:"<!>"+t}</${n}>`,i;return()=>{if(!i){var a=Vi(s),o=In(a);i=In(o)}var l=i.cloneNode(!0);return Sn(l,l),l}}function Ko(t,e){return Go(t,e,"svg")}function Dr(t=""){{var e=Ot(t+"");return Sn(e,e),e}}function Z(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Ot();return t.append(e,n),Sn(e,n),t}function b(t,e){t!==null&&t.before(e)}let lr=!0;function Es(t){lr=t}function X(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Yo(t,e){return Jo(t,e)}const pn=new Map;function Jo(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:a=!0}){So();var o=new Set,l=f=>{for(var p=0;p<f.length;p++){var m=f[p];if(!o.has(m)){o.add(m);var y=Vo(m);e.addEventListener(m,jn,{passive:y});var _=pn.get(m);_===void 0?(document.addEventListener(m,jn,{passive:y}),pn.set(m,1)):pn.set(m,_+1)}}};l(Xr(Qi)),Qr.add(l);var d=void 0,u=Mo(()=>{var f=n??e.appendChild(Ot());return vo(f,{pending:()=>{}},p=>{if(i){O({});var m=ke;m.c=i}s&&(r.$$events=s),lr=a,d=t(p,r)||{},lr=!0,i&&F()}),()=>{for(var p of o){e.removeEventListener(p,jn);var m=pn.get(p);--m===0?(document.removeEventListener(p,jn),pn.delete(p)):pn.set(p,m)}Qr.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return Xo.set(d,u),d}let Xo=new WeakMap;function B(t,e,n=!1){var r=t,s=null,i=null,a=ze,o=n?Zt:0,l=!1;const d=(m,y=!0)=>{l=!0,p(y,m)};var u=null;function f(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var m=a?s:i,y=a?i:s;m&&Sr(m),y&&Gt(y,()=>{a?i=null:s=null})}const p=(m,y)=>{if(a!==(a=m)){var _=ns(),I=r;if(_&&(u=document.createDocumentFragment(),u.append(I=Ot())),a?s??=y&&Ke(()=>y(I)):i??=y&&Ke(()=>y(I)),_){var E=Te,D=a?s:i,T=a?i:s;D&&E.skipped_effects.delete(D),T&&E.skipped_effects.add(T),E.add_callback(f)}else f()}};Ft(()=>{l=!1,e(d),l||p(null,null)},o)}let cn=null;function As(t){cn=t}function Qn(t,e){return e}function Zo(t,e,n){for(var r=t.items,s=[],i=e.length,a=0;a<i;a++)ss(e[a].e,s,!0);var o=i>0&&s.length===0&&n!==null;if(o){var l=n.parentNode;Eo(l),l.append(n),r.clear(),It(t,e[0].prev,e[i-1].next)}ji(s,()=>{for(var d=0;d<i;d++){var u=e[d];o||(r.delete(u.k),It(t,u.prev,u.next)),Ge(u.e,!o)}})}function ft(t,e,n,r,s,i=null){var a=t,o={flags:e,items:new Map,first:null},l=(e&hi)!==0;if(l){var d=t;a=d.appendChild(Ot())}var u=null,f=!1,p=new Map,m=es(()=>{var E=n();return Yn(E)?E:E==null?[]:Xr(E)}),y,_;function I(){Oo(_,y,o,p,a,s,e,r,n),i!==null&&(y.length===0?u?Sr(u):u=Ke(()=>i(a)):u!==null&&Gt(u,()=>{u=null}))}Ft(()=>{_??=ee,y=c(m);var E=y.length;if(!(f&&E===0)){f=E===0;var D,T,$,M;if(ns()){var R=new Set,C=Te;for(T=0;T<E;T+=1){$=y[T],M=r($,T);var q=o.items.get(M)??p.get(M);q?(e&(wr|br))!==0&&Gi(q,$,T,e):(D=Ki(null,o,null,null,$,M,T,s,e,n,!0),p.set(M,D)),R.add(M)}for(const[G,se]of o.items)R.has(G)||C.skipped_effects.add(se.e);C.add_callback(I)}else I();c(m)}})}function Oo(t,e,n,r,s,i,a,o,l){var d=(a&Wa)!==0,u=(a&(wr|br))!==0,f=e.length,p=n.items,m=n.first,y=m,_,I=null,E,D=[],T=[],$,M,R,C;if(d)for(C=0;C<f;C+=1)$=e[C],M=o($,C),R=p.get(M),R!==void 0&&(R.a?.measure(),(E??=new Set).add(R));for(C=0;C<f;C+=1){if($=e[C],M=o($,C),R=p.get(M),R===void 0){var q=r.get(M);if(q!==void 0){r.delete(M),p.set(M,q);var G=I?I.next:y;It(n,I,q),It(n,q,G),xr(q,G,s),I=q}else{var se=y?y.e.nodes_start:s;I=Ki(se,n,I,I===null?n.first:I.next,$,M,C,i,a,l)}p.set(M,I),D=[],T=[],y=I.next;continue}if(u&&Gi(R,$,C,a),(R.e.f&yt)!==0&&(Sr(R.e),d&&(R.a?.unfix(),(E??=new Set).delete(R))),R!==y){if(_!==void 0&&_.has(R)){if(D.length<T.length){var V=T[0],K;I=V.prev;var he=D[0],ye=D[D.length-1];for(K=0;K<D.length;K+=1)xr(D[K],V,s);for(K=0;K<T.length;K+=1)_.delete(T[K]);It(n,he.prev,ye.next),It(n,I,he),It(n,ye,V),y=V,I=ye,C-=1,D=[],T=[]}else _.delete(R),xr(R,y,s),It(n,R.prev,R.next),It(n,R,I===null?n.first:I.next),It(n,I,R),I=R;continue}for(D=[],T=[];y!==null&&y.k!==M;)(y.e.f&yt)===0&&(_??=new Set).add(y),T.push(y),y=y.next;if(y===null)continue;R=y}D.push(R),I=R,y=R.next}if(y!==null||_!==void 0){for(var te=_===void 0?[]:Xr(_);y!==null;)(y.e.f&yt)===0&&te.push(y),y=y.next;var L=te.length;if(L>0){var U=(a&hi)!==0&&f===0?s:null;if(d){for(C=0;C<L;C+=1)te[C].a?.measure();for(C=0;C<L;C+=1)te[C].a?.fix()}Zo(n,te,U)}}d&&Kt(()=>{if(E!==void 0)for(R of E)R.a?.apply()}),t.first=n.first&&n.first.e,t.last=I&&I.e;for(var ue of r.values())Ge(ue.e);r.clear()}function Gi(t,e,n,r){(r&wr)!==0&&_n(t.v,e),(r&br)!==0?_n(t.i,n):t.i=n}function Ki(t,e,n,r,s,i,a,o,l,d,u){var f=cn,p=(l&wr)!==0,m=(l&Qa)===0,y=p?m?_o(s,!1,!1):Yt(s):s,_=(l&br)===0?a:Yt(a),I={i:_,v:y,k:i,a:null,e:null,prev:n,next:r};cn=I;try{if(t===null){var E=document.createDocumentFragment();E.append(t=Ot())}return I.e=Ke(()=>o(t,y,_,d),so),I.e.prev=n&&n.e,I.e.next=r&&r.e,n===null?u||(e.first=I):(n.next=I,n.e.next=I.e),r!==null&&(r.prev=I,r.e.prev=I.e),I}finally{cn=f}}function xr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==null&&i!==r;){var a=Zn(i);s.before(i),i=a}}function It(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function we(t,e,...n){var r=t,s=de,i;Ft(()=>{s!==(s=e())&&(i&&(Ge(i),i=null),i=Ke(()=>s(r,...n)))},Zt)}function Yi(t,e,n){var r=t,s,i,a=null,o=null;function l(){i&&(Gt(i),i=null),a&&(a.lastChild.remove(),r.before(a),a=null),i=o,o=null}Ft(()=>{if(s!==(s=e())){var d=ns();if(s){var u=r;d&&(a=document.createDocumentFragment(),a.append(u=Ot()),i&&Te.skipped_effects.add(i)),o=Ke(()=>n(u,s))}d?Te.add_callback(l):l()}},Zt)}function Fo(t,e,n,r,s,i){var a,o,l=null,d=t,u,f=cn;Ft(()=>{const p=e()||null;var m=eo;if(p!==a){var y=cn;As(f),u&&(p===null?Gt(u,()=>{u=null,o=null}):p===o?Sr(u):(Ge(u),Es(!1))),p&&p!==o&&(u=Ke(()=>{if(l=document.createElementNS(m,p),Sn(l,l),r){var _=l.appendChild(Ot());r(l,_)}ee.nodes_end=l,d.before(l)})),a=p,a&&(o=a),Es(!0),As(y)}},Zt)}function Ji(t,e){var n=void 0,r;Ft(()=>{n!==(n=e())&&(r&&(Ge(r),r=null),n&&(r=Ke(()=>{Ir(()=>n(t))})))})}function Xi(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Xi(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ec(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Xi(t))&&(r&&(r+=" "),r+=e);return r}function tc(t){return typeof t=="object"?ec(t):t??""}const Rs=[...` 	
\r\f \v\uFEFF`];function nc(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var o=a+i;(a===0||Rs.includes(r[a-1]))&&(o===r.length||Rs.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Ps(t,e=!1){var n=e?" !important;":";",r="";for(var s in t){var i=t[s];i!=null&&i!==""&&(r+=" "+s+": "+i+n)}return r}function kr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function rc(t,e){if(e){var n="",r,s;if(Array.isArray(e)?(r=e[0],s=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,l=[];r&&l.push(...Object.keys(r).map(kr)),s&&l.push(...Object.keys(s).map(kr));var d=0,u=-1;const _=t.length;for(var f=0;f<_;f++){var p=t[f];if(o?p==="/"&&t[f-1]==="*"&&(o=!1):i?i===p&&(i=!1):p==="/"&&t[f+1]==="*"?o=!0:p==='"'||p==="'"?i=p:p==="("?a++:p===")"&&a--,!o&&i===!1&&a===0){if(p===":"&&u===-1)u=f;else if(p===";"||f===_-1){if(u!==-1){var m=kr(t.substring(d,u).trim());if(!l.includes(m)){p!==";"&&f++;var y=t.substring(d,f).trim();n+=" "+y+";"}}d=f+1,u=-1}}}}return r&&(n+=Ps(r)),s&&(n+=Ps(s,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function gt(t,e,n,r,s,i){var a=t.__className;if(a!==n||a===void 0){var o=nc(n,r,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=n}else if(i&&s!==i)for(var l in i){var d=!!i[l];(s==null||d!==!!s[l])&&t.classList.toggle(l,d)}return i}function Cr(t,e={},n,r){for(var s in n){var i=n[s];e[s]!==i&&(n[s]==null?t.style.removeProperty(s):t.style.setProperty(s,i,r))}}function sc(t,e,n,r){var s=t.__style;if(s!==e){var i=rc(e,r);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else r&&(Array.isArray(r)?(Cr(t,n?.[0],r[0]),Cr(t,n?.[1],r[1],"important")):Cr(t,n,r));return r}function dr(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Yn(e))return no();for(var r of t.options)r.selected=e.includes(Hn(r));return}for(r of t.options){var s=Hn(r);if(Io(s,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Zi(t){var e=new MutationObserver(()=>{dr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rs(()=>{e.disconnect()})}function Gr(t,e,n=e){var r=!0;$i(t,"change",s=>{var i=s?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(i),Hn);else{var o=t.querySelector(i)??t.querySelector("option:not([disabled])");a=o&&Hn(o)}n(a)}),Ir(()=>{var s=e();if(dr(t,s,r),r&&s===void 0){var i=t.querySelector(":checked");i!==null&&(s=Hn(i),n(s))}t.__value=s,r=!1}),Zi(t)}function Hn(t){return"__value"in t?t.__value:t.value}const kn=Symbol("class"),Cn=Symbol("style"),Oi=Symbol("is custom element"),Fi=Symbol("is html");function Ts(t,e){var n=as(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function ic(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Wt(t,e,n,r){var s=as(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[Da]=n),n==null?t.removeAttribute(e):typeof n!="string"&&ea(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ac(t,e,n,r,s=!1,i=!1){var a=as(t),o=a[Oi],l=!a[Fi],d=e||{},u=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=tc(n.class):n[kn]&&(n.class=null),n[Cn]&&(n.style??=null);var p=ea(t);for(const $ in n){let M=n[$];if(u&&$==="value"&&M==null){t.value=t.__value="",d[$]=M;continue}if($==="class"){var m=t.namespaceURI==="http://www.w3.org/1999/xhtml";gt(t,m,M,r,e?.[kn],n[kn]),d[$]=M,d[kn]=n[kn];continue}if($==="style"){sc(t,M,e?.[Cn],n[Cn]),d[$]=M,d[Cn]=n[Cn];continue}var y=d[$];if(!(M===y&&!(M===void 0&&t.hasAttribute($)))){d[$]=M;var _=$[0]+$[1];if(_!=="$$")if(_==="on"){const R={},C="$$"+$;let q=$.slice(2);var I=Bo(q);if(Uo(q)&&(q=q.slice(0,-7),R.capture=!0),!I&&y){if(M!=null)continue;t.removeEventListener(q,d[C],R),d[C]=null}if(M!=null)if(I)t[`__${q}`]=M,Dt([q]);else{let G=function(se){d[$].call(this,se)};var T=G;d[C]=is(q,t,G,R)}else I&&(t[`__${q}`]=void 0)}else if($==="style")Wt(t,$,M);else if($==="autofocus")Ao(t,!!M);else if(!o&&($==="__value"||$==="value"&&M!=null))t.value=t.__value=M;else if($==="selected"&&u)ic(t,M);else{var E=$;l||(E=Wo(E));var D=E==="defaultValue"||E==="defaultChecked";if(M==null&&!o&&!D)if(a[$]=null,E==="value"||E==="checked"){let R=t;const C=e===void 0;if(E==="value"){let q=R.defaultValue;R.removeAttribute(E),R.defaultValue=q,R.value=R.__value=C?q:null}else{let q=R.defaultChecked;R.removeAttribute(E),R.defaultChecked=q,R.checked=C?q:!1}}else t.removeAttribute($);else D||p.includes(E)&&(o||typeof M!="string")?(t[E]=M,E in a&&(a[E]=ze)):typeof M!="function"&&Wt(t,E,M)}}}return d}function $s(t,e,n=[],r=[],s,i=!1,a=!1){_i(n,r,o=>{var l=void 0,d={},u=t.nodeName==="SELECT",f=!1;if(Ft(()=>{var m=e(...o.map(c)),y=ac(t,l,m,s,i,a);f&&u&&"value"in m&&dr(t,m.value);for(let I of Object.getOwnPropertySymbols(d))m[I]||Ge(d[I]);for(let I of Object.getOwnPropertySymbols(m)){var _=m[I];I.description===to&&(!l||_!==l[I])&&(d[I]&&Ge(d[I]),d[I]=Ke(()=>Ji(t,()=>_))),y[I]=_}l=y}),u){var p=t;Ir(()=>{dr(p,l.value,!0),Zi(p)})}f=!0})}function as(t){return t.__attributes??={[Oi]:t.nodeName.includes("-"),[Fi]:t.namespaceURI===Fa}}var Ms=new Map;function ea(t){var e=t.getAttribute("is")||t.nodeName,n=Ms.get(e);if(n)return n;Ms.set(e,n=[]);for(var r,s=t,i=Element.prototype;i!==s;){r=ci(s);for(var a in r)r[a].set&&n.push(a);s=vr(s)}return n}const oc=()=>performance.now(),jt={tick:t=>requestAnimationFrame(t),now:()=>oc(),tasks:new Set};function ta(){const t=jt.now();jt.tasks.forEach(e=>{e.c(t)||(jt.tasks.delete(e),e.f())}),jt.tasks.size!==0&&jt.tick(ta)}function cc(t){let e;return jt.tasks.size===0&&jt.tick(ta),{promise:new Promise(n=>{jt.tasks.add(e={c:t,f:n})}),abort(){jt.tasks.delete(e)}}}function nr(t,e){Pn(()=>{t.dispatchEvent(new CustomEvent(e))})}function lc(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ds(t){const e={},n=t.split(";");for(const r of n){const[s,i]=r.split(":");if(!s||i===void 0)break;const a=lc(s.trim());e[a]=i.trim()}return e}const dc=t=>t;function na(t,e,n){var r=cn,s,i,a,o=null;r.a??={element:t,measure(){s=this.element.getBoundingClientRect()},apply(){if(a?.abort(),i=this.element.getBoundingClientRect(),s.left!==i.left||s.right!==i.right||s.top!==i.top||s.bottom!==i.bottom){const l=e()(this.element,{from:s,to:i},n?.());a=ur(this.element,l,void 0,1,()=>{a?.abort(),a=void 0})}},fix(){if(!t.getAnimations().length){var{position:l,width:d,height:u}=getComputedStyle(t);if(l!=="absolute"&&l!=="fixed"){var f=t.style;o={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=u;var p=t.getBoundingClientRect();if(s.left!==p.left||s.top!==p.top){var m=`translate(${s.left-p.left}px, ${s.top-p.top}px)`;f.transform=f.transform?`${f.transform} ${m}`:m}}}},unfix(){if(o){var l=t.style;l.position=o.position,l.width=o.width,l.height=o.height,l.transform=o.transform}}},r.a.element=t}function nn(t,e,n,r){var s=(t&Xa)!==0,i="both",a,o=e.inert,l=e.style.overflow,d,u;function f(){return Pn(()=>a??=n()(e,r?.()??{},{direction:i}))}var p={is_global:s,in(){e.inert=o,nr(e,"introstart"),d=ur(e,f(),u,1,()=>{nr(e,"introend"),d?.abort(),d=a=void 0,e.style.overflow=l})},out(I){e.inert=!0,nr(e,"outrostart"),u=ur(e,f(),d,0,()=>{nr(e,"outroend"),I?.()})},stop:()=>{d?.abort(),u?.abort()}},m=ee;if((m.transitions??=[]).push(p),lr){var y=s;if(!y){for(var _=m.parent;_&&(_.f&Zt)!==0;)for(;(_=_.parent)&&(_.f&Jt)===0;);y=!_||(_.f&gr)!==0}y&&Ir(()=>{Tn(()=>p.in())})}}function ur(t,e,n,r,s){var i=r===1;if(mn(e)){var a,o=!1;return Kt(()=>{if(!o){var I=e({direction:i?"in":"out"});a=ur(t,I,n,r,s)}}),{abort:()=>{o=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!e?.duration)return s(),{abort:de,deactivate:de,reset:de,t:()=>r};const{delay:l=0,css:d,tick:u,easing:f=dc}=e;var p=[];if(i&&n===void 0&&(u&&u(0,1),d)){var m=Ds(d(0,1));p.push(m,m)}var y=()=>1-r,_=t.animate(p,{duration:l,fill:"forwards"});return _.onfinish=()=>{_.cancel();var I=n?.t()??1-r;n?.abort();var E=r-I,D=e.duration*Math.abs(E),T=[];if(D>0){var $=!1;if(d)for(var M=Math.ceil(D/16.666666666666668),R=0;R<=M;R+=1){var C=I+E*f(R/M),q=Ds(d(C,1-C));T.push(q),$||=q.overflow==="hidden"}$&&(t.style.overflow="hidden"),y=()=>{var G=_.currentTime;return I+E*f(G/D)},u&&cc(()=>{if(_.playState!=="running")return!1;var G=y();return u(G,1-G),!0})}_=t.animate(T,{duration:D,fill:"forwards"}),_.onfinish=()=>{y=()=>r,u?.(r,1-r),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=de)},deactivate:()=>{s=de},reset:()=>{r===0&&u?.(1,0)},t:()=>y()}}function at(t,e,n=e){var r=new WeakSet;$i(t,"input",async s=>{var i=s?t.defaultValue:t.value;if(i=qr(t)?jr(i):i,n(i),Te!==null&&r.add(Te),await jo(),i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),Tn(e)==null&&t.value&&(n(qr(t)?jr(t.value):t.value),Te!==null&&r.add(Te)),xi(()=>{var s=e();if(t===document.activeElement){var i=ar??Te;if(r.has(i))return}qr(t)&&s===jr(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function qr(t){var e=t.type;return e==="number"||e==="range"}function jr(t){return t===""?null:+t}function uc(t=!1){const e=ke,n=e.l.u;if(!n)return;let r=()=>Lo(e.s);if(t){let s=0,i={};const a=Xn(()=>{let o=!1;const l=e.s;for(const d in l)l[d]!==i[d]&&(i[d]=l[d],o=!0);return o&&s++,s});r=()=>c(a)}n.b.length&&$o(()=>{xs(e,r),Ur(n.b)}),wt(()=>{const s=Tn(()=>n.m.map(Ta));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&wt(()=>{xs(e,r),Ur(n.a)})}function xs(t,e){if(t.l.s)for(const n of t.l.s)c(n);e()}let rr=!1;function fc(t){var e=rr;try{return rr=!1,[t(),rr]}finally{rr=e}}const hc={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function be(t,e,n){return new Proxy({props:t,exclude:e},hc)}const pc={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(mn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let s=t.props[r];mn(s)&&(s=s());const i=Qt(s,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(mn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const s=Qt(r,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===Nt||e===fi)return!1;for(let n of t.props)if(mn(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(mn(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function Se(...t){return new Proxy({props:t},pc)}function Ne(t,e,n,r){var s=!Rn||(n&Ga)!==0,i=(n&Ya)!==0,a=(n&Ja)!==0,o=r,l=!0,d=()=>(l&&(l=!1,o=a?Tn(r):r),o),u;if(i){var f=Nt in t||fi in t;u=Qt(t,e)?.set??(f&&e in t?T=>t[e]=T:void 0)}var p,m=!1;i?[p,m]=fc(()=>t[e]):p=t[e],p===void 0&&r!==void 0&&(p=d(),u&&(s&&La(),u(p)));var y;if(s?y=()=>{var T=t[e];return T===void 0?d():(l=!0,T)}:y=()=>{var T=t[e];return T!==void 0&&(o=void 0),T===void 0?o:T},s&&(n&Ka)===0)return y;if(u){var _=t.$$legacy;return(function(T,$){return arguments.length>0?((!s||!$||_||m)&&u($?y():T),T):y()})}var I=!1,E=((n&Va)!==0?Xn:es)(()=>(I=!1,y()));i&&c(E);var D=ee;return(function(T,$){if(arguments.length>0){const M=$?c(E):s&&i?$e(T):T;return h(E,M),I=!0,o!==void 0&&(o=M),T}return fn&&I||(D.f&un)!==0?E.v:c(E)})}function ra(t){ke===null&&xa(),Rn&&ke.l!==null?vc(ke).m.push(t):wt(()=>{const e=Tn(t);if(typeof e=="function")return e})}function vc(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const mc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(mc);const gc="modulepreload",yc=function(t){return"/"+t},ks={},Cs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=d(n.map(u=>{if(u=yc(u),u in ks)return;ks[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":gc,f||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};class Tt extends Map{#e=new Map;#t=A(0);#n=A(0);#i=Ut||-1;constructor(e){if(super(),e){for(var[n,r]of e)super.set(n,r);this.#n.v=super.size}}#s(e){return Ut===this.#i?A(e):Yt(e)}has(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),n.set(e,r);else return c(this.#t),!1}return c(r),!0}forEach(e,n){this.#c(),super.forEach(e,n)}get(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),n.set(e,r);else{c(this.#t);return}}return c(r),super.get(e)}set(e,n){var r=this.#e,s=r.get(e),i=super.get(e),a=super.set(e,n),o=this.#t;if(s===void 0)s=this.#s(0),r.set(e,s),h(this.#n,super.size),At(o);else if(i!==n){At(s);var l=o.reactions===null?null:new Set(o.reactions),d=l===null||!s.reactions?.every(u=>l.has(u));d&&At(o)}return a}delete(e){var n=this.#e,r=n.get(e),s=super.delete(e);return r!==void 0&&(n.delete(e),h(this.#n,super.size),h(r,-1),At(this.#t)),s}clear(){if(super.size!==0){super.clear();var e=this.#e;h(this.#n,0);for(var n of e.values())h(n,-1);At(this.#t),e.clear()}}#c(){c(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var r=this.#s(0);e.set(n,r)}}for([,r]of this.#e)c(r)}keys(){return c(this.#t),super.keys()}values(){return this.#c(),super.values()}entries(){return this.#c(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return c(this.#n),super.size}}class wc{#e;#t;constructor(e,n){this.#e=e,this.#t=Fr(n)}get current(){return this.#t(),this.#e()}}const bc=/\(.+\)/,_c=new Set(["all","print","screen","and","or","not","only"]);class Ic extends wc{constructor(e,n){let r=bc.test(e)||e.split(/[\s,]+/).some(i=>_c.has(i.trim()))?e:`(${e})`;const s=window.matchMedia(r);super(()=>s.matches,i=>Vr(s,"change",i))}}const Sc=typeof window<"u"?window:void 0;function Ec(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class Ac{#e;#t;constructor(e={}){const{window:n=Sc,document:r=n?.document}=e;n!==void 0&&(this.#e=r,this.#t=Fr(s=>{const i=Vr(n,"focusin",s),a=Vr(n,"focusout",s);return()=>{i(),a()}}))}get current(){return this.#t?.(),this.#e?Ec(this.#e):null}}new Ac;function Rc(t){return typeof t=="function"}function Pc(t,e){if(Rc(t)){const r=t();return r===void 0?e:r}return t===void 0?e:t}function Tc(t,e){let n=A(null);const r=J(()=>Pc(e,250));function s(...i){if(c(n))c(n).timeout&&clearTimeout(c(n).timeout);else{let a,o;const l=new Promise((d,u)=>{a=d,o=u});h(n,{timeout:null,runner:null,promise:l,resolve:a,reject:o},!0)}return c(n).runner=async()=>{if(!c(n))return;const a=c(n);h(n,null);try{a.resolve(await t.apply(this,i))}catch(o){a.reject(o)}},c(n).timeout=setTimeout(c(n).runner,c(r)),c(n).promise}return s.cancel=async()=>{(!c(n)||c(n).timeout===null)&&(await new Promise(i=>setTimeout(i,0)),!c(n)||c(n).timeout===null)||(clearTimeout(c(n).timeout),c(n).reject("Cancelled"),h(n,null))},s.runScheduledNow=async()=>{(!c(n)||!c(n).timeout)&&(await new Promise(i=>setTimeout(i,0)),!c(n)||!c(n).timeout)||(clearTimeout(c(n).timeout),c(n).timeout=null,await c(n).runner?.())},Object.defineProperty(s,"pending",{enumerable:!0,get(){return!!c(n)?.timeout}}),s}function Rt(t){if(!t?.trim())return null;try{return JSON.parse(t)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function Ar(t){return t?.length?t.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function Rr(t){if(!t?.length)return[];const e=new Map;return t.forEach(n=>{if(!n.q||!n.u||typeof n.q!="number"||isNaN(n.q))return;const r=e.get(n.u)||0;e.set(n.u,r+n.q)}),Array.from(e.entries()).map(([n,r])=>({q:r,u:n}))}function Pr(t,e){if(!t?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=t.map(l=>rn(l.q.toString(),l.u)).join(" et ");return{numeric:t,display:o}}const n=new Map,r=new Map;t.forEach(o=>{const l=parseFloat(o.q);isNaN(l)||n.set(o.u,(n.get(o.u)||0)+l)}),e.forEach(o=>{r.set(o.u,(r.get(o.u)||0)+o.q)});const s=[],i=[];n.forEach((o,l)=>{const d=r.get(l)||0,u=o-d;u>0&&(s.push({q:u,u:l}),i.push(rn(u.toString(),l)))});const a=i.length>0?i.join(" et "):"✅ Complet";return{numeric:s,display:a}}function Fe(t){return t?.length?t.map(e=>rn(e.q.toString(),e.u)).join(" et "):"-"}function rn(t,e){const n=parseFloat(t);if(isNaN(n))return`${t} ${e}`;if((e==="gr."||e==="ml")&&n>=1e3){const r=n/1e3,s=e==="gr."?"kg":"l.";let a=(Math.round(r*100)/100).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),a.endsWith(",00")&&(a=a.slice(0,-3)),`${a} ${s}`}if(!["gr.","ml","kg","l."].includes(e)){let s=(Math.round(n*10)/10).toString();return s.endsWith(",0")&&(s=s.slice(0,-2)),`${s} ${e}`}return`${n} ${e}`}function os(t){if(!t?.length)return[];const e=new Map;return t.forEach(({q:n,u:r})=>{if(typeof n=="number"&&!isNaN(n)){const s=e.get(r)||0;e.set(r,s+n)}}),Array.from(e.entries()).map(([n,r])=>({q:r,u:n}))}function $c(t){return t?Object.values(t).some(e=>e.recipes?.some(n=>n.q!==void 0||n.u!==void 0)):!1}function cs(t){if(!t)return[];const e=Object.values(t).flatMap(n=>n.totalConsolidated);return os(e)}function sa(t,e){const n=new Map,r=new Map;t.forEach(({q:a,u:o})=>{n.set(o,(n.get(o)||0)+a)}),e.forEach(({q:a,u:o})=>{r.set(o,(r.get(o)||0)+a)});const s=[],i=new Set([...n.keys(),...r.keys()]);for(const a of i){const o=n.get(a)||0,l=r.get(a)||0,d=o-l;Math.abs(d)>.001&&s.push({q:d,u:a})}return s}function ls(t){if(!t?.length)return"Équilibré";const e=t.filter(r=>r.q>0),n=t.filter(r=>r.q<0);if(e.length>0&&n.length>0){const r=e.map(i=>rn(i.q.toString(),i.u)).join(" et "),s=n.map(i=>rn(Math.abs(i.q).toString(),i.u)).join(" et ");return`${r} disponibles, ${s} manquant${n.length>1?"s":""}`}else return e.length>0?e.map(r=>"+"+rn(r.q.toString(),r.u)).join(" et ")+" disponibles":n.length>0?n.map(r=>rn(Math.abs(r.q).toString(),r.u)).join(" et ")+` manquant${n.length>1?"s":""}`:"Équilibré"}function Mc(t,e){if(e.searchQuery.trim()){const n=e.searchQuery.toLowerCase();if(!t.productName.toLowerCase().includes(n))return!1}return!(e.selectedStores.length>0&&(!t.storeInfo?.storeName||!e.selectedStores.includes(t.storeInfo.storeName))||e.selectedWho.length>0&&(!t.who||!t.who.some(n=>e.selectedWho.includes(n)))||e.selectedProductTypes.length>0&&(!t.productType||!e.selectedProductTypes.includes(t.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&t.pFrais||e.selectedTemperatures.includes("surgele")&&t.pSurgel))}function qs(t){return{...t,products:t.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:t.mainId}}function Dc(t){const e=Rt(t.specs)??null,n=Rr(Ar(t.purchases??[]));let r=[];e?.quantity&&(r=[e.quantity]);const{numeric:s,display:i}=Pr(r,n),a=Rt(t.stockReel)??null,o=Fe(n),l=t.store?Rt(t.store):null,d=a?`${a.quantity} ${a.unit}`:o;return{$id:t.$id,$createdAt:t.$createdAt,$updatedAt:t.$updatedAt,productHugoUuid:t.productHugoUuid||"",productName:t.productName,productType:t.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:t.isSynced,mainId:t.mainId,totalNeededRaw:[],status:t.status,who:t.who,store:t.store,stockReel:t.stockReel,previousNames:t.previousNames,isMerged:t.isMerged,mergedFrom:t.mergedFrom,mergeDate:t.mergeDate,mergeReason:t.mergeReason,mergedInto:t.mergedInto,totalNeededOverride:t.totalNeededOverride,purchases:t.purchases,specs:t.specs,byDate:{},storeInfo:l,stockParsed:a,specsParsed:e,totalNeededArray:r,totalPurchasesArray:n,missingQuantityArray:s,stockOrTotalPurchases:d,displayTotalNeeded:Fe(r),displayTotalPurchases:o,displayMissingQuantity:i,totalNeededOverrideParsed:Rt(t.totalNeededOverride),displayTotalOverride:(()=>{const u=Rt(t.totalNeededOverride);return u?Fe([u.totalOverride]):""})()}}function sr(t,e){const n=t.purchases??e.purchases,r=t.specs??e.specs,s=r?Rt(r):e.specsParsed,i=Rr(Ar(n??[])),a=Fe(i);let o=e.totalNeededArray;!e.productHugoUuid&&s?.quantity&&(o=[s.quantity]);const{numeric:l,display:d}=Pr(o,i),u=t.stockReel??e.stockReel,f=u?Rt(u):e.stockParsed,p=t.store??e.store,m=p?Rt(p):e.storeInfo,y=f?`${f.quantity} ${f.unit}`:a;return t.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:t.$updatedAt,productName:t.productName??e.productName,productType:t.productType??e.productType,isSynced:t.isSynced??e.isSynced,mainId:t.mainId??e.mainId,pFrais:s?.pFrais??e.pFrais,pSurgel:s?.pSurgel??e.pSurgel,status:t.status??e.status,who:t.who??e.who,store:p,stockReel:u,specs:r,purchases:n,previousNames:t.previousNames??e.previousNames,isMerged:t.isMerged??e.isMerged,mergedFrom:t.mergedFrom??e.mergedFrom,mergeDate:t.mergeDate??e.mergeDate,mergeReason:t.mergeReason??e.mergeReason,mergedInto:t.mergedInto??e.mergedInto,totalNeededOverride:t.totalNeededOverride??e.totalNeededOverride,storeInfo:m,stockParsed:f,specsParsed:s,totalNeededArray:o,totalPurchasesArray:i,missingQuantityArray:l,stockOrTotalPurchases:y,displayTotalPurchases:a,displayMissingQuantity:d,displayTotalNeeded:Fe(o),totalNeededOverrideParsed:Rt(t.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const _=Rt(t.totalNeededOverride??e.totalNeededOverride);return _?Fe([_.totalOverride]):""})()}}class xc{#e=A($e([]));MAX_TOASTS=3;get toasts(){return[...c(this.#e)].sort((e,n)=>n.timestamp-e.timestamp)}create(e){const n=e.id||crypto.randomUUID(),r={id:n,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,details:e.details,actions:e.actions||[]};return this.#t(r),n}update(e,n){const r=c(this.#e).findIndex(i=>i.id===e);if(r===-1)return;const s=c(this.#e)[r];s.timeoutId&&clearTimeout(s.timeoutId),c(this.#e)[r]={...s,state:n.state||s.state,message:n.message||s.message,source:n.source||s.source,actions:n.actions||s.actions},this.#n(c(this.#e)[r])}async track(e,n){const r=this.create({id:n.id,state:"loading",message:n.loading,source:"user"});try{const s=await e;return this.update(r,{state:"success",message:n.success||"Opération réussie"}),s}catch(s){throw this.update(r,{state:"error",message:n.error||"Erreur lors de l'opération"}),s}}dismiss(e){const n=c(this.#e).findIndex(s=>s.id===e);if(n===-1)return;const r=c(this.#e)[n];r.timeoutId&&clearTimeout(r.timeoutId),c(this.#e).splice(n,1)}dismissAll(){c(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),h(this.#e,[],!0)}#t(e){if(e.source==="user"){const n=c(this.#e).findIndex(r=>r.source==="user");n>=0?c(this.#e)[n]=e:c(this.#e).push(e)}else{const n=c(this.#e).filter(r=>r.source!=="user");if(n.length>=2){const r=n[0];this.dismiss(r.id)}c(this.#e).push(e)}c(this.#e).length>this.MAX_TOASTS&&c(this.#e).splice(0,c(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){if(e.state!=="success"&&e.state!=="info")return;const n=e.source==="realtime-other"?4e3:2e3;e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},n)}success(e,n){return this.create({state:"success",message:e,details:n})}error(e,n){return this.create({state:"error",message:e,details:n})}warning(e,n){return this.create({state:"warning",message:e,source:n?.source||"system",details:n?.details,actions:n?.actions})}info(e,n){return this.create({state:"info",message:e,source:n?.source||"system",details:n?.details})}loading(e,n){return this.create({state:"loading",message:e,details:n})}}const dt=new xc;function Nr(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{d(r.next(u))}catch(f){a(f)}}function l(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,l)}d((r=r.apply(t,[])).next())})}function kc(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}class S{constructor(e,n,r){this.method=e,this.attribute=n,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}S.equal=(t,e)=>new S("equal",t,e).toString();S.notEqual=(t,e)=>new S("notEqual",t,e).toString();S.lessThan=(t,e)=>new S("lessThan",t,e).toString();S.lessThanEqual=(t,e)=>new S("lessThanEqual",t,e).toString();S.greaterThan=(t,e)=>new S("greaterThan",t,e).toString();S.greaterThanEqual=(t,e)=>new S("greaterThanEqual",t,e).toString();S.isNull=t=>new S("isNull",t).toString();S.isNotNull=t=>new S("isNotNull",t).toString();S.between=(t,e,n)=>new S("between",t,[e,n]).toString();S.startsWith=(t,e)=>new S("startsWith",t,e).toString();S.endsWith=(t,e)=>new S("endsWith",t,e).toString();S.select=t=>new S("select",void 0,t).toString();S.search=(t,e)=>new S("search",t,e).toString();S.orderDesc=t=>new S("orderDesc",t).toString();S.orderAsc=t=>new S("orderAsc",t).toString();S.orderRandom=()=>new S("orderRandom").toString();S.cursorAfter=t=>new S("cursorAfter",void 0,t).toString();S.cursorBefore=t=>new S("cursorBefore",void 0,t).toString();S.limit=t=>new S("limit",void 0,t).toString();S.offset=t=>new S("offset",void 0,t).toString();S.contains=(t,e)=>new S("contains",t,e).toString();S.notContains=(t,e)=>new S("notContains",t,e).toString();S.notSearch=(t,e)=>new S("notSearch",t,e).toString();S.notBetween=(t,e,n)=>new S("notBetween",t,[e,n]).toString();S.notStartsWith=(t,e)=>new S("notStartsWith",t,e).toString();S.notEndsWith=(t,e)=>new S("notEndsWith",t,e).toString();S.createdBefore=t=>S.lessThan("$createdAt",t);S.createdAfter=t=>S.greaterThan("$createdAt",t);S.createdBetween=(t,e)=>S.between("$createdAt",t,e);S.updatedBefore=t=>S.lessThan("$updatedAt",t);S.updatedAfter=t=>S.greaterThan("$updatedAt",t);S.updatedBetween=(t,e)=>S.between("$updatedAt",t,e);S.or=t=>new S("or",void 0,t.map(e=>JSON.parse(e))).toString();S.and=t=>new S("and",void 0,t.map(e=>JSON.parse(e))).toString();S.distanceEqual=(t,e,n,r=!0)=>new S("distanceEqual",t,[[e,n,r]]).toString();S.distanceNotEqual=(t,e,n,r=!0)=>new S("distanceNotEqual",t,[[e,n,r]]).toString();S.distanceGreaterThan=(t,e,n,r=!0)=>new S("distanceGreaterThan",t,[[e,n,r]]).toString();S.distanceLessThan=(t,e,n,r=!0)=>new S("distanceLessThan",t,[[e,n,r]]).toString();S.intersects=(t,e)=>new S("intersects",t,[e]).toString();S.notIntersects=(t,e)=>new S("notIntersects",t,[e]).toString();S.crosses=(t,e)=>new S("crosses",t,[e]).toString();S.notCrosses=(t,e)=>new S("notCrosses",t,[e]).toString();S.overlaps=(t,e)=>new S("overlaps",t,[e]).toString();S.notOverlaps=(t,e)=>new S("notOverlaps",t,[e]).toString();S.touches=(t,e)=>new S("touches",t,[e]).toString();S.notTouches=(t,e)=>new S("notTouches",t,[e]).toString();class w extends Error{constructor(e,n=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=r,this.response=s}}class St{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;this.config.project&&s.set("project",this.config.project),this.realtime.channels.forEach(a=>{s.append("channels[]",a)});const i=this.config.endpointRealtime+"/realtime?"+s.toString();(i!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",a=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",a=>{var o,l,d;if(!this.realtime.reconnect||((l=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,a.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var n,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":let i=this.config.session;if(!i){const l=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}");i=l?.[`a_session_${this.config.project}`]}const a=s.data;i&&!a.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:i}})));break;case"event":let o=s.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(u=>d.channels.includes(u))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([s,i])=>i.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new w("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new w("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let r=typeof e=="string"?[e]:e;r.forEach(i=>this.realtime.channels.add(i));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,n,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const a=window.localStorage.getItem("cookieFallback");a&&(r["X-Fallback-Cookies"]=a)}let i={method:e,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(i.credentials="include"),e==="GET")for(const[a,o]of Object.entries(St.flatten(s)))n.searchParams.append(a,o);else switch(r["content-type"]){case"application/json":i.body=JSON.stringify(s);break;case"multipart/form-data":const a=new FormData;for(const[o,l]of Object.entries(s))if(l instanceof File)a.append(o,l,l.name);else if(Array.isArray(l))for(const d of l)a.append(`${o}[]`,d);else a.append(o,l);i.body=a,delete r["content-type"];break}return{uri:n.toString(),options:i}}chunkedUpload(e,n,r={},s={},i){var a;return Nr(this,void 0,void 0,function*(){const[o,l]=(a=Object.entries(s).find(([f,p])=>p instanceof File))!==null&&a!==void 0?a:[];if(!l||!o)throw new Error("File not found in payload");if(l.size<=St.CHUNK_SIZE)return yield this.call(e,n,r,s);let d=0,u=null;for(;d<l.size;){let f=d+St.CHUNK_SIZE;f>=l.size&&(f=l.size),r["content-range"]=`bytes ${d}-${f-1}/${l.size}`;const p=l.slice(d,f);let m=Object.assign({},s);m[o]=new File([p],l.name),u=yield this.call(e,n,r,m),i&&typeof i=="function"&&i({$id:u.$id,progress:Math.round(f/l.size*100),sizeUploaded:f,chunksTotal:Math.ceil(l.size/St.CHUNK_SIZE),chunksUploaded:Math.ceil(f/St.CHUNK_SIZE)}),u&&u.$id&&(r["x-appwrite-id"]=u.$id),d=f}return u})}ping(){return Nr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,r={},s={},i="json"){var a,o;return Nr(this,void 0,void 0,function*(){const{uri:l,options:d}=this.prepareRequest(e,n,r,s);let u=null;const f=yield fetch(l,d);if(f.type==="opaque")throw new w(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const p=f.headers.get("x-appwrite-warning");if(p&&p.split(";").forEach(y=>console.warn("Warning: "+y)),!((a=f.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")?u=yield f.json():i==="arrayBuffer"?u=yield f.arrayBuffer():u={message:yield f.text()},400<=f.status){let y="";throw!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||i==="arrayBuffer"?y=JSON.stringify(u):y=u?.message,new w(u?.message,f.status,u?.type,y)}const m=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&m&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",m)),u})}static flatten(e,n=""){let r={};for(const[s,i]of Object.entries(e)){let a=n?n+"["+s+"]":s;Array.isArray(i)?r=Object.assign(Object.assign({},r),St.flatten(i,a)):r[a]=i}return r}}St.CHUNK_SIZE=1024*1024*5;class Vn{constructor(e){this.client=e}static flatten(e,n=""){let r={};for(const[s,i]of Object.entries(e)){let a=n?n+"["+s+"]":s;Array.isArray(i)?r=Object.assign(Object.assign({},r),Vn.flatten(i,a)):r[a]=i}return r}}Vn.CHUNK_SIZE=5*1024*1024;class Cc{constructor(e){this.client=e}get(){const e="/account",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}create(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],password:n[1],name:n[2]};const s=r.userId,i=r.email,a=r.password,o=r.name;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "email"');if(typeof a>"u")throw new w('Missing required parameter: "password"');const l="/account",d={};typeof s<"u"&&(d.userId=s),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.password=a),typeof o<"u"&&(d.name=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}updateEmail(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const s=r.email,i=r.password;if(typeof s>"u")throw new w('Missing required parameter: "email"');if(typeof i>"u")throw new w('Missing required parameter: "password"');const a="/account/email",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}listIdentities(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:n[0]};const s=r.queries,i=r.total,a="/account/identities",o={};typeof s<"u"&&(o.queries=s),typeof i<"u"&&(o.total=i);const l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}deleteIdentity(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={identityId:e};const r=n.identityId;if(typeof r>"u")throw new w('Missing required parameter: "identityId"');const s="/account/identities/{identityId}".replace("{identityId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createJWT(){const e="/account/jwts",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}listLogs(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:n[0]};const s=r.queries,i=r.total,a="/account/logs",o={};typeof s<"u"&&(o.queries=s),typeof i<"u"&&(o.total=i);const l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}updateMFA(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={mfa:e};const r=n.mfa;if(typeof r>"u")throw new w('Missing required parameter: "mfa"');const s="/account/mfa",i={};typeof r<"u"&&(i.mfa=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const s=r.type,i=r.otp;if(typeof s>"u")throw new w('Missing required parameter: "type"');if(typeof i>"u")throw new w('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",s),o={};typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const s=r.type,i=r.otp;if(typeof s>"u")throw new w('Missing required parameter: "type"');if(typeof i>"u")throw new w('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",s),o={};typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deleteMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}deleteMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createMfaChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new w('Missing required parameter: "factor"');const s="/account/mfa/challenge",i={};typeof r<"u"&&(i.factor=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new w('Missing required parameter: "factor"');const s="/account/mfa/challenge",i={};typeof r<"u"&&(i.factor=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const s=r.challengeId,i=r.otp;if(typeof s>"u")throw new w('Missing required parameter: "challengeId"');if(typeof i>"u")throw new w('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof s<"u"&&(o.challengeId=s),typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const s=r.challengeId,i=r.otp;if(typeof s>"u")throw new w('Missing required parameter: "challengeId"');if(typeof i>"u")throw new w('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof s<"u"&&(o.challengeId=s),typeof i<"u"&&(o.otp=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}listMfaFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}listMFAFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}updateName(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={name:e};const r=n.name;if(typeof r>"u")throw new w('Missing required parameter: "name"');const s="/account/name",i={};typeof r<"u"&&(i.name=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}updatePassword(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={password:e,oldPassword:n[0]};const s=r.password,i=r.oldPassword;if(typeof s>"u")throw new w('Missing required parameter: "password"');const a="/account/password",o={};typeof s<"u"&&(o.password=s),typeof i<"u"&&(o.oldPassword=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}updatePhone(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={phone:e,password:n[0]};const s=r.phone,i=r.password;if(typeof s>"u")throw new w('Missing required parameter: "phone"');if(typeof i>"u")throw new w('Missing required parameter: "password"');const a="/account/phone",o={};typeof s<"u"&&(o.phone=s),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}getPrefs(){const e="/account/prefs",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}updatePrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?n=e||{}:n={prefs:e};const r=n.prefs;if(typeof r>"u")throw new w('Missing required parameter: "prefs"');const s="/account/prefs",i={};typeof r<"u"&&(i.prefs=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,url:n[0]};const s=r.email,i=r.url;if(typeof s>"u")throw new w('Missing required parameter: "email"');if(typeof i>"u")throw new w('Missing required parameter: "url"');const a="/account/recovery",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.url=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0],password:n[1]};const s=r.userId,i=r.secret,a=r.password;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');if(typeof a>"u")throw new w('Missing required parameter: "password"');const o="/account/recovery",l={};typeof s<"u"&&(l.userId=s),typeof i<"u"&&(l.secret=i),typeof a<"u"&&(l.password=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",d,u,l)}listSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}deleteSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("delete",r,s,n)}createAnonymousSession(){const e="/account/sessions/anonymous",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}createEmailPasswordSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const s=r.email,i=r.password;if(typeof s>"u")throw new w('Missing required parameter: "email"');if(typeof i>"u")throw new w('Missing required parameter: "password"');const a="/account/sessions/email",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.password=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateMagicURLSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/sessions/magic-url",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createOAuth2Session(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const s=r.provider,i=r.success,a=r.failure,o=r.scopes;if(typeof s>"u")throw new w('Missing required parameter: "provider"');const l="/account/sessions/oauth2/{provider}".replace("{provider}",s),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[f,p]of Object.entries(Vn.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}updatePhoneSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/sessions/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/sessions/token",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}getSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}deleteSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}updateStatus(){const e="/account/status",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}createPushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0],providerId:n[1]};const s=r.targetId,i=r.identifier,a=r.providerId;if(typeof s>"u")throw new w('Missing required parameter: "targetId"');if(typeof i>"u")throw new w('Missing required parameter: "identifier"');const o="/account/targets/push",l={};typeof s<"u"&&(l.targetId=s),typeof i<"u"&&(l.identifier=i),typeof a<"u"&&(l.providerId=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}updatePushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0]};const s=r.targetId,i=r.identifier;if(typeof s>"u")throw new w('Missing required parameter: "targetId"');if(typeof i>"u")throw new w('Missing required parameter: "identifier"');const a="/account/targets/{targetId}/push".replace("{targetId}",s),o={};typeof i<"u"&&(o.identifier=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deletePushTarget(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e};const r=n.targetId;if(typeof r>"u")throw new w('Missing required parameter: "targetId"');const s="/account/targets/{targetId}/push".replace("{targetId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createEmailToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],phrase:n[1]};const s=r.userId,i=r.email,a=r.phrase;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "email"');const o="/account/tokens/email",l={};typeof s<"u"&&(l.userId=s),typeof i<"u"&&(l.email=i),typeof a<"u"&&(l.phrase=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}createMagicURLToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],url:n[1],phrase:n[2]};const s=r.userId,i=r.email,a=r.url,o=r.phrase;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "email"');const l="/account/tokens/magic-url",d={};typeof s<"u"&&(d.userId=s),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.url=a),typeof o<"u"&&(d.phrase=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}createOAuth2Token(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const s=r.provider,i=r.success,a=r.failure,o=r.scopes;if(typeof s>"u")throw new w('Missing required parameter: "provider"');const l="/account/tokens/oauth2/{provider}".replace("{provider}",s),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[f,p]of Object.entries(Vn.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}createPhoneToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,phone:n[0]};const s=r.userId,i=r.phone;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "phone"');const a="/account/tokens/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.phone=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}createEmailVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const r=n.url;if(typeof r>"u")throw new w('Missing required parameter: "url"');const s="/account/verifications/email",i={};typeof r<"u"&&(i.url=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const r=n.url;if(typeof r>"u")throw new w('Missing required parameter: "url"');const s="/account/verifications/email",i={};typeof r<"u"&&(i.url=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateEmailVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createPhoneVerification(){const e="/account/verifications/phone",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}updatePhoneVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "userId"');if(typeof i>"u")throw new w('Missing required parameter: "secret"');const a="/account/verifications/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}class qc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,s="/databases/transactions",i={};typeof r<"u"&&(i.queries=r);const a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const r=n.ttl,s="/databases/transactions",i={};typeof r<"u"&&(i.ttl=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const s="/databases/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:n[0],rollback:n[1]};const s=r.transactionId,i=r.commit,a=r.rollback;if(typeof s>"u")throw new w('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",s),l={};typeof i<"u"&&(l.commit=i),typeof a<"u"&&(l.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const s="/databases/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:n[0]};const s=r.transactionId,i=r.operations;if(typeof s>"u")throw new w('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}/operations".replace("{transactionId}",s),o={};typeof i<"u"&&(o.operations=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listDocuments(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const s=r.databaseId,i=r.collectionId,a=r.queries,o=r.transactionId,l=r.total;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",s).replace("{collectionId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",s).replace("{collectionId}",i),f={};typeof a<"u"&&(f.documentId=a),typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",p,m,f)}getDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],queries:n[2],transactionId:n[3]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.queries,l=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",p,m,f)}updateDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",p,m,f)}deleteDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],transactionId:n[2]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],min:n[4],transactionId:n[5]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.attribute,l=r.value,d=r.min,u=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",m,y,p)}incrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],max:n[4],transactionId:n[5]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.attribute,l=r.value,d=r.max,u=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "collectionId"');if(typeof a>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",m,y,p)}}class jc{constructor(e){this.client=e}listExecutions(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,queries:n[0],total:n[1]};const s=r.functionId,i=r.queries,a=r.total;if(typeof s>"u")throw new w('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",s),l={};typeof i<"u"&&(l.queries=i),typeof a<"u"&&(l.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}createExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,body:n[0],async:n[1],xpath:n[2],method:n[3],headers:n[4],scheduledAt:n[5]};const s=r.functionId,i=r.body,a=r.async,o=r.xpath,l=r.method,d=r.headers,u=r.scheduledAt;if(typeof s>"u")throw new w('Missing required parameter: "functionId"');const f="/functions/{functionId}/executions".replace("{functionId}",s),p={};typeof i<"u"&&(p.body=i),typeof a<"u"&&(p.async=a),typeof o<"u"&&(p.path=o),typeof l<"u"&&(p.method=l),typeof d<"u"&&(p.headers=d),typeof u<"u"&&(p.scheduledAt=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",m,y,p)}getExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,executionId:n[0]};const s=r.functionId,i=r.executionId;if(typeof s>"u")throw new w('Missing required parameter: "functionId"');if(typeof i>"u")throw new w('Missing required parameter: "executionId"');const a="/functions/{functionId}/executions/{executionId}".replace("{functionId}",s).replace("{executionId}",i),o={},l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}}class Nc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,s="/tablesdb/transactions",i={};typeof r<"u"&&(i.queries=r);const a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const r=n.ttl,s="/tablesdb/transactions",i={};typeof r<"u"&&(i.ttl=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const s="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:n[0],rollback:n[1]};const s=r.transactionId,i=r.commit,a=r.rollback;if(typeof s>"u")throw new w('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),l={};typeof i<"u"&&(l.commit=i),typeof a<"u"&&(l.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const s="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:n[0]};const s=r.transactionId,i=r.operations;if(typeof s>"u")throw new w('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",s),o={};typeof i<"u"&&(o.operations=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listRows(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const s=r.databaseId,i=r.tableId,a=r.queries,o=r.transactionId,l=r.total;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",s).replace("{tableId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",s).replace("{tableId}",i),f={};typeof a<"u"&&(f.rowId=a),typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",p,m,f)}getRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],queries:n[2],transactionId:n[3]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.queries,l=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",p,m,f)}updateRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof l<"u"&&(f.permissions=l),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",p,m,f)}deleteRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],transactionId:n[2]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');const l="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementRowColumn(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],min:n[4],transactionId:n[5]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.column,l=r.value,d=r.min,u=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",m,y,p)}incrementRowColumn(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],max:n[4],transactionId:n[5]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.column,l=r.value,d=r.max,u=r.transactionId;if(typeof s>"u")throw new w('Missing required parameter: "databaseId"');if(typeof i>"u")throw new w('Missing required parameter: "tableId"');if(typeof a>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof l<"u"&&(p.value=l),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",m,y,p)}}class Lc{constructor(e){this.client=e}list(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,search:n[0],total:n[1]};const s=r.queries,i=r.search,a=r.total,o="/teams",l={};typeof s<"u"&&(l.queries=s),typeof i<"u"&&(l.search=i),typeof a<"u"&&(l.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}create(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:n[0],roles:n[1]};const s=r.teamId,i=r.name,a=r.roles;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "name"');const o="/teams",l={};typeof s<"u"&&(l.teamId=s),typeof i<"u"&&(l.name=i),typeof a<"u"&&(l.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}get(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const s="/teams/{teamId}".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateName(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:n[0]};const s=r.teamId,i=r.name;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "name"');const a="/teams/{teamId}".replace("{teamId}",s),o={};typeof i<"u"&&(o.name=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}delete(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const s="/teams/{teamId}".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}listMemberships(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,queries:n[0],search:n[1],total:n[2]};const s=r.teamId,i=r.queries,a=r.search,o=r.total;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');const l="/teams/{teamId}/memberships".replace("{teamId}",s),d={};typeof i<"u"&&(d.queries=i),typeof a<"u"&&(d.search=a),typeof o<"u"&&(d.total=o);const u=new URL(this.client.config.endpoint+l),f={};return this.client.call("get",u,f,d)}createMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,roles:n[0],email:n[1],userId:n[2],phone:n[3],url:n[4],name:n[5]};const s=r.teamId,i=r.roles,a=r.email,o=r.userId,l=r.phone,d=r.url,u=r.name;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",s),p={};typeof a<"u"&&(p.email=a),typeof o<"u"&&(p.userId=o),typeof l<"u"&&(p.phone=l),typeof i<"u"&&(p.roles=i),typeof d<"u"&&(p.url=d),typeof u<"u"&&(p.name=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",m,y,p)}getMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0]};const s=r.teamId,i=r.membershipId;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),o={},l=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",l,d,o)}updateMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0],roles:n[1]};const s=r.teamId,i=r.membershipId,a=r.roles;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "membershipId"');if(typeof a>"u")throw new w('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),l={};typeof a<"u"&&(l.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0]};const s=r.teamId,i=r.membershipId;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),o={},l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("delete",l,d,o)}updateMembershipStatus(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0],userId:n[1],secret:n[2]};const s=r.teamId,i=r.membershipId,a=r.userId,o=r.secret;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "membershipId"');if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof o>"u")throw new w('Missing required parameter: "secret"');const l="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",s).replace("{membershipId}",i),d={};typeof a<"u"&&(d.userId=a),typeof o<"u"&&(d.secret=o);const u=new URL(this.client.config.endpoint+l),f={"content-type":"application/json"};return this.client.call("patch",u,f,d)}getPrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const s="/teams/{teamId}/prefs".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updatePrefs(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,prefs:n[0]};const s=r.teamId,i=r.prefs;if(typeof s>"u")throw new w('Missing required parameter: "teamId"');if(typeof i>"u")throw new w('Missing required parameter: "prefs"');const a="/teams/{teamId}/prefs".replace("{teamId}",s),o={};typeof i<"u"&&(o.prefs=i);const l=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}var js;(function(t){t[t.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",t[t.POLICY_VIOLATION=1008]="POLICY_VIOLATION",t[t.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(js||(js={}));class Le{}Le.read=t=>`read("${t}")`;Le.write=t=>`write("${t}")`;Le.create=t=>`create("${t}")`;Le.update=t=>`update("${t}")`;Le.delete=t=>`delete("${t}")`;class tt{static any(){return"any"}static user(e,n=""){return n===""?`user:${e}`:`user:${e}/${n}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,n=""){return n===""?`team:${e}`:`team:${e}/${n}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ia,aa;class Ht{static custom(e){return e}static unique(e=7){const n=kc(Ht,ia,"m",aa).call(Ht);let r="";for(let s=0;s<e;s++){const i=Math.floor(Math.random()*16).toString(16);r+=i}return n+r}}ia=Ht,aa=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var Ns;(function(t){t.Equal="equal",t.NotEqual="notEqual",t.GreaterThan="greaterThan",t.GreaterThanEqual="greaterThanEqual",t.LessThan="lessThan",t.LessThanEqual="lessThanEqual",t.Contains="contains",t.IsNull="isNull",t.IsNotNull="isNotNull"})(Ns||(Ns={}));var Ls;(function(t){t.Totp="totp"})(Ls||(Ls={}));var Us;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(Us||(Us={}));var Hs;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(Hs||(Hs={}));var Bs;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(Bs||(Bs={}));var zs;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionPay="unionpay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(zs||(zs={}));var Ws;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(Ws||(Ws={}));var Qs;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD"})(Qs||(Qs={}));var Vs;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(Vs||(Vs={}));var Gs;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(Gs||(Gs={}));var Ks;(function(t){t.Http="http",t.Schedule="schedule",t.Event="event"})(Ks||(Ks={}));var Ys;(function(t){t.Waiting="waiting",t.Processing="processing",t.Completed="completed",t.Failed="failed",t.Scheduled="scheduled"})(Ys||(Ys={}));const Pt={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3"},collections:{events:"events",ingredients:"ingredients",invitations:"invitations",main:"main",purchases:"purchases",products:"products"}};let sn=null;async function re(){if(sn)return sn;console.log("[appwrite] Initialisation des instances Appwrite...");const t=new St().setEndpoint(Pt.endpoint).setProject(Pt.projectId),e=new Cc(t),n=new qc(t),r=new Nc(t),s=new jc(t),i=new Lc(t);return sn={client:t,account:e,databases:n,tables:r,functions:s,teams:i,config:Pt},console.log("[appwrite] Instances initialisées avec succès"),sn}function Uc(){console.log("[appwrite] Cache réinitialisé"),sn=null}function Hc(){return{APPWRITE_ENDPOINT:Pt.endpoint,APPWRITE_PROJECT_ID:Pt.projectId,APPWRITE_FUNCTION_ID:Pt.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:Pt.functions.accessRequest,APPWRITE_CONFIG:Pt}}function oa(t,e){return sn?sn.client.subscribe(t,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new St().setEndpoint(Pt.endpoint).setProject(Pt.projectId).subscribe(t,e))}function Nn(){return localStorage.getItem("appwrite-user-name")||""}async function Bc(t,e,n=100){try{const{tables:r,config:s}=await re(),i=await r.listRows(s.databaseId,s.APPWRITE_CONFIG.collections.purchases,[S.greaterThan("$updatedAt",e),S.equal("mainId",t),S.limit(n),S.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${i.rows.length} purchases modifiés chargés`),i.rows}catch(r){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",r),[]}}async function ca(t,e){const{lastSync:n,limit:r=100}=e;try{const{tables:s,config:i}=await re();if(!n)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await s.listRows(i.databaseId,i.APPWRITE_CONFIG.collections.products,[S.equal("mainId",t),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),S.limit(r)])).rows;const a=await s.listRows(i.databaseId,i.APPWRITE_CONFIG.collections.products,[S.greaterThan("$updatedAt",n),S.equal("mainId",t),S.limit(r),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]);return a.rows.length>0&&console.log(`[Appwrite Interactions] ${a.rows.length} produits synchronisés avec leurs purchases`),a.rows}catch(s){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${t}:`,s);const i=s instanceof Error?s.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${i}`)}}async function la(t,e,n=!0){const{tables:r,config:s}=await re();return n&&(e.updatedBy=Nn()),await r.updateRow(s.databaseId,s.APPWRITE_CONFIG.collections.products,t,e)}async function da(t,e,n=!1){if(!t)throw new Error("ID du produit requis pour la mise à jour de l'override");const r=JSON.stringify(e),s=await la(t,{totalNeededOverride:r},n);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${t}:`,e),s}async function ua(t){if(!t?.length)return[];try{const{tables:e,config:n}=await re(),r=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("$id",t),S.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${r.rows.length} purchases chargés avec relations products`),r.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const n=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${n}`)}}function fa(t,e={}){let n=null;const r=i=>{const{events:a,payload:o}=i;if(!o)return;const l=a.some(m=>m.includes("products.")),d=a.some(m=>m.includes("purchases.")),u=a.some(m=>m.includes(".create")),f=a.some(m=>m.includes(".update")),p=a.some(m=>m.includes(".delete"));if(l){const m=o;m.updatedBy&&m.updatedBy!==Nn()&&(u||f?dt.info(`${m.updatedBy} a modifié le produit "${m.productName}"`,{source:"realtime-other"}):p&&dt.info(`${m.updatedBy} a supprimé un produit`,{source:"realtime-other"})),u&&e.onProductCreate?e.onProductCreate(m):f&&e.onProductUpdate?e.onProductUpdate(m):p&&e.onProductDelete&&e.onProductDelete(m.$id)}else if(d){const m=o;if(m.createdBy&&m.createdBy!==Nn()){const y=m.products?.[0]?.productName||"un produit";u&&m.who!==Nn()?dt.info(`${m.who} a ajouté un achat pour ${y}`,{source:"realtime-other"}):f&&m.who!==Nn()?dt.info(`${m.who} a modifié un achat pour ${y}`,{source:"realtime-other"}):p&&dt.info(`${m.who} a supprimé un achat pour ${y}`,{source:"realtime-other"})}u&&e.onPurchaseCreate?e.onPurchaseCreate(m):f&&e.onPurchaseUpdate?e.onPurchaseUpdate(m):p&&e.onPurchaseDelete&&e.onPurchaseDelete(m.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),n=window.AppwriteClient.subscribeToCollections(["products","purchases"],t,r,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:i=>{console.error("[Appwrite Interactions] Erreur realtime:",i),e.onError?.(i)}}))}catch(i){console.error("[Appwrite Interactions] Impossible de configurer realtime:",i),e.onError?.(i)}})(),()=>{n&&(n(),n=null)}}async function ha(t){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${t}`);const{tables:e,config:n}=await re(),r=await e.getRow(n.databaseId,n.collections.main,t);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${r.name}`),r}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${t}:`,e),null}}async function pa(t,e,n,r){try{console.log(`[Appwrite Interactions] Création du Main document: ${t}`);const{tables:s,config:i,account:a}=await re(),o=await a.get();await s.createRow(i.databaseId,i.APPWRITE_CONFIG.collections.main,t,{name:r,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:n,status:"active",dateStart:n[0]||null,dateEnd:n[n.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${t}`)}catch(s){throw console.error("[Appwrite Interactions] Erreur création Main document:",s),s}}async function zc(t){try{const{tables:e,config:n}=await re(),r=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("mainId",t),S.equal("status","expense"),S.limit(1e3)]);return console.log(`[Appwrite Interactions] ${r.rows.length} dépenses globales chargées`),r.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Js=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:pa,loadMainEventData:ha,loadOrphanPurchases:zc,loadPurchasesListByIds:ua,loadUpdatedPurchases:Bc,subscribeToRealtime:fa,syncProductsWithPurchases:ca,updateProduct:la,updateTotalOverride:da},Symbol.toStringTag,{value:"Module"}));function Wc(t){const n=new Date(t).getHours();return n>=11&&n<=13?"sun":n>=19&&n<=21?"moon":n>=7&&n<=9?"cloud":null}function Qc(t){return{formattedDate:new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:Wc(t)}}function va(t){const e={};for(const n of t)e[n]=Qc(n);return e}function Vc(t,e){if(!t.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const n=t.byDate[e],r=[e],s=new Map;n.recipes?.length&&s.set(e,n.recipes);const i=n.totalConsolidated||[],a=i.length>0?Fe(i):"-",o=Gc(t,e,i),l=o.filter(p=>p.q>0),d=new Date().toISOString().split("T")[0],f=e<d?[]:o.filter(p=>p.q<0);return{requiredQuantities:i,requiredQuantitiesFormatted:a,stockBalance:o,availableStockQuantities:l,missingStockQuantities:f,availableStockFormatted:ls(o),missingStockFormatted:Fe(f.map(p=>({q:Math.abs(p.q),u:p.u}))),hasAvailableStock:l.length>0,hasMissingStock:f.length>0,totalRecipesInRange:n.recipes?.length||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:r,recipesByDate:s}}function Gc(t,e,n){let r=[],s="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(r=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],s=t.stockParsed.dateTime);const i=[];if(t.purchases)for(const l of t.purchases)Kc(l,e,s)&&i.push({q:l.quantity,u:l.unit});const a=[...r,...i],o=os(a);return sa(o,n)}function Kc(t,e,n=""){if(t.status==="cancelled")return!1;const r=t.deliveryDate||t.$createdAt;return!r||r>e||n&&t.$createdAt<n?!1:r<=e}function Yc(t,e){const n=t.totalNeededArray||[],r=n.length>0?Fe(n):"-",s=ma(t,e[0],e[e.length-1],n),i=s.filter(d=>d.q>0),a=s.filter(d=>d.q<0),o=[...e].sort(),l=new Map;if(t.byDate)for(const[d,u]of Object.entries(t.byDate))u.recipes?.length&&l.set(d,u.recipes);return{requiredQuantities:n,requiredQuantitiesFormatted:r,stockBalance:s,availableStockQuantities:i,missingStockQuantities:a,availableStockFormatted:ls(s),missingStockFormatted:Fe(a.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:i.length>0,hasMissingStock:a.length>0,totalRecipesInRange:t.nbRecipes||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:l}}function Jc(t,e,n){if(!t.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const r=new Date(e),s=new Date(n),i=[],a=new Map,o=new Map;let l=0,d=0;for(const[E,D]of Object.entries(t.byDate)){const T=new Date(E);T>=r&&T<=s&&(i.push(E),l+=D.totalAssiettes||0,D.recipes?.length&&(a.set(E,D.recipes),d+=D.recipes.length),D.totalConsolidated&&D.totalConsolidated.forEach(({q:$,u:M})=>{o.set(M,(o.get(M)||0)+$)}))}const u=Array.from(o.entries()).map(([E,D])=>({q:D,u:E})),f=u.length>0?Fe(u):"-",p=ma(t,e,n,u),m=p.filter(E=>E.q>0),y=new Date().toISOString().split("T")[0],I=n<y?[]:p.filter(E=>E.q<0);return{requiredQuantities:u,requiredQuantitiesFormatted:f,stockBalance:p,availableStockQuantities:m,missingStockQuantities:I,availableStockFormatted:ls(p),missingStockFormatted:Fe(I.map(E=>({q:Math.abs(E.q),u:E.u}))),hasAvailableStock:m.length>0,hasMissingStock:I.length>0,totalRecipesInRange:d,totalPortionsInRange:l,datesInSelectedRange:i,recipesByDate:a}}function ma(t,e,n,r){let s=[],i="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(s=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],i=t.stockParsed.dateTime);const a=[];if(t.purchases)for(const d of t.purchases)Xc(d,e,n,i)&&a.push({q:d.quantity,u:d.unit});const o=[...s,...a],l=os(o);return sa(l,r)}function Xc(t,e,n,r=""){if(t.status==="cancelled")return!1;const s=t.deliveryDate||t.$createdAt;return!s||s>n||r&&t.$createdAt<r?!1:s<=n}async function Zc(t){let e;if(e=await fetch(`/evenements/${t}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return n}async function Xs(t){const e=await fetch(`/evenements/${t}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.ingredients)throw new Error("Format de données Hugo invalide");return n}async function Oc(t,e){if(!t)return!0;try{return(await Zc(e)).hugoContentHash!==t}catch(n){return console.warn("Impossible de vérifier le hash Hugo:",n),!1}}function ga(t,e){const n=cs(t.byDate),r=Rr(Ar([])),{numeric:s,display:i}=Pr(n,r),a=Object.keys(t.byDate||{}),o=va(a);return{$id:`${t.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:t.ingredientHugoUuid,productName:t.ingredientName,productType:t.ingType,pFrais:t.pFrais||!1,pSurgel:t.pSurgel||!1,nbRecipes:t.nbRecipes,totalNeededRaw:t.totalNeededRaw,totalAssiettes:t.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:t.byDate,storeInfo:null,stockParsed:null,totalNeededArray:n,totalPurchasesArray:r,missingQuantityArray:s,stockOrTotalPurchases:"-",displayTotalNeeded:Fe(n),displayTotalPurchases:"-",displayMissingQuantity:i,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function Fc(t,e){return t.map(n=>ga(n,e))}class el{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.PRODUCTS_STORE)||(i.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.$id,o)}),console.log(`[IDBCache] ${a.size} produits chargés`),e(a)},i.onerror=()=>n(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,allDates:[],hugoContentHash:null};a.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.ALL_DATES_KEY?o.allDates=l.value||[]:l.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=l.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),i=s.objectStore(this.PRODUCTS_STORE);i.clear(),e.forEach(a=>{i.put(a)}),s.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),n()},s.onerror=()=>r(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.METADATA_STORE,"readwrite"),i=s.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&i.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),s.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),n()},s.onerror=()=>r(s.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),n()},a.onerror=()=>r(a.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});a.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),n()},a.onerror=()=>r(a.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const r=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.PRODUCTS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},r.onerror=()=>n(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function tl(t){const e=new el(t);return await e.open(),e}function nl(t){return!!(t.isMerged||t.totalNeededOverride)}function rl(t,e){if(!t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++){const r=t[n],s=e[n];if(r.q!==s.q||r.u!==s.u)return!0}return!1}async function sl(t,e){const n={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},r=new Set;for(const s of e.ingredients){const i=s.productSemanticKey;if(!i){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${s.ingredientName}`);continue}r.add(i);const a=t.get(i);if(a){if(rl(a.totalNeededRaw,s.totalNeededRaw)){const l=il(a,s);if(l&&n.overrideConflicts.push(l),a.isMerged){const d=a.displayTotalNeeded;Zs(a,s),n.mergedProductsUpdated.push({product:a,oldDisplayTotal:d,newDisplayTotal:a.displayTotalNeeded,currentOverride:a.totalNeededOverrideParsed,semanticKey:i})}else Zs(a,s);n.updated.push(i)}t.set(i,a)}else{n.added.push(s);const o=ga(s,e.mainGroup_id);t.set(o.$id,o)}}for(const[s,i]of t)r.has(s)||(n.removed.push(i),!nl(i)&&!i.purchases?.length&&!i.stockReel&&!i.who?.length&&t.delete(s));return n.overrideConflicts.length>0&&await al(n.overrideConflicts),n.summary=cl(n),n}function il(t,e){if(!t.totalNeededOverride||!t.totalNeededOverrideParsed)return null;const n=cs(e.byDate),r=Fe(n),s=t.displayTotalNeeded;return s!==r?{product:t,oldDisplayTotal:s,newDisplayTotal:r,currentOverride:t.totalNeededOverrideParsed,semanticKey:t.$id}:null}async function al(t){for(const e of t){const n={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(n);try{await da(e.product.$id,n,!1)}catch(r){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,r)}}}function Zs(t,e){t.byDate=e.byDate,t.nbRecipes=e.nbRecipes,t.totalAssiettes=e.totalAssiettes,t.productType=e.ingType,t.pFrais=e.pFrais||!1,t.pSurgel=e.pSurgel||!1,ol(t)}function ol(t){t.totalNeededArray=cs(t.byDate),t.displayTotalNeeded=Fe(t.totalNeededArray);const e=Rr(Ar(t.purchases)),{numeric:n,display:r}=Pr(t.totalNeededArray,e);t.totalPurchasesArray=e,t.missingQuantityArray=n,t.displayMissingQuantity=r;const s=Object.keys(t.byDate||{});t.dateDisplayInfo=va(s),t.stockOrTotalPurchases=t.purchases.length>0?t.displayTotalPurchases:t.displayTotalNeeded}function cl(t){const e=[];if((t.added.length>0||t.updated.length>0||t.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),t.added.length>0&&e.push(`${t.added.length} nouveau(x) ingrédient(s)`),t.updated.length>0&&e.push(` ${t.updated.length} ingrédient(s) mis à jour`),t.overrideConflicts.length>0&&e.push(`⚠️ ${t.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),t.mergedProductsUpdated.length>0&&e.push(`🔀 ${t.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),t.removed.length>0){const n=t.removed.filter(r=>r.purchases?.length||r.stockReel||r.who?.length).length;n>0?e.push(`⚠️ ${n} suppression(s) avec données conservées`):e.push(`${t.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}async function ya(){try{const{teams:t}=await re();return await t.list()}catch(t){throw console.error("[teams] Error listing teams:",t),t}}async function ll(t){try{const{teams:e}=await re();return await e.get(t)}catch(e){throw console.error(`[teams] Error getting team ${t}:`,e),e}}async function dl(t,e){try{const{teams:n}=await re(),r=Ht.unique(),s=await n.create(r,t,e);return console.log(`[teams] Team created: ${r}`),s}catch(n){throw console.error("[teams] Error creating team:",n),n}}async function ul(t,e){try{const{teams:n}=await re(),r=await n.updateName(t,e);return console.log(`[teams] Team updated: ${t}`),r}catch(n){throw console.error(`[teams] Error updating team ${t}:`,n),n}}async function fl(t){try{const{teams:e}=await re();await e.delete({teamId:t}),console.log(`[teams] Team deleted: ${t}`)}catch(e){throw console.error(`[teams] Error deleting team ${t}:`,e),e}}async function vn(t){try{const{teams:e}=await re();return await e.listMemberships({teamId:t})}catch(e){throw console.error(`[teams] Error listing members of team ${t}:`,e),e}}async function hl(t,e,n,r){try{const{teams:s}=await re(),i=await s.createMembership({teamId:t,roles:n,email:e,url:r});return console.log(`[teams] Membership created for ${e} in team ${t}`),i}catch(s){throw console.error("[teams] Error creating membership:",s),s}}async function pl(t,e,n){try{const{teams:r}=await re(),s=await r.updateMembership({teamId:t,membershipId:e,roles:n});return console.log(`[teams] Membership ${e} roles updated`),s}catch(r){throw console.error("[teams] Error updating membership roles:",r),r}}async function vl(t,e){try{const{teams:n}=await re();await n.deleteMembership({teamId:t,membershipId:e}),console.log(`[teams] Membership ${e} deleted from team ${t}`)}catch(n){throw console.error("[teams] Error deleting membership:",n),n}}async function Kr(){try{return(await ya()).teams.map(e=>e.$id)}catch(t){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",t),[]}}async function ml(t){try{return(await Kr()).includes(t)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}class gl{isMobileQuery=new Ic("max-width: 1024px");#e=A(null);#t=A($e([]));#n=A(!1);#i=A(null);#s=A(!1);get user(){return c(this.#e)}get userId(){return c(this.#e)?.$id??null}get userTeams(){return c(this.#t)}get isAuthenticated(){return c(this.#e)!==null}get authLoading(){return c(this.#n)}get authError(){return c(this.#i)}get authInitialized(){return c(this.#s)}async initializeAuth(){if(c(this.#s)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),h(this.#n,!0),h(this.#i,null);try{const{account:e}=await re();h(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",c(this.#e).name),localStorage.setItem("appwrite-user-email",c(this.#e).email),localStorage.setItem("appwrite-user-id",c(this.#e).$id),h(this.#t,await Kr(),!0),console.log(`[GlobalState] Authentifié: ${c(this.#e).name} (${c(this.#t).length} équipes)`)}catch(e){h(this.#e,null),h(this.#t,[],!0),h(this.#i,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{h(this.#n,!1),h(this.#s,!0)}}async logout(){try{const{account:e}=await re();await e.deleteSession({sessionId:"current"}),Uc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),h(this.#e,null),h(this.#t,[],!0),h(this.#s,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!c(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await Kr();(e.length>0||c(this.#t).length===0)&&(h(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${c(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return c(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return dt.toasts}get toast(){return dt}#c=A($e({isOpen:!1,conflicts:[]}));get modalOverride(){return c(this.#c)}set modalOverride(e){h(this.#c,e,!0)}#r=A($e({isOpen:!1}));get modal(){return c(this.#r)}set modal(e){h(this.#r,e,!0)}#l=A($e({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return c(this.#l)}set backgroundOperation(e){h(this.#l,e,!0)}#d=A($e({isOpen:!1}));get authModal(){return c(this.#d)}set authModal(e){h(this.#d,e,!0)}}const oe=new gl;class qn{#e=A($e({}));get data(){return c(this.#e)}set data(e){h(this.#e,e,!0)}dateStore;constructor(e,n){this.data=e,this.dateStore=n}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=J(()=>{const e=this.dateStore.current,n=this.dateStore.dates;let r;if(this.dateStore.isFullRange)r=Yc(this.data,n),r.datesInSelectedRange&&(r.datesInSelectedRange=r.datesInSelectedRange.filter(s=>this.data.byDate&&this.data.byDate[s]));else if(e.start&&e.end&&e.start===e.end)r=Vc(this.data,e.start);else if(e.start&&e.end)r=Jc(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:r.requiredQuantities,formattedQuantities:r.requiredQuantitiesFormatted,nbRecipes:r.totalRecipesInRange,totalAssiettes:r.totalPortionsInRange,stockResult:r.stockBalance,availableQuantities:r.availableStockQuantities,missingQuantities:r.missingStockQuantities,formattedMissingQuantities:r.missingStockFormatted,formattedAvailableQuantities:r.availableStockFormatted,hasAvailable:r.hasAvailableStock,hasMissing:r.hasMissingStock,concernedDates:r.datesInSelectedRange,recipesByDate:r.recipesByDate}});get stats(){return c(this.#t)}set stats(e){h(this.#t,e)}}class yl{#e=A($e([]));#t=A(null);#n=A(null);constructor(e=[]){h(this.#e,e,!0),this.initializeSmartRange()}get start(){return c(this.#t)}get end(){return c(this.#n)}get dates(){return c(this.#e)}#i=J(()=>[...c(this.#e)].sort()[0]);get firstAvailableDate(){return c(this.#i)}set firstAvailableDate(e){h(this.#i,e)}#s=J(()=>[...c(this.#e)].sort()[c(this.#e).length-1]);get lastAvailableDate(){return c(this.#s)}set lastAvailableDate(e){h(this.#s,e)}get current(){return{start:c(this.#t),end:c(this.#n)}}#c=J(()=>{if(c(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return c(this.#c)}set isEventPassed(e){h(this.#c,e)}#r=J(()=>{if(c(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),c(this.#e).some(n=>new Date(n)>=e)});get hasUpcomingDates(){return c(this.#r)}set hasUpcomingDates(e){h(this.#r,e)}#l=J(()=>c(this.#t)===this.firstAvailableDate&&c(this.#n)===this.lastAvailableDate);get isFullRange(){return c(this.#l)}set isFullRange(e){h(this.#l,e)}#d=J(()=>{if(c(this.#e).length===0)return!1;const e=[...c(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const r=e.find(a=>new Date(a)>=n)||null;let s,i;if(r)s=r,i=e[e.length-1];else{const a=e[e.length-1];s=a,i=a}return c(this.#t)===s&&c(this.#n)===i});get isUpcomingRange(){return c(this.#d)}set isUpcomingRange(e){h(this.#d,e)}#u=J(()=>c(this.#e).length===1);get hasSingleDateEvent(){return c(this.#u)}set hasSingleDateEvent(e){h(this.#u,e)}#f=J(()=>!!(c(this.#t)&&c(this.#t)===c(this.#n)));get hasSingleDateInRange(){return c(this.#f)}set hasSingleDateInRange(e){h(this.#f,e)}#a=J(()=>{if(!c(this.#t)||!c(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(c(this.#t))<e});get hasPastDatesInRange(){return c(this.#a)}set hasPastDatesInRange(e){h(this.#a,e)}setAvailableDates(e){h(this.#e,e,!0),this.initializeSmartRange()}setRange(e,n){if(!e&&!n){h(this.#t,null),h(this.#n,null);return}if(!e||!n){const i=e||n;h(this.#t,i,!0),h(this.#n,i,!0);return}const r=new Date(e)<=new Date(n)?e:n,s=new Date(e)>=new Date(n)?e:n;h(this.#t,r,!0),h(this.#n,s,!0)}selectAll(){c(this.#e).length!==0&&(h(this.#t,c(this.#e)[0],!0),h(this.#n,c(this.#e)[c(this.#e).length-1],!0))}selectUpcoming(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const r=e.find(s=>new Date(s)>=n)||null;if(r)h(this.#t,r,!0),h(this.#n,e[e.length-1],!0);else{const s=e[e.length-1];h(this.#t,s,!0),h(this.#n,s,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const n=c(this.#e).filter(r=>new Date(r)>=e);n.length>0&&(h(this.#t,n[0],!0),h(this.#n,n[n.length-1],!0))}initializeSmartRange(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),n=this.isEventPassed,r=new Date(e[0])<new Date,s=new Date;let i;n?i=e[0]:r?i=s.toISOString().slice(0,19)+"Z":i=e[0],h(this.#t,i,!0),h(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${c(this.#t)} - ${c(this.#n)}`)}}const Os=1e3;class wl{#e=new Tt;#t=new Tt;#n=A(null);#i=A(null);#s=A(!1);#c=A(!1);#r=A(null);#l=A(!1);#d=A(!1);#u=A(null);#f=A(null);get currentMainId(){return c(this.#n)}dateStore=new yl;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#a=null;#h=null;#p=A(!1);#v=null;#w=A(!1);#b=A();#m=A($e([]));get hasPendingConflicts(){return c(this.#m).length>0}get pendingConflicts(){return c(this.#m)}#o=A($e({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return c(this.#o)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return c(this.#c)}get error(){return c(this.#r)}get lastSync(){return c(this.#u)}get syncing(){return c(this.#l)}setDateRange(e,n){this.dateStore.setRange(e,n)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return c(this.#d)}#g=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return c(this.#g)}set enrichedProducts(e){h(this.#g,e)}#y=J(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),n=new Date(this.dateRange.end),r=new Map;for(const[s,i]of this.#e){const a=i.data,o=!a.productHugoUuid;if(!a.byDate&&!o||!Mc(a,c(this.#o)))continue;let d=!1;a.byDate&&(d=Object.keys(a.byDate).some(u=>{const f=new Date(u);return f>=e&&f<=n})),(d||o)&&r.set(s,i)}return r});get filteredProductsMap(){return c(this.#y)}set filteredProductsMap(e){h(this.#y,e)}#E=J(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return c(this.#E)}set stats(e){h(this.#E,e)}#A=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return c(this.#A)}set uniqueStores(e){h(this.#A,e)}#R=J(()=>{const e=Array.from(this.#e.values()).flatMap(n=>n.who||[]);return[...new Set(e)]});get uniqueWho(){return c(this.#R)}set uniqueWho(e){h(this.#R,e)}#P=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return c(this.#P)}set uniqueProductTypes(e){h(this.#P,e)}#T=J(()=>{const n=Array.from(this.filteredProductsMap.values()).sort((a,o)=>a.$id.localeCompare(o.$id));if(c(this.#o).groupBy==="none")return{"":n};const r=Object.groupBy(n,a=>c(this.#o).groupBy==="store"?a.storeInfo?.storeName||"Non défini":a.productType||"Non défini"),s=Object.keys(r).sort((a,o)=>a===""?1:o===""?-1:a.localeCompare(o)),i={};return s.forEach(a=>{i[a]=r[a]}),i});get groupedFilteredProducts(){return c(this.#T)}set groupedFilteredProducts(e){h(this.#T,e)}async initialize(e,n){if(!e?.trim())throw new Error("mainId invalide fourni");if(c(this.#s)&&c(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),h(this.#n,e,!0),h(this.#i,n,!0);try{this.#a=await tl(e)}catch(r){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",r),new Error("Impossible d'initialiser le cache IndexedDB")}h(this.#r,null);try{if(await this.#k(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");let s;s=await Xs(n),console.log(`[ProductsStore] Hugo chargé: ${s.ingredients.length} ingrédients`),h(this.#f,s.hugoContentHash,!0),Fc(s.ingredients,e).forEach(o=>{this.#e.set(o.$id,new qn(o,this.dateStore))}),this.dateStore.setAvailableDates([...s.allDates]),await ha(e)||await pa(s.mainGroup_id,s.hugoContentHash,s.allDates,s.name),await this.#$()}this.initializeDateRange(),await this.#C(),await this.#G(),h(this.#s,!0);const r=this.#V();this.#h=fa(e,r),this.#L(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#M(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(r){const s=r instanceof Error?r.message:"Erreur lors de l'initialisation";throw h(this.#r,s,!0),console.error("[ProductsStore]",s,r),r}}async#k(){if(this.#a)try{const e=await this.#a.loadProducts();e.forEach((r,s)=>{r.status==="isSyncing"&&(r.status="active"),this.#e.set(s,new qn(r,this.dateStore))});const n=await this.#a.loadMetadata();h(this.#u,n.lastSync,!0),this.dateStore.setAvailableDates([...n.allDates]),h(this.#f,n.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${n.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#C(){if(c(this.#n)){h(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${c(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${c(this.#u)}`);const e=await ca(c(this.#n),{lastSync:c(this.#u),limit:Os});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(n=>{const r=this.#e.get(n.$id);console.log(`[ProductsStore] Sync produit ${n.$id}: existing=${!!r}, who=${n.who}, store=${n.store}`);const s=this.#D(n,r?.data);s.isSynced=!0,r?r.update(s):this.#e.set(n.$id,new qn(s,this.dateStore))}),c(this.#u)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${c(this.#u)}`);const{loadUpdatedPurchases:n}=await Cs(async()=>{const{loadUpdatedPurchases:s}=await Promise.resolve().then(()=>Js);return{loadUpdatedPurchases:s}},void 0),r=await n(c(this.#n),c(this.#u),Os);console.log(`[ProductsStore] ${r.length} purchases modifiés récupérés`),r.forEach(s=>{if(s.status==="expense")this.#t.set(s.$id,s);else if(s.products?.length){const i=s.products.map(a=>typeof a=="string"?a:a.$id);this.#S(i,s)}})}this.#j(),await this.#q(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{h(this.#l,!1)}}}async#q(){if(this.#a)try{const e=new Map;this.#e.forEach((n,r)=>{const s=hn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#a.saveProducts(e),await this.#a.saveMetadata({lastSync:c(this.#u),allDates:[...this.dateStore.dates],hugoContentHash:c(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#a)try{const e=new Map;this.#e.forEach((n,r)=>{const s=hn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#u)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#$(){if(this.#a)try{const e=new Map;this.#e.forEach((n,r)=>{const s=hn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#a.saveProducts(e),await this.#a.updateLastSync(c(this.#u)),await this.#a.updateAllDates([...this.availableDates]),await this.#a.updateHugoContentHash(c(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#a||e.length===0))try{const n=e.map(r=>this.#e.get(r)?.data).filter(r=>r!=null).map(r=>{const s=hn(r);return s.status==="isSyncing"&&(s.status="active"),this.#a.upsertProduct(s)});n.length>0&&(await Promise.all(n),console.log(`[ProductsStore] ${n.length} produits affectés persistés`))}catch(n){console.error("[ProductsStore] Erreur persistence produits affectés:",n)}}#j(){h(this.#u,new Date().toISOString(),!0)}async#M(){if(!c(this.#i)||c(this.#c))return!1;try{const e=await Oc(c(this.#f),c(this.#i));return e&&!c(this.#p)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${c(this.#i)}, analyse approfondie en cours...`),h(this.#p,!0),await this.#N()),h(this.#b,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!c(this.#i)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Xs(c(this.#i)),n=new Map;this.#e.forEach((i,a)=>n.set(a,i.data));const r=await sl(n,e);console.log(`[ProductsStore  - hugo change] ${r.summary}`);for(const[i,a]of n){const o=this.#e.get(i);if(o)o.update(a);else{const l=new qn(a,this.dateStore);this.#e.set(i,l),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${i}`)}}const s=[];for(const[i]of this.#e)n.has(i)||s.push(i);for(const i of s)this.#e.delete(i),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${i}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${n.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),r.overrideConflicts.length>0&&(h(this.#m,r.overrideConflicts,!0),dt.error(`${r.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{action:{label:"Réviser",onClick:()=>oe.modalOverride.isOpen=!0}})),r.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${r.mergedProductsUpdated.length} produits fusionnés modifiés`),r.removed.length>0){const i=r.removed.filter(a=>a.purchases?.length||a.stockReel||a.who?.length);i.length>0&&console.log(`[ProductsStore] ℹ️ ${i.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),h(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#$(),(r.added.length||r.updated.length||r.removed.length)&&dt.success(r.summary),h(this.#p,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),dt.error("Erreur lors de la mise à jour Hugo")}}#L(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#M()},6e4)}#U(){this.#v&&(clearInterval(this.#v),this.#v=null)}#D(e,n){return n?sr(e,n):Dc(e)}#Y(e){e.length&&(e.forEach(n=>this.#_(n)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const n=this.#e.get(e.$id),r=this.#D(e,n?.data);n?n.update(r):(this.dateStore.dates,this.#e.set(e.$id,new qn(r,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const n=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#Q(n,e),n}async#z(e){if(e.products?.length){const n=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(n,e),n}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[n]=await ua([e.$id]);if(n?.products?.length){const r=n.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#S(r,n),r}return[]}catch(n){return console.error("[ProductsStore] Erreur rechargement purchase:",n),[]}}async#W(e){const n=Array.from(this.#e.values()).map(r=>r.data).filter(r=>r.purchases?.some(s=>s.$id===e));return n.forEach(r=>{this.#_(r)}),n.map(r=>r.$id)}#Q(e,n){const r=qs(n),s=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,l=o.purchases||[];if(!l.some(d=>d.$id===r.$id)){const d=sr({...o,purchases:[...l,r],status:"active"},o);s.push(d)}}}),s.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#S(e,n){const r=qs(n),s=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,l=o.purchases||[],d=l.findIndex(u=>u.$id===r.$id);if(d>=0){const u=[...l];u[d]=r;const f=sr({...o,purchases:u,status:"active"},o);s.push(f)}else{const u=sr({...o,purchases:[...l,n],status:"active"},o);s.push(u)}}}),s.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#V(){return{onProductCreate:e=>{if(this.#_(e),this.#a){const n=this.#e.get(e.$id);n&&this.#a.upsertProduct(hn(n.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductUpdate:e=>{if(this.#_(e),this.#a){const n=this.#e.get(e.$id);n&&this.#a.upsertProduct(hn(n.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductDelete:e=>{this.#H(e),this.#a&&this.#a.deleteProduct(e).catch(n=>console.error("[ProductsStore] Erreur suppression produit:",n))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const n=await this.#B(e);await this.#I(n)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const n=await this.#z(e);await this.#I(n)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const n=await this.#W(e);await this.#I(n)},onConnect:()=>{h(this.#d,!0)},onDisconnect:()=>{h(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=Tc(e=>{c(this.#o).searchQuery=e},()=>500);toggleProductType(e){const n=c(this.#o).selectedProductTypes.indexOf(e);n>-1?c(this.#o).selectedProductTypes.splice(n,1):c(this.#o).selectedProductTypes.push(e)}toggleTemperature(e){const n=c(this.#o).selectedTemperatures.indexOf(e);n>-1?c(this.#o).selectedTemperatures.splice(n,1):c(this.#o).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){c(this.#o).selectedProductTypes=[],c(this.#o).selectedTemperatures=[]}setGroupBy(e){c(this.#o).groupBy=e}toggleStore(e){const n=c(this.#o).selectedStores.indexOf(e);n>-1?c(this.#o).selectedStores.splice(n,1):c(this.#o).selectedStores.push(e)}toggleWho(e){const n=c(this.#o).selectedWho.indexOf(e);n>-1?c(this.#o).selectedWho.splice(n,1):c(this.#o).selectedWho.push(e)}clearStoreFilters(){c(this.#o).selectedStores=[]}clearWhoFilters(){c(this.#o).selectedWho=[]}handleSort(e){c(this.#o).sortColumn===e?c(this.#o).sortDirection=c(this.#o).sortDirection==="asc"?"desc":"asc":(c(this.#o).sortColumn=e,c(this.#o).sortDirection="asc")}clearFilters(){h(this.#o,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return c(this.#o).sortColumn?[...e].sort((n,r)=>{let s=n[c(this.#o).sortColumn],i=r[c(this.#o).sortColumn];return c(this.#o).sortColumn==="totalNeededConsolidated"?(s=parseFloat(s)||0,i=parseFloat(i)||0):c(this.#o).sortColumn==="purchases"&&(s=n.purchases?.length||0,i=r.purchases?.length||0),s<i?c(this.#o).sortDirection==="asc"?-1:1:s>i?c(this.#o).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const n=this.#e.get(e)?.data;return n?.byDate?$c(n.byDate):!1}async forceReload(e,n){await this.clearCache(),await this.initialize(e,n)}async clearCache(){this.#e.clear(),h(this.#u,null),this.#a&&await this.#a.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,n){const r=n?"isSyncing":"active";e.forEach(s=>{const i=this.#e.get(s);if(i){const a={...i.data,status:r};i.update(a)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${r}`)}clearSyncStatus(){const e=[];for(const[n,r]of this.#e)r.status==="isSyncing"&&e.push(n);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#h?.(),this.#h=null,this.#U(),this.#a&&(this.#a.close(),this.#a=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(c(this.#n))try{const{loadOrphanPurchases:e}=await Cs(async()=>{const{loadOrphanPurchases:r}=await Promise.resolve().then(()=>Js);return{loadOrphanPurchases:r}},void 0),n=await e(c(this.#n));n.forEach(r=>{this.#t.set(r.$id,r)}),console.log(`[ProductsStore] ${n.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#x=J(()=>{let e=0;const n={},r={},s=[];for(const i of this.#t.values()){const a=i.invoiceTotal||i.price||0;e+=a;const o=i.store||"Non défini";n[o]=(n[o]||0)+a;const l=i.who||"Non défini";r[l]=(r[l]||0)+a,s.push(i)}for(const i of this.#e.values()){const a=i.data;if(a.purchases&&a.purchases.length>0){for(const o of a.purchases)if(o.price){e+=o.price;const l=o.store||"Non défini";n[l]=(n[l]||0)+o.price;const d=o.who||"Non défini";r[d]=(r[d]||0)+o.price;const u={...o,_productName:a.productName};s.push(u)}}}return s.sort((i,a)=>{const o=new Date(i.orderDate||i.$createdAt).getTime();return new Date(a.orderDate||a.$createdAt).getTime()-o}),{totalGlobal:e,byStore:n,byWho:r,allPurchases:s}});get financialStats(){return c(this.#x)}set financialStats(e){h(this.#x,e)}}const bl=new wl;let Yr=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const $n="main";async function _l(t,e){try{const{tables:n,config:r}=await re();return(await n.listRows({databaseId:r.databaseId,tableId:$n})).rows.filter(i=>i.createdBy===t||i.contributors?.includes(t)||i.teams?.some(a=>e.includes(a)))}catch(n){throw console.error("[appwrite-events] Error listing events:",n),n}}async function On(t){try{const{tables:e,config:n}=await re();return await e.getRow(n.databaseId,$n,t)}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${t}:`,e),e}}async function Il(t,e){try{const{tables:n,config:r}=await re(),s=Ht.unique(),i=[Le.read(tt.user(e)),Le.update(tt.user(e)),Le.delete(tt.user(e))];t.contributors&&t.contributors.forEach(o=>{const l=typeof o=="string"?o:o.id;o.status==="accepted"&&(i.push(Le.read(tt.user(l))),i.push(Le.update(tt.user(l))))}),t.teams&&t.teams.forEach(o=>{i.push(Le.read(tt.team(o))),i.push(Le.update(tt.team(o)))});const a=await n.createRow(r.databaseId,$n,s,{name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,allDates:t.allDates,meals:t.meals?JSON.stringify(t.meals):void 0,createdBy:e,teams:t.teams??[],contributors:t.contributors?t.contributors.map(o=>typeof o=="string"?o:JSON.stringify(o)):[]},i);return console.log(`[appwrite-events] Event created: ${s}`),a}catch(n){throw console.error("[appwrite-events] Error creating event:",n),n}}async function Tr(t,e){try{const{tables:n,config:r}=await re(),s={...e};e.meals&&(s.meals=JSON.stringify(e.meals)),e.contributors&&(s.contributors=e.contributors.map(a=>typeof a=="string"?a:JSON.stringify(a))),e.allDates&&(s.allDates=e.allDates);const i=await n.updateRow(r.databaseId,$n,t,s);return console.log(`[appwrite-events] Event updated: ${t}`),i}catch(n){throw console.error(`[appwrite-events] Error updating event ${t}:`,n),n}}async function Sl(t){try{const{tables:e,config:n}=await re();await e.deleteRow(n.databaseId,$n,t),console.log(`[appwrite-events] Event deleted: ${t}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${t}:`,e),e}}function Fn(t){if(!t.meals)return[];try{return JSON.parse(t.meals).map(n=>n.id?n:{...n,id:Yr(6)})}catch(e){return console.error("[appwrite-events] Error parsing meals:",e),[]}}function wa(t){if(!t.contributors)return[];try{const e=[];for(const n of t.contributors)try{const r=JSON.parse(n);e.push(r)}catch{e.push({id:n,status:"accepted"})}return e}catch(e){return console.error("[appwrite-events] Error parsing contributors:",e),[]}}async function El(t,e){const n=await On(t);if(!n)throw new Error(`Event ${t} not found`);const r=Fn(n);return r.push(e),await Tr(t,{meals:r})}async function Al(t,e,n){const r=await On(t);if(!r)throw new Error(`Event ${t} not found`);const s=Fn(r);if(e<0||e>=s.length)throw new Error(`Meal index ${e} out of bounds`);return s[e]=n,await Tr(t,{meals:s})}async function Rl(t,e){const n=await On(t);if(!n)throw new Error(`Event ${t} not found`);const r=Fn(n);if(e<0||e>=r.length)throw new Error(`Meal index ${e} out of bounds`);return r.splice(e,1),await Tr(t,{meals:r})}async function Pl(t,e,n){const{config:r}=await re(),s=`databases.${r.databaseId}.collections.${$n}.documents`;return oa([s],async i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let l="update";i.events.some(d=>d.includes(".create"))?l="create":i.events.some(d=>d.includes(".delete"))&&(l="delete"),n(a,l)})}class Tl{#e=new Tt;#t=A(!1);#n=A(null);#i=A(!1);#s=null;#c=[];#r=null;get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#i)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}async initialize(){if(c(this.#i)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!oe.isAuthenticated)throw new Error("Utilisateur non connecté");this.#s=oe.userId,this.#c=oe.userTeams,await this.#l(),this.#d(),h(this.#i,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}async#l(){try{console.log("[EventsStore] Chargement des événements...");const e=await _l(this.#s,this.#c);e.forEach(n=>{this.#e.set(n.$id,n)}),console.log(`[EventsStore] ${e.length} événements chargés`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#d(){try{this.#r=async()=>{await Pl(this.#s,this.#c,(e,n)=>{console.log(`[EventsStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?this.#e.set(e.$id,e):n==="delete"&&this.#e.delete(e.$id)}),console.log("[EventsStore] Realtime activé")}}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const n=await On(e);return n&&this.#e.set(e,n),n}catch(n){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,n),null}}getEventsByDateRange(e,n){return this.events.filter(r=>r.dateStart&&r.dateEnd&&r.dateStart>=e&&r.dateEnd<=n)}canEditEvent(e){if(!this.#s)return!1;const n=this.#e.get(e);return n?!!(n.createdBy===this.#s||n.teams?.some(r=>this.#c.includes(r))||n.contributors&&wa(n).some(s=>s.id===this.#s&&s.status==="accepted")):!1}async createEvent(e){if(!this.#s)throw new Error("Utilisateur non connecté");try{const n=await Il(e,this.#s);return this.#e.set(n.$id,n),console.log(`[EventsStore] Événement créé: ${n.$id}`),n}catch(n){throw console.error("[EventsStore] Erreur lors de la création:",n),n}}async updateEvent(e,n){try{const r=await Tr(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Événement mis à jour: ${e}`),r}catch(r){throw console.error(`[EventsStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteEvent(e){try{await Sl(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(n){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,n),n}}getMeals(e){const n=this.#e.get(e);return n?Fn(n):[]}async addMeal(e,n){try{const r=await El(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Meal ajouté à ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de l'ajout du meal:",r),r}}async updateMeal(e,n,r){try{const s=await Al(e,n,r);return this.#e.set(e,s),console.log(`[EventsStore] Meal ${n} mis à jour dans ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de la mise à jour du meal:",s),s}}async deleteMeal(e,n){try{const r=await Rl(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Meal ${n} supprimé de ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de la suppression du meal:",r),r}}calculateScaleFactor(e,n){return e/n}async reload(){console.log("[EventsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#l(),console.log("[EventsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}destroy(){this.#r&&(this.#r(),this.#r=null),this.#e.clear(),h(this.#i,!1),console.log("[EventsStore] Ressources nettoyées")}}const qt=new Tl;class $l{#e=new Tt;#t=new Tt;#n=new Tt;#i=A(!1);#s=A(null);#c=A(!1);get loading(){return c(this.#i)}get error(){return c(this.#s)}get isInitialized(){return c(this.#c)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}get contributors(){return Array.from(this.#t.values())}get invitations(){return Array.from(this.#n.values())}get contributorsCount(){return this.#t.size}get pendingInvitationsCount(){return Array.from(this.#n.values()).filter(e=>e.status==="invited").length}async initialize(){if(c(this.#c)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),h(this.#i,!0),h(this.#s,null);try{if(!oe.userId){console.log("[TeamsStore] Utilisateur non connecté"),h(this.#c,!0);return}await this.#r(),await this.#l(),await this.#d(),h(this.#c,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes, ${this.#t.size} contributeurs, ${this.#n.size} invitations`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#s,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#i,!1)}}async#r(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await ya();for(const n of e.teams)try{const r=await vn(n.$id);this.#e.set(n.$id,{...n,members:r})}catch(r){console.error(`[TeamsStore] Erreur lors du chargement des membres de ${n.$id}:`,r),this.#e.set(n.$id,n)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const n=await ll(e);if(n){const r=await vn(e),s={...n,members:r};return this.#e.set(e,s),s}return null}catch(n){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,n),null}}async isMemberOf(e){return await ml(e)}getTeamMembers(e){return this.#e.get(e)?.members}getContributorById(e){return this.#t.get(e)||null}getInvitationById(e){return this.#n.get(e)||null}getInvitationsByEventId(e){return Array.from(this.#n.values()).filter(n=>n.eventId===e)}getPendingInvitations(){return Array.from(this.#n.values()).filter(e=>e.status==="invited")}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async createTeam(e,n){if(!oe.userId)throw new Error("Utilisateur non connecté");try{const r=await dl(e,n),s=await vn(r.$id),i={...r,members:s};return this.#e.set(r.$id,i),console.log(`[TeamsStore] Équipe créée: ${r.$id}`),i}catch(r){throw console.error("[TeamsStore] Erreur lors de la création:",r),r}}async updateTeam(e,n){try{const r=await ul(e,n),s=this.#e.get(e),i={...r,members:s?.members};return this.#e.set(e,i),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),i}catch(r){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteTeam(e){try{await fl(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(n){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,n),n}}async inviteMember(e,n,r,s){try{await hl(e,n,r,s);const i=await vn(e),a=this.#e.get(e);a&&this.#e.set(e,{...a,members:i}),console.log(`[TeamsStore] Membre invité dans ${e}`)}catch(i){throw console.error("[TeamsStore] Erreur lors de l'invitation:",i),i}}async updateMemberRoles(e,n,r){try{await pl(e,n,r);const s=await vn(e),i=this.#e.get(e);i&&this.#e.set(e,{...i,members:s}),console.log(`[TeamsStore] Rôles mis à jour pour ${n}`)}catch(s){throw console.error("[TeamsStore] Erreur lors de la mise à jour des rôles:",s),s}}async removeMember(e,n){try{await vl(e,n);const r=await vn(e),s=this.#e.get(e);s&&this.#e.set(e,{...s,members:r}),console.log(`[TeamsStore] Membre ${n} supprimé de ${e}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",r),r}}async addContributor(e,n,r,s){try{const i={id:e,email:n,name:r,status:"accepted",invitedAt:new Date().toISOString()};return this.#t.set(e,i),console.log(`[TeamsStore] Contributeur ajouté: ${e}`),i}catch(i){throw console.error("[TeamsStore] Erreur lors de l'ajout du contributeur:",i),i}}removeContributor(e){this.#t.has(e)&&(this.#t.delete(e),console.log(`[TeamsStore] Contributeur supprimé: ${e}`))}async inviteContributorByEmail(e,n,r){if(!this.isValidEmail(e))throw new Error("Adresse email invalide");try{if(Array.from(this.#n.values()).find(o=>o.email===e&&o.eventId===n))throw new Error("Cet email a déjà été invité pour cet événement");const i=Ht.unique(),a={id:i,email:e,status:"invited",invitedAt:new Date().toISOString(),eventId:n,teamId:r};return this.#n.set(i,a),console.log(`[TeamsStore] Invitation envoyée: ${e} pour l'événement ${n}`),a}catch(s){throw console.error("[TeamsStore] Erreur lors de l'invitation:",s),s}}async acceptInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");const r={...n,status:"accepted",respondedAt:new Date().toISOString()};if(this.#n.set(e,r),oe.userId){const s={id:oe.userId,email:n.email,name:n.name,status:"accepted",invitedAt:n.invitedAt,respondedAt:r.respondedAt,teamId:n.teamId};this.#t.set(oe.userId,s)}console.log(`[TeamsStore] Invitation acceptée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors de l'acceptation:",n),n}}async declineInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");const r={...n,status:"declined",respondedAt:new Date().toISOString()};this.#n.set(e,r),console.log(`[TeamsStore] Invitation refusée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors du refus:",n),n}}async cancelInvitation(e){try{const n=this.#n.get(e);if(!n)throw new Error("Invitation introuvable");if(n.status!=="invited")throw new Error("Seules les invitations en attente peuvent être annulées");this.#n.delete(e),console.log(`[TeamsStore] Invitation annulée: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors de l'annulation:",n),n}}async#l(){try{console.log("[TeamsStore] Chargement des contributeurs..."),this.#t.clear(),console.log(`[TeamsStore] ${this.#t.size} contributeurs chargés`)}catch(e){console.error("[TeamsStore] Erreur lors du chargement des contributeurs:",e)}}async#d(){try{console.log("[TeamsStore] Chargement des invitations..."),this.#n.clear(),console.log(`[TeamsStore] ${this.#n.size} invitations chargées`)}catch(e){console.error("[TeamsStore] Erreur lors du chargement des invitations:",e)}}async reload(){console.log("[TeamsStore] Rechargement..."),h(this.#i,!0),h(this.#s,null);try{this.#e.clear(),this.#t.clear(),this.#n.clear(),await Promise.all([this.#r(),this.#l(),this.#d()]),console.log("[TeamsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#s,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#i,!1)}}destroy(){this.#e.clear(),this.#t.clear(),this.#n.clear(),h(this.#c,!1),console.log("[TeamsStore] Ressources nettoyées")}}const ba=new $l;class Ml{dbName="recipes-cache";db=null;version=1;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(i.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),i.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(i.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.u,o)}),console.log(`[RecipesIDBCache] ${a.size} recettes (index) chargées`),e(a)},i.onerror=()=>n(i.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),i=s.objectStore(this.RECIPES_INDEX_STORE);i.clear(),e.forEach(a=>{i.put(a)}),s.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),n()},s.onerror=()=>r(s.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);a.onsuccess=()=>{const o=a.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),n(o||null)},a.onerror=()=>r(a.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);a.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),n()},a.onerror=()=>r(a.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${a.size} détails de recettes chargés`),e(a)},i.onerror=()=>n(i.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,indexHash:null,recipesCount:0};a.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.INDEX_HASH_KEY?o.indexHash=l.value:l.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=l.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.METADATA_STORE,"readwrite"),i=s.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),i.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),s.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),n()},s.onerror=()=>r(s.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const r=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.RECIPES_INDEX_STORE).clear(),r.objectStore(this.RECIPES_DETAILS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},r.onerror=()=>n(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function Dl(){const t=new Ml;return await t.open(),t}function xl(t){if(!Array.isArray(t)||t.length<8)throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(t)}`);return{uuid:t[0],originalQuantity:t[1],originalUnit:t[2],normalizedQuantity:t[3],normalizedUnit:t[4],comment:t[5]||"",allergens:Array.isArray(t[6])?t[6]:[],type:t[7]||""}}function kl(t){if(!t||typeof t!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(t.ingredients)&&t.ingredients.forEach(n=>{try{e.push(xl(n))}catch(r){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",r)}}),{uuid:t.uuid||"",title:t.title||"",plate:t.plate||1,ingredients:e,preparation:t.preparation||""}}const Mn="recettes";async function Fs(){try{const{tables:t,config:e}=await re(),n=[S.equal("isPublished",!1)];return(await t.listRows(e.databaseId,Mn,n)).rows}catch(t){throw console.error("[appwrite-recipes] Error listing all recipes:",t),t}}async function ei(t){try{const{tables:e,config:n}=await re();return await e.getRow(n.databaseId,Mn,t)}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${t}:`,e),e}}async function Cl(t,e){try{const{tables:n,config:r}=await re(),s=Ht.unique(),i=[Le.read(tt.user(e)),Le.update(tt.user(e)),Le.delete(tt.user(e))];t.contributors&&t.contributors.forEach(o=>{i.push(Le.read(tt.user(o))),i.push(Le.update(tt.user(o)))}),t.teams&&t.teams.forEach(o=>{i.push(Le.read(tt.team(o))),i.push(Le.update(tt.team(o)))});const a=await n.createRow(r.databaseId,Mn,s,{title:t.title,plate:t.plate,ingredients:t.ingredients,preparation:t.preparation,draft:t.draft??!0,typeR:t.typeR,categories:t.categories??[],regime:t.regime??[],isPublished:!1,createdBy:e,teams:t.teams??[],contributors:t.contributors??[]},i);return console.log(`[appwrite-recipes] Recipe created: ${s}`),a}catch(n){throw console.error("[appwrite-recipes] Error creating recipe:",n),n}}async function _a(t,e){try{const{tables:n,config:r}=await re(),s=await n.updateRow(r.databaseId,Mn,t,e);return console.log(`[appwrite-recipes] Recipe updated: ${t}`),s}catch(n){throw console.error(`[appwrite-recipes] Error updating recipe ${t}:`,n),n}}async function ql(t){try{const{tables:e,config:n}=await re();await e.deleteRow(n.databaseId,Mn,t),console.log(`[appwrite-recipes] Recipe deleted: ${t}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${t}:`,e),e}}async function jl(t,e){return await _a(t,{isPublished:!0,publishedAt:new Date().toISOString()})}function Nl(t,e,n){const s=`databases.${Hc().APPWRITE_CONFIG.databaseId}.collections.${Mn}.documents`;return oa([s],i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let l="update";i.events.some(d=>d.includes(".create"))?l="create":i.events.some(d=>d.includes(".delete"))&&(l="delete"),n(a,l)})}const Ll="/api/data.json";class Ul{#e=new Tt;#t=new Tt;#n=A(!1);#i=A(null);#s=A(null);#c=A(!1);#r=null;#l=new Set;#d=null;get loading(){return c(this.#n)}get error(){return c(this.#i)}get lastSync(){return c(this.#s)}get isInitialized(){return c(this.#c)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(c(this.#c)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),h(this.#n,!0),h(this.#i,null);try{this.#r=await Dl();const e=await this.#r.loadRecipesIndex(),n=await this.#r.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new Tt(e),h(this.#s,n.lastSync,!0)),await this.#u(),oe.userId&&await this.#a(),oe.userId&&await this.#h(),oe.userId&&this.#p(),h(this.#c,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#b()} published, ${this.#m()} non-published)`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#i,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async#u(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(Ll);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const r=(await e.json()).recipes;if(!Array.isArray(r))throw new Error("Format de données invalide: recipes n'est pas un tableau");const s=await this.#f(JSON.stringify(r));if((await this.#r.loadMetadata()).indexHash===s){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const a=new Map;r.forEach(o=>{a.set(o.u,o)}),this.#e=new Tt(a),h(this.#s,new Date().toISOString(),!0),this.#r&&(await this.#r.saveRecipesIndex(a),await this.#r.saveMetadata({lastSync:c(this.#s),indexHash:s,recipesCount:a.size})),console.log(`[RecipesStore] ${a.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}async#a(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await Fs();let n=0;for(const r of e)this.#e.has(r.$id)&&(await jl(r.$id),n++);n>0&&console.log(`[RecipesStore] ${n} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#h(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await Fs();e.forEach(n=>{this.#e.set(n.$id,{u:n.$id,n:n.title,t:n.typeR,p:null,plates:n.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#p(){try{this.#d=Nl(oe.userId,oe.userTeams,(e,n)=>{console.log(`[RecipesStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):n==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(e){switch(e){case"entree":return 0;case"plat":return 1;case"dessert":return 2;default:return 0}}#w(e){switch(e){case 0:return"entree";case 1:return"plat";case 2:return"dessert";default:return"plat"}}#b(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#m(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#o(e){return{uuid:e.$id,title:e.title,plate:e.plate,ingredients:JSON.parse(e.ingredients),preparation:e.preparation}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}searchRecipes(e){if(!e.trim())return this.recipesIndex;const n=e.toLowerCase();return this.recipesIndex.filter(r=>r.n.toLowerCase().includes(n))}getRecipesByType(e){return this.recipesIndex.filter(n=>n.t===e)}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(n=>e.add(n.t)),Array.from(e).sort()}async canEditRecipe(e){if(!oe.userId)return!1;const n=this.#e.get(e);if(!n||n.isPublished!==!1)return!1;try{const r=await ei(e);return r?r.createdBy===oe.userId||!!r.contributors?.includes(oe.userId)||!!r.teams?.some(s=>oe.userTeams.includes(s)):!1}catch(r){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,r),!1}}async getRecipeByUuid(e){const n=this.#t.get(e);if(n)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),n;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(r=>setTimeout(r,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#r){const i=await this.#r.loadRecipeDetail(e);if(i)return this.#t.set(e,i),i}const r=this.#e.get(e);if(!r)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let s;if(r.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${r.p}...`);const i=await fetch(r.p);if(!i.ok)throw new Error(`Erreur HTTP: ${i.status}`);const a=await i.json();s=kl(a)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const i=await ei(e);if(!i)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;s=this.#o(i)}return this.#t.set(e,s),this.#r&&await this.#r.saveRecipeDetail(s),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),s}catch(r){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,r),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const n=e.map(r=>this.getRecipeByUuid(r));await Promise.all(n),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!oe.userId)throw new Error("Utilisateur non connecté");try{const n={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:this.#w(0),categories:[],regime:[],teams:[],contributors:[]},r=await Cl(n,oe.userId);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:!1}),this.#o(r)}catch(n){throw console.error("[RecipesStore] Erreur lors de la création:",n),n}}async updateRecipe(e,n){try{const r={};n.title&&(r.title=n.title),n.plate&&(r.plate=n.plate),n.ingredients&&(r.ingredients=JSON.stringify(n.ingredients)),n.preparation&&(r.preparation=n.preparation);const s=await _a(e,r);return this.#e.set(s.$id,{u:s.$id,n:s.title,t:s.typeR,p:null,plates:s.plate,isPublished:s.isPublished}),this.#t.delete(e),this.#o(s)}catch(r){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteRecipe(e){try{await ql(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(n){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,n),n}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),h(this.#n,!0),h(this.#i,null);try{await this.#u(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#i,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async clearCache(){this.#r&&(await this.#r.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),h(this.#s,null),h(this.#c,!1)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#r&&(this.#r.close(),this.#r=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),h(this.#c,!1),console.log("[RecipesStore] Ressources nettoyées")}}const ds=new Ul;var Hl=x('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Bl(t,e){var n=Hl(),r=g(v(n),2),s=g(v(r),2),i=v(s);ce(()=>X(i,e.message)),b(t,n)}class zl{routes=[];#e=A("");get currentPath(){return c(this.#e)}set currentPath(e){h(this.#e,e,!0)}#t=A($e({}));get currentParams(){return c(this.#t)}set currentParams(e){h(this.#t,e,!0)}#n=A($e({}));get currentQuery(){return c(this.#n)}set currentQuery(e){h(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,n,r){this.routes.push({path:e,component:n,guard:r})}navigate(e,n){const r=n?"?"+new URLSearchParams(n).toString():"",s="#"+(e.startsWith("/")?e:"/"+e)+r;window.location.hash=s}async match(){for(const e of this.routes){const n=this.matchRoute(e.path,this.currentPath);if(n)return e.guard&&!await e.guard()?null:(this.currentParams=n.params,{component:e.component,params:n.params,query:this.currentQuery})}return null}matchRoute(e,n){if(e instanceof RegExp){const o=n.match(e);return o?{params:o.groups||{}}:null}const r=[],s=e.replace(/:([^/]+)/g,(o,l)=>(r.push(l),"([^/]+)")),i=new RegExp(`^${s}$`),a=n.match(i);if(a){const o={};return r.forEach((l,d)=>{o[l]=a[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const n=window.location.hash.slice(1).split("?")[1],r={};n&&new URLSearchParams(n).forEach((i,a)=>{r[a]=i}),this.currentQuery=r}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const Ct=new zl;function Dn(t,e){Ct.navigate(t,e)}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Wl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Ql=Ko("<svg><!><!></svg>");function Ee(t,e){O(e,!0);const n=Ne(e,"color",3,"currentColor"),r=Ne(e,"size",3,24),s=Ne(e,"strokeWidth",3,2),i=Ne(e,"absoluteStrokeWidth",3,!1),a=Ne(e,"iconNode",19,()=>[]),o=be(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=Ql();$s(l,f=>({...Wl,...o,width:r(),height:r(),stroke:n(),"stroke-width":f,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>i()?Number(s())*24/Number(r()):s()]);var d=v(l);ft(d,17,a,Qn,(f,p)=>{var m=J(()=>$a(c(p),2));let y=()=>c(m)[0],_=()=>c(m)[1];var I=Z(),E=z(I);Fo(E,y,!0,(D,T)=>{$s(D,()=>({..._()}))}),b(f,I)});var u=g(d);we(u,()=>e.children??de),b(t,l),F()}function Vl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Ee(t,Se({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Gl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];Ee(t,Se({name:"book-open"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function yn(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];Ee(t,Se({name:"calendar"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Kl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Ee(t,Se({name:"check"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function fr(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];Ee(t,Se({name:"chef-hat"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Yl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];Ee(t,Se({name:"chevron-down"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Jl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m9 18 6-6-6-6"}]];Ee(t,Se({name:"chevron-right"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Jr(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];Ee(t,Se({name:"circle-alert"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Xl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];Ee(t,Se({name:"circle-check-big"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Ia(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];Ee(t,Se({name:"circle-x"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Zl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];Ee(t,Se({name:"cloud"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Ol(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Ee(t,Se({name:"copy"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Fl(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];Ee(t,Se({name:"layout-dashboard"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Bn(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Ee(t,Se({name:"loader-circle"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function ed(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];Ee(t,Se({name:"log-in"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function td(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Ee(t,Se({name:"log-out"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function hr(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];Ee(t,Se({name:"mail"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function ti(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];Ee(t,Se({name:"moon"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function nd(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Ee(t,Se({name:"pencil-line"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function Gn(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Ee(t,Se({name:"plus"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function rd(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Ee(t,Se({name:"save"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function sd(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];Ee(t,Se({name:"search"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function id(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];Ee(t,Se({name:"square-pen"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function ad(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Ee(t,Se({name:"sun"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function od(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Ee(t,Se({name:"trash-2"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function En(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];Ee(t,Se({name:"users"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function cd(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];Ee(t,Se({name:"utensils"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function pr(t,e){O(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=be(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Ee(t,Se({name:"x"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=z(a);we(o,()=>e.children??de),b(s,a)},$$slots:{default:!0}})),F()}function ld(t,e,n){c(e)||n(!1)}var dd=x('<div class="auth-message auth-message-error svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),ud=x('<div class="auth-message auth-message-success svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),fd=x('<span class="auth-spinner svelte-o861tn"></span>'),hd=(t,e)=>h(e,!1),pd=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="forgot-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="forgot-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com"/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-back-link svelte-o861tn"><button class="auth-link-btn svelte-o861tn">← Retour à la connexion</button></div>',1),vd=x('<span class="auth-spinner svelte-o861tn"></span>'),md=(t,e)=>h(e,!0),gd=(t,e)=>h(e,!1),yd=x(`<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="login-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="login-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-actions svelte-o861tn"><button class="auth-link-btn svelte-o861tn">Mot de passe oublié ?</button> <div class="auth-switch svelte-o861tn">Pas encore de compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">S'inscrire</button></div></div>`,1),wd=x('<span class="auth-spinner svelte-o861tn"></span>'),bd=(t,e)=>h(e,!0),_d=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-name"><span class="auth-label-text svelte-o861tn">Nom</span></label> <input id="register-name" type="text" class="auth-input svelte-o861tn" placeholder="Votre nom" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="register-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="register-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-success auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-switch svelte-o861tn">Déjà un compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">Se connecter</button></div>',1),Id=x('<div role="dialog"><div class="auth-modal-content svelte-o861tn"><div class="auth-header svelte-o861tn"><div class="auth-title svelte-o861tn"> </div> <button class="auth-close-btn svelte-o861tn">✕</button></div> <div class="auth-body svelte-o861tn"><!> <!> <!></div></div></div>');function Sd(t,e){O(e,!0);let n=Ne(e,"isOpen",15),r=Ne(e,"onAuthSuccess",3,()=>{}),s=A(!0),i=A(!1),a=A(""),o=A(""),l=A(""),d=A(""),u=A(""),f=A(""),p=A(""),m=A(""),y=A(!1);async function _(L){if(L.preventDefault(),!c(l)||!c(d)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:U}=await re();await U.createEmailPasswordSession({email:c(l),password:c(d)}),h(o,"Connexion réussie !"),setTimeout(()=>{r()()},1e3)}catch(U){console.error("Erreur de connexion:",U),h(a,U.message||"Erreur lors de la connexion",!0)}finally{h(i,!1)}}async function I(L){if(L.preventDefault(),!c(u)||!c(f)||!c(p)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:U}=await re();await U.create({userId:"unique()",email:c(f),password:c(p),name:c(u)}),await U.createEmailPasswordSession({email:c(f),password:c(p)}),h(o,"Compte créé et connecté !"),setTimeout(()=>{r()()},1e3)}catch(U){console.error("Erreur d'inscription:",U),h(a,U.message||"Erreur lors de la création du compte",!0)}finally{h(i,!1)}}async function E(L){if(L.preventDefault(),!c(m)){h(a,"Veuillez entrer votre email");return}h(i,!0),h(a,"");try{const{account:U}=await re();await U.createRecovery({email:c(m),url:`${window.location.origin}/reset-password`}),h(o,"Email de réinitialisation envoyé !"),setTimeout(()=>{h(y,!1),h(m,"")},2e3)}catch(U){console.error("Erreur mot de passe oublié:",U),h(a,U.message||"Erreur lors de l'envoi de l'email",!0)}finally{h(i,!1)}}wt(()=>{(c(s)||c(y))&&(h(a,""),h(o,""))});var D=Id(),T=v(D),$=v(T),M=v($),R=v(M),C=g(M,2);C.__click=[ld,i,n];var q=g($,2),G=v(q);{var se=L=>{var U=dd(),ue=v(U),ve=v(ue);ce(()=>X(ve,c(a))),b(L,U)};B(G,L=>{c(a)&&L(se)})}var V=g(G,2);{var K=L=>{var U=ud(),ue=v(U),ve=v(ue);ce(()=>X(ve,c(o))),b(L,U)};B(V,L=>{c(o)&&L(K)})}var he=g(V,2);{var ye=L=>{var U=pd(),ue=z(U),ve=v(ue),Ae=g(v(ve),2),me=g(ve,2),_e=v(me);{var j=Y=>{var ie=fd();b(Y,ie)},P=Y=>{var ie=Dr("Envoyer l'email de réinitialisation");b(Y,ie)};B(_e,Y=>{c(i)?Y(j):Y(P,!1)})}var N=g(ue,2),Q=v(N);Q.__click=[hd,y],ce(()=>{Ae.disabled=c(i),me.disabled=c(i),Q.disabled=c(i)}),Mr("submit",ue,E),at(Ae,()=>c(m),Y=>h(m,Y)),b(L,U)},te=L=>{var U=Z(),ue=z(U);{var ve=me=>{var _e=yd(),j=z(_e),P=v(j),N=g(v(P),2),Q=g(P,2),Y=g(v(Q),2),ie=g(Q,2),ge=v(ie);{var Re=fe=>{var He=vd();b(fe,He)},Ie=fe=>{var He=Dr("Se connecter");b(fe,He)};B(ge,fe=>{c(i)?fe(Re):fe(Ie,!1)})}var Ce=g(j,2),qe=v(Ce);qe.__click=[md,y];var je=g(qe,2),Ue=g(v(je));Ue.__click=[gd,s],ce(()=>{N.disabled=c(i),Y.disabled=c(i),ie.disabled=c(i),qe.disabled=c(i),Ue.disabled=c(i)}),Mr("submit",j,_),at(N,()=>c(l),fe=>h(l,fe)),at(Y,()=>c(d),fe=>h(d,fe)),b(me,_e)},Ae=me=>{var _e=_d(),j=z(_e),P=v(j),N=g(v(P),2),Q=g(P,2),Y=g(v(Q),2),ie=g(Q,2),ge=g(v(ie),2),Re=g(ie,2),Ie=v(Re);{var Ce=fe=>{var He=wd();b(fe,He)},qe=fe=>{var He=Dr("Créer un compte");b(fe,He)};B(Ie,fe=>{c(i)?fe(Ce):fe(qe,!1)})}var je=g(j,2),Ue=g(v(je));Ue.__click=[bd,s],ce(()=>{N.disabled=c(i),Y.disabled=c(i),ge.disabled=c(i),Re.disabled=c(i),Ue.disabled=c(i)}),Mr("submit",j,I),at(N,()=>c(u),fe=>h(u,fe)),at(Y,()=>c(f),fe=>h(f,fe)),at(ge,()=>c(p),fe=>h(p,fe)),b(me,_e)};B(ue,me=>{c(s)?me(ve):me(Ae,!1)},!0)}b(L,U)};B(he,L=>{c(y)?L(ye):L(te,!1)})}ce(()=>{gt(D,1,`auth-modal ${(n()&&"auth-modal-open")??""}`,"svelte-o861tn"),X(R,c(y)?"Mot de passe oublié":c(s)?"Connexion":"Inscription")}),b(t,D),F()}Dt(["click"]);function Ed(t,e){h(e,!c(e))}async function Ad(){try{await oe.logout(),window.location.href="/"}catch(t){console.error("Erreur lors de la déconnexion:",t)}}function Rd(t,e){h(e,!0),console.log("showAuthModal",c(e))}var Pd=()=>Dn("/"),Td=()=>Dn("/teams"),$d=()=>Dn("/eventEdit"),Md=()=>Dn("/recipes"),Dd=x('<ul class="svelte-dropdown-menu svelte-18a4s1a"><li><div class="svelte-dropdown-header svelte-18a4s1a"> </div></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Dashboard</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Équipes</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Créer un événement</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Recettes</span></button></li> <li><hr class="svelte-dropdown-divider svelte-18a4s1a"/></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Se déconnecter</span></button></li></ul>'),xd=x('<li class="svelte-user-dropdown svelte-18a4s1a"><button class="svelte-btn-user svelte-18a4s1a" aria-label="Menu utilisateur"><div class="svelte-user-avatar svelte-18a4s1a"> </div> <svg class="svelte-dropdown-arrow svelte-18a4s1a" width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"></path></svg></button> <!></li>'),kd=x('<li><button class="svelte-btn-login svelte-18a4s1a"><!> <span>Connexion</span></button></li>'),Cd=x('<!> <nav class="svelte-header-nav svelte-18a4s1a"><div class="svelte-nav-container svelte-18a4s1a"><a class="svelte-nav-brand svelte-18a4s1a" href="/"><img src="/favicon-96x96.png" alt="logo" class="svelte-brand-logo svelte-18a4s1a"/></a> <ul class="svelte-nav-menu svelte-18a4s1a"><li><a class="svelte-nav-link svelte-18a4s1a" href="/recettes">Recettes</a></li> <li><a class="svelte-nav-link svelte-18a4s1a" href="/evenements">Événements</a></li></ul> <ul class="svelte-nav-actions svelte-18a4s1a"><!></ul></div></nav>',1);function qd(t,e){O(e,!0);let n=A(!1),r=A(!1);function s(){h(n,!1)}function i(_){_.target.closest(".svelte-user-dropdown")||s()}function a(){h(r,!1)}wt(()=>{if(c(n))return document.addEventListener("click",i),()=>document.removeEventListener("click",i)});var o=Cd(),l=z(o);Sd(l,{onAuthSuccess:a,get isOpen(){return c(r)},set isOpen(_){h(r,_,!0)}});var d=g(l,2),u=v(d),f=g(v(u),4),p=v(f);{var m=_=>{var I=xd(),E=v(I);E.__click=[Ed,n];var D=v(E),T=v(D),$=g(E,2);{var M=R=>{var C=Dd(),q=v(C),G=v(q),se=v(G),V=g(q,2),K=v(V);K.__click=[Pd];var he=v(K);Fl(he,{class:"svelte-dropdown-icon",size:16});var ye=g(V,2),te=v(ye);te.__click=[Td];var L=v(te);En(L,{class:"svelte-dropdown-icon",size:16});var U=g(ye,2),ue=v(U);ue.__click=[$d];var ve=v(ue);En(ve,{class:"svelte-dropdown-icon",size:16});var Ae=g(U,2),me=v(Ae);me.__click=[Md];var _e=v(me);Gl(_e,{class:"svelte-dropdown-icon",size:16});var j=g(Ae,4),P=v(j);P.__click=[Ad];var N=v(P);td(N,{class:"svelte-dropdown-icon",size:16}),ce(()=>X(se,oe.user?.email||"Utilisateur")),b(R,C)};B($,R=>{c(n)&&R(M)})}ce(R=>{Wt(E,"aria-expanded",c(n)),X(T,R)},[()=>oe.user?.name?.charAt(0).toUpperCase()||"U"]),b(_,I)},y=_=>{var I=kd(),E=v(I);E.__click=[Rd,r];var D=v(E);ed(D,{size:16}),b(_,I)};B(p,_=>{oe.isAuthenticated?_(m):_(y,!1)})}b(t,o),F()}Dt(["click"]);var jd=(t,e,n,r)=>e(c(n),c(r)),Nd=x('<button class="btn btn-sm btn-primary"> </button>'),Ld=(t,e,n)=>e(c(n)),Ud=x('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),Hd=(t,e,n)=>e(c(n)),Bd=x('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),zd=x('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),Wd=x("<div></div>");function Qd(t,e){O(e,!0);let n=Ne(e,"position",3,"toast-right toast-bottom"),r=Ne(e,"padding",3,"md");const s=J(()=>r()==="sm"?"px-2 py-0.5":""),i=J(()=>dt.toasts);function a(f){return f==="success"||f==="info"}function o(f){dt.dismiss(f.id)}function l(f){e.onShowDetails?.({id:f.id,message:f.message,details:f.details})}function d(f,p){p.onClick()}var u=Wd();ft(u,21,()=>c(i),f=>f.id,(f,p)=>{var m=zd(),y=v(m),_=v(y),I=v(_);{var E=V=>{Bn(V,{class:"h-5 w-5 animate-spin"})};B(I,V=>{c(p).state==="loading"&&V(E)})}var D=g(I,2),T=v(D),$=g(_,2),M=v($);{var R=V=>{var K=Z(),he=z(K);ft(he,17,()=>c(p).actions,Qn,(ye,te)=>{var L=Nd();L.__click=[jd,d,p,te];var U=v(L);ce(()=>X(U,c(te).label)),b(ye,L)}),b(V,K)};B(M,V=>{c(p).actions&&c(p).actions.length>0&&V(R)})}var C=g(M,2);{var q=V=>{var K=Ud();K.__click=[Ld,l,p];var he=v(K);Yl(he,{class:"h-3 w-3"}),b(V,K)};B(C,V=>{c(p).details&&V(q)})}var G=g(C,2);{var se=V=>{var K=Bd();K.__click=[Hd,o,p];var he=v(K);pr(he,{class:"h-4 w-4"}),b(V,K)};B(G,V=>{(c(p).state==="error"||c(p).state==="warning"||!a(c(p).state))&&V(se)})}ce(()=>{gt(m,1,`alert alert-${c(p).state??""} max-w-sm ${c(s)??""} shadow-lg`),X(T,c(p).message)}),b(f,m)}),ce(()=>gt(u,1,`toast ${n()??""} z-50`)),b(t,u),F()}Dt(["click"]);function Vd(t,e){O(e,!0),F()}oo();function ni(){Dn("/eventEdit")}var Gd=x('<div class="flex items-center justify-center py-20"><!></div>'),Kd=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),Yd=x(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun événement</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé d'événement.</p> <button class="btn btn-primary btn-sm">Créer mon premier événement</button></div>`),Jd=(t,e,n)=>e(c(n).$id),Xd=x('<div class="badge badge-ghost text-xs"> </div>'),Zd=x('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span>-</span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="text-base-content/70 mt-auto flex flex-wrap justify-between text-sm"><div> </div> <div> </div></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Ouvrir <!></span></div></div></button>'),Od=x('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),Fd=x('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Événements</h1> <p class="text-base-content/60">Gérez vos menus et listes de courses</p></div> <button class="btn btn-primary"><!> Nouvel Événement</button></div> <!></div>');function ri(t,e){O(e,!1);function n(f){return f?new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date inconnue"}function r(f){Dn(`/eventEdit/${f}`)}uc();var s=Fd(),i=v(s),a=g(v(i),2);a.__click=[ni];var o=v(a);Gn(o,{class:"mr-2 h-5 w-5"});var l=g(i,2);{var d=f=>{var p=Gd(),m=v(p);Bn(m,{class:"text-primary h-8 w-8 animate-spin"}),b(f,p)},u=f=>{var p=Z(),m=z(p);{var y=I=>{var E=Kd(),D=v(E),T=v(D);ce(()=>X(T,qt.error)),b(I,E)},_=I=>{var E=Z(),D=z(E);{var T=M=>{var R=Yd(),C=v(R),q=v(C);yn(q,{class:"h-8 w-8 opacity-50"});var G=g(C,6);G.__click=[ni],b(M,R)},$=M=>{var R=Od();ft(R,5,()=>qt.events,Qn,(C,q)=>{var G=Zd();G.__click=[Jd,r,q];var se=v(G),V=v(se),K=v(V),he=v(K),ye=g(K,2);{var te=Ie=>{var Ce=Xd(),qe=v(Ce);ce(je=>X(qe,je),[()=>n(c(q).dateStart)]),b(Ie,Ce)};B(ye,Ie=>{c(q).dateStart&&Ie(te)})}var L=g(V,2),U=v(L),ue=v(U);En(ue,{class:"h-4 w-4"});var ve=g(U,2),Ae=v(ve);yn(Ae,{class:"h-4 w-4"});var me=g(Ae,2),_e=v(me),j=g(L,2),P=v(j),N=v(P),Q=g(P,2),Y=v(Q),ie=g(j,2),ge=v(ie),Re=g(v(ge));Jl(Re,{class:"h-4 w-4"}),ce(()=>{X(he,c(q).name),X(_e,`${(c(q).allDates?.length||0)??""} jours`),X(N,`crée le ${c(q).$createdAt??""}`),X(Y,`modifié le ${c(q).$updatedAt??""}`)}),b(C,G)}),b(M,R)};B(D,M=>{qt.count===0?M(T):M($,!1)},!0)}b(I,E)};B(m,I=>{qt.error?I(y):I(_,!1)},!0)}b(f,p)};B(l,f=>{qt.loading&&qt.count===0?f(d):f(u,!1)})}b(t,s),F()}Dt(["click"]);function eu(t){return e=>{t.shouldFocus&&requestAnimationFrame(()=>{e.focus()});const n=r=>{(r.key==="Enter"||r.key==="Tab")&&e instanceof HTMLInputElement&&e.value.trim()===""&&(r.preventDefault(),t.onEmptySubmit?.())};return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}}}function tu(t,e,n,r){c(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),h(n,(c(n)+1)%c(e).length)):t.key==="ArrowUp"?(t.preventDefault(),h(n,c(n)<=0?c(e).length-1:c(n)-1,!0)):(t.key==="Enter"||t.key==="Tab")&&c(n)>=0&&(t.preventDefault(),r(c(e)[c(n)])))}var nu=x('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),ru=(t,e,n)=>e(c(n)),su=x('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),iu=x('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),au=x('<div class="mt-2"><label class="input input-accent w-full"><!> <input type="text" placeholder="Rechercher une recette..."/> <!></label> <!> <!></div>'),ou=(t,e)=>h(e,null),cu=x('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),lu=x('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function du(t,e){O(e,!0);let n=Ne(e,"defaultPlates",3,4),r=Ne(e,"autoFocus",3,!1),s=A(""),i=A(""),a=A($e(n())),o=A(null),l=!1,d=A(-1),u=J(()=>c(s).length>1?ds.searchRecipes(c(s)).slice(0,5):[]);wt(()=>{c(u).length>0&&c(d)===-1?h(d,0):c(u).length===0&&h(d,-1)});function f(){h(o,null),h(s,""),h(i,""),h(a,n()),h(d,-1)}function p(R){h(o,R,!0);const C=R.t||"plat";h(i,c(i)?c(i):C,!0),e.onSelect(R,c(i),c(a)),f()}const m=Math.random().toString(36).slice(2);var y=lu(),_=v(y),I=v(_),E=v(I),D=v(E);Gn(D,{class:"text-primary h-4 w-4"});var T=g(I,2);{var $=R=>{var C=au(),q=v(C),G=v(q);sd(G,{class:"h-4 w-4 opacity-50"});var se=g(G,2);se.__keydown=[tu,u,d,p],Ji(se,()=>eu({shouldFocus:r(),onEmptySubmit:e.onEmptySubmit}));var V=g(se,2);B(V,L=>{});var K=g(q,2);{var he=L=>{var U=nu();b(L,U)};B(K,L=>{c(s).length>1&&c(u).length===0&&L(he)})}var ye=g(K,2);{var te=L=>{var U=iu();ft(U,23,()=>c(u),ue=>ue.u,(ue,ve,Ae)=>{var me=su(),_e=v(me);_e.__click=[ru,p,ve],_e.disabled=l;var j=v(_e),P=v(j);fr(P,{class:"h-3 w-3 opacity-70"});var N=g(j,2),Q=v(N);ce(()=>{gt(_e,1,`flex items-center gap-2 py-2 text-left ${c(Ae)===c(d)&&"ring-accent/40 ring-2"} `),X(Q,c(ve).n)}),b(ue,me)}),b(L,U)};B(ye,L=>{c(u).length>0&&L(te)})}at(se,()=>c(s),L=>h(s,L)),b(R,C)},M=R=>{var C=cu(),q=v(C),G=v(q),se=v(G);fr(se,{class:"h-5 w-5"});var V=g(G,2),K=v(V),he=v(K),ye=g(K,2);ye.__click=[ou,o];var te=g(q,2),L=v(te),U=v(L),ue=g(U,2),ve=v(ue);ve.value=ve.__value="";var Ae=g(ve);Ae.value=Ae.__value="entree";var me=g(Ae);me.value=me.__value="plat";var _e=g(me);_e.value=_e.__value="dessert";var j=g(L,2),P=v(j),N=g(P,2);ce(()=>{X(he,c(o).n),Wt(U,"for",`type-${m}`),Wt(ue,"id",`type-${m}`),Wt(P,"for",`plates-${m}`),Wt(N,"id",`plates-${m}`)}),Gr(ue,()=>c(i),Q=>h(i,Q)),at(N,()=>c(a),Q=>h(a,Q)),b(R,C)};B(T,R=>{c(o)?R(M,!1):R($)})}b(t,y),F()}Dt(["keydown","click"]);function uu(t){if(!t)return"";try{return new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return t}}const fu=t=>t;function an(t,{delay:e=0,duration:n=400,easing:r=fu}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function hu(t,e){return`${t}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function pu(t){return t.split("T")[0]}function si(t){const e=parseInt(t.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function vu(t){const e=t-1;return e*e*e+1}function Sa(t,{from:e,to:n},r={}){var{delay:s=0,duration:i=R=>Math.sqrt(R)*120,easing:a=vu}=r,o=getComputedStyle(t),l=o.transform==="none"?"":o.transform,[d,u]=o.transformOrigin.split(" ").map(parseFloat);d/=t.clientWidth,u/=t.clientHeight;var f=mu(t),p=t.clientWidth/n.width/f,m=t.clientHeight/n.height/f,y=e.left+e.width*d,_=e.top+e.height*u,I=n.left+n.width*d,E=n.top+n.height*u,D=(y-I)*p,T=(_-E)*m,$=e.width/n.width,M=e.height/n.height;return{delay:s,duration:typeof i=="function"?i(Math.sqrt(D*D+T*T)):i,easing:a,css:(R,C)=>{var q=C*D,G=C*T,se=R+C*$,V=R+C*M;return`transform: ${l} translate(${q}px, ${G}px) scale(${se}, ${V});`}}}function mu(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}var gu=(t,e,n)=>{(t.key==="Enter"||t.key===" ")&&!e()&&n()},yu=(t,e)=>{e(!1)},wu=x(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),bu=(t,e,n)=>{e(!0),n.onEditToggle&&n.onEditToggle()},_u=x('<button class="btn btn-ghost" title="Éditer"><!></button>'),Iu=x('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Su=(t,e,n)=>e(c(n).recipeUuid),Eu=x('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),Au=x('<div class="mb-4 space-y-2"></div>'),Ru=x('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Pu=x('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),Tu=x('<div class="flex flex-wrap gap-2"></div>'),$u=x('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),Mu=x('<div class="space-y-2"><!></div>'),Du=x('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function xu(t,e){O(e,!0);let n=Ne(e,"meal",15),r=Ne(e,"defaultGuests",3,100),s=Ne(e,"isEditing",15,!1),i=Ne(e,"allDates",19,()=>[]),a=A(!1);n().guests||n(n().guests=r(),!0),n().recipes||n(n().recipes=[],!0);let o=J(()=>si(n().date||"")),l=A(!1),d=A($e(pu(n().date||""))),u=A($e(si(n().date||""))),f=J(()=>hu(c(d),c(u)));wt(()=>{const P=!p(c(f)),N=n().date;P?(n(n().date=c(f),!0),h(l,!1),e.onDateChanged&&n().id&&N!==c(f)&&e.onDateChanged(n().id,c(f)),h(l,!1)):h(l,!0)});function p(P){const N=n().date||"";return i().some(Q=>Q!==N&&Q===P)}const m=J(()=>{const P=c(o)||"";return P==="matin"?Zl:P==="midi"?ad:ti}),y=J(()=>{const P={entree:1,plat:2,dessert:3};return[...n().recipes].sort((N,Q)=>{const Y=P[N.type]||999,ie=P[Q.type]||999;return Y-ie})});function _(P,N,Q){if(n().recipes.some(Re=>Re.recipeUuid===P.u))return;const ie=Q||n().guests,ge={recipeUuid:P.u,plates:ie,type:N};n(n().recipes=[...n().recipes,{...ge}],!0)}function I(P){n(n().recipes=n().recipes.filter(N=>N.recipeUuid!==P),!0)}function E(P){return ds.getRecipeIndexByUuid(P)}function D(){!s()&&e.onEditToggle&&(e.onEditToggle(),h(a,!0))}wt(()=>{s()&&(h(a,!0),setTimeout(()=>{h(a,!1)},100))});function T(P){return P==="entree"?"bg-lime-100 border-lime-200":P==="plat"?"bg-orange-100 border-orange-200":P==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var $=Du();$.__click=D,$.__keydown=[gu,s,D];var M=v($),R=v(M),C=v(R),q=v(C),G=v(q),se=g(q,2),V=v(se);Yi(V,()=>c(m),(P,N)=>{N(P,{size:16})});var K=g(V,2),he=v(K),ye=g(se,2),te=v(ye);En(te,{class:"h-3 w-3"});var L=g(te),U=g(C,2),ue=v(U);{var ve=P=>{var N=wu(),Q=z(N);Q.__click=[yu,s];var Y=g(Q,2);Y.__click=function(...Ie){e.onDuplicate?.apply(this,Ie)};var ie=v(Y);Ol(ie,{class:"h-4 w-4"});var ge=g(Y,2);ge.__click=function(...Ie){e.onDelete?.apply(this,Ie)};var Re=v(ge);od(Re,{class:"h-4 w-4"}),b(P,N)},Ae=P=>{var N=_u();N.__click=[bu,s,e];var Q=v(N);nd(Q,{class:"h-4 w-4"}),b(P,N)};B(ue,P=>{s()?P(ve):P(Ae,!1)})}var me=g(R,2);{var _e=P=>{var N=Ru(),Q=v(N),Y=v(Q),ie=g(v(Y),2),ge=g(ie,2);{var Re=W=>{var ae=Iu();b(W,ae)};B(ge,W=>{c(l)&&W(Re)})}var Ie=g(Y,2),Ce=g(v(Ie),2),qe=v(Ce);qe.value=qe.__value="";var je=g(qe);je.value=je.__value="matin";var Ue=g(je);Ue.value=Ue.__value="midi";var fe=g(Ue);fe.value=fe.__value="soir";var He=g(Ie,2),bt=g(v(He),2),_t=g(Q,2),xe=v(_t),et=v(xe),st=v(et);cd(st,{class:"h-4 w-4"});var k=g(xe,2);{var H=W=>{var ae=Au();ft(ae,31,()=>c(y),Pe=>Pe.recipeUuid,(Pe,Me,We)=>{const ct=J(()=>E(c(Me).recipeUuid));var Qe=Eu(),pe=v(Qe),Be=v(pe),Ve=v(Be);fr(Ve,{class:"h-5 w-5"});var Je=g(Be,2),Xe=v(Je),De=v(Xe),xt=g(pe,2),pt=v(xt),kt=v(pt);kt.value=kt.__value="entree";var vt=g(kt);vt.value=vt.__value="plat";var er=g(vt);er.value=er.__value="dessert";var fs=g(pt,2),Ea=v(fs),hs=g(fs,2);hs.__click=[Su,I,Me];var Aa=v(hs);pr(Aa,{class:"h-4 w-4"}),ce(xn=>{gt(Be,1,`${xn??""} rounded-md border-2 p-2`),X(De,c(ct)?.n||"Recette inconnue")},[()=>T(c(Me).type)]),Gr(pt,()=>c(Me).type,xn=>c(Me).type=xn),at(Ea,()=>c(Me).plates,xn=>c(Me).plates=xn),na(Qe,()=>Sa,()=>({duration:200})),b(Pe,Qe)}),b(W,ae)};B(k,W=>{n().recipes.length>=1&&W(H)})}var ne=g(k,2);du(ne,{onSelect:_,get defaultPlates(){return n().guests},get autoFocus(){return c(a)},get onEmptySubmit(){return e.onEmptySearchSubmit}}),ce(()=>{gt(ie,1,`input input-bordered w-full ${c(l)?"input-error":""}`),gt(Ce,1,`select select-bordered w-full ${c(l)?"select-error":""}`)}),at(ie,()=>c(d),W=>h(d,W)),Gr(Ce,()=>c(u),W=>h(u,W)),at(bt,()=>n().guests,W=>n(n().guests=W,!0)),b(P,N)},j=P=>{var N=Mu(),Q=v(N);{var Y=ge=>{var Re=Tu();ft(Re,21,()=>c(y),Ie=>Ie.recipeUuid,(Ie,Ce)=>{const qe=J(()=>E(c(Ce).recipeUuid));var je=Pu(),Ue=v(je);fr(Ue,{class:"h-4 w-4"});var fe=g(Ue,2),He=v(fe),bt=g(fe,2),_t=v(bt);ce(xe=>{gt(je,1,`badge badge-lg ${xe??""} h-auto gap-2 py-1 font-medium`),X(He,c(qe)?.n||"..."),X(_t,`${(c(Ce).plates||n().guests)??""}p`)},[()=>T(c(Ce).type)]),b(Ie,je)}),b(ge,Re)},ie=ge=>{var Re=$u();b(ge,Re)};B(Q,ge=>{c(y).length>0?ge(Y):ge(ie,!1)})}b(P,N)};B(me,P=>{s()?P(_e):P(j,!1)})}ce((P,N)=>{gt($,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${s()?"ring-accent/40 ring-2":""} ${s()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"}`),Wt($,"tabindex",s()?-1:0),X(G,P),X(he,N),X(L,` ${n().guests??""} pers.`)},[()=>n().date?uu(n().date):"Date non définie",()=>c(o)?c(o).toUpperCase():"REPAS"]),b(t,$),F()}Dt(["click","keydown"]);const $r="invitations";async function ku(t,e,n,r){try{const{tables:s,config:i}=await re(),a=Ht.unique(),o=new Date().toISOString(),l=`${window.location.origin}/invitation/${a}`,d={id:a,email:t,eventId:e,teamId:r,status:"invited",invitedAt:o,invitedBy:n,invitationUrl:l},u=await s.createRow({databaseId:i.databaseId,tableId:$r,rowId:a,data:d});return await Nu(t,l,e),console.log(`[appwrite-invitations] Invitation créée: ${a} pour ${t}`),u}catch(s){throw console.error("[appwrite-invitations] Erreur lors de la création:",s),s}}async function us(t){try{const{tables:e,config:n}=await re();return await e.getRow({databaseId:n.databaseId,tableId:$r,rowId:t})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-invitations] Erreur lors de la récupération de ${t}:`,e),e}}async function Cu(t,e){try{const{tables:n,config:r}=await re(),s=await us(t);if(!s)throw new Error("Invitation introuvable");if(s.status!=="invited")throw new Error("Cette invitation a déjà été traitée");const i={status:"accepted",respondedAt:new Date().toISOString(),acceptedBy:e},a=await n.updateRow({databaseId:r.databaseId,tableId:$r,rowId:t,data:i});return await Lu(s.eventId,e,s.email),console.log(`[appwrite-invitations] Invitation acceptée: ${t} par ${e}`),a}catch(n){throw console.error(`[appwrite-invitations] Erreur lors de l'acceptation de ${t}:`,n),n}}async function qu(t,e){try{const{tables:n,config:r}=await re(),s=await us(t);if(!s)throw new Error("Invitation introuvable");if(s.status!=="invited")throw new Error("Cette invitation a déjà été traitée");const i={status:"declined",respondedAt:new Date().toISOString(),declinedBy:e},a=await n.updateRow(r.databaseId,$r,t,i);return console.log(`[appwrite-invitations] Invitation refusée: ${t} par ${e}`),a}catch(n){throw console.error(`[appwrite-invitations] Erreur lors du refus de ${t}:`,n),n}}function ju(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}async function Nu(t,e,n){try{console.log(`[appwrite-invitations] Email d'invitation envoyé à ${t}: ${e}`)}catch(r){throw console.error("[appwrite-invitations] Erreur lors de l'envoi de l'email d'invitation:",r),r}}async function Lu(t,e,n){try{const{tables:r,config:s}=await re(),i=await r.getRow({databaseId:s.databaseId,tableId:"main",rowId:t});let a=[];if(i.contributors)try{a=JSON.parse(i.contributors)}catch(d){console.error("Erreur lors du parsing des contributeurs:",d)}const o={id:e,email:n,status:"accepted",respondedAt:new Date().toISOString()},l=a.findIndex(d=>d.id===e);l>=0?a[l]=o:a.push(o),await r.updateRow({databaseId:s.databaseId,tableId:"main",rowId:t,data:{contributors:JSON.stringify(a)}}),console.log(`[appwrite-invitations] Contributeur ${e} ajouté à l'événement ${t}`)}catch(r){throw console.error(`[appwrite-invitations] Erreur lors de l'ajout du contributeur à l'événement ${t}:`,r),r}}function Uu(t,e,n,r){c(e)&&(n(n().filter(s=>s!==c(e))),h(e,null)),h(r,!1)}function Hu(t,e,n,r){c(e)&&(n(n().filter(s=>s.id!==c(e).id)),h(e,null)),h(r,!1)}var Bu=(t,e)=>h(e,!0),zu=(t,e,n)=>e(c(n).$id),Wu=(t,e,n)=>e(c(n).$id),Qu=x('<button class="btn btn-ghost btn-xs btn-circle" title="Retirer cette équipe"><!></button>'),Vu=x('<div class="border-base-200 hover:bg-base-200/50 flex items-center justify-between rounded-lg border p-2 transition-colors"><label class="flex grow cursor-pointer items-center gap-3"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span> </span></label> <!></div>'),Gu=x('<p class="text-base-content/60 text-xs italic">Aucune équipe disponible</p>'),Ku=(t,e,n)=>e(c(n).name,c(n).name,c(n).email,c(n).teamId),Yu=x('<button class="badge badge-outline badge-lg h-auto gap-1 py-1" title="Ajouter comme contributeur"><!> </button>'),Ju=x('<div class="mb-3"><p class="mb-2 text-sm font-medium">Membres des équipes sélectionnées</p> <div class="flex flex-wrap gap-2"></div></div>'),Xu=(t,e)=>t.key==="Enter"&&e(),Zu=x('<span class="loading loading-spinner loading-xs"></span>'),Ou=x('<div class="alert alert-error mt-2 py-2 text-xs"><!> </div>'),Fu=(t,e,n)=>e(c(n)),ef=x('<div><!> <button class="btn btn-ghost btn-xs btn-circle h-4 min-h-0 w-4" title="Retirer ce contributeur"><!></button></div>'),tf=x('<p class="text-base-content/60 text-xs italic">Aucun contributeur ajouté</p>'),nf=(t,e)=>h(e,!1),rf=x(`<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4">Êtes-vous sûr de vouloir retirer cette équipe des permissions ? Les
        membres de cette équipe ne pourront plus accéder à cet événement.</p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>`),sf=(t,e)=>h(e,!1),af=x('<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>'),of=(t,e,n)=>e(c(n).$id),cf=x('<label class="border-base-200 flex cursor-pointer items-center gap-3 rounded-lg border p-2"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <div class="grow"><div class="font-medium"> </div> <div class="text-base-content/60 text-xs"> </div></div></label>'),lf=x(`<p class="text-base-content/60 text-xs italic">Vous n'avez accès à aucune équipe.</p>`),df=(t,e)=>h(e,!1),uf=x('<div class="modal modal-open"><div class="modal-box max-w-md"><h3 class="text-lg font-bold">Gérer les équipes</h3> <div class="py-4"><div class="flex flex-col gap-2"><!> <!></div></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div></div></div>'),ff=x('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Permissions</h3> <fieldset class="fieldset"><div class="flex items-center justify-between"><legend class="fieldset-legend">Équipes</legend> <button class="btn btn-ghost btn-xs"><!> Gérer</button></div> <div class="flex flex-col gap-2"><!> <!></div></fieldset> <div class="divider my-2"></div> <fieldset class="fieldset"><legend class="fieldset-legend">Contributeurs</legend> <!> <div class="mb-3"><p class="mb-2 text-sm font-medium">Inviter par email</p> <div class="flex gap-2"><input type="email" placeholder="email@exemple.com" class="input input-sm w-full"/> <button class="btn btn-sm btn-primary"><!> Inviter</button></div> <!></div> <div class="mb-3"><p class="mb-2 text-sm font-medium"> </p> <div class="flex flex-wrap gap-2"><!> <!></div></div></fieldset></div></div> <!> <!> <!>',1);function hf(t,e){O(e,!0);let n=Ne(e,"selectedTeams",31,()=>$e([])),r=Ne(e,"contributors",31,()=>$e([])),s=Ne(e,"userId",3,"");Ne(e,"userTeams",19,()=>[]);let i=Ne(e,"eventId",3,""),a=A(!1),o=A(!1),l=A(!1),d=A(null),u=A(null),f=A(""),p=A(!1),m=A(null),y=J(()=>{const k=new Map;for(const H of n()){const ne=e.teamsStore.getTeamById(H);if(ne&&ne.members)for(const W of ne.members.memberships)W.userId!==s()&&!r().some(ae=>ae.id===W.userId)&&k.set(W.userId,{name:W.userName||W.userEmail||W.userId,email:W.userEmail,teamId:H})}return k}),_=J(()=>()=>Array.from(c(y).values()));function I(k){n().includes(k)?n(n().filter(H=>H!==k)):n([...n(),k])}function E(k){h(d,k,!0),h(o,!0)}function D(k,H,ne,W){if(r().some(Pe=>Pe.id===k))return;const ae={id:k,name:H,email:ne,status:"accepted",invitedAt:new Date().toISOString(),teamId:W};r([...r(),ae])}async function T(){if(!c(f)||!ju(c(f))){h(m,"Veuillez entrer une adresse email valide");return}if(!i()){h(m,"ID d'événement manquant pour l'invitation");return}if(r().some(k=>k.email===c(f))){h(m,"Cet email a déjà été invité");return}h(p,!0),h(m,null);try{const k=await ku(c(f),i(),s()),H={id:k.id,email:c(f),status:"invited",invitedAt:k.invitedAt};r([...r(),H]),h(f,"")}catch(k){console.error("Erreur lors de l'invitation:",k),h(m,"Erreur lors de l'envoi de l'invitation")}finally{h(p,!1)}}function $(k){h(u,k,!0),h(l,!0)}var M=ff(),R=z(M),C=v(R),q=v(C),G=v(q);En(G,{class:"text-secondary h-5 w-5"});var se=g(q,2),V=v(se),K=g(v(V),2);K.__click=[Bu,a];var he=v(K);id(he,{class:"mr-1 h-3 w-3"});var ye=g(V,2),te=v(ye);ft(te,17,()=>e.teamsStore.teams,Qn,(k,H)=>{var ne=Vu(),W=v(ne),ae=v(W);ae.__change=[zu,I,H];var Pe=g(ae,2),Me=v(Pe),We=g(W,2);{var ct=Qe=>{var pe=Qu();pe.__click=[Wu,E,H];var Be=v(pe);pr(Be,{class:"h-3 w-3"}),b(Qe,pe)};B(We,Qe=>{n().includes(c(H).$id)&&Qe(ct)})}ce(Qe=>{Ts(ae,Qe),X(Me,c(H).name)},[()=>n().includes(c(H).$id)]),b(k,ne)});var L=g(te,2);{var U=k=>{var H=Gu();b(k,H)};B(L,k=>{e.teamsStore.teams.length===0&&k(U)})}var ue=g(se,4),ve=g(v(ue),2);{var Ae=k=>{var H=Ju(),ne=g(v(H),2);ft(ne,21,()=>c(_),W=>W.name,(W,ae)=>{var Pe=Yu();Pe.__click=[Ku,D,ae];var Me=v(Pe);Gn(Me,{class:"h-3 w-3"});var We=g(Me);ce(()=>X(We,` ${c(ae).name??""}`)),b(W,Pe)}),b(k,H)};B(ve,k=>{c(_).length>0&&k(Ae)})}var me=g(ve,2),_e=g(v(me),2),j=v(_e);j.__keydown=[Xu,T];var P=g(j,2);P.__click=T;var N=v(P);{var Q=k=>{var H=Zu();b(k,H)},Y=k=>{hr(k,{class:"h-4 w-4"})};B(N,k=>{c(p)?k(Q):k(Y,!1)})}var ie=g(_e,2);{var ge=k=>{var H=Ou(),ne=v(H);Jr(ne,{class:"h-3 w-3"});var W=g(ne);ce(()=>X(W,` ${c(m)??""}`)),b(k,H)};B(ie,k=>{c(m)&&k(ge)})}var Re=g(me,2),Ie=v(Re),Ce=v(Ie),qe=g(Ie,2),je=v(qe);ft(je,17,r,k=>k.id,(k,H)=>{var ne=ef();let W;var ae=v(ne);{var Pe=pe=>{hr(pe,{class:"h-3 w-3"})},Me=pe=>{var Be=Z(),Ve=z(Be);{var Je=De=>{Kl(De,{class:"h-3 w-3"})},Xe=De=>{var xt=Z(),pt=z(xt);{var kt=vt=>{Ia(vt,{class:"h-3 w-3"})};B(pt,vt=>{c(H).status==="declined"&&vt(kt)},!0)}b(De,xt)};B(Ve,De=>{c(H).status==="accepted"?De(Je):De(Xe,!1)},!0)}b(pe,Be)};B(ae,pe=>{c(H).status==="invited"?pe(Pe):pe(Me,!1)})}var We=g(ae),ct=g(We);ct.__click=[Fu,$,H];var Qe=v(ct);pr(Qe,{class:"h-3 w-3"}),ce(pe=>{W=gt(ne,1,"badge badge-outline gap-2 pr-1",null,W,pe),X(We,` ${(c(H).name||c(H).email||c(H).id)??""} `)},[()=>({"badge-success":c(H).status==="accepted"})]),b(k,ne)});var Ue=g(je,2);{var fe=k=>{var H=tf();b(k,H)};B(Ue,k=>{r().length===0&&k(fe)})}var He=g(R,2);{var bt=k=>{var H=rf(),ne=v(H),W=g(v(ne),4),ae=v(W);ae.__click=[nf,o];var Pe=g(ae,2);Pe.__click=[Uu,d,n,o],nn(3,H,()=>an),b(k,H)};B(He,k=>{c(o)&&k(bt)})}var _t=g(He,2);{var xe=k=>{var H=af(),ne=v(H),W=g(v(ne),2),ae=v(W),Pe=g(W,2),Me=v(Pe);Me.__click=[sf,l];var We=g(Me,2);We.__click=[Hu,u,r,l],ce(()=>X(ae,`Êtes-vous sûr de vouloir retirer ce contributeur ?
        ${(c(u)?.name||c(u)?.email||c(u)?.id)??""} ne pourra plus accéder à cet événement.`)),nn(3,H,()=>an),b(k,H)};B(_t,k=>{c(l)&&k(xe)})}var et=g(_t,2);{var st=k=>{var H=uf(),ne=v(H),W=g(v(ne),2),ae=v(W),Pe=v(ae);ft(Pe,17,()=>e.teamsStore.teams,Qn,(pe,Be)=>{var Ve=cf(),Je=v(Ve);Je.__change=[of,I,Be];var Xe=g(Je,2),De=v(Xe),xt=v(De),pt=g(De,2),kt=v(pt);ce(vt=>{Ts(Je,vt),X(xt,c(Be).name),X(kt,`${(c(Be).members?.total||0)??""} membre${c(Be).members?.total!==1?"s":""}`)},[()=>n().includes(c(Be).$id)]),b(pe,Ve)});var Me=g(Pe,2);{var We=pe=>{var Be=lf();b(pe,Be)};B(Me,pe=>{e.teamsStore.teams.length===0&&pe(We)})}var ct=g(W,2),Qe=v(ct);Qe.__click=[df,a],nn(3,H,()=>an),b(k,H)};B(et,k=>{c(a)&&k(st)})}ce(()=>{P.disabled=c(p)||!c(f),X(Ce,`Contributeurs (${r().length??""})`)}),at(j,()=>c(f),k=>h(f,k)),b(t,M),F()}Dt(["click","change","keydown"]);async function pf(t,e,n,r,s,i,a,o,l,d,u,f){if(!c(e)){h(n,"Veuillez renseigner le nom de l'événement");return}if(c(r).length===0){h(n,"Veuillez ajouter au moins un repas");return}h(s,!0),h(n,null);try{const p={name:c(e),dateStart:c(i),dateEnd:c(a),allDates:c(o),teams:c(l),contributors:c(d),meals:c(r)};c(u)?await qt.updateEvent(c(u),p):await qt.createEvent(p),f()}catch(p){console.error("Erreur lors de la sauvegarde de l'événement:",p),h(n,"Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{h(s,!1)}}var vf=x('<span class="loading loading-spinner loading-sm"></span>'),mf=x(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),gf=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),yf=x('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),wf=x("<div><!></div>"),bf=x('<div class="space-y-4"></div>'),_f=x(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <!></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),If=x('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!></div>');function ii(t,e){O(e,!0);const n=J(()=>e.params?.id);let r=A(""),s=A($e([])),i=A($e([])),a=A($e([])),o=A(!1),l=A(!1),d=A(null),u=A(null);const f=J(()=>{const j=c(a).map(P=>P.date).filter(Boolean);return[...new Set(j)].sort()}),p=J(()=>c(f).length>0?c(f)[0]:""),m=J(()=>c(f).length>0?c(f)[c(f).length-1]:"");wt(()=>{c(n)?(h(l,!0),h(d,null),On(c(n)).then(j=>{j?(h(r,j.name||"",!0),h(s,j.teams||[],!0),h(i,wa(j),!0),h(a,Fn(j).sort((P,N)=>P.date.localeCompare(N.date)),!0)):h(d,"Événement introuvable")}).catch(j=>{console.error("Erreur lors du chargement de l'événement:",j),h(d,"Erreur lors du chargement de l'événement")}).finally(()=>{h(l,!1)})):(h(r,""),h(s,[],!0),h(i,[],!0),h(a,[],!0))});function y(){history.back()}function _(){const j=Yr(6);let P;if(c(f).length===0){const Q=new Date;Q.setHours(12,0,0,0),P=Q.toISOString()}else{const Q=c(f)[c(f).length-1],Y=new Date(Q);Y.getHours()<14?Y.setHours(20,0,0,0):(Y.setDate(Y.getDate()+1),Y.setHours(12,0,0,0)),P=Y.toISOString()}if(c(a).some(Q=>Q.date===P)){h(d,"Un repas existe déjà à cette date et heure");return}const N={id:j,date:P,guests:100,recipes:[]};h(a,[...c(a),N].sort((Q,Y)=>Q.date.localeCompare(Y.date)),!0),h(u,j,!0)}function I(j){h(a,c(a).filter(P=>P.id!==j),!0)}function E(j){}function D(j){h(u,c(u)===j?null:j,!0)}function T(j){const P=c(a).findIndex(N=>N.id===j);if(P<c(a).length-1){const N=c(a)[P+1];N.id||(N.id=Yr(6)),h(u,N.id,!0)}else _()}function $(j,P){h(a,c(a).sort((N,Q)=>N.date.localeCompare(Q.date)),!0)}var M=If(),R=v(M),C=v(R),q=v(C);q.__click=y;var G=v(q);Vl(G,{class:"h-6 w-6"});var se=g(q,2),V=v(se),K=v(V),he=g(V,2),ye=v(he),te=g(C,2);te.__click=[pf,r,d,a,o,p,m,f,s,i,n,y];var L=v(te);{var U=j=>{var P=vf();b(j,P)},ue=j=>{rd(j,{class:"mr-2 h-4 w-4"})};B(L,j=>{c(o)?j(U):j(ue,!1)})}var ve=g(L),Ae=g(R,2);{var me=j=>{var P=mf();b(j,P)},_e=j=>{var P=Z(),N=z(P);{var Q=ie=>{var ge=gf(),Re=v(ge),Ie=v(Re);ce(()=>X(Ie,c(d))),b(ie,ge)},Y=ie=>{var ge=_f(),Re=v(ge),Ie=v(Re),Ce=v(Ie),qe=v(Ce),je=v(qe);yn(je,{class:"text-primary h-5 w-5"});var Ue=g(qe,2),fe=v(Ue),He=v(fe),bt=v(He);yn(bt,{class:"h-4 w-4 opacity-50"});var _t=g(bt,2),xe=g(Ie,2);{let Ve=J(()=>oe.userId||""),Je=J(()=>oe.userTeams||[]);hf(xe,{get teamsStore(){return ba},get userId(){return c(Ve)},get userTeams(){return c(Je)},get eventId(){return c(n)},get selectedTeams(){return c(s)},set selectedTeams(Xe){h(s,Xe,!0)},get contributors(){return c(i)},set contributors(Xe){h(i,Xe,!0)}})}var et=g(Re,2),st=v(et),k=v(st),H=v(k),ne=v(H),W=v(ne),ae=g(ne,2);ae.__click=_;var Pe=v(ae);Gn(Pe,{class:"mr-1 h-4 w-4"});var Me=g(H,2);{var We=Ve=>{var Je=yf(),Xe=v(Je),De=v(Xe);yn(De,{class:"h-8 w-8 opacity-50"}),b(Ve,Je)},ct=Ve=>{var Je=bf();ft(Je,31,()=>c(a),Xe=>Xe.id,(Xe,De,xt)=>{var pt=wf(),kt=v(pt);{let vt=J(()=>c(u)===c(De).id);xu(kt,{get isEditing(){return c(vt)},onEditToggle:()=>c(De).id&&D(c(De).id),onDelete:()=>c(De).id&&I(c(De).id),onDuplicate:()=>c(De).id&&(c(De).id,void 0),get allDates(){return c(f)},onEmptySearchSubmit:()=>c(De).id&&T(c(De).id),onDateChanged:$,get meal(){return c(a)[c(xt)]},set meal(er){c(a)[c(xt)]=er}})}na(pt,()=>Sa,()=>({delay:100,duration:400})),b(Xe,pt)}),b(Ve,Je)};B(Me,Ve=>{c(a).length===0?Ve(We):Ve(ct,!1)})}var Qe=g(Me,2),pe=v(Qe);pe.__click=_;var Be=v(pe);Gn(Be,{class:"mr-1 h-4 w-4"}),ce(()=>X(W,`Repas & Menus (${c(a).length??""})`)),at(_t,()=>c(r),Ve=>h(r,Ve)),b(ie,ge)};B(N,ie=>{c(d)?ie(Q):ie(Y,!1)},!0)}b(j,P)};B(Ae,j=>{c(l)?j(me):j(_e,!1)})}ce(()=>{X(K,`${c(n)?"Éditer":"Nouvel"} Événement`),X(ye,c(n)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),te.disabled=c(o)||c(l),X(ve,` ${c(n)?"Enregistrer":"Créer l'événement"}`)}),b(t,M),F()}Dt(["click"]);async function Sf(t,e,n,r,s,i){if(!c(e)||!c(n)||!oe.userId){h(r,"Erreur: utilisateur non connecté ou invitation invalide");return}h(s,!0),h(r,null);try{await Cu(c(n),oe.userId),h(i,!0),h(r,null),setTimeout(()=>{window.location.href=`/events/${c(e).eventId}`},2e3)}catch(a){console.error("Erreur lors de l'acceptation:",a),h(r,"Erreur lors de l'acceptation de l'invitation")}finally{h(s,!1)}}async function Ef(t,e,n,r,s,i){if(!c(e)||!c(n)||!oe.userId){h(r,"Erreur: utilisateur non connecté ou invitation invalide");return}h(s,!0),h(r,null);try{await qu(c(n),oe.userId),h(i,!0),h(r,null),setTimeout(()=>{window.location.href="/"},2e3)}catch(a){console.error("Erreur lors du refus:",a),h(r,"Erreur lors du refus de l'invitation")}finally{h(s,!1)}}var Af=x(`<div class="flex flex-col items-center justify-center py-8"><!> <p class="text-base-content/60">Chargement de l'invitation...</p></div>`),Rf=()=>window.location.href="/",Pf=x(`<div class="alert alert-warning mb-6"><!> <span> </span></div> <div class="card-actions justify-center"><button class="btn btn-primary">Retour à l'accueil</button></div>`,1),Tf=()=>history.back(),$f=x('<div class="alert alert-error mb-6"><!> <span> </span></div> <div class="card-actions justify-center"><button class="btn btn-ghost">Retour</button></div>',1),Mf=x('<div class="flex items-start gap-3"><!> <div><p class="font-medium">Événement</p> <p class="text-sm text-base-content/70"> </p></div></div>'),Df=x(`<div class="alert alert-success mb-6"><!> <span>Invitation acceptée avec succès!</span></div> <p class="text-center text-base-content/70 mb-4">Vous allez être redirigé vers l'événement...</p>`,1),xf=x(`<div class="alert alert-info mb-6"><!> <span>Invitation refusée</span></div> <p class="text-center text-base-content/70 mb-4">Vous allez être redirigé vers l'accueil...</p>`,1),kf=x('<div class="card-actions justify-center gap-4"><button class="btn btn-error btn-outline"><!> Refuser</button> <button class="btn btn-success"><!> Accepter</button></div>'),Cf=x('<div class="bg-base-200 rounded-lg p-4 mb-6"><div class="space-y-3"><!> <div class="flex items-start gap-3"><!> <div><p class="font-medium">Invité par</p> <p class="text-sm text-base-content/70"> </p></div></div> <div class="flex items-start gap-3"><!> <div><p class="font-medium">Adresse email</p> <p class="text-sm text-base-content/70"> </p></div></div> <div class="flex items-start gap-3"><div class="h-4 w-4 mt-0.5 text-base-content/60"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z"></path></svg></div> <div><p class="font-medium">Invité le</p> <p class="text-sm text-base-content/70"> </p></div></div></div></div> <!>',1),qf=x('<div class="min-h-screen bg-base-200 flex items-center justify-center p-4"><div class="card w-full max-w-md bg-base-100 shadow-xl"><div class="card-body"><div class="flex items-center justify-center mb-4"><div class="bg-primary/10 rounded-full p-4"><!></div></div> <h2 class="card-title justify-center text-2xl mb-2">Invitation à collaborer</h2> <!></div></div></div>');function ai(t,e){O(e,!0);const n=J(()=>e.params?.id);let r=A(!0),s=A(null),i=A(null),a=A(!1),o=A(!1),l=A(null);ra(async()=>{if(!c(n)){h(s,"ID d'invitation manquant"),h(r,!1);return}try{if(h(i,await us(c(n)),!0),!c(i)){h(s,"Invitation introuvable ou expirée"),h(r,!1);return}c(i).status!=="invited"&&(h(o,!0),c(i).status==="declined"?h(s,"Cette invitation a déjà été refusée"):c(i).status==="accepted"&&h(s,"Cette invitation a déjà été acceptée")),await d()}catch(T){console.error("Erreur lors du chargement de l'invitation:",T),h(s,"Erreur lors du chargement de l'invitation")}finally{h(r,!1)}});async function d(){if(c(i))try{const T=await fetch(`/api/events/${c(i).eventId}`);if(!T.ok)throw new Error("Événement introuvable");h(l,await T.json(),!0)}catch(T){console.error("Erreur lors du chargement de l'événement:",T)}}var u=qf(),f=v(u),p=v(f),m=v(p),y=v(m),_=v(y);hr(_,{class:"h-8 w-8 text-primary"});var I=g(m,4);{var E=T=>{var $=Af(),M=v($);Bn(M,{class:"h-8 w-8 animate-spin text-primary mb-2"}),b(T,$)},D=T=>{var $=Z(),M=z($);{var R=q=>{var G=Pf(),se=z(G),V=v(se);Jr(V,{class:"h-4 w-4"});var K=g(V,2),he=v(K),ye=g(se,2),te=v(ye);te.__click=[Rf],ce(()=>X(he,c(s))),nn(3,se,()=>an),b(q,G)},C=q=>{var G=Z(),se=z(G);{var V=he=>{var ye=$f(),te=z(ye),L=v(te);Jr(L,{class:"h-4 w-4"});var U=g(L,2),ue=v(U),ve=g(te,2),Ae=v(ve);Ae.__click=[Tf],ce(()=>X(ue,c(s))),nn(3,te,()=>an),b(he,ye)},K=he=>{var ye=Z(),te=z(ye);{var L=U=>{var ue=Cf(),ve=z(ue),Ae=v(ve),me=v(Ae);{var _e=xe=>{var et=Mf(),st=v(et);yn(st,{class:"h-4 w-4 mt-0.5 text-base-content/60"});var k=g(st,2),H=g(v(k),2),ne=v(H);ce(()=>X(ne,c(l).name)),b(xe,et)};B(me,xe=>{c(l)&&xe(_e)})}var j=g(me,2),P=v(j);En(P,{class:"h-4 w-4 mt-0.5 text-base-content/60"});var N=g(P,2),Q=g(v(N),2),Y=v(Q),ie=g(j,2),ge=v(ie);hr(ge,{class:"h-4 w-4 mt-0.5 text-base-content/60"});var Re=g(ge,2),Ie=g(v(Re),2),Ce=v(Ie),qe=g(ie,2),je=g(v(qe),2),Ue=g(v(je),2),fe=v(Ue),He=g(ve,2);{var bt=xe=>{var et=Df(),st=z(et),k=v(st);Xl(k,{class:"h-4 w-4"}),nn(3,st,()=>an),b(xe,et)},_t=xe=>{var et=Z(),st=z(et);{var k=ne=>{var W=xf(),ae=z(W),Pe=v(ae);Ia(Pe,{class:"h-4 w-4"}),nn(3,ae,()=>an),b(ne,W)},H=ne=>{var W=kf(),ae=v(W);ae.__click=[Ef,i,n,s,a,o];var Pe=v(ae);{var Me=pe=>{Bn(pe,{class:"h-4 w-4 animate-spin mr-2"})};B(Pe,pe=>{c(a)&&pe(Me)})}var We=g(ae,2);We.__click=[Sf,i,n,s,a,o];var ct=v(We);{var Qe=pe=>{Bn(pe,{class:"h-4 w-4 animate-spin mr-2"})};B(ct,pe=>{c(a)&&pe(Qe)})}ce(()=>{ae.disabled=c(a),We.disabled=c(a)}),b(ne,W)};B(st,ne=>{c(o)&&c(i).status==="declined"?ne(k):ne(H,!1)},!0)}b(xe,et)};B(He,xe=>{c(o)&&c(i).status==="accepted"?xe(bt):xe(_t,!1)})}ce(xe=>{X(Y,c(i).invitedBy),X(Ce,c(i).email),X(fe,xe)},[()=>new Date(c(i).invitedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]),b(U,ue)};B(te,U=>{c(i)&&U(L)},!0)}b(he,ye)};B(se,he=>{c(s)?he(V):he(K,!1)},!0)}b(q,G)};B(M,q=>{c(s)&&c(o)?q(R):q(C,!1)},!0)}b(T,$)};B(I,T=>{c(r)?T(E):T(D,!1)})}b(t,u),F()}Dt(["click"]);var jf=x('<div class="flex items-center justify-center py-20"><p class="text-slate-400">Chargement...</p></div>'),Nf=x("<!> <!>",1),Lf=x("<!> <!> <!> <!>",1);function Uf(t,e){O(e,!0);let n=A(null);Ct.addRoute("/",ri),Ct.addRoute("/dashboard",ri),Ct.addRoute("/eventEdit",ii),Ct.addRoute("/eventEdit/:id",ii),Ct.addRoute("/invitation",ai),Ct.addRoute("/invitation/:id",ai);let r=A(null);wt(()=>{!oe.isAuthenticated&&Ct.path!=="/"&&(window.location.hash="/",window.location.pathname="/")}),wt(()=>{Ct.match().then(_=>{h(r,_,!0)})});async function s(){try{await oe.initializeAuth()}catch(_){console.error("Erreur d'initialisation auth:",_)}}async function i(){try{await Promise.all([ba.initialize(),ds.initialize(),qt.initialize()])}catch(_){console.error("Erreur d'initialisation dashboard:",_),h(n,_.message||"Erreur inconnue lors de l'initialisation",!0)}}ra(()=>{(async()=>(await s(),oe.isAuthenticated&&(window.location.pathname=="/"&&(window.location.pathname="/a"),await i())))()});let a=J(()=>c(n)||bl.error);var o=Lf(),l=z(o);qd(l,{});var d=g(l,2);{var u=_=>{const I=J(()=>c(r).component);var E=Z(),D=z(E);Yi(D,()=>c(I),(T,$)=>{$(T,{get params(){return c(r).params},get query(){return c(r).query}})}),b(_,E)},f=_=>{var I=jf();b(_,I)};B(d,_=>{c(r)?_(u):_(f,!1)})}var p=g(d,2);Qd(p,{});var m=g(p,2);{var y=_=>{var I=Nf(),E=z(I);{var D=$=>{Bl($,{get message(){return c(a)}})};B(E,$=>{c(a)&&$(D)})}var T=g(E,2);Vd(T,{get isOpen(){return oe.isConflictModalOpen},get conflictData(){return oe.conflictData}}),b(_,I)};B(m,_=>{oe.isAuthenticated&&_(y)})}b(t,o),F()}let Kn=null;window.location.pathname.startsWith("/a")?Kn=document.getElementById("app"):Kn=document.getElementById("svelte-header");if(!Kn)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${Kn.id}`);Yo(Uf,{target:Kn});
