(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const fs=!1;var On=Array.isArray,Hi=Array.prototype.indexOf,Fr=Array.from,Hr=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,ps=Object.getOwnPropertyDescriptors,hs=Object.prototype,Bi=Array.prototype,vr=Object.getPrototypeOf,ya=Object.isExtensible;function In(n){return typeof n=="function"}const pe=()=>{};function zi(n){return n()}function Br(n){for(var e=0;e<n.length;e++)n[e]()}function vs(){var n,e,t=new Promise((r,a)=>{n=r,e=a});return{promise:t,resolve:n,reject:e}}function Vi(n,e){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const t=[];for(const r of n)if(t.push(r),t.length===e)break;return t}const dt=2,ea=4,mr=8,tn=16,Ht=32,gn=64,ta=128,yt=256,lr=512,rt=1024,pt=2048,nn=4096,_t=8192,yn=16384,gr=32768,rn=65536,ba=1<<17,Wi=1<<18,Pn=1<<19,ms=1<<20,zr=1<<21,yr=1<<22,un=1<<23,jt=Symbol("$state"),gs=Symbol("legacy props"),Qi=Symbol(""),Vn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Gi(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ki(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ji(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xi(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Zi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Oi(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function eo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function to(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function no(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const br=1,wr=2,ys=4,ro=8,ao=16,so=1,io=2,oo=4,co=8,lo=16,uo=4,fo=1,po=2,Ke=Symbol(),ho="http://www.w3.org/1999/xhtml",vo="http://www.w3.org/2000/svg",mo="@attach";function go(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function yo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let bo=!1;function bs(n){return n===this.v}function ws(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function wo(n,e){return n!==e}function _s(n){return!ws(n,this.v)}let Mn=!1,_o=!1;function Io(){Mn=!0}const So=[];function wn(n,e=!1,t=!1){return ir(n,new Map,"",So,null,t)}function ir(n,e,t,r,a=null,s=!1){if(typeof n=="object"&&n!==null){var i=e.get(n);if(i!==void 0)return i;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(On(n)){var o=Array(n.length);e.set(n,o),a!==null&&e.set(a,o);for(var l=0;l<n.length;l+=1){var d=n[l];l in n&&(o[l]=ir(d,e,t,r,null,s))}return o}if(vr(n)===hs){o={},e.set(n,o),a!==null&&e.set(a,o);for(var u in n)o[u]=ir(n[u],e,t,r,null,s);return o}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function"&&!s)return ir(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}let We=null;function En(n){We=n}function ee(n,e=!1,t){We={p:We,c:null,e:null,s:n,x:null,l:Mn&&!e?{s:null,u:null,$:[]}:null}}function te(n){var e=We,t=e.e;if(t!==null){e.e=null;for(var r of t)Ls(r)}return We=e.p,{}}function Dn(){return!Mn||We!==null&&We.l===null}let cn=[];function Is(){var n=cn;cn=[],Br(n)}function Ot(n){if(cn.length===0&&!Wn){var e=cn;queueMicrotask(()=>{e===cn&&Is()})}cn.push(n)}function Eo(){for(;cn.length>0;)Is()}const Ao=new WeakMap;function Ss(n){var e=ge;if(e===null)return ye.f|=un,n;if((e.f&gr)===0){if((e.f&ta)===0)throw!e.parent&&n instanceof Error&&Es(n),n;e.b.error(n)}else An(n,e)}function An(n,e){for(;e!==null;){if((e.f&ta)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&Es(n),n}function Es(n){const e=Ao.get(n);e&&(Hr(n,"message",{value:e.message}),Hr(n,"stack",{value:e.stack}))}const nr=new Set;let De=null,or=null,Vr=new Set,At=[],_r=null,Wr=!1,Wn=!1;class gt{current=new Map;#e=new Map;#t=new Set;#n=0;#a=null;#o=[];#c=[];#r=[];#l=[];#d=[];#u=[];skipped_effects=new Set;process(e){At=[],or=null;var t=gt.apply(this);for(const s of e)this.#f(s);if(this.#n===0){this.#p();var r=this.#c,a=this.#r;this.#c=[],this.#r=[],this.#l=[],or=this,De=null,wa(r),wa(a),or=null,this.#a?.resolve()}else this.#s(this.#c),this.#s(this.#r),this.#s(this.#l);t();for(const s of this.#o)Jn(s);this.#o=[]}#f(e){e.f^=rt;for(var t=e.first;t!==null;){var r=t.f,a=(r&(Ht|gn))!==0,s=a&&(r&rt)!==0,i=s||(r&_t)!==0||this.skipped_effects.has(t);if(!i&&t.fn!==null){a?t.f^=rt:(r&ea)!==0?this.#r.push(t):(r&rt)===0&&((r&yr)!==0&&t.b?.is_pending()?this.#o.push(t):Ar(t)&&((t.f&tn)!==0&&this.#l.push(t),Jn(t)));var o=t.first;if(o!==null){t=o;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}}#s(e){for(const t of e)((t.f&pt)!==0?this.#d:this.#u).push(t),ot(t,rt);e.length=0}capture(e,t){this.#e.has(e)||this.#e.set(e,t),this.current.set(e,e.v)}activate(){De=this}deactivate(){De=null}flush(){if(At.length>0){if(this.activate(),As(),De!==null&&De!==this)return}else this.#n===0&&this.#p();this.deactivate();for(const e of Vr)if(Vr.delete(e),e(),De!==null)break}#p(){for(const e of this.#t)e();if(this.#t.clear(),nr.size>1){this.#e.clear();let e=!0;for(const t of nr){if(t===this){e=!1;continue}for(const[r,a]of this.current){if(t.current.has(r))if(e)t.current.set(r,a);else continue;xs(r)}if(At.length>0){De=t;const r=gt.apply(t);for(const a of At)t.#f(a);At=[],r()}}De=null}nr.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#d)ot(e,pt),hn(e);for(const e of this.#u)ot(e,nn),hn(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#a??=vs()).promise}static ensure(){if(De===null){const e=De=new gt;nr.add(De),Wn||gt.enqueue(()=>{De===e&&e.flush()})}return De}static enqueue(e){Ot(e)}static apply(e){return pe}}function xo(n){var e=Wn;Wn=!0;try{for(var t;;){if(Eo(),At.length===0&&(De?.flush(),At.length===0))return _r=null,t;As()}}finally{Wn=e}}function As(){var n=Sn;Wr=!0;try{var e=0;for(Ea(!0);At.length>0;){var t=gt.ensure();if(e++>1e3){var r,a;Ro()}t.process(At),Zt.clear()}}finally{Wr=!1,Ea(n),_r=null}}function Ro(){try{Zi()}catch(n){An(n,_r)}}let on=null;function wa(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(yn|_t))===0&&Ar(r)&&(on=[],Jn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?zs(r):r.fn=null),on?.length>0)){Zt.clear();for(const a of on)Jn(a);on=[]}}on=null}}function xs(n){if(n.reactions!==null)for(const e of n.reactions){const t=e.f;(t&dt)!==0?xs(e):(t&(yr|tn))!==0&&(ot(e,pt),hn(e))}}function hn(n){for(var e=_r=n;e.parent!==null;){e=e.parent;var t=e.f;if(Wr&&e===ge&&(t&tn)!==0)return;if((t&(gn|Ht))!==0){if((t&rt)===0)return;e.f^=rt}}At.push(e)}function na(n){let e=0,t=Ft(0),r;return()=>{Bo()&&(c(t),Us(()=>(e===0&&(r=kn(()=>n(()=>xt(t)))),e+=1,()=>{Ot(()=>{e-=1,e===0&&(r?.(),r=void 0,xt(t))})})))}}var To=rn|Pn|ta;function Po(n,e,t){new Mo(n,e,t)}class Mo{parent;#e=!1;#t;#n=null;#a;#o;#c;#r=null;#l=null;#d=null;#u=null;#f=0;#s=0;#p=!1;#h=null;#v=()=>{this.#h&&xn(this.#h,this.#f)};#b=na(()=>(this.#h=Ft(this.#f),()=>{this.#h=null}));constructor(e,t,r){this.#t=e,this.#a=t,this.#o=r,this.parent=ge.b,this.#e=!!this.#a.pending,this.#c=zt(()=>{ge.b=this;{try{this.#r=Fe(()=>r(this.#t))}catch(a){this.error(a)}this.#s>0?this.#g():this.#e=!1}},To)}#w(){try{this.#r=Fe(()=>this.#o(this.#t))}catch(e){this.error(e)}this.#e=!1}#m(){const e=this.#a.pending;e&&(this.#l=Fe(()=>e(this.#t)),gt.enqueue(()=>{this.#r=this.#i(()=>(gt.ensure(),Fe(()=>this.#o(this.#t)))),this.#s>0?this.#g():(Nt(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#i(e){var t=ge,r=ye,a=We;Pt(this.#c),lt(this.#c),En(this.#c.ctx);try{return e()}catch(s){return Ss(s),null}finally{Pt(t),lt(r),En(a)}}#g(){const e=this.#a.pending;this.#r!==null&&(this.#u=document.createDocumentFragment(),Do(this.#r,this.#u)),this.#l===null&&(this.#l=Fe(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#s+=e,this.#s===0&&(this.#e=!1,this.#l&&Nt(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),Ot(()=>{gt.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,Vr.add(this.#v)}get_effect_pending(){return this.#b(),c(this.#h)}error(e){var t=this.#a.onerror;let r=this.#a.failed;if(this.#p||!t&&!r)throw e;this.#r&&(tt(this.#r),this.#r=null),this.#l&&(tt(this.#l),this.#l=null),this.#d&&(tt(this.#d),this.#d=null);var a=!1,s=!1;const i=()=>{if(a){yo();return}a=!0,s&&no(),gt.ensure(),this.#f=0,this.#d!==null&&Nt(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#r=this.#i(()=>(this.#p=!1,Fe(()=>this.#o(this.#t)))),this.#s>0?this.#g():this.#e=!1};var o=ye;try{lt(null),s=!0,t?.(e,i),s=!1}catch(l){An(l,this.#c&&this.#c.parent)}finally{lt(o)}r&&Ot(()=>{this.#d=this.#i(()=>{this.#p=!0;try{return Fe(()=>{r(this.#t,()=>e,()=>i)})}catch(l){return An(l,this.#c.parent),null}finally{this.#p=!1}})})}}function Do(n,e){for(var t=n.nodes_start,r=n.nodes_end;t!==null;){var a=t===r?null:er(t);e.append(t),t=a}}function Rs(n,e,t){const r=Dn()?Fn:ra;if(e.length===0){t(n.map(r));return}var a=De,s=ge,i=$o();Promise.all(e.map(o=>ko(o))).then(o=>{i();try{t([...n.map(r),...o])}catch(l){(s.f&yn)===0&&An(l,s)}a?.deactivate(),Ts()}).catch(o=>{An(o,s)})}function $o(){var n=ge,e=ye,t=We,r=De;return function(){Pt(n),lt(e),En(t),r?.activate()}}function Ts(){Pt(null),lt(null),En(null)}function Fn(n){var e=dt|pt,t=ye!==null&&(ye.f&dt)!==0?ye:null;return ge===null||t!==null&&(t.f&yt)!==0?e|=yt:ge.f|=Pn,{ctx:We,deps:null,effects:null,equals:bs,f:e,fn:n,reactions:null,rv:0,v:Ke,wv:0,parent:t??ge,ac:null}}function ko(n,e){let t=ge;t===null&&Ki();var r=t.b,a=void 0,s=Ft(Ke),i=!ye,o=new Map;return Wo(()=>{var l=vs();a=l.promise;try{Promise.resolve(n()).then(l.resolve,l.reject)}catch(v){l.reject(v)}var d=De,u=r.is_pending();i&&(r.update_pending_count(1),u||(d.increment(),o.get(d)?.reject(Vn),o.set(d,l)));const p=(v,g=void 0)=>{u||d.activate(),g?g!==Vn&&(s.f|=un,xn(s,g)):((s.f&un)!==0&&(s.f^=un),xn(s,v)),i&&(r.update_pending_count(-1),u||d.decrement()),Ts()};l.promise.then(p,v=>p(null,v||"unknown"))}),sa(()=>{for(const l of o.values())l.reject(Vn)}),new Promise(l=>{function d(u){function p(){u===a?l(s):d(a)}u.then(p,p)}d(a)})}function Z(n){const e=Fn(n);return Qs(e),e}function ra(n){const e=Fn(n);return e.equals=_s,e}function Ps(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)tt(e[t])}}function Co(n){for(var e=n.parent;e!==null;){if((e.f&dt)===0)return e;e=e.parent}return null}function aa(n){var e,t=ge;Pt(Co(n));try{Ps(n),e=Ys(n)}finally{Pt(t)}return e}function Ms(n){var e=aa(n);if(n.equals(e)||(n.v=e,n.wv=Ks()),!bn){var t=(Jt||(n.f&yt)!==0)&&n.deps!==null?nn:rt;ot(n,t)}}const Zt=new Map;function Ft(n,e){var t={f:0,v:n,reactions:null,equals:bs,rv:0,wv:0};return t}function R(n,e){const t=Ft(n);return Qs(t),t}function qo(n,e=!1,t=!0){const r=Ft(n);return e||(r.equals=_s),Mn&&t&&We!==null&&We.l!==null&&(We.l.s??=[]).push(r),r}function h(n,e,t=!1){ye!==null&&(!wt||(ye.f&ba)!==0)&&Dn()&&(ye.f&(dt|tn|yr|ba))!==0&&!Lt?.includes(n)&&to();let r=t?Me(e):e;return xn(n,r)}function xn(n,e){if(!n.equals(e)){var t=n.v;bn?Zt.set(n,e):Zt.set(n,t),n.v=e;var r=gt.ensure();r.capture(n,t),(n.f&dt)!==0&&((n.f&pt)!==0&&aa(n),ot(n,(n.f&yt)===0?rt:nn)),n.wv=Ks(),Ds(n,pt),Dn()&&ge!==null&&(ge.f&rt)!==0&&(ge.f&(Ht|gn))===0&&(vt===null?Ko([n]):vt.push(n))}return e}function xt(n){h(n,n.v+1)}function Ds(n,e){var t=n.reactions;if(t!==null)for(var r=Dn(),a=t.length,s=0;s<a;s++){var i=t[s],o=i.f;if(!(!r&&i===ge)){var l=(o&pt)===0;l&&ot(i,e),(o&dt)!==0?Ds(i,nn):l&&((o&tn)!==0&&on!==null&&on.push(i),hn(i))}}}function Me(n){if(typeof n!="object"||n===null||jt in n)return n;const e=vr(n);if(e!==hs&&e!==Bi)return n;var t=new Map,r=On(n),a=R(0),s=Ut,i=o=>{if(Ut===s)return o();var l=ye,d=Ut;lt(null),xa(s);var u=o();return lt(l),xa(d),u};return r&&t.set("length",R(n.length)),new Proxy(n,{defineProperty(o,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Fi();var u=t.get(l);return u===void 0?u=i(()=>{var p=R(d.value);return t.set(l,p),p}):h(u,d.value,!0),!0},deleteProperty(o,l){var d=t.get(l);if(d===void 0){if(l in o){const u=i(()=>R(Ke));t.set(l,u),xt(a)}}else h(d,Ke),xt(a);return!0},get(o,l,d){if(l===jt)return n;var u=t.get(l),p=l in o;if(u===void 0&&(!p||Xt(o,l)?.writable)&&(u=i(()=>{var g=Me(p?o[l]:Ke),y=R(g);return y}),t.set(l,u)),u!==void 0){var v=c(u);return v===Ke?void 0:v}return Reflect.get(o,l,d)},getOwnPropertyDescriptor(o,l){var d=Reflect.getOwnPropertyDescriptor(o,l);if(d&&"value"in d){var u=t.get(l);u&&(d.value=c(u))}else if(d===void 0){var p=t.get(l),v=p?.v;if(p!==void 0&&v!==Ke)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(o,l){if(l===jt)return!0;var d=t.get(l),u=d!==void 0&&d.v!==Ke||Reflect.has(o,l);if(d!==void 0||ge!==null&&(!u||Xt(o,l)?.writable)){d===void 0&&(d=i(()=>{var v=u?Me(o[l]):Ke,g=R(v);return g}),t.set(l,d));var p=c(d);if(p===Ke)return!1}return u},set(o,l,d,u){var p=t.get(l),v=l in o;if(r&&l==="length")for(var g=d;g<p.v;g+=1){var y=t.get(g+"");y!==void 0?h(y,Ke):g in o&&(y=i(()=>R(Ke)),t.set(g+"",y))}if(p===void 0)(!v||Xt(o,l)?.writable)&&(p=i(()=>R(void 0)),h(p,Me(d)),t.set(l,p));else{v=p.v!==Ke;var I=i(()=>Me(d));h(p,I)}var _=Reflect.getOwnPropertyDescriptor(o,l);if(_?.set&&_.set.call(u,d),!v){if(r&&typeof l=="string"){var A=t.get("length"),P=Number(l);Number.isInteger(P)&&P>=A.v&&h(A,P+1)}xt(a)}return!0},ownKeys(o){c(a);var l=Reflect.ownKeys(o).filter(p=>{var v=t.get(p);return v===void 0||v.v!==Ke});for(var[d,u]of t)u.v!==Ke&&!(d in o)&&l.push(d);return l},setPrototypeOf(){eo()}})}function _a(n){try{if(n!==null&&typeof n=="object"&&jt in n)return n[jt]}catch{}return n}function jo(n,e){return Object.is(_a(n),_a(e))}var Ia,$s,ks,Cs;function No(){if(Ia===void 0){Ia=window,$s=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;ks=Xt(e,"firstChild").get,Cs=Xt(e,"nextSibling").get,ya(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),ya(t)&&(t.__t=void 0)}}function Bt(n=""){return document.createTextNode(n)}function Rn(n){return ks.call(n)}function er(n){return Cs.call(n)}function f(n,e){return Rn(n)}function H(n,e=!1){{var t=Rn(n);return t instanceof Comment&&t.data===""?er(t):t}}function m(n,e=1,t=!1){let r=n;for(;e--;)r=er(r);return r}function Lo(n){n.textContent=""}function Ir(){return!1}function qs(n,e){if(e){const t=document.body;n.autofocus=!0,Ot(()=>{document.activeElement===t&&n.focus()})}}let Sa=!1;function Uo(){Sa||(Sa=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function $n(n){var e=ye,t=ge;lt(null),Pt(null);try{return n()}finally{lt(e),Pt(t)}}function js(n,e,t,r=t){n.addEventListener(e,()=>$n(t));const a=n.__on_r;a?n.__on_r=()=>{a(),r(!0)}:n.__on_r=()=>r(!0),Uo()}function Ns(n){ge===null&&ye===null&&Xi(),ye!==null&&(ye.f&yt)!==0&&ge===null&&Yi(),bn&&Ji()}function Ho(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Dt(n,e,t,r=!0){var a=ge;a!==null&&(a.f&_t)!==0&&(n|=_t);var s={ctx:We,deps:null,nodes_start:null,nodes_end:null,f:n|pt,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Jn(s),s.f|=gr}catch(l){throw tt(s),l}else e!==null&&hn(s);if(r){var i=s;if(t&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Pn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Ho(i,a),ye!==null&&(ye.f&dt)!==0&&(n&gn)===0)){var o=ye;(o.effects??=[]).push(i)}}return s}function Bo(){return ye!==null&&!wt}function sa(n){const e=Dt(mr,null,!1);return ot(e,rt),e.teardown=n,e}function ht(n){Ns();var e=ge.f,t=!ye&&(e&Ht)!==0&&(e&gr)===0;if(t){var r=We;(r.e??=[]).push(n)}else return Ls(n)}function Ls(n){return Dt(ea|ms,n,!1)}function zo(n){return Ns(),Dt(mr|ms,n,!0)}function Vo(n){gt.ensure();const e=Dt(gn|Pn,n,!0);return(t={})=>new Promise(r=>{t.outro?Nt(e,()=>{tt(e),r(void 0)}):(tt(e),r(void 0))})}function Sr(n){return Dt(ea,n,!1)}function Wo(n){return Dt(yr|Pn,n,!0)}function Us(n,e=0){return Dt(mr|e,n,!0)}function X(n,e=[],t=[]){Rs(e,t,r=>{Dt(mr,()=>n(...r.map(c)),!0)})}function zt(n,e=0){var t=Dt(tn|e,n,!0);return t}function Fe(n,e=!0){return Dt(Ht|Pn,n,!0,e)}function Hs(n){var e=n.teardown;if(e!==null){const t=bn,r=ye;Aa(!0),lt(null);try{e.call(null)}finally{Aa(t),lt(r)}}}function Bs(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const a=t.ac;a!==null&&$n(()=>{a.abort(Vn)});var r=t.next;(t.f&gn)!==0?t.parent=null:tt(t,e),t=r}}function Qo(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&Ht)===0&&tt(e),e=t}}function tt(n,e=!0){var t=!1;(e||(n.f&Wi)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(Go(n.nodes_start,n.nodes_end),t=!0),Bs(n,e&&!t),dr(n,0),ot(n,yn);var r=n.transitions;if(r!==null)for(const s of r)s.stop();Hs(n);var a=n.parent;a!==null&&a.first!==null&&zs(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function Go(n,e){for(;n!==null;){var t=n===e?null:er(n);n.remove(),n=t}}function zs(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function Nt(n,e){var t=[];ia(n,t,!0),Vs(t,()=>{tt(n),e&&e()})}function Vs(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var a of n)a.out(r)}else e()}function ia(n,e,t){if((n.f&_t)===0){if(n.f^=_t,n.transitions!==null)for(const i of n.transitions)(i.is_global||t)&&e.push(i);for(var r=n.first;r!==null;){var a=r.next,s=(r.f&rn)!==0||(r.f&Ht)!==0;ia(r,e,s?t:!1),r=a}}}function Er(n){Ws(n,!0)}function Ws(n,e){if((n.f&_t)!==0){n.f^=_t,(n.f&rt)===0&&(ot(n,pt),hn(n));for(var t=n.first;t!==null;){var r=t.next,a=(t.f&rn)!==0||(t.f&Ht)!==0;Ws(t,a?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Sn=!1;function Ea(n){Sn=n}let bn=!1;function Aa(n){bn=n}let ye=null,wt=!1;function lt(n){ye=n}let ge=null;function Pt(n){ge=n}let Lt=null;function Qs(n){ye!==null&&(Lt===null?Lt=[n]:Lt.push(n))}let it=null,ft=0,vt=null;function Ko(n){vt=n}let Gs=1,Kn=0,Ut=Kn;function xa(n){Ut=n}let Jt=!1;function Ks(){return++Gs}function Ar(n){var e=n.f;if((e&pt)!==0)return!0;if((e&nn)!==0){var t=n.deps,r=(e&yt)!==0;if(t!==null){var a,s,i=(e&lr)!==0,o=r&&ge!==null&&!Jt,l=t.length;if((i||o)&&(ge===null||(ge.f&yn)===0)){var d=n,u=d.parent;for(a=0;a<l;a++)s=t[a],(i||!s?.reactions?.includes(d))&&(s.reactions??=[]).push(d);i&&(d.f^=lr),o&&u!==null&&(u.f&yt)===0&&(d.f^=yt)}for(a=0;a<l;a++)if(s=t[a],Ar(s)&&Ms(s),s.wv>n.wv)return!0}(!r||ge!==null&&!Jt)&&ot(n,rt)}return!1}function Js(n,e,t=!0){var r=n.reactions;if(r!==null&&!Lt?.includes(n))for(var a=0;a<r.length;a++){var s=r[a];(s.f&dt)!==0?Js(s,e,!1):e===s&&(t?ot(s,pt):(s.f&rt)!==0&&ot(s,nn),hn(s))}}function Ys(n){var e=it,t=ft,r=vt,a=ye,s=Jt,i=Lt,o=We,l=wt,d=Ut,u=n.f;it=null,ft=0,vt=null,Jt=(u&yt)!==0&&(wt||!Sn||ye===null),ye=(u&(Ht|gn))===0?n:null,Lt=null,En(n.ctx),wt=!1,Ut=++Kn,n.ac!==null&&($n(()=>{n.ac.abort(Vn)}),n.ac=null);try{n.f|=zr;var p=n.fn,v=p(),g=n.deps;if(it!==null){var y;if(dr(n,ft),g!==null&&ft>0)for(g.length=ft+it.length,y=0;y<it.length;y++)g[ft+y]=it[y];else n.deps=g=it;if(!Jt||(u&dt)!==0&&n.reactions!==null)for(y=ft;y<g.length;y++)(g[y].reactions??=[]).push(n)}else g!==null&&ft<g.length&&(dr(n,ft),g.length=ft);if(Dn()&&vt!==null&&!wt&&g!==null&&(n.f&(dt|nn|pt))===0)for(y=0;y<vt.length;y++)Js(vt[y],n);return a!==null&&a!==n&&(Kn++,vt!==null&&(r===null?r=vt:r.push(...vt))),(n.f&un)!==0&&(n.f^=un),v}catch(I){return Ss(I)}finally{n.f^=zr,it=e,ft=t,vt=r,ye=a,Jt=s,Lt=i,En(o),wt=l,Ut=d}}function Jo(n,e){let t=e.reactions;if(t!==null){var r=Hi.call(t,n);if(r!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[r]=t[a],t.pop())}}t===null&&(e.f&dt)!==0&&(it===null||!it.includes(e))&&(ot(e,nn),(e.f&(yt|lr))===0&&(e.f^=lr),Ps(e),dr(e,0))}function dr(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Jo(n,t[r])}function Jn(n){var e=n.f;if((e&yn)===0){ot(n,rt);var t=ge,r=Sn;ge=n,Sn=!0;try{(e&tn)!==0?Qo(n):Bs(n),Hs(n);var a=Ys(n);n.teardown=typeof a=="function"?a:null,n.wv=Gs;var s;fs&&_o&&(n.f&pt)!==0&&n.deps}finally{Sn=r,ge=t}}}async function Yo(){await Promise.resolve(),xo()}function c(n){var e=n.f,t=(e&dt)!==0;if(ye!==null&&!wt){var r=ge!==null&&(ge.f&yn)!==0;if(!r&&!Lt?.includes(n)){var a=ye.deps;if((ye.f&zr)!==0)n.rv<Kn&&(n.rv=Kn,it===null&&a!==null&&a[ft]===n?ft++:it===null?it=[n]:(!Jt||!it.includes(n))&&it.push(n));else{(ye.deps??=[]).push(n);var s=n.reactions;s===null?n.reactions=[ye]:s.includes(ye)||s.push(ye)}}}else if(t&&n.deps===null&&n.effects===null){var i=n,o=i.parent;o!==null&&(o.f&yt)===0&&(i.f^=yt)}if(bn){if(Zt.has(n))return Zt.get(n);if(t){i=n;var l=i.v;return((i.f&rt)===0&&i.reactions!==null||Xs(i))&&(l=aa(i)),Zt.set(i,l),l}}else t&&(i=n,Ar(i)&&Ms(i));if((n.f&un)!==0)throw n.v;return n.v}function Xs(n){if(n.v===Ke)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(Zt.has(e)||(e.f&dt)!==0&&Xs(e))return!0;return!1}function kn(n){var e=wt;try{return wt=!0,n()}finally{wt=e}}const Xo=-7169;function ot(n,e){n.f=n.f&Xo|e}function Zo(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(jt in n)Qr(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&jt in t&&Qr(t)}}}function Qr(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{Qr(n[r],e)}catch{}const t=vr(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=ps(t);for(let a in r){const s=r[a].get;if(s)try{s.call(n)}catch{}}}}}function Oo(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const Fo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ec(n){return Fo.includes(n)}const tc={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function nc(n){return n=n.toLowerCase(),tc[n]??n}const rc=["touchstart","touchmove"];function ac(n){return rc.includes(n)}const Zs=new Set,Gr=new Set;function oa(n,e,t,r={}){function a(s){if(r.capture||Bn.call(e,s),!s.cancelBubble)return $n(()=>t?.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Ot(()=>{e.addEventListener(n,a,r)}):e.addEventListener(n,a,r),a}function Kr(n,e,t,r={}){var a=oa(e,n,t,r);return()=>{n.removeEventListener(e,a,r)}}function Mr(n,e,t,r,a){var s={capture:r,passive:a},i=oa(n,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&sa(()=>{e.removeEventListener(n,i,s)})}function Ze(n){for(var e=0;e<n.length;e++)Zs.add(n[e]);for(var t of Gr)t(n)}let Ra=null;function Bn(n){var e=this,t=e.ownerDocument,r=n.type,a=n.composedPath?.()||[],s=a[0]||n.target;Ra=n;var i=0,o=Ra===n&&n.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var d=a.indexOf(e);if(d===-1)return;l<=d&&(i=l)}if(s=a[i]||n.target,s!==e){Hr(n,"currentTarget",{configurable:!0,get(){return s||t}});var u=ye,p=ge;lt(null),Pt(null);try{for(var v,g=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var I=s["__"+r];if(I!=null&&(!s.disabled||n.target===s))if(On(I)){var[_,...A]=I;_.apply(s,[n,...A])}else I.call(s,n)}catch(P){v?g.push(P):v=P}if(n.cancelBubble||y===e||y===null)break;s=y}if(v){for(let P of g)queueMicrotask(()=>{throw P});throw v}}finally{n.__root=e,delete n.currentTarget,lt(u),Pt(p)}}}function Os(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Tn(n,e){var t=ge;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function T(n,e){var t=(e&fo)!==0,r=(e&po)!==0,a,s=!n.startsWith("<!>");return()=>{a===void 0&&(a=Os(s?n:"<!>"+n),t||(a=Rn(a)));var i=r||$s?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=Rn(i),l=i.lastChild;Tn(o,l)}else Tn(i,i);return i}}function sc(n,e,t="svg"){var r=!n.startsWith("<!>"),a=`<${t}>${r?n:"<!>"+n}</${t}>`,s;return()=>{if(!s){var i=Os(a),o=Rn(i);s=Rn(o)}var l=s.cloneNode(!0);return Tn(l,l),l}}function ic(n,e){return sc(n,e,"svg")}function cr(n=""){{var e=Bt(n+"");return Tn(e,e),e}}function O(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Bt();return n.append(e,t),Tn(e,t),n}function b(n,e){n!==null&&n.before(e)}let ur=!0;function Ta(n){ur=n}function G(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function oc(n,e){return cc(n,e)}const _n=new Map;function cc(n,{target:e,anchor:t,props:r={},events:a,context:s,intro:i=!0}){No();var o=new Set,l=p=>{for(var v=0;v<p.length;v++){var g=p[v];if(!o.has(g)){o.add(g);var y=ac(g);e.addEventListener(g,Bn,{passive:y});var I=_n.get(g);I===void 0?(document.addEventListener(g,Bn,{passive:y}),_n.set(g,1)):_n.set(g,I+1)}}};l(Fr(Zs)),Gr.add(l);var d=void 0,u=Vo(()=>{var p=t??e.appendChild(Bt());return Po(p,{pending:()=>{}},v=>{if(s){ee({});var g=We;g.c=s}a&&(r.$$events=a),ur=i,d=n(v,r)||{},ur=!0,s&&te()}),()=>{for(var v of o){e.removeEventListener(v,Bn);var g=_n.get(v);--g===0?(document.removeEventListener(v,Bn),_n.delete(v)):_n.set(v,g)}Gr.delete(l),p!==t&&p.parentNode?.removeChild(p)}});return lc.set(d,u),d}let lc=new WeakMap;function N(n,e,t=!1){var r=n,a=null,s=null,i=Ke,o=t?rn:0,l=!1;const d=(g,y=!0)=>{l=!0,v(y,g)};var u=null;function p(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var g=i?a:s,y=i?s:a;g&&Er(g),y&&Nt(y,()=>{i?s=null:a=null})}const v=(g,y)=>{if(i!==(i=g)){var I=Ir(),_=r;if(I&&(u=document.createDocumentFragment(),u.append(_=Bt())),i?a??=y&&Fe(()=>y(_)):s??=y&&Fe(()=>y(_)),I){var A=De,P=i?a:s,E=i?s:a;P&&A.skipped_effects.delete(P),E&&A.skipped_effects.add(E),A.add_callback(p)}else p()}};zt(()=>{l=!1,e(d),l||v(null,null)},o)}function dc(n,e,t){var r=n,a=Ke,s,i,o=null,l=Dn()?wo:ws;function d(){s&&Nt(s),o!==null&&(o.lastChild.remove(),r.before(o),o=null),s=i}zt(()=>{if(l(a,a=e())){var u=r,p=Ir();p&&(o=document.createDocumentFragment(),o.append(u=Bt())),i=Fe(()=>t(u)),p?De.add_callback(d):d()}})}let fn=null;function Pa(n){fn=n}function Yn(n,e){return e}function uc(n,e,t){for(var r=n.items,a=[],s=e.length,i=0;i<s;i++)ia(e[i].e,a,!0);var o=s>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;Lo(l),l.append(t),r.clear(),St(n,e[0].prev,e[s-1].next)}Vs(a,()=>{for(var d=0;d<s;d++){var u=e[d];o||(r.delete(u.k),St(n,u.prev,u.next)),tt(u.e,!o)}})}function et(n,e,t,r,a,s=null){var i=n,o={flags:e,items:new Map,first:null},l=(e&ys)!==0;if(l){var d=n;i=d.appendChild(Bt())}var u=null,p=!1,v=new Map,g=ra(()=>{var A=t();return On(A)?A:A==null?[]:Fr(A)}),y,I;function _(){fc(I,y,o,v,i,a,e,r,t),s!==null&&(y.length===0?u?Er(u):u=Fe(()=>s(i)):u!==null&&Nt(u,()=>{u=null}))}zt(()=>{I??=ge,y=c(g);var A=y.length;if(!(p&&A===0)){p=A===0;var P,E,D,$;if(Ir()){var S=new Set,x=De;for(E=0;E<A;E+=1){D=y[E],$=r(D,E);var C=o.items.get($)??v.get($);C?(e&(br|wr))!==0&&Fs(C,D,E,e):(P=ei(null,o,null,null,D,$,E,a,e,t,!0),v.set($,P)),S.add($)}for(const[k,Y]of o.items)S.has(k)||x.skipped_effects.add(Y.e);x.add_callback(_)}else _();c(g)}})}function fc(n,e,t,r,a,s,i,o,l){var d=(i&ro)!==0,u=(i&(br|wr))!==0,p=e.length,v=t.items,g=t.first,y=g,I,_=null,A,P=[],E=[],D,$,S,x;if(d)for(x=0;x<p;x+=1)D=e[x],$=o(D,x),S=v.get($),S!==void 0&&(S.a?.measure(),(A??=new Set).add(S));for(x=0;x<p;x+=1){if(D=e[x],$=o(D,x),S=v.get($),S===void 0){var C=r.get($);if(C!==void 0){r.delete($),v.set($,C);var k=_?_.next:y;St(t,_,C),St(t,C,k),Dr(C,k,a),_=C}else{var Y=y?y.e.nodes_start:a;_=ei(Y,t,_,_===null?t.first:_.next,D,$,x,s,i,l)}v.set($,_),P=[],E=[],y=_.next;continue}if(u&&Fs(S,D,x,i),(S.e.f&_t)!==0&&(Er(S.e),d&&(S.a?.unfix(),(A??=new Set).delete(S))),S!==y){if(I!==void 0&&I.has(S)){if(P.length<E.length){var L=E[0],K;_=L.prev;var le=P[0],re=P[P.length-1];for(K=0;K<P.length;K+=1)Dr(P[K],L,a);for(K=0;K<E.length;K+=1)I.delete(E[K]);St(t,le.prev,re.next),St(t,_,le),St(t,re,L),y=L,_=re,x-=1,P=[],E=[]}else I.delete(S),Dr(S,y,a),St(t,S.prev,S.next),St(t,S,_===null?t.first:_.next),St(t,_,S),_=S;continue}for(P=[],E=[];y!==null&&y.k!==$;)(y.e.f&_t)===0&&(I??=new Set).add(y),E.push(y),y=y.next;if(y===null)continue;S=y}P.push(S),_=S,y=S.next}if(y!==null||I!==void 0){for(var ae=I===void 0?[]:Fr(I);y!==null;)(y.e.f&_t)===0&&ae.push(y),y=y.next;var U=ae.length;if(U>0){var V=(i&ys)!==0&&p===0?a:null;if(d){for(x=0;x<U;x+=1)ae[x].a?.measure();for(x=0;x<U;x+=1)ae[x].a?.fix()}uc(t,ae,V)}}d&&Ot(()=>{if(A!==void 0)for(S of A)S.a?.apply()}),n.first=t.first&&t.first.e,n.last=_&&_.e;for(var ie of r.values())tt(ie.e);r.clear()}function Fs(n,e,t,r){(r&br)!==0&&xn(n.v,e),(r&wr)!==0?xn(n.i,t):n.i=t}function ei(n,e,t,r,a,s,i,o,l,d,u){var p=fn,v=(l&br)!==0,g=(l&ao)===0,y=v?g?qo(a,!1,!1):Ft(a):a,I=(l&wr)===0?i:Ft(i),_={i:I,v:y,k:s,a:null,e:null,prev:t,next:r};fn=_;try{if(n===null){var A=document.createDocumentFragment();A.append(n=Bt())}return _.e=Fe(()=>o(n,y,I,d),bo),_.e.prev=t&&t.e,_.e.next=r&&r.e,t===null?u||(e.first=_):(t.next=_,t.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{fn=p}}function Dr(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var i=er(s);a.before(s),s=i}}function St(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function be(n,e,...t){var r=n,a=pe,s;zt(()=>{a!==(a=e())&&(s&&(tt(s),s=null),s=Fe(()=>a(r,...t)))},rn)}function Cn(n,e,t){var r=n,a,s,i=null,o=null;function l(){s&&(Nt(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=o,o=null}zt(()=>{if(a!==(a=e())){var d=Ir();if(a){var u=r;d&&(i=document.createDocumentFragment(),i.append(u=Bt()),s&&De.skipped_effects.add(s)),o=Fe(()=>t(u,a))}d?De.add_callback(l):l()}},rn)}function pc(n,e,t,r,a,s){var i,o,l=null,d=n,u,p=fn;zt(()=>{const v=e()||null;var g=vo;if(v!==i){var y=fn;Pa(p),u&&(v===null?Nt(u,()=>{u=null,o=null}):v===o?Er(u):(tt(u),Ta(!1))),v&&v!==o&&(u=Fe(()=>{if(l=document.createElementNS(g,v),Tn(l,l),r){var I=l.appendChild(Bt());r(l,I)}ge.nodes_end=l,d.before(l)})),i=v,i&&(o=i),Ta(!0),Pa(y)}},rn)}function ti(n,e){var t=void 0,r;zt(()=>{t!==(t=e())&&(r&&(tt(r),r=null),t&&(r=Fe(()=>{Sr(()=>t(n))})))})}function ni(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=ni(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function hc(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=ni(n))&&(r&&(r+=" "),r+=e);return r}function vc(n){return typeof n=="object"?hc(n):n??""}const Ma=[...` 	
\r\f \v\uFEFF`];function mc(n,e,t){var r=n==null?"":""+n;if(e&&(r=r?r+" "+e:e),t){for(var a in t)if(t[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var o=i+s;(i===0||Ma.includes(r[i-1]))&&(o===r.length||Ma.includes(r[o]))?r=(i===0?"":r.substring(0,i))+r.substring(o+1):i=o}}return r===""?null:r}function Da(n,e=!1){var t=e?" !important;":";",r="";for(var a in n){var s=n[a];s!=null&&s!==""&&(r+=" "+a+": "+s+t)}return r}function $r(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function gc(n,e){if(e){var t="",r,a;if(Array.isArray(e)?(r=e[0],a=e[1]):r=e,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,i=0,o=!1,l=[];r&&l.push(...Object.keys(r).map($r)),a&&l.push(...Object.keys(a).map($r));var d=0,u=-1;const I=n.length;for(var p=0;p<I;p++){var v=n[p];if(o?v==="/"&&n[p-1]==="*"&&(o=!1):s?s===v&&(s=!1):v==="/"&&n[p+1]==="*"?o=!0:v==='"'||v==="'"?s=v:v==="("?i++:v===")"&&i--,!o&&s===!1&&i===0){if(v===":"&&u===-1)u=p;else if(v===";"||p===I-1){if(u!==-1){var g=$r(n.substring(d,u).trim());if(!l.includes(g)){v!==";"&&p++;var y=n.substring(d,p).trim();t+=" "+y+";"}}d=p+1,u=-1}}}}return r&&(t+=Da(r)),a&&(t+=Da(a,!0)),t=t.trim(),t===""?null:t}return n==null?null:String(n)}function He(n,e,t,r,a,s){var i=n.__className;if(i!==t||i===void 0){var o=mc(t,r,s);o==null?n.removeAttribute("class"):e?n.className=o:n.setAttribute("class",o),n.__className=t}else if(s&&a!==s)for(var l in s){var d=!!s[l];(a==null||d!==!!a[l])&&n.classList.toggle(l,d)}return s}function kr(n,e={},t,r){for(var a in t){var s=t[a];e[a]!==s&&(t[a]==null?n.style.removeProperty(a):n.style.setProperty(a,s,r))}}function yc(n,e,t,r){var a=n.__style;if(a!==e){var s=gc(e,r);s==null?n.removeAttribute("style"):n.style.cssText=s,n.__style=e}else r&&(Array.isArray(r)?(kr(n,t?.[0],r[0]),kr(n,t?.[1],r[1],"important")):kr(n,t,r));return r}function fr(n,e,t=!1){if(n.multiple){if(e==null)return;if(!On(e))return go();for(var r of n.options)r.selected=e.includes(Qn(r));return}for(r of n.options){var a=Qn(r);if(jo(a,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function ri(n){var e=new MutationObserver(()=>{fr(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),sa(()=>{e.disconnect()})}function Jr(n,e,t=e){var r=!0;js(n,"change",a=>{var s=a?"[selected]":":checked",i;if(n.multiple)i=[].map.call(n.querySelectorAll(s),Qn);else{var o=n.querySelector(s)??n.querySelector("option:not([disabled])");i=o&&Qn(o)}t(i)}),Sr(()=>{var a=e();if(fr(n,a,r),r&&a===void 0){var s=n.querySelector(":checked");s!==null&&(a=Qn(s),t(a))}n.__value=a,r=!1}),ri(n)}function Qn(n){return"__value"in n?n.__value:n.value}const Ln=Symbol("class"),Un=Symbol("style"),ai=Symbol("is custom element"),si=Symbol("is html");function $a(n,e){var t=ca(n);t.checked!==(t.checked=e??void 0)&&(n.checked=e)}function bc(n,e){e?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function qt(n,e,t,r){var a=ca(n);a[e]!==(a[e]=t)&&(e==="loading"&&(n[Qi]=t),t==null?n.removeAttribute(e):typeof t!="string"&&ii(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function wc(n,e,t,r,a=!1,s=!1){var i=ca(n),o=i[ai],l=!i[si],d=e||{},u=n.tagName==="OPTION";for(var p in e)p in t||(t[p]=null);t.class?t.class=vc(t.class):t[Ln]&&(t.class=null),t[Un]&&(t.style??=null);var v=ii(n);for(const E in t){let D=t[E];if(u&&E==="value"&&D==null){n.value=n.__value="",d[E]=D;continue}if(E==="class"){var g=n.namespaceURI==="http://www.w3.org/1999/xhtml";He(n,g,D,r,e?.[Ln],t[Ln]),d[E]=D,d[Ln]=t[Ln];continue}if(E==="style"){yc(n,D,e?.[Un],t[Un]),d[E]=D,d[Un]=t[Un];continue}var y=d[E];if(!(D===y&&!(D===void 0&&n.hasAttribute(E)))){d[E]=D;var I=E[0]+E[1];if(I!=="$$")if(I==="on"){const $={},S="$$"+E;let x=E.slice(2);var _=ec(x);if(Oo(x)&&(x=x.slice(0,-7),$.capture=!0),!_&&y){if(D!=null)continue;n.removeEventListener(x,d[S],$),d[S]=null}if(D!=null)if(_)n[`__${x}`]=D,Ze([x]);else{let C=function(k){d[E].call(this,k)};d[S]=oa(x,n,C,$)}else _&&(n[`__${x}`]=void 0)}else if(E==="style")qt(n,E,D);else if(E==="autofocus")qs(n,!!D);else if(!o&&(E==="__value"||E==="value"&&D!=null))n.value=n.__value=D;else if(E==="selected"&&u)bc(n,D);else{var A=E;l||(A=nc(A));var P=A==="defaultValue"||A==="defaultChecked";if(D==null&&!o&&!P)if(i[E]=null,A==="value"||A==="checked"){let $=n;const S=e===void 0;if(A==="value"){let x=$.defaultValue;$.removeAttribute(A),$.defaultValue=x,$.value=$.__value=S?x:null}else{let x=$.defaultChecked;$.removeAttribute(A),$.defaultChecked=x,$.checked=S?x:!1}}else n.removeAttribute(E);else P||v.includes(A)&&(o||typeof D!="string")?(n[A]=D,A in i&&(i[A]=Ke)):typeof D!="function"&&qt(n,A,D)}}}return d}function ka(n,e,t=[],r=[],a,s=!1,i=!1){Rs(t,r,o=>{var l=void 0,d={},u=n.nodeName==="SELECT",p=!1;if(zt(()=>{var g=e(...o.map(c)),y=wc(n,l,g,a,s,i);p&&u&&"value"in g&&fr(n,g.value);for(let _ of Object.getOwnPropertySymbols(d))g[_]||tt(d[_]);for(let _ of Object.getOwnPropertySymbols(g)){var I=g[_];_.description===mo&&(!l||I!==l[_])&&(d[_]&&tt(d[_]),d[_]=Fe(()=>ti(n,()=>I))),y[_]=I}l=y}),u){var v=n;Sr(()=>{fr(v,l.value,!0),ri(v)})}p=!0})}function ca(n){return n.__attributes??={[ai]:n.nodeName.includes("-"),[si]:n.namespaceURI===ho}}var Ca=new Map;function ii(n){var e=n.getAttribute("is")||n.nodeName,t=Ca.get(e);if(t)return t;Ca.set(e,t=[]);for(var r,a=n,s=Element.prototype;s!==a;){r=ps(a);for(var i in r)r[i].set&&t.push(i);a=vr(a)}return t}const _c=()=>performance.now(),Ct={tick:n=>requestAnimationFrame(n),now:()=>_c(),tasks:new Set};function oi(){const n=Ct.now();Ct.tasks.forEach(e=>{e.c(n)||(Ct.tasks.delete(e),e.f())}),Ct.tasks.size!==0&&Ct.tick(oi)}function Ic(n){let e;return Ct.tasks.size===0&&Ct.tick(oi),{promise:new Promise(t=>{Ct.tasks.add(e={c:n,f:t})}),abort(){Ct.tasks.delete(e)}}}function rr(n,e){$n(()=>{n.dispatchEvent(new CustomEvent(e))})}function Sc(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function qa(n){const e={},t=n.split(";");for(const r of t){const[a,s]=r.split(":");if(!a||s===void 0)break;const i=Sc(a.trim());e[i]=s.trim()}return e}const Ec=n=>n;function ci(n,e,t){var r=fn,a,s,i,o=null;r.a??={element:n,measure(){a=this.element.getBoundingClientRect()},apply(){if(i?.abort(),s=this.element.getBoundingClientRect(),a.left!==s.left||a.right!==s.right||a.top!==s.top||a.bottom!==s.bottom){const l=e()(this.element,{from:a,to:s},t?.());i=pr(this.element,l,void 0,1,()=>{i?.abort(),i=void 0})}},fix(){if(!n.getAnimations().length){var{position:l,width:d,height:u}=getComputedStyle(n);if(l!=="absolute"&&l!=="fixed"){var p=n.style;o={position:p.position,width:p.width,height:p.height,transform:p.transform},p.position="absolute",p.width=d,p.height=u;var v=n.getBoundingClientRect();if(a.left!==v.left||a.top!==v.top){var g=`translate(${a.left-v.left}px, ${a.top-v.top}px)`;p.transform=p.transform?`${p.transform} ${g}`:g}}}},unfix(){if(o){var l=n.style;l.position=o.position,l.width=o.width,l.height=o.height,l.transform=o.transform}}},r.a.element=n}function Cr(n,e,t,r){var a=(n&uo)!==0,s="both",i,o=e.inert,l=e.style.overflow,d,u;function p(){return $n(()=>i??=t()(e,r?.()??{},{direction:s}))}var v={is_global:a,in(){e.inert=o,rr(e,"introstart"),d=pr(e,p(),u,1,()=>{rr(e,"introend"),d?.abort(),d=i=void 0,e.style.overflow=l})},out(_){e.inert=!0,rr(e,"outrostart"),u=pr(e,p(),d,0,()=>{rr(e,"outroend"),_?.()})},stop:()=>{d?.abort(),u?.abort()}},g=ge;if((g.transitions??=[]).push(v),ur){var y=a;if(!y){for(var I=g.parent;I&&(I.f&rn)!==0;)for(;(I=I.parent)&&(I.f&tn)===0;);y=!I||(I.f&gr)!==0}y&&Sr(()=>{kn(()=>v.in())})}}function pr(n,e,t,r,a){var s=r===1;if(In(e)){var i,o=!1;return Ot(()=>{if(!o){var _=e({direction:s?"in":"out"});i=pr(n,_,t,r,a)}}),{abort:()=>{o=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t?.deactivate(),!e?.duration)return a(),{abort:pe,deactivate:pe,reset:pe,t:()=>r};const{delay:l=0,css:d,tick:u,easing:p=Ec}=e;var v=[];if(s&&t===void 0&&(u&&u(0,1),d)){var g=qa(d(0,1));v.push(g,g)}var y=()=>1-r,I=n.animate(v,{duration:l,fill:"forwards"});return I.onfinish=()=>{I.cancel();var _=t?.t()??1-r;t?.abort();var A=r-_,P=e.duration*Math.abs(A),E=[];if(P>0){var D=!1;if(d)for(var $=Math.ceil(P/16.666666666666668),S=0;S<=$;S+=1){var x=_+A*p(S/$),C=qa(d(x,1-x));E.push(C),D||=C.overflow==="hidden"}D&&(n.style.overflow="hidden"),y=()=>{var k=I.currentTime;return _+A*p(k/P)},u&&Ic(()=>{if(I.playState!=="running")return!1;var k=y();return u(k,1-k),!0})}I=n.animate(E,{duration:P,fill:"forwards"}),I.onfinish=()=>{y=()=>r,u?.(r,1-r),a()}},{abort:()=>{I&&(I.cancel(),I.effect=null,I.onfinish=pe)},deactivate:()=>{a=pe},reset:()=>{r===0&&u?.(1,0)},t:()=>y()}}function Ve(n,e,t=e){var r=new WeakSet;js(n,"input",async a=>{var s=a?n.defaultValue:n.value;if(s=qr(n)?jr(s):s,t(s),De!==null&&r.add(De),await Yo(),s!==(s=e())){var i=n.selectionStart,o=n.selectionEnd;n.value=s??"",o!==null&&(n.selectionStart=i,n.selectionEnd=Math.min(o,n.value.length))}}),kn(e)==null&&n.value&&(t(qr(n)?jr(n.value):n.value),De!==null&&r.add(De)),Us(()=>{var a=e();if(n===document.activeElement){var s=or??De;if(r.has(s))return}qr(n)&&a===jr(n.value)||n.type==="date"&&!a&&!n.value||a!==n.value&&(n.value=a??"")})}function qr(n){var e=n.type;return e==="number"||e==="range"}function jr(n){return n===""?null:+n}function Ac(n=!1){const e=We,t=e.l.u;if(!t)return;let r=()=>Zo(e.s);if(n){let a=0,s={};const i=Fn(()=>{let o=!1;const l=e.s;for(const d in l)l[d]!==s[d]&&(s[d]=l[d],o=!0);return o&&a++,a});r=()=>c(i)}t.b.length&&zo(()=>{ja(e,r),Br(t.b)}),ht(()=>{const a=kn(()=>t.m.map(zi));return()=>{for(const s of a)typeof s=="function"&&s()}}),t.a.length&&ht(()=>{ja(e,r),Br(t.a)})}function ja(n,e){if(n.l.s)for(const t of n.l.s)c(t);e()}let ar=!1;function xc(n){var e=ar;try{return ar=!1,[n(),ar]}finally{ar=e}}const Rc={get(n,e){if(!n.exclude.includes(e))return n.props[e]},set(n,e){return!1},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function we(n,e,t){return new Proxy({props:n,exclude:e},Rc)}const Tc={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(In(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let a=n.props[r];In(a)&&(a=a());const s=Xt(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(In(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=Xt(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(n,e){if(e===jt||e===gs)return!1;for(let t of n.props)if(In(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props)if(In(t)&&(t=t()),!!t){for(const r in t)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(t))e.includes(r)||e.push(r)}return e}};function Se(...n){return new Proxy({props:n},Tc)}function $e(n,e,t,r){var a=!Mn||(t&io)!==0,s=(t&co)!==0,i=(t&lo)!==0,o=r,l=!0,d=()=>(l&&(l=!1,o=i?kn(r):r),o),u;if(s){var p=jt in n||gs in n;u=Xt(n,e)?.set??(p&&e in n?E=>n[e]=E:void 0)}var v,g=!1;s?[v,g]=xc(()=>n[e]):v=n[e],v===void 0&&r!==void 0&&(v=d(),u&&(a&&Oi(),u(v)));var y;if(a?y=()=>{var E=n[e];return E===void 0?d():(l=!0,E)}:y=()=>{var E=n[e];return E!==void 0&&(o=void 0),E===void 0?o:E},a&&(t&oo)===0)return y;if(u){var I=n.$$legacy;return(function(E,D){return arguments.length>0?((!a||!D||I||g)&&u(D?y():E),E):y()})}var _=!1,A=((t&so)!==0?Fn:ra)(()=>(_=!1,y()));s&&c(A);var P=ge;return(function(E,D){if(arguments.length>0){const $=D?c(A):a&&s?Me(E):E;return h(A,$),_=!0,o!==void 0&&(o=$),E}return bn&&_||(P.f&yn)!==0?A.v:c(A)})}function li(n){We===null&&Gi(),Mn&&We.l!==null?Pc(We).m.push(n):ht(()=>{const e=kn(n);if(typeof e=="function")return e})}function Pc(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const Mc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Mc);const Dc="modulepreload",$c=function(n){return"/"+n},Na={},Yr=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let l=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");a=l(t.map(d=>{if(d=$c(d),d in Na)return;Na[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":Dc,u||(v.as="script"),v.crossOrigin="",v.href=d,o&&v.setAttribute("nonce",o),document.head.appendChild(v),u)return new Promise((g,y)=>{v.addEventListener("load",g),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};class Yt extends Map{#e=new Map;#t=R(0);#n=R(0);#a=Ut||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#n.v=super.size}}#o(e){return Ut===this.#a?R(e):Ft(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var a=super.get(e);if(a!==void 0)r=this.#o(0),t.set(e,r);else return c(this.#t),!1}return c(r),!0}forEach(e,t){this.#c(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var a=super.get(e);if(a!==void 0)r=this.#o(0),t.set(e,r);else{c(this.#t);return}}return c(r),super.get(e)}set(e,t){var r=this.#e,a=r.get(e),s=super.get(e),i=super.set(e,t),o=this.#t;if(a===void 0)a=this.#o(0),r.set(e,a),h(this.#n,super.size),xt(o);else if(s!==t){xt(a);var l=o.reactions===null?null:new Set(o.reactions),d=l===null||!a.reactions?.every(u=>l.has(u));d&&xt(o)}return i}delete(e){var t=this.#e,r=t.get(e),a=super.delete(e);return r!==void 0&&(t.delete(e),h(this.#n,super.size),h(r,-1),xt(this.#t)),a}clear(){if(super.size!==0){super.clear();var e=this.#e;h(this.#n,0);for(var t of e.values())h(t,-1);xt(this.#t),e.clear()}}#c(){c(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#o(0);e.set(t,r)}}for([,r]of this.#e)c(r)}keys(){return c(this.#t),super.keys()}values(){return this.#c(),super.values()}entries(){return this.#c(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return c(this.#n),super.size}}class kc{#e;#t;constructor(e,t){this.#e=e,this.#t=na(t)}get current(){return this.#t(),this.#e()}}const Cc=/\(.+\)/,qc=new Set(["all","print","screen","and","or","not","only"]);class jc extends kc{constructor(e,t){let r=Cc.test(e)||e.split(/[\s,]+/).some(s=>qc.has(s.trim()))?e:`(${e})`;const a=window.matchMedia(r);super(()=>a.matches,s=>Kr(a,"change",s))}}const Nc=typeof window<"u"?window:void 0;function Lc(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class Uc{#e;#t;constructor(e={}){const{window:t=Nc,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=na(a=>{const s=Kr(t,"focusin",a),i=Kr(t,"focusout",a);return()=>{s(),i()}}))}get current(){return this.#t?.(),this.#e?Lc(this.#e):null}}new Uc;function Hc(n){return typeof n=="function"}function Bc(n,e){if(Hc(n)){const r=n();return r===void 0?e:r}return n===void 0?e:n}function zc(n,e){let t=R(null);const r=Z(()=>Bc(e,250));function a(...s){if(c(t))c(t).timeout&&clearTimeout(c(t).timeout);else{let i,o;const l=new Promise((d,u)=>{i=d,o=u});h(t,{timeout:null,runner:null,promise:l,resolve:i,reject:o},!0)}return c(t).runner=async()=>{if(!c(t))return;const i=c(t);h(t,null);try{i.resolve(await n.apply(this,s))}catch(o){i.reject(o)}},c(t).timeout=setTimeout(c(t).runner,c(r)),c(t).promise}return a.cancel=async()=>{(!c(t)||c(t).timeout===null)&&(await new Promise(s=>setTimeout(s,0)),!c(t)||c(t).timeout===null)||(clearTimeout(c(t).timeout),c(t).reject("Cancelled"),h(t,null))},a.runScheduledNow=async()=>{(!c(t)||!c(t).timeout)&&(await new Promise(s=>setTimeout(s,0)),!c(t)||!c(t).timeout)||(clearTimeout(c(t).timeout),c(t).timeout=null,await c(t).runner?.())},Object.defineProperty(a,"pending",{enumerable:!0,get(){return!!c(t)?.timeout}}),a}function Rt(n){if(!n?.trim())return null;try{return JSON.parse(n)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function xr(n){return n?.length?n.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function Rr(n){if(!n?.length)return[];const e=new Map;return n.forEach(t=>{if(!t.q||!t.u||typeof t.q!="number"||isNaN(t.q))return;const r=e.get(t.u)||0;e.set(t.u,r+t.q)}),Array.from(e.entries()).map(([t,r])=>({q:r,u:t}))}function Tr(n,e){if(!n?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=n.map(l=>ln(l.q.toString(),l.u)).join(" et ");return{numeric:n,display:o}}const t=new Map,r=new Map;n.forEach(o=>{const l=parseFloat(o.q);isNaN(l)||t.set(o.u,(t.get(o.u)||0)+l)}),e.forEach(o=>{r.set(o.u,(r.get(o.u)||0)+o.q)});const a=[],s=[];t.forEach((o,l)=>{const d=r.get(l)||0,u=o-d;u>0&&(a.push({q:u,u:l}),s.push(ln(u.toString(),l)))});const i=s.length>0?s.join(" et "):"✅ Complet";return{numeric:a,display:i}}function ct(n){return n?.length?n.map(e=>ln(e.q.toString(),e.u)).join(" et "):"-"}function ln(n,e){const t=parseFloat(n);if(isNaN(t))return`${n} ${e}`;if((e==="gr."||e==="ml")&&t>=1e3){const r=t/1e3,a=e==="gr."?"kg":"l.";let i=(Math.round(r*100)/100).toString();return i.endsWith(",0")&&(i=i.slice(0,-2)),i.endsWith(",00")&&(i=i.slice(0,-3)),`${i} ${a}`}if(!["gr.","ml","kg","l."].includes(e)){let a=(Math.round(t*10)/10).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),`${a} ${e}`}return`${t} ${e}`}function la(n){if(!n?.length)return[];const e=new Map;return n.forEach(({q:t,u:r})=>{if(typeof t=="number"&&!isNaN(t)){const a=e.get(r)||0;e.set(r,a+t)}}),Array.from(e.entries()).map(([t,r])=>({q:r,u:t}))}function Vc(n){return n?Object.values(n).some(e=>e.recipes?.some(t=>t.q!==void 0||t.u!==void 0)):!1}function da(n){if(!n)return[];const e=Object.values(n).flatMap(t=>t.totalConsolidated);return la(e)}function di(n,e){const t=new Map,r=new Map;n.forEach(({q:i,u:o})=>{t.set(o,(t.get(o)||0)+i)}),e.forEach(({q:i,u:o})=>{r.set(o,(r.get(o)||0)+i)});const a=[],s=new Set([...t.keys(),...r.keys()]);for(const i of s){const o=t.get(i)||0,l=r.get(i)||0,d=o-l;Math.abs(d)>.001&&a.push({q:d,u:i})}return a}function ua(n){if(!n?.length)return"Équilibré";const e=n.filter(r=>r.q>0),t=n.filter(r=>r.q<0);if(e.length>0&&t.length>0){const r=e.map(s=>ln(s.q.toString(),s.u)).join(" et "),a=t.map(s=>ln(Math.abs(s.q).toString(),s.u)).join(" et ");return`${r} disponibles, ${a} manquant${t.length>1?"s":""}`}else return e.length>0?e.map(r=>"+"+ln(r.q.toString(),r.u)).join(" et ")+" disponibles":t.length>0?t.map(r=>ln(Math.abs(r.q).toString(),r.u)).join(" et ")+` manquant${t.length>1?"s":""}`:"Équilibré"}function Wc(n,e){if(e.searchQuery.trim()){const t=e.searchQuery.toLowerCase();if(!n.productName.toLowerCase().includes(t))return!1}return!(e.selectedStores.length>0&&(!n.storeInfo?.storeName||!e.selectedStores.includes(n.storeInfo.storeName))||e.selectedWho.length>0&&(!n.who||!n.who.some(t=>e.selectedWho.includes(t)))||e.selectedProductTypes.length>0&&(!n.productType||!e.selectedProductTypes.includes(n.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&n.pFrais||e.selectedTemperatures.includes("surgele")&&n.pSurgel))}function La(n){return{...n,products:n.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:n.mainId}}function Qc(n){const e=Rt(n.specs)??null,t=Rr(xr(n.purchases??[]));let r=[];e?.quantity&&(r=[e.quantity]);const{numeric:a,display:s}=Tr(r,t),i=Rt(n.stockReel)??null,o=ct(t),l=n.store?Rt(n.store):null,d=i?`${i.quantity} ${i.unit}`:o;return{$id:n.$id,$createdAt:n.$createdAt,$updatedAt:n.$updatedAt,productHugoUuid:n.productHugoUuid||"",productName:n.productName,productType:n.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:n.isSynced,mainId:n.mainId,totalNeededRaw:[],status:n.status,who:n.who,store:n.store,stockReel:n.stockReel,previousNames:n.previousNames,isMerged:n.isMerged,mergedFrom:n.mergedFrom,mergeDate:n.mergeDate,mergeReason:n.mergeReason,mergedInto:n.mergedInto,totalNeededOverride:n.totalNeededOverride,purchases:n.purchases,specs:n.specs,byDate:{},storeInfo:l,stockParsed:i,specsParsed:e,totalNeededArray:r,totalPurchasesArray:t,missingQuantityArray:a,stockOrTotalPurchases:d,displayTotalNeeded:ct(r),displayTotalPurchases:o,displayMissingQuantity:s,totalNeededOverrideParsed:Rt(n.totalNeededOverride),displayTotalOverride:(()=>{const u=Rt(n.totalNeededOverride);return u?ct([u.totalOverride]):""})()}}function sr(n,e){const t=n.purchases??e.purchases,r=n.specs??e.specs,a=r?Rt(r):e.specsParsed,s=Rr(xr(t??[])),i=ct(s);let o=e.totalNeededArray;!e.productHugoUuid&&a?.quantity&&(o=[a.quantity]);const{numeric:l,display:d}=Tr(o,s),u=n.stockReel??e.stockReel,p=u?Rt(u):e.stockParsed,v=n.store??e.store,g=v?Rt(v):e.storeInfo,y=p?`${p.quantity} ${p.unit}`:i;return n.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:n.$updatedAt,productName:n.productName??e.productName,productType:n.productType??e.productType,isSynced:n.isSynced??e.isSynced,mainId:n.mainId??e.mainId,pFrais:a?.pFrais??e.pFrais,pSurgel:a?.pSurgel??e.pSurgel,status:n.status??e.status,who:n.who??e.who,store:v,stockReel:u,specs:r,purchases:t,previousNames:n.previousNames??e.previousNames,isMerged:n.isMerged??e.isMerged,mergedFrom:n.mergedFrom??e.mergedFrom,mergeDate:n.mergeDate??e.mergeDate,mergeReason:n.mergeReason??e.mergeReason,mergedInto:n.mergedInto??e.mergedInto,totalNeededOverride:n.totalNeededOverride??e.totalNeededOverride,storeInfo:g,stockParsed:p,specsParsed:a,totalNeededArray:o,totalPurchasesArray:s,missingQuantityArray:l,stockOrTotalPurchases:y,displayTotalPurchases:i,displayMissingQuantity:d,displayTotalNeeded:ct(o),totalNeededOverrideParsed:Rt(n.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const I=Rt(n.totalNeededOverride??e.totalNeededOverride);return I?ct([I.totalOverride]):""})()}}class Gc{#e=R(Me([]));MAX_TOASTS=3;get toasts(){return[...c(this.#e)].sort((e,t)=>t.timestamp-e.timestamp)}create(e){const t=e.id||crypto.randomUUID(),r={id:t,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,details:e.details,actions:e.actions||[]};return this.#t(r),t}update(e,t){const r=c(this.#e).findIndex(s=>s.id===e);if(r===-1)return;const a=c(this.#e)[r];a.timeoutId&&clearTimeout(a.timeoutId),c(this.#e)[r]={...a,state:t.state||a.state,message:t.message||a.message,source:t.source||a.source,actions:t.actions||a.actions},this.#n(c(this.#e)[r])}async track(e,t){const r=this.create({id:t.id,state:"loading",message:t.loading,source:"user"});try{const a=await e;return this.update(r,{state:"success",message:t.success||"Opération réussie"}),a}catch(a){throw this.update(r,{state:"error",message:t.error||"Erreur lors de l'opération"}),a}}dismiss(e){const t=c(this.#e).findIndex(a=>a.id===e);if(t===-1)return;const r=c(this.#e)[t];r.timeoutId&&clearTimeout(r.timeoutId),c(this.#e).splice(t,1)}dismissAll(){c(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),h(this.#e,[],!0)}#t(e){if(e.source==="user"){const t=c(this.#e).findIndex(r=>r.source==="user");t>=0?c(this.#e)[t]=e:c(this.#e).push(e)}else{const t=c(this.#e).filter(r=>r.source!=="user");if(t.length>=2){const r=t[0];this.dismiss(r.id)}c(this.#e).push(e)}c(this.#e).length>this.MAX_TOASTS&&c(this.#e).splice(0,c(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){if(e.state!=="success"&&e.state!=="info")return;const t=e.source==="realtime-other"?4e3:2e3;e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},t)}success(e,t){return this.create({state:"success",message:e,details:t})}error(e,t){return this.create({state:"error",message:e,details:t})}warning(e,t){return this.create({state:"warning",message:e,source:t?.source||"system",details:t?.details,actions:t?.actions})}info(e,t){return this.create({state:"info",message:e,source:t?.source||"system",details:t?.details})}loading(e,t){return this.create({state:"loading",message:e,details:t})}}const mt=new Gc;function Nr(n,e,t,r){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{d(r.next(u))}catch(p){i(p)}}function l(u){try{d(r.throw(u))}catch(p){i(p)}}function d(u){u.done?s(u.value):a(u.value).then(o,l)}d((r=r.apply(n,[])).next())})}function Kc(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}class M{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}M.equal=(n,e)=>new M("equal",n,e).toString();M.notEqual=(n,e)=>new M("notEqual",n,e).toString();M.lessThan=(n,e)=>new M("lessThan",n,e).toString();M.lessThanEqual=(n,e)=>new M("lessThanEqual",n,e).toString();M.greaterThan=(n,e)=>new M("greaterThan",n,e).toString();M.greaterThanEqual=(n,e)=>new M("greaterThanEqual",n,e).toString();M.isNull=n=>new M("isNull",n).toString();M.isNotNull=n=>new M("isNotNull",n).toString();M.between=(n,e,t)=>new M("between",n,[e,t]).toString();M.startsWith=(n,e)=>new M("startsWith",n,e).toString();M.endsWith=(n,e)=>new M("endsWith",n,e).toString();M.select=n=>new M("select",void 0,n).toString();M.search=(n,e)=>new M("search",n,e).toString();M.orderDesc=n=>new M("orderDesc",n).toString();M.orderAsc=n=>new M("orderAsc",n).toString();M.orderRandom=()=>new M("orderRandom").toString();M.cursorAfter=n=>new M("cursorAfter",void 0,n).toString();M.cursorBefore=n=>new M("cursorBefore",void 0,n).toString();M.limit=n=>new M("limit",void 0,n).toString();M.offset=n=>new M("offset",void 0,n).toString();M.contains=(n,e)=>new M("contains",n,e).toString();M.notContains=(n,e)=>new M("notContains",n,e).toString();M.notSearch=(n,e)=>new M("notSearch",n,e).toString();M.notBetween=(n,e,t)=>new M("notBetween",n,[e,t]).toString();M.notStartsWith=(n,e)=>new M("notStartsWith",n,e).toString();M.notEndsWith=(n,e)=>new M("notEndsWith",n,e).toString();M.createdBefore=n=>M.lessThan("$createdAt",n);M.createdAfter=n=>M.greaterThan("$createdAt",n);M.createdBetween=(n,e)=>M.between("$createdAt",n,e);M.updatedBefore=n=>M.lessThan("$updatedAt",n);M.updatedAfter=n=>M.greaterThan("$updatedAt",n);M.updatedBetween=(n,e)=>M.between("$updatedAt",n,e);M.or=n=>new M("or",void 0,n.map(e=>JSON.parse(e))).toString();M.and=n=>new M("and",void 0,n.map(e=>JSON.parse(e))).toString();M.distanceEqual=(n,e,t,r=!0)=>new M("distanceEqual",n,[[e,t,r]]).toString();M.distanceNotEqual=(n,e,t,r=!0)=>new M("distanceNotEqual",n,[[e,t,r]]).toString();M.distanceGreaterThan=(n,e,t,r=!0)=>new M("distanceGreaterThan",n,[[e,t,r]]).toString();M.distanceLessThan=(n,e,t,r=!0)=>new M("distanceLessThan",n,[[e,t,r]]).toString();M.intersects=(n,e)=>new M("intersects",n,[e]).toString();M.notIntersects=(n,e)=>new M("notIntersects",n,[e]).toString();M.crosses=(n,e)=>new M("crosses",n,[e]).toString();M.notCrosses=(n,e)=>new M("notCrosses",n,[e]).toString();M.overlaps=(n,e)=>new M("overlaps",n,[e]).toString();M.notOverlaps=(n,e)=>new M("notOverlaps",n,[e]).toString();M.touches=(n,e)=>new M("touches",n,[e]).toString();M.notTouches=(n,e)=>new M("notTouches",n,[e]).toString();class w extends Error{constructor(e,t=0,r="",a=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=a}}class Et{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const a=new URLSearchParams;this.config.project&&a.set("project",this.config.project),this.realtime.channels.forEach(i=>{a.append("channels[]",i)});const s=this.config.endpointRealtime+"/realtime?"+a.toString();(s!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",i=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",i=>{var o,l,d;if(!this.realtime.reconnect||((l=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,i.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var t,r;try{const a=JSON.parse(e.data);switch(this.realtime.lastMessage=a,a.type){case"connected":let s=this.config.session;if(!s){const l=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}");s=l?.[`a_session_${this.config.project}`]}const i=a.data;s&&!i.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let o=a.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(u=>d.channels.includes(u))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw a.data;default:break}}catch(a){console.error(a)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([a,s])=>s.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new w("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new w("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(s=>this.realtime.channels.add(s));const a=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(a,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(a),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},a={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("cookieFallback");i&&(r["X-Fallback-Cookies"]=i)}let s={method:e,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(s.credentials="include"),e==="GET")for(const[i,o]of Object.entries(Et.flatten(a)))t.searchParams.append(i,o);else switch(r["content-type"]){case"application/json":s.body=JSON.stringify(a);break;case"multipart/form-data":const i=new FormData;for(const[o,l]of Object.entries(a))if(l instanceof File)i.append(o,l,l.name);else if(Array.isArray(l))for(const d of l)i.append(`${o}[]`,d);else i.append(o,l);s.body=i,delete r["content-type"];break}return{uri:t.toString(),options:s}}chunkedUpload(e,t,r={},a={},s){var i;return Nr(this,void 0,void 0,function*(){const[o,l]=(i=Object.entries(a).find(([p,v])=>v instanceof File))!==null&&i!==void 0?i:[];if(!l||!o)throw new Error("File not found in payload");if(l.size<=Et.CHUNK_SIZE)return yield this.call(e,t,r,a);let d=0,u=null;for(;d<l.size;){let p=d+Et.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${d}-${p-1}/${l.size}`;const v=l.slice(d,p);let g=Object.assign({},a);g[o]=new File([v],l.name),u=yield this.call(e,t,r,g),s&&typeof s=="function"&&s({$id:u.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Et.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Et.CHUNK_SIZE)}),u&&u.$id&&(r["x-appwrite-id"]=u.$id),d=p}return u})}ping(){return Nr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},a={},s="json"){var i,o;return Nr(this,void 0,void 0,function*(){const{uri:l,options:d}=this.prepareRequest(e,t,r,a);let u=null;const p=yield fetch(l,d);if(p.type==="opaque")throw new w(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const v=p.headers.get("x-appwrite-warning");if(v&&v.split(";").forEach(y=>console.warn("Warning: "+y)),!((i=p.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?u=yield p.json():s==="arrayBuffer"?u=yield p.arrayBuffer():u={message:yield p.text()},400<=p.status){let y="";throw!((o=p.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||s==="arrayBuffer"?y=JSON.stringify(u):y=u?.message,new w(u?.message,p.status,u?.type,y)}const g=p.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&g&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",g)),u})}static flatten(e,t=""){let r={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?r=Object.assign(Object.assign({},r),Et.flatten(s,i)):r[i]=s}return r}}Et.CHUNK_SIZE=1024*1024*5;class Xn{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[a,s]of Object.entries(e)){let i=t?t+"["+a+"]":a;Array.isArray(s)?r=Object.assign(Object.assign({},r),Xn.flatten(s,i)):r[i]=s}return r}}Xn.CHUNK_SIZE=5*1024*1024;class Jc{constructor(e){this.client=e}get(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}create(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],password:t[1],name:t[2]};const a=r.userId,s=r.email,i=r.password,o=r.name;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "email"');if(typeof i>"u")throw new w('Missing required parameter: "password"');const l="/account",d={};typeof a<"u"&&(d.userId=a),typeof s<"u"&&(d.email=s),typeof i<"u"&&(d.password=i),typeof o<"u"&&(d.name=o);const u=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return this.client.call("post",u,p,d)}updateEmail(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:t[0]};const a=r.email,s=r.password;if(typeof a>"u")throw new w('Missing required parameter: "email"');if(typeof s>"u")throw new w('Missing required parameter: "password"');const i="/account/email",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}listIdentities(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:t[0]};const a=r.queries,s=r.total,i="/account/identities",o={};typeof a<"u"&&(o.queries=a),typeof s<"u"&&(o.total=s);const l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}deleteIdentity(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={identityId:e};const r=t.identityId;if(typeof r>"u")throw new w('Missing required parameter: "identityId"');const a="/account/identities/{identityId}".replace("{identityId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createJWT(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}listLogs(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:t[0]};const a=r.queries,s=r.total,i="/account/logs",o={};typeof a<"u"&&(o.queries=a),typeof s<"u"&&(o.total=s);const l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}updateMFA(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={mfa:e};const r=t.mfa;if(typeof r>"u")throw new w('Missing required parameter: "mfa"');const a="/account/mfa",s={};typeof r<"u"&&(s.mfa=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}createMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateMfaAuthenticator(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:t[0]};const a=r.type,s=r.otp;if(typeof a>"u")throw new w('Missing required parameter: "type"');if(typeof s>"u")throw new w('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),o={};typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAAuthenticator(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:t[0]};const a=r.type,s=r.otp;if(typeof a>"u")throw new w('Missing required parameter: "type"');if(typeof s>"u")throw new w('Missing required parameter: "otp"');const i="/account/mfa/authenticators/{type}".replace("{type}",a),o={};typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deleteMfaAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}deleteMFAAuthenticator(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?t=e||{}:t={type:e};const r=t.type;if(typeof r>"u")throw new w('Missing required parameter: "type"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createMfaChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const r=t.factor;if(typeof r>"u")throw new w('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof r<"u"&&(s.factor=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createMFAChallenge(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?t=e||{}:t={factor:e};const r=t.factor;if(typeof r>"u")throw new w('Missing required parameter: "factor"');const a="/account/mfa/challenge",s={};typeof r<"u"&&(s.factor=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateMfaChallenge(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:t[0]};const a=r.challengeId,s=r.otp;if(typeof a>"u")throw new w('Missing required parameter: "challengeId"');if(typeof s>"u")throw new w('Missing required parameter: "otp"');const i="/account/mfa/challenge",o={};typeof a<"u"&&(o.challengeId=a),typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateMFAChallenge(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:t[0]};const a=r.challengeId,s=r.otp;if(typeof a>"u")throw new w('Missing required parameter: "challengeId"');if(typeof s>"u")throw new w('Missing required parameter: "otp"');const i="/account/mfa/challenge",o={};typeof a<"u"&&(o.challengeId=a),typeof s<"u"&&(o.otp=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}listMfaFactors(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}listMFAFactors(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}updateName(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={name:e};const r=t.name;if(typeof r>"u")throw new w('Missing required parameter: "name"');const a="/account/name",s={};typeof r<"u"&&(s.name=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}updatePassword(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={password:e,oldPassword:t[0]};const a=r.password,s=r.oldPassword;if(typeof a>"u")throw new w('Missing required parameter: "password"');const i="/account/password",o={};typeof a<"u"&&(o.password=a),typeof s<"u"&&(o.oldPassword=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}updatePhone(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={phone:e,password:t[0]};const a=r.phone,s=r.password;if(typeof a>"u")throw new w('Missing required parameter: "phone"');if(typeof s>"u")throw new w('Missing required parameter: "password"');const i="/account/phone",o={};typeof a<"u"&&(o.phone=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",l,d,o)}getPrefs(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}updatePrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?t=e||{}:t={prefs:e};const r=t.prefs;if(typeof r>"u")throw new w('Missing required parameter: "prefs"');const a="/account/prefs",s={};typeof r<"u"&&(s.prefs=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}createRecovery(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,url:t[0]};const a=r.email,s=r.url;if(typeof a>"u")throw new w('Missing required parameter: "email"');if(typeof s>"u")throw new w('Missing required parameter: "url"');const i="/account/recovery",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.url=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateRecovery(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0],password:t[1]};const a=r.userId,s=r.secret,i=r.password;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');if(typeof i>"u")throw new w('Missing required parameter: "password"');const o="/account/recovery",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.secret=s),typeof i<"u"&&(l.password=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",d,u,l)}listSessions(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),a={};return this.client.call("get",r,a,t)}deleteSessions(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("delete",r,a,t)}createAnonymousSession(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}createEmailPasswordSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:t[0]};const a=r.email,s=r.password;if(typeof a>"u")throw new w('Missing required parameter: "email"');if(typeof s>"u")throw new w('Missing required parameter: "password"');const i="/account/sessions/email",o={};typeof a<"u"&&(o.email=a),typeof s<"u"&&(o.password=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}updateMagicURLSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/sessions/magic-url",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createOAuth2Session(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=r.provider,s=r.success,i=r.failure,o=r.scopes;if(typeof a>"u")throw new w('Missing required parameter: "provider"');const l="/account/sessions/oauth2/{provider}".replace("{provider}",a),d={};typeof s<"u"&&(d.success=s),typeof i<"u"&&(d.failure=i),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[p,v]of Object.entries(Xn.flatten(d)))u.searchParams.append(p,v);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}updatePhoneSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/sessions/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createSession(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/sessions/token",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}getSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("patch",i,o,s)}deleteSession(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={sessionId:e};const r=t.sessionId;if(typeof r>"u")throw new w('Missing required parameter: "sessionId"');const a="/account/sessions/{sessionId}".replace("{sessionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}updateStatus(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("patch",r,a,t)}createPushTarget(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:t[0],providerId:t[1]};const a=r.targetId,s=r.identifier,i=r.providerId;if(typeof a>"u")throw new w('Missing required parameter: "targetId"');if(typeof s>"u")throw new w('Missing required parameter: "identifier"');const o="/account/targets/push",l={};typeof a<"u"&&(l.targetId=a),typeof s<"u"&&(l.identifier=s),typeof i<"u"&&(l.providerId=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}updatePushTarget(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:t[0]};const a=r.targetId,s=r.identifier;if(typeof a>"u")throw new w('Missing required parameter: "targetId"');if(typeof s>"u")throw new w('Missing required parameter: "identifier"');const i="/account/targets/{targetId}/push".replace("{targetId}",a),o={};typeof s<"u"&&(o.identifier=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}deletePushTarget(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={targetId:e};const r=t.targetId;if(typeof r>"u")throw new w('Missing required parameter: "targetId"');const a="/account/targets/{targetId}/push".replace("{targetId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createEmailToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],phrase:t[1]};const a=r.userId,s=r.email,i=r.phrase;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "email"');const o="/account/tokens/email",l={};typeof a<"u"&&(l.userId=a),typeof s<"u"&&(l.email=s),typeof i<"u"&&(l.phrase=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}createMagicURLToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:t[0],url:t[1],phrase:t[2]};const a=r.userId,s=r.email,i=r.url,o=r.phrase;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "email"');const l="/account/tokens/magic-url",d={};typeof a<"u"&&(d.userId=a),typeof s<"u"&&(d.email=s),typeof i<"u"&&(d.url=i),typeof o<"u"&&(d.phrase=o);const u=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return this.client.call("post",u,p,d)}createOAuth2Token(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:t[0],failure:t[1],scopes:t[2]};const a=r.provider,s=r.success,i=r.failure,o=r.scopes;if(typeof a>"u")throw new w('Missing required parameter: "provider"');const l="/account/tokens/oauth2/{provider}".replace("{provider}",a),d={};typeof s<"u"&&(d.success=s),typeof i<"u"&&(d.failure=i),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+l);d.project=this.client.config.project;for(const[p,v]of Object.entries(Xn.flatten(d)))u.searchParams.append(p,v);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}createPhoneToken(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,phone:t[0]};const a=r.userId,s=r.phone;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "phone"');const i="/account/tokens/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.phone=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}createEmailVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const r=t.url;if(typeof r>"u")throw new w('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof r<"u"&&(s.url=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}createVerification(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={url:e};const r=t.url;if(typeof r>"u")throw new w('Missing required parameter: "url"');const a="/account/verifications/email",s={};typeof r<"u"&&(s.url=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}updateEmailVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/verifications/email",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}updateVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/verifications/email",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}createPhoneVerification(){const e="/account/verifications/phone",t={},r=new URL(this.client.config.endpoint+e),a={"content-type":"application/json"};return this.client.call("post",r,a,t)}updatePhoneVerification(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:t[0]};const a=r.userId,s=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "userId"');if(typeof s>"u")throw new w('Missing required parameter: "secret"');const i="/account/verifications/phone",o={};typeof a<"u"&&(o.userId=a),typeof s<"u"&&(o.secret=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}class Yc{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const r=t.queries,a="/databases/transactions",s={};typeof r<"u"&&(s.queries=r);const i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const r=t.ttl,a="/databases/transactions",s={};typeof r<"u"&&(s.ttl=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateTransaction(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:t[0],rollback:t[1]};const a=r.transactionId,s=r.commit,i=r.rollback;if(typeof a>"u")throw new w('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createOperations(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:t[0]};const a=r.transactionId,s=r.operations;if(typeof a>"u")throw new w('Missing required parameter: "transactionId"');const i="/databases/transactions/{transactionId}/operations".replace("{transactionId}",a),o={};typeof s<"u"&&(o.operations=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listDocuments(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=r.databaseId,s=r.collectionId,i=r.queries,o=r.transactionId,l=r.total;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),u={};typeof i<"u"&&(u.queries=i),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const p=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",p,v,u)}createDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",a).replace("{collectionId}",s),p={};typeof i<"u"&&(p.documentId=i),typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("post",v,g,p)}getDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],queries:t[2],transactionId:t[3]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.queries,l=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const p=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",p,v,u)}upsertDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),p={};typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("put",v,g,p)}updateDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),p={};typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("patch",v,g,p)}deleteDocument(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],transactionId:t[2]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return this.client.call("delete",u,p,d)}decrementDocumentAttribute(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.attribute,l=r.value,d=r.min,u=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "attribute"');const p="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.min=d),typeof u<"u"&&(v.transactionId=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("patch",g,y,v)}incrementDocumentAttribute(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:t[0],documentId:t[1],attribute:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=r.databaseId,s=r.collectionId,i=r.documentId,o=r.attribute,l=r.value,d=r.max,u=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "collectionId"');if(typeof i>"u")throw new w('Missing required parameter: "documentId"');if(typeof o>"u")throw new w('Missing required parameter: "attribute"');const p="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",a).replace("{collectionId}",s).replace("{documentId}",i).replace("{attribute}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.max=d),typeof u<"u"&&(v.transactionId=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("patch",g,y,v)}}class Xc{constructor(e){this.client=e}listExecutions(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,queries:t[0],total:t[1]};const a=r.functionId,s=r.queries,i=r.total;if(typeof a>"u")throw new w('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",a),l={};typeof s<"u"&&(l.queries=s),typeof i<"u"&&(l.total=i);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}createExecution(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,body:t[0],async:t[1],xpath:t[2],method:t[3],headers:t[4],scheduledAt:t[5]};const a=r.functionId,s=r.body,i=r.async,o=r.xpath,l=r.method,d=r.headers,u=r.scheduledAt;if(typeof a>"u")throw new w('Missing required parameter: "functionId"');const p="/functions/{functionId}/executions".replace("{functionId}",a),v={};typeof s<"u"&&(v.body=s),typeof i<"u"&&(v.async=i),typeof o<"u"&&(v.path=o),typeof l<"u"&&(v.method=l),typeof d<"u"&&(v.headers=d),typeof u<"u"&&(v.scheduledAt=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("post",g,y,v)}getExecution(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,executionId:t[0]};const a=r.functionId,s=r.executionId;if(typeof a>"u")throw new w('Missing required parameter: "functionId"');if(typeof s>"u")throw new w('Missing required parameter: "executionId"');const i="/functions/{functionId}/executions/{executionId}".replace("{functionId}",a).replace("{executionId}",s),o={},l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}}class Zc{constructor(e){this.client=e}listTransactions(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={queries:e};const r=t.queries,a="/tablesdb/transactions",s={};typeof r<"u"&&(s.queries=r);const i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}createTransaction(e){let t;!e||e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={ttl:e};const r=t.ttl,a="/tablesdb/transactions",s={};typeof r<"u"&&(s.ttl=r);const i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("post",i,o,s)}getTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateTransaction(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:t[0],rollback:t[1]};const a=r.transactionId,s=r.commit,i=r.rollback;if(typeof a>"u")throw new w('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",a),l={};typeof s<"u"&&(l.commit=s),typeof i<"u"&&(l.rollback=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteTransaction(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={transactionId:e};const r=t.transactionId;if(typeof r>"u")throw new w('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}createOperations(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:t[0]};const a=r.transactionId,s=r.operations;if(typeof a>"u")throw new w('Missing required parameter: "transactionId"');const i="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",a),o={};typeof s<"u"&&(o.operations=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",l,d,o)}listRows(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],queries:t[1],transactionId:t[2],total:t[3]};const a=r.databaseId,s=r.tableId,i=r.queries,o=r.transactionId,l=r.total;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),u={};typeof i<"u"&&(u.queries=i),typeof o<"u"&&(u.transactionId=o),typeof l<"u"&&(u.total=l);const p=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",p,v,u)}createRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "data"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",a).replace("{tableId}",s),p={};typeof i<"u"&&(p.rowId=i),typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("post",v,g,p)}getRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],queries:t[2],transactionId:t[3]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.queries,l=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),u={};typeof o<"u"&&(u.queries=o),typeof l<"u"&&(u.transactionId=l);const p=new URL(this.client.config.endpoint+d),v={};return this.client.call("get",p,v,u)}upsertRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),p={};typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("put",v,g,p)}updateRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],data:t[2],permissions:t[3],transactionId:t[4]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.data,l=r.permissions,d=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),p={};typeof o<"u"&&(p.data=o),typeof l<"u"&&(p.permissions=l),typeof d<"u"&&(p.transactionId=d);const v=new URL(this.client.config.endpoint+u),g={"content-type":"application/json"};return this.client.call("patch",v,g,p)}deleteRow(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],transactionId:t[2]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');const l="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return this.client.call("delete",u,p,d)}decrementRowColumn(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],min:t[4],transactionId:t[5]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.column,l=r.value,d=r.min,u=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "column"');const p="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.min=d),typeof u<"u"&&(v.transactionId=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("patch",g,y,v)}incrementRowColumn(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:t[0],rowId:t[1],column:t[2],value:t[3],max:t[4],transactionId:t[5]};const a=r.databaseId,s=r.tableId,i=r.rowId,o=r.column,l=r.value,d=r.max,u=r.transactionId;if(typeof a>"u")throw new w('Missing required parameter: "databaseId"');if(typeof s>"u")throw new w('Missing required parameter: "tableId"');if(typeof i>"u")throw new w('Missing required parameter: "rowId"');if(typeof o>"u")throw new w('Missing required parameter: "column"');const p="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",a).replace("{tableId}",s).replace("{rowId}",i).replace("{column}",o),v={};typeof l<"u"&&(v.value=l),typeof d<"u"&&(v.max=d),typeof u<"u"&&(v.transactionId=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("patch",g,y,v)}}class Oc{constructor(e){this.client=e}list(e,...t){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,search:t[0],total:t[1]};const a=r.queries,s=r.search,i=r.total,o="/teams",l={};typeof a<"u"&&(l.queries=a),typeof s<"u"&&(l.search=s),typeof i<"u"&&(l.total=i);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,l)}create(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:t[0],roles:t[1]};const a=r.teamId,s=r.name,i=r.roles;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "name"');const o="/teams",l={};typeof a<"u"&&(l.teamId=a),typeof s<"u"&&(l.name=s),typeof i<"u"&&(l.roles=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,l)}get(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updateName(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:t[0]};const a=r.teamId,s=r.name;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "name"');const i="/teams/{teamId}".replace("{teamId}",a),o={};typeof s<"u"&&(o.name=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}delete(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const a="/teams/{teamId}".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={"content-type":"application/json"};return this.client.call("delete",i,o,s)}listMemberships(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,queries:t[0],search:t[1],total:t[2]};const a=r.teamId,s=r.queries,i=r.search,o=r.total;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');const l="/teams/{teamId}/memberships".replace("{teamId}",a),d={};typeof s<"u"&&(d.queries=s),typeof i<"u"&&(d.search=i),typeof o<"u"&&(d.total=o);const u=new URL(this.client.config.endpoint+l),p={};return this.client.call("get",u,p,d)}createMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,roles:t[0],email:t[1],userId:t[2],phone:t[3],url:t[4],name:t[5]};const a=r.teamId,s=r.roles,i=r.email,o=r.userId,l=r.phone,d=r.url,u=r.name;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "roles"');const p="/teams/{teamId}/memberships".replace("{teamId}",a),v={};typeof i<"u"&&(v.email=i),typeof o<"u"&&(v.userId=o),typeof l<"u"&&(v.phone=l),typeof s<"u"&&(v.roles=s),typeof d<"u"&&(v.url=d),typeof u<"u"&&(v.name=u);const g=new URL(this.client.config.endpoint+p),y={"content-type":"application/json"};return this.client.call("post",g,y,v)}getMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0]};const a=r.teamId,s=r.membershipId;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),o={},l=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",l,d,o)}updateMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0],roles:t[1]};const a=r.teamId,s=r.membershipId,i=r.roles;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "membershipId"');if(typeof i>"u")throw new w('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),l={};typeof i<"u"&&(l.roles=i);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,l)}deleteMembership(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0]};const a=r.teamId,s=r.membershipId;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "membershipId"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",a).replace("{membershipId}",s),o={},l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("delete",l,d,o)}updateMembershipStatus(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:t[0],userId:t[1],secret:t[2]};const a=r.teamId,s=r.membershipId,i=r.userId,o=r.secret;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "membershipId"');if(typeof i>"u")throw new w('Missing required parameter: "userId"');if(typeof o>"u")throw new w('Missing required parameter: "secret"');const l="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",a).replace("{membershipId}",s),d={};typeof i<"u"&&(d.userId=i),typeof o<"u"&&(d.secret=o);const u=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return this.client.call("patch",u,p,d)}getPrefs(e){let t;e&&typeof e=="object"&&!Array.isArray(e)?t=e||{}:t={teamId:e};const r=t.teamId;if(typeof r>"u")throw new w('Missing required parameter: "teamId"');const a="/teams/{teamId}/prefs".replace("{teamId}",r),s={},i=new URL(this.client.config.endpoint+a),o={};return this.client.call("get",i,o,s)}updatePrefs(e,...t){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,prefs:t[0]};const a=r.teamId,s=r.prefs;if(typeof a>"u")throw new w('Missing required parameter: "teamId"');if(typeof s>"u")throw new w('Missing required parameter: "prefs"');const i="/teams/{teamId}/prefs".replace("{teamId}",a),o={};typeof s<"u"&&(o.prefs=s);const l=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("put",l,d,o)}}var Ua;(function(n){n[n.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",n[n.POLICY_VIOLATION=1008]="POLICY_VIOLATION",n[n.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(Ua||(Ua={}));class Te{}Te.read=n=>`read("${n}")`;Te.write=n=>`write("${n}")`;Te.create=n=>`create("${n}")`;Te.update=n=>`update("${n}")`;Te.delete=n=>`delete("${n}")`;class ke{static any(){return"any"}static user(e,t=""){return t===""?`user:${e}`:`user:${e}/${t}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,t=""){return t===""?`team:${e}`:`team:${e}/${t}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ui,fi;class vn{static custom(e){return e}static unique(e=7){const t=Kc(vn,ui,"m",fi).call(vn);let r="";for(let a=0;a<e;a++){const s=Math.floor(Math.random()*16).toString(16);r+=s}return t+r}}ui=vn,fi=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var Ha;(function(n){n.Equal="equal",n.NotEqual="notEqual",n.GreaterThan="greaterThan",n.GreaterThanEqual="greaterThanEqual",n.LessThan="lessThan",n.LessThanEqual="lessThanEqual",n.Contains="contains",n.IsNull="isNull",n.IsNotNull="isNotNull"})(Ha||(Ha={}));var Ba;(function(n){n.Totp="totp"})(Ba||(Ba={}));var za;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(za||(za={}));var Va;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Figma="figma",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Va||(Va={}));var Wa;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(Wa||(Wa={}));var Qa;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionPay="unionpay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro",n.Rupay="rupay"})(Qa||(Qa={}));var Ga;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(Ga||(Ga={}));var Ka;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS",n.HEAD="HEAD"})(Ka||(Ka={}));var Ja;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(Ja||(Ja={}));var Ya;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Png="png",n.Webp="webp",n.Heic="heic",n.Avif="avif",n.Gif="gif"})(Ya||(Ya={}));var Xa;(function(n){n.Http="http",n.Schedule="schedule",n.Event="event"})(Xa||(Xa={}));var Za;(function(n){n.Waiting="waiting",n.Processing="processing",n.Completed="completed",n.Failed="failed",n.Scheduled="scheduled"})(Za||(Za={}));const Tt={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3",usersTeamsManager:"692cb2cd000cbb24549c"},collections:{events:"events",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products",kteams:"kteams"}};let dn=null;async function Ie(){if(dn)return dn;console.log("[appwrite] Initialisation des instances Appwrite...");const n=new Et().setEndpoint(Tt.endpoint).setProject(Tt.projectId),e=new Jc(n),t=new Yc(n),r=new Zc(n),a=new Xc(n),s=new Oc(n);return dn={client:n,account:e,databases:t,tables:r,functions:a,teams:s,config:Tt},console.log("[appwrite] Instances initialisées avec succès"),dn}function Fc(){console.log("[appwrite] Cache réinitialisé"),dn=null}function fa(){return{APPWRITE_ENDPOINT:Tt.endpoint,APPWRITE_PROJECT_ID:Tt.projectId,APPWRITE_FUNCTION_ID:Tt.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:Tt.functions.accessRequest,APPWRITE_CONFIG:Tt}}function pi(n,e){return dn?dn.client.subscribe(n,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new Et().setEndpoint(Tt.endpoint).setProject(Tt.projectId).subscribe(n,e))}function zn(){return localStorage.getItem("appwrite-user-name")||""}async function el(n,e,t=100){try{const{tables:r,config:a}=await Ie(),s=await r.listRows({databaseId:a.databaseId,tableId:a.APPWRITE_CONFIG.collections.purchases,queries:[M.greaterThan("$updatedAt",e),M.equal("mainId",n),M.limit(t),M.select(["*","products.$id"])]});return console.log(`[Appwrite Interactions] ${s.rows.length} purchases modifiés chargés`),s.rows}catch(r){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",r),[]}}async function hi(n,e){const{lastSync:t,limit:r=100}=e;try{const{tables:a,config:s}=await Ie();if(!t)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await a.listRows({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.products,queries:[M.equal("mainId",n),M.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),M.limit(r)]})).rows;const i=await a.listRows({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.products,queries:[M.greaterThan("$updatedAt",t),M.equal("mainId",n),M.limit(r),M.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]});return i.rows.length>0&&console.log(`[Appwrite Interactions] ${i.rows.length} produits synchronisés avec leurs purchases`),i.rows}catch(a){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${n}:`,a);const s=a instanceof Error?a.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${s}`)}}async function vi(n,e,t=!0){const{tables:r,config:a}=await Ie();return t&&(e.updatedBy=zn()),await r.updateRow({databaseId:a.databaseId,tableId:a.APPWRITE_CONFIG.collections.products,rowId:n,data:e})}async function mi(n,e,t=!1){if(!n)throw new Error("ID du produit requis pour la mise à jour de l'override");const r=JSON.stringify(e),a=await vi(n,{totalNeededOverride:r},t);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${n}:`,e),a}async function gi(n){if(!n?.length)return[];try{const{tables:e,config:t}=await Ie(),r=await e.listRows(t.databaseId,t.APPWRITE_CONFIG.collections.purchases,[M.equal("$id",n),M.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${r.rows.length} purchases chargés avec relations products`),r.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const t=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${t}`)}}function yi(n,e={}){let t=null;const r=s=>{const{events:i,payload:o}=s;if(!o)return;const l=i.some(g=>g.includes("products.")),d=i.some(g=>g.includes("purchases.")),u=i.some(g=>g.includes(".create")),p=i.some(g=>g.includes(".update")),v=i.some(g=>g.includes(".delete"));if(l){const g=o;g.updatedBy&&g.updatedBy!==zn()&&(u||p?mt.info(`${g.updatedBy} a modifié le produit "${g.productName}"`,{source:"realtime-other"}):v&&mt.info(`${g.updatedBy} a supprimé un produit`,{source:"realtime-other"})),u&&e.onProductCreate?e.onProductCreate(g):p&&e.onProductUpdate?e.onProductUpdate(g):v&&e.onProductDelete&&e.onProductDelete(g.$id)}else if(d){const g=o;if(g.createdBy&&g.createdBy!==zn()){const y=g.products?.[0]?.productName||"un produit";u&&g.who!==zn()?mt.info(`${g.who} a ajouté un achat pour ${y}`,{source:"realtime-other"}):p&&g.who!==zn()?mt.info(`${g.who} a modifié un achat pour ${y}`,{source:"realtime-other"}):v&&mt.info(`${g.who} a supprimé un achat pour ${y}`,{source:"realtime-other"})}u&&e.onPurchaseCreate?e.onPurchaseCreate(g):p&&e.onPurchaseUpdate?e.onPurchaseUpdate(g):v&&e.onPurchaseDelete&&e.onPurchaseDelete(g.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),t=window.AppwriteClient.subscribeToCollections(["products","purchases"],n,r,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:s=>{console.error("[Appwrite Interactions] Erreur realtime:",s),e.onError?.(s)}}))}catch(s){console.error("[Appwrite Interactions] Impossible de configurer realtime:",s),e.onError?.(s)}})(),()=>{t&&(t(),t=null)}}async function bi(n){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${n}`);const{tables:e,config:t}=await Ie(),r=await e.getRow(t.databaseId,t.collections.main,n);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${r.name}`),r}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${n}:`,e),null}}async function wi(n,e,t,r){try{console.log(`[Appwrite Interactions] Création du Main document: ${n}`);const{tables:a,config:s,account:i}=await Ie(),o=await i.get();await a.createRow(s.databaseId,s.APPWRITE_CONFIG.collections.main,n,{name:r,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:t,status:"active",dateStart:t[0]||null,dateEnd:t[t.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${n}`)}catch(a){throw console.error("[Appwrite Interactions] Erreur création Main document:",a),a}}async function tl(n){try{const{tables:e,config:t}=await Ie(),r=await e.listRows(t.databaseId,t.APPWRITE_CONFIG.collections.purchases,[M.equal("mainId",n),M.equal("status","expense"),M.limit(1e3)]);return console.log(`[Appwrite Interactions] ${r.rows.length} dépenses globales chargées`),r.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Oa=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:wi,loadMainEventData:bi,loadOrphanPurchases:tl,loadPurchasesListByIds:gi,loadUpdatedPurchases:el,subscribeToRealtime:yi,syncProductsWithPurchases:hi,updateProduct:vi,updateTotalOverride:mi},Symbol.toStringTag,{value:"Module"}));function nl(n){const t=new Date(n).getHours();return t>=11&&t<=13?"sun":t>=19&&t<=21?"moon":t>=7&&t<=9?"cloud":null}function rl(n){return{formattedDate:new Date(n).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:nl(n)}}function _i(n){const e={};for(const t of n)e[t]=rl(t);return e}function al(n,e){if(!n.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const t=n.byDate[e],r=[e],a=new Map;t.recipes?.length&&a.set(e,t.recipes);const s=t.totalConsolidated||[],i=s.length>0?ct(s):"-",o=sl(n,e,s),l=o.filter(v=>v.q>0),d=new Date().toISOString().split("T")[0],p=e<d?[]:o.filter(v=>v.q<0);return{requiredQuantities:s,requiredQuantitiesFormatted:i,stockBalance:o,availableStockQuantities:l,missingStockQuantities:p,availableStockFormatted:ua(o),missingStockFormatted:ct(p.map(v=>({q:Math.abs(v.q),u:v.u}))),hasAvailableStock:l.length>0,hasMissingStock:p.length>0,totalRecipesInRange:t.recipes?.length||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:r,recipesByDate:a}}function sl(n,e,t){let r=[],a="";n.stockParsed?.dateTime&&n.stockParsed.dateTime<=e&&(r=[{q:parseFloat(n.stockParsed.quantity),u:n.stockParsed.unit}],a=n.stockParsed.dateTime);const s=[];if(n.purchases)for(const l of n.purchases)il(l,e,a)&&s.push({q:l.quantity,u:l.unit});const i=[...r,...s],o=la(i);return di(o,t)}function il(n,e,t=""){if(n.status==="cancelled")return!1;const r=n.deliveryDate||n.$createdAt;return!r||r>e||t&&n.$createdAt<t?!1:r<=e}function ol(n,e){const t=n.totalNeededArray||[],r=t.length>0?ct(t):"-",a=Ii(n,e[0],e[e.length-1],t),s=a.filter(d=>d.q>0),i=a.filter(d=>d.q<0),o=[...e].sort(),l=new Map;if(n.byDate)for(const[d,u]of Object.entries(n.byDate))u.recipes?.length&&l.set(d,u.recipes);return{requiredQuantities:t,requiredQuantitiesFormatted:r,stockBalance:a,availableStockQuantities:s,missingStockQuantities:i,availableStockFormatted:ua(a),missingStockFormatted:ct(i.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:s.length>0,hasMissingStock:i.length>0,totalRecipesInRange:n.nbRecipes||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:l}}function cl(n,e,t){if(!n.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const r=new Date(e),a=new Date(t),s=[],i=new Map,o=new Map;let l=0,d=0;for(const[A,P]of Object.entries(n.byDate)){const E=new Date(A);E>=r&&E<=a&&(s.push(A),l+=P.totalAssiettes||0,P.recipes?.length&&(i.set(A,P.recipes),d+=P.recipes.length),P.totalConsolidated&&P.totalConsolidated.forEach(({q:D,u:$})=>{o.set($,(o.get($)||0)+D)}))}const u=Array.from(o.entries()).map(([A,P])=>({q:P,u:A})),p=u.length>0?ct(u):"-",v=Ii(n,e,t,u),g=v.filter(A=>A.q>0),y=new Date().toISOString().split("T")[0],_=t<y?[]:v.filter(A=>A.q<0);return{requiredQuantities:u,requiredQuantitiesFormatted:p,stockBalance:v,availableStockQuantities:g,missingStockQuantities:_,availableStockFormatted:ua(v),missingStockFormatted:ct(_.map(A=>({q:Math.abs(A.q),u:A.u}))),hasAvailableStock:g.length>0,hasMissingStock:_.length>0,totalRecipesInRange:d,totalPortionsInRange:l,datesInSelectedRange:s,recipesByDate:i}}function Ii(n,e,t,r){let a=[],s="";n.stockParsed?.dateTime&&n.stockParsed.dateTime<=e&&(a=[{q:parseFloat(n.stockParsed.quantity),u:n.stockParsed.unit}],s=n.stockParsed.dateTime);const i=[];if(n.purchases)for(const d of n.purchases)ll(d,e,t,s)&&i.push({q:d.quantity,u:d.unit});const o=[...a,...i],l=la(o);return di(l,r)}function ll(n,e,t,r=""){if(n.status==="cancelled")return!1;const a=n.deliveryDate||n.$createdAt;return!a||a>t||r&&n.$createdAt<r?!1:a<=t}async function dl(n){let e;if(e=await fetch(`/evenements/${n}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const t=await e.json();if(!t.mainGroup_id||!t.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return t}async function Fa(n){const e=await fetch(`/evenements/${n}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const t=await e.json();if(!t.mainGroup_id||!t.ingredients)throw new Error("Format de données Hugo invalide");return t}async function ul(n,e){if(!n)return!0;try{return(await dl(e)).hugoContentHash!==n}catch(t){return console.warn("Impossible de vérifier le hash Hugo:",t),!1}}function Si(n,e){const t=da(n.byDate),r=Rr(xr([])),{numeric:a,display:s}=Tr(t,r),i=Object.keys(n.byDate||{}),o=_i(i);return{$id:`${n.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:n.ingredientHugoUuid,productName:n.ingredientName,productType:n.ingType,pFrais:n.pFrais||!1,pSurgel:n.pSurgel||!1,nbRecipes:n.nbRecipes,totalNeededRaw:n.totalNeededRaw,totalAssiettes:n.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:n.byDate,storeInfo:null,stockParsed:null,totalNeededArray:t,totalPurchasesArray:r,missingQuantityArray:a,stockOrTotalPurchases:"-",displayTotalNeeded:ct(t),displayTotalPurchases:"-",displayMissingQuantity:s,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function fl(n,e){return n.map(t=>Si(t,e))}class pl{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.PRODUCTS_STORE)||(s.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.$id,o)}),console.log(`[IDBCache] ${i.size} produits chargés`),e(i)},s.onerror=()=>t(s.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,o={lastSync:null,allDates:[],hugoContentHash:null};i.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.ALL_DATES_KEY?o.allDates=l.value||[]:l.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=l.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},s.onerror=()=>t(s.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),s=a.objectStore(this.PRODUCTS_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),t()},a.onerror=()=>r(a.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&s.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),a.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),t()},a.onerror=()=>r(a.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),t()},i.onerror=()=>r(i.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});i.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),t()},i.onerror=()=>r(i.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const r=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.PRODUCTS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},r.onerror=()=>t(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function hl(n){const e=new pl(n);return await e.open(),e}function vl(n){return!!(n.isMerged||n.totalNeededOverride)}function ml(n,e){if(!n||n.length!==e.length)return!0;for(let t=0;t<n.length;t++){const r=n[t],a=e[t];if(r.q!==a.q||r.u!==a.u)return!0}return!1}async function gl(n,e){const t={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},r=new Set;for(const a of e.ingredients){const s=a.productSemanticKey;if(!s){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${a.ingredientName}`);continue}r.add(s);const i=n.get(s);if(i){if(ml(i.totalNeededRaw,a.totalNeededRaw)){const l=yl(i,a);if(l&&t.overrideConflicts.push(l),i.isMerged){const d=i.displayTotalNeeded;es(i,a),t.mergedProductsUpdated.push({product:i,oldDisplayTotal:d,newDisplayTotal:i.displayTotalNeeded,currentOverride:i.totalNeededOverrideParsed,semanticKey:s})}else es(i,a);t.updated.push(s)}n.set(s,i)}else{t.added.push(a);const o=Si(a,e.mainGroup_id);n.set(o.$id,o)}}for(const[a,s]of n)r.has(a)||(t.removed.push(s),!vl(s)&&!s.purchases?.length&&!s.stockReel&&!s.who?.length&&n.delete(a));return t.overrideConflicts.length>0&&await bl(t.overrideConflicts),t.summary=_l(t),t}function yl(n,e){if(!n.totalNeededOverride||!n.totalNeededOverrideParsed)return null;const t=da(e.byDate),r=ct(t),a=n.displayTotalNeeded;return a!==r?{product:n,oldDisplayTotal:a,newDisplayTotal:r,currentOverride:n.totalNeededOverrideParsed,semanticKey:n.$id}:null}async function bl(n){for(const e of n){const t={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(t);try{await mi(e.product.$id,t,!1)}catch(r){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,r)}}}function es(n,e){n.byDate=e.byDate,n.nbRecipes=e.nbRecipes,n.totalAssiettes=e.totalAssiettes,n.productType=e.ingType,n.pFrais=e.pFrais||!1,n.pSurgel=e.pSurgel||!1,wl(n)}function wl(n){n.totalNeededArray=da(n.byDate),n.displayTotalNeeded=ct(n.totalNeededArray);const e=Rr(xr(n.purchases)),{numeric:t,display:r}=Tr(n.totalNeededArray,e);n.totalPurchasesArray=e,n.missingQuantityArray=t,n.displayMissingQuantity=r;const a=Object.keys(n.byDate||{});n.dateDisplayInfo=_i(a),n.stockOrTotalPurchases=n.purchases.length>0?n.displayTotalPurchases:n.displayTotalNeeded}function _l(n){const e=[];if((n.added.length>0||n.updated.length>0||n.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),n.added.length>0&&e.push(`${n.added.length} nouveau(x) ingrédient(s)`),n.updated.length>0&&e.push(` ${n.updated.length} ingrédient(s) mis à jour`),n.overrideConflicts.length>0&&e.push(`⚠️ ${n.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),n.mergedProductsUpdated.length>0&&e.push(`🔀 ${n.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),n.removed.length>0){const t=n.removed.filter(r=>r.purchases?.length||r.stockReel||r.who?.length).length;t>0?e.push(`⚠️ ${t} suppression(s) avec données conservées`):e.push(`${n.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}const{APPWRITE_CONFIG:Vt}=fa();async function Ei(){try{const{tables:n,account:e}=await Ie(),t=await e.get();return{teams:(await n.listRows({databaseId:Vt.databaseId,tableId:"kteams"})).rows}}catch(n){throw console.error("[teams] Error listing teams:",n),n}}async function Pr(n){try{const{tables:e}=await Ie();return await e.getRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:n})}catch(e){throw console.error(`[teams] Error getting team ${n}:`,e),e}}async function Il(n,e){try{const{tables:t,account:r}=await Ie(),a=await r.get(),s=vn.unique(),i={id:a.$id,name:a.name,role:"owner",joinedAt:new Date().toISOString()},o=await t.createRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:s,data:{name:n,description:e||null,membersId:[a.$id],members:[JSON.stringify(i)],invited:null,main:[]},permissions:[Te.read(ke.user(a.$id)),Te.update(ke.user(a.$id)),Te.delete(ke.user(a.$id))]});return console.log(`[teams] Team created: ${s}`),o}catch(t){throw console.error("[teams] Error creating team:",t),t}}async function Sl(n,e,t){try{const{tables:r}=await Ie(),a={};e!==void 0&&(a.name=e),t!==void 0&&(a.description=t);const s=await r.updateRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:n,data:a});return console.log(`[teams] Team updated: ${n}`),s}catch(r){throw console.error(`[teams] Error updating team ${n}:`,r),r}}async function El(n){try{const{tables:e}=await Ie();await e.deleteRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:n}),console.log(`[teams] Team deleted: ${n}`)}catch(e){throw console.error(`[teams] Error deleting team ${n}:`,e),e}}async function Ai(n,e,t,r){try{const{tables:a}=await Ie(),s=await Pr(n);if(!s.membersId.includes(e)){const i={id:e,name:t,role:"member",joinedAt:new Date().toISOString()},o=[...s.membersId,e],l=[...s.members,JSON.stringify(i)],d=await a.updateRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:n,data:{membersId:o,members:l},permissions:[Te.read(ke.user(e)),Te.update(ke.user(e))]});return console.log(`[teams] Member added to team ${n}: ${e}`),d}return s}catch(a){throw console.error(`[teams] Error adding member to team ${n}:`,a),a}}async function Al(n,e){try{const{tables:t}=await Ie(),r=await Pr(n);if(r.membersId.includes(e)){const a=r.membersId.filter(o=>o!==e),s=r.members.filter((o,l)=>r.membersId[l]!==e),i=await t.updateRow({databaseId:Vt.databaseId,tableId:"kteams",rowId:n,data:{membersId:a,members:s}});return console.log(`[teams] Member removed from team ${n}: ${e}`),i}return r}catch(t){throw console.error(`[teams] Error removing member from team ${n}:`,t),t}}async function xl(n,e,t){try{const{functions:r}=await Ie(),a=await Pr(n),s=await r.createExecution({functionId:Vt.functions.usersTeamsManager,body:JSON.stringify({action:"invite",emails:e,context:{type:"team",id:n,name:a.name},message:t||""})}),i=JSON.parse(s.responseBody);if(!i.success)throw new Error(i.error||"Erreur lors de l'invitation");return i.emailResults&&i.emailResults.failed>0&&console.warn(`[teams] Certains emails n'ont pas pu être envoyés pour l'équipe ${n}: ${i.emailResults.failed}/${i.emailResults.sent+i.emailResults.failed} échecs`),i}catch(r){throw console.error(`[teams] Error inviting members to team ${n}:`,r),r}}async function Rl(n,e,t){try{const{functions:r}=await Ie(),a=await r.createExecution({functionId:Vt.functions.usersTeamsManager,body:JSON.stringify({action:"exchange-invite",teamId:n,userId:e,secret:t})}),s=JSON.parse(a.responseBody);if(!s.success)throw new Error(s.error||"L'invitation est invalide ou expirée.");return{token:s.token,userId:s.userId}}catch(r){throw console.error("[teams] Error validating invitation:",r),r}}async function Tl(n,e){try{const{account:t}=await Ie(),r=await t.get();return await Ai(e,n,r.email)}catch(t){throw console.error(`[teams] Error accepting invitation for team ${e}:`,t),t}}async function Xr(){try{return(await Ei()).teams.map(e=>e.$id)}catch(n){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",n),[]}}async function Pl(n){try{return(await Xr()).includes(n)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}class Ml{isMobileQuery=new jc("max-width: 1024px");#e=R(null);#t=R(Me([]));#n=R(!1);#a=R(null);#o=R(!1);get user(){return c(this.#e)}get userId(){return c(this.#e)?.$id??null}get userTeams(){return c(this.#t)}get isAuthenticated(){return c(this.#e)!==null}get authLoading(){return c(this.#n)}get authError(){return c(this.#a)}get authInitialized(){return c(this.#o)}async initializeAuth(){if(c(this.#o)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),h(this.#n,!0),h(this.#a,null);try{const{account:e}=await Ie();h(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",c(this.#e).name),localStorage.setItem("appwrite-user-email",c(this.#e).email),localStorage.setItem("appwrite-user-id",c(this.#e).$id),h(this.#t,await Xr(),!0),console.log(`[GlobalState] Authentifié: ${c(this.#e).name} (${c(this.#t).length} équipes)`)}catch(e){h(this.#e,null),h(this.#t,[],!0),h(this.#a,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{h(this.#n,!1),h(this.#o,!0)}}async logout(){try{const{account:e}=await Ie();await e.deleteSession({sessionId:"current"}),Fc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),h(this.#e,null),h(this.#t,[],!0),h(this.#o,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!c(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await Xr();(e.length>0||c(this.#t).length===0)&&(h(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${c(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return c(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return mt.toasts}get toast(){return mt}#c=R(Me({isOpen:!1,conflicts:[]}));get modalOverride(){return c(this.#c)}set modalOverride(e){h(this.#c,e,!0)}#r=R(Me({isOpen:!1}));get modal(){return c(this.#r)}set modal(e){h(this.#r,e,!0)}#l=R(Me({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return c(this.#l)}set backgroundOperation(e){h(this.#l,e,!0)}#d=R(Me({isOpen:!1}));get authModal(){return c(this.#d)}set authModal(e){h(this.#d,e,!0)}}const me=new Ml;class Hn{#e=R(Me({}));get data(){return c(this.#e)}set data(e){h(this.#e,e,!0)}dateStore;constructor(e,t){this.data=e,this.dateStore=t}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=Z(()=>{const e=this.dateStore.current,t=this.dateStore.dates;let r;if(this.dateStore.isFullRange)r=ol(this.data,t),r.datesInSelectedRange&&(r.datesInSelectedRange=r.datesInSelectedRange.filter(a=>this.data.byDate&&this.data.byDate[a]));else if(e.start&&e.end&&e.start===e.end)r=al(this.data,e.start);else if(e.start&&e.end)r=cl(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:r.requiredQuantities,formattedQuantities:r.requiredQuantitiesFormatted,nbRecipes:r.totalRecipesInRange,totalAssiettes:r.totalPortionsInRange,stockResult:r.stockBalance,availableQuantities:r.availableStockQuantities,missingQuantities:r.missingStockQuantities,formattedMissingQuantities:r.missingStockFormatted,formattedAvailableQuantities:r.availableStockFormatted,hasAvailable:r.hasAvailableStock,hasMissing:r.hasMissingStock,concernedDates:r.datesInSelectedRange,recipesByDate:r.recipesByDate}});get stats(){return c(this.#t)}set stats(e){h(this.#t,e)}}class Dl{#e=R(Me([]));#t=R(null);#n=R(null);constructor(e=[]){h(this.#e,e,!0),this.initializeSmartRange()}get start(){return c(this.#t)}get end(){return c(this.#n)}get dates(){return c(this.#e)}#a=Z(()=>[...c(this.#e)].sort()[0]);get firstAvailableDate(){return c(this.#a)}set firstAvailableDate(e){h(this.#a,e)}#o=Z(()=>[...c(this.#e)].sort()[c(this.#e).length-1]);get lastAvailableDate(){return c(this.#o)}set lastAvailableDate(e){h(this.#o,e)}get current(){return{start:c(this.#t),end:c(this.#n)}}#c=Z(()=>{if(c(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return c(this.#c)}set isEventPassed(e){h(this.#c,e)}#r=Z(()=>{if(c(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),c(this.#e).some(t=>new Date(t)>=e)});get hasUpcomingDates(){return c(this.#r)}set hasUpcomingDates(e){h(this.#r,e)}#l=Z(()=>c(this.#t)===this.firstAvailableDate&&c(this.#n)===this.lastAvailableDate);get isFullRange(){return c(this.#l)}set isFullRange(e){h(this.#l,e)}#d=Z(()=>{if(c(this.#e).length===0)return!1;const e=[...c(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const r=e.find(i=>new Date(i)>=t)||null;let a,s;if(r)a=r,s=e[e.length-1];else{const i=e[e.length-1];a=i,s=i}return c(this.#t)===a&&c(this.#n)===s});get isUpcomingRange(){return c(this.#d)}set isUpcomingRange(e){h(this.#d,e)}#u=Z(()=>c(this.#e).length===1);get hasSingleDateEvent(){return c(this.#u)}set hasSingleDateEvent(e){h(this.#u,e)}#f=Z(()=>!!(c(this.#t)&&c(this.#t)===c(this.#n)));get hasSingleDateInRange(){return c(this.#f)}set hasSingleDateInRange(e){h(this.#f,e)}#s=Z(()=>{if(!c(this.#t)||!c(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(c(this.#t))<e});get hasPastDatesInRange(){return c(this.#s)}set hasPastDatesInRange(e){h(this.#s,e)}setAvailableDates(e){h(this.#e,e,!0),this.initializeSmartRange()}setRange(e,t){if(!e&&!t){h(this.#t,null),h(this.#n,null);return}if(!e||!t){const s=e||t;h(this.#t,s,!0),h(this.#n,s,!0);return}const r=new Date(e)<=new Date(t)?e:t,a=new Date(e)>=new Date(t)?e:t;h(this.#t,r,!0),h(this.#n,a,!0)}selectAll(){c(this.#e).length!==0&&(h(this.#t,c(this.#e)[0],!0),h(this.#n,c(this.#e)[c(this.#e).length-1],!0))}selectUpcoming(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),t=new Date;t.setHours(0,0,0,0);const r=e.find(a=>new Date(a)>=t)||null;if(r)h(this.#t,r,!0),h(this.#n,e[e.length-1],!0);else{const a=e[e.length-1];h(this.#t,a,!0),h(this.#n,a,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const t=c(this.#e).filter(r=>new Date(r)>=e);t.length>0&&(h(this.#t,t[0],!0),h(this.#n,t[t.length-1],!0))}initializeSmartRange(){if(c(this.#e).length===0)return;const e=[...c(this.#e)].sort(),t=this.isEventPassed,r=new Date(e[0])<new Date,a=new Date;let s;t?s=e[0]:r?s=a.toISOString().slice(0,19)+"Z":s=e[0],h(this.#t,s,!0),h(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${c(this.#t)} - ${c(this.#n)}`)}}const ts=1e3;class $l{#e=new Yt;#t=new Yt;#n=R(null);#a=R(null);#o=R(!1);#c=R(!1);#r=R(null);#l=R(!1);#d=R(!1);#u=R(null);#f=R(null);get currentMainId(){return c(this.#n)}dateStore=new Dl;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#s=null;#p=null;#h=R(!1);#v=null;#b=R(!1);#w=R();#m=R(Me([]));get hasPendingConflicts(){return c(this.#m).length>0}get pendingConflicts(){return c(this.#m)}#i=R(Me({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return c(this.#i)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return c(this.#c)}get error(){return c(this.#r)}get lastSync(){return c(this.#u)}get syncing(){return c(this.#l)}setDateRange(e,t){this.dateStore.setRange(e,t)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return c(this.#d)}#g=Z(()=>{const e=Array.from(this.#e.values()).map(t=>t.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return c(this.#g)}set enrichedProducts(e){h(this.#g,e)}#y=Z(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),t=new Date(this.dateRange.end),r=new Map;for(const[a,s]of this.#e){const i=s.data,o=!i.productHugoUuid;if(!i.byDate&&!o||!Wc(i,c(this.#i)))continue;let d=!1;i.byDate&&(d=Object.keys(i.byDate).some(u=>{const p=new Date(u);return p>=e&&p<=t})),(d||o)&&r.set(a,s)}return r});get filteredProductsMap(){return c(this.#y)}set filteredProductsMap(e){h(this.#y,e)}#E=Z(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return c(this.#E)}set stats(e){h(this.#E,e)}#A=Z(()=>{const e=Array.from(this.#e.values()).map(t=>t.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return c(this.#A)}set uniqueStores(e){h(this.#A,e)}#x=Z(()=>{const e=Array.from(this.#e.values()).flatMap(t=>t.who||[]);return[...new Set(e)]});get uniqueWho(){return c(this.#x)}set uniqueWho(e){h(this.#x,e)}#R=Z(()=>{const e=Array.from(this.#e.values()).map(t=>t.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return c(this.#R)}set uniqueProductTypes(e){h(this.#R,e)}#T=Z(()=>{const t=Array.from(this.filteredProductsMap.values()).sort((i,o)=>i.$id.localeCompare(o.$id));if(c(this.#i).groupBy==="none")return{"":t};const r=Object.groupBy(t,i=>c(this.#i).groupBy==="store"?i.storeInfo?.storeName||"Non défini":i.productType||"Non défini"),a=Object.keys(r).sort((i,o)=>i===""?1:o===""?-1:i.localeCompare(o)),s={};return a.forEach(i=>{s[i]=r[i]}),s});get groupedFilteredProducts(){return c(this.#T)}set groupedFilteredProducts(e){h(this.#T,e)}async initialize(e,t){if(!e?.trim())throw new Error("mainId invalide fourni");if(c(this.#o)&&c(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),h(this.#n,e,!0),h(this.#a,t,!0);try{this.#s=await hl(e)}catch(r){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",r),new Error("Impossible d'initialiser le cache IndexedDB")}h(this.#r,null);try{if(await this.#k(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");let a;a=await Fa(t),console.log(`[ProductsStore] Hugo chargé: ${a.ingredients.length} ingrédients`),h(this.#f,a.hugoContentHash,!0),fl(a.ingredients,e).forEach(o=>{this.#e.set(o.$id,new Hn(o,this.dateStore))}),this.dateStore.setAvailableDates([...a.allDates]),await bi(e)||await wi(a.mainGroup_id,a.hugoContentHash,a.allDates,a.name),await this.#P()}this.initializeDateRange(),await this.#C(),await this.#G(),h(this.#o,!0);const r=this.#Q();this.#p=yi(e,r),this.#L(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#M(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(r){const a=r instanceof Error?r.message:"Erreur lors de l'initialisation";throw h(this.#r,a,!0),console.error("[ProductsStore]",a,r),r}}async#k(){if(this.#s)try{const e=await this.#s.loadProducts();e.forEach((r,a)=>{r.status==="isSyncing"&&(r.status="active"),this.#e.set(a,new Hn(r,this.dateStore))});const t=await this.#s.loadMetadata();h(this.#u,t.lastSync,!0),this.dateStore.setAvailableDates([...t.allDates]),h(this.#f,t.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${t.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#C(){if(c(this.#n)){h(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${c(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${c(this.#u)}`);const e=await hi(c(this.#n),{lastSync:c(this.#u),limit:ts});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(t=>{const r=this.#e.get(t.$id);console.log(`[ProductsStore] Sync produit ${t.$id}: existing=${!!r}, who=${t.who}, store=${t.store}`);const a=this.#D(t,r?.data);a.isSynced=!0,r?r.update(a):this.#e.set(t.$id,new Hn(a,this.dateStore))}),c(this.#u)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${c(this.#u)}`);const{loadUpdatedPurchases:t}=await Yr(async()=>{const{loadUpdatedPurchases:a}=await Promise.resolve().then(()=>Oa);return{loadUpdatedPurchases:a}},void 0),r=await t(c(this.#n),c(this.#u),ts);console.log(`[ProductsStore] ${r.length} purchases modifiés récupérés`),r.forEach(a=>{if(a.status==="expense")this.#t.set(a.$id,a);else if(a.products?.length){const s=a.products.map(i=>typeof i=="string"?i:i.$id);this.#S(s,a)}})}this.#j(),await this.#q(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{h(this.#l,!1)}}}async#q(){if(this.#s)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#s.saveProducts(e),await this.#s.saveMetadata({lastSync:c(this.#u),allDates:[...this.dateStore.dates],hugoContentHash:c(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#s)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#s.saveProducts(e),await this.#s.updateLastSync(c(this.#u)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#P(){if(this.#s)try{const e=new Map;this.#e.forEach((t,r)=>{const a=wn(t.data);a.status==="isSyncing"&&(a.status="active"),e.set(r,a)}),await this.#s.saveProducts(e),await this.#s.updateLastSync(c(this.#u)),await this.#s.updateAllDates([...this.availableDates]),await this.#s.updateHugoContentHash(c(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#s||e.length===0))try{const t=e.map(r=>this.#e.get(r)?.data).filter(r=>r!=null).map(r=>{const a=wn(r);return a.status==="isSyncing"&&(a.status="active"),this.#s.upsertProduct(a)});t.length>0&&(await Promise.all(t),console.log(`[ProductsStore] ${t.length} produits affectés persistés`))}catch(t){console.error("[ProductsStore] Erreur persistence produits affectés:",t)}}#j(){h(this.#u,new Date().toISOString(),!0)}async#M(){if(!c(this.#a)||c(this.#c))return!1;try{const e=await ul(c(this.#f),c(this.#a));return e&&!c(this.#h)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${c(this.#a)}, analyse approfondie en cours...`),h(this.#h,!0),await this.#N()),h(this.#w,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!c(this.#a)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Fa(c(this.#a)),t=new Map;this.#e.forEach((s,i)=>t.set(i,s.data));const r=await gl(t,e);console.log(`[ProductsStore  - hugo change] ${r.summary}`);for(const[s,i]of t){const o=this.#e.get(s);if(o)o.update(i);else{const l=new Hn(i,this.dateStore);this.#e.set(s,l),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${s}`)}}const a=[];for(const[s]of this.#e)t.has(s)||a.push(s);for(const s of a)this.#e.delete(s),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${s}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${t.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),r.overrideConflicts.length>0&&(h(this.#m,r.overrideConflicts,!0),mt.error(`${r.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{action:{label:"Réviser",onClick:()=>me.modalOverride.isOpen=!0}})),r.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${r.mergedProductsUpdated.length} produits fusionnés modifiés`),r.removed.length>0){const s=r.removed.filter(i=>i.purchases?.length||i.stockReel||i.who?.length);s.length>0&&console.log(`[ProductsStore] ℹ️ ${s.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),h(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#P(),(r.added.length||r.updated.length||r.removed.length)&&mt.success(r.summary),h(this.#h,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),mt.error("Erreur lors de la mise à jour Hugo")}}#L(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#M()},6e4)}#U(){this.#v&&(clearInterval(this.#v),this.#v=null)}#D(e,t){return t?sr(e,t):Qc(e)}#J(e){e.length&&(e.forEach(t=>this.#_(t)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const t=this.#e.get(e.$id),r=this.#D(e,t?.data);t?t.update(r):(this.dateStore.dates,this.#e.set(e.$id,new Hn(r,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const t=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#W(t,e),t}async#z(e){if(e.products?.length){const t=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(t,e),t}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[t]=await gi([e.$id]);if(t?.products?.length){const r=t.products.map(a=>typeof a=="string"?a:a.$id).filter(Boolean);return this.#S(r,t),r}return[]}catch(t){return console.error("[ProductsStore] Erreur rechargement purchase:",t),[]}}async#V(e){const t=Array.from(this.#e.values()).map(r=>r.data).filter(r=>r.purchases?.some(a=>a.$id===e));return t.forEach(r=>{this.#_(r)}),t.map(r=>r.$id)}#W(e,t){const r=La(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const o=i.data,l=o.purchases||[];if(!l.some(d=>d.$id===r.$id)){const d=sr({...o,purchases:[...l,r],status:"active"},o);a.push(d)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#S(e,t){const r=La(t),a=[];e.forEach(s=>{const i=this.#e.get(s);if(i){const o=i.data,l=o.purchases||[],d=l.findIndex(u=>u.$id===r.$id);if(d>=0){const u=[...l];u[d]=r;const p=sr({...o,purchases:u,status:"active"},o);a.push(p)}else{const u=sr({...o,purchases:[...l,t],status:"active"},o);a.push(u)}}}),a.forEach(s=>{const i=this.#e.get(s.$id);i&&i.update(s)})}#Q(){return{onProductCreate:e=>{if(this.#_(e),this.#s){const t=this.#e.get(e.$id);t&&this.#s.upsertProduct(wn(t.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductUpdate:e=>{if(this.#_(e),this.#s){const t=this.#e.get(e.$id);t&&this.#s.upsertProduct(wn(t.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductDelete:e=>{this.#H(e),this.#s&&this.#s.deleteProduct(e).catch(t=>console.error("[ProductsStore] Erreur suppression produit:",t))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const t=await this.#B(e);await this.#I(t)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const t=await this.#z(e);await this.#I(t)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const t=await this.#V(e);await this.#I(t)},onConnect:()=>{h(this.#d,!0)},onDisconnect:()=>{h(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=zc(e=>{c(this.#i).searchQuery=e},()=>500);toggleProductType(e){const t=c(this.#i).selectedProductTypes.indexOf(e);t>-1?c(this.#i).selectedProductTypes.splice(t,1):c(this.#i).selectedProductTypes.push(e)}toggleTemperature(e){const t=c(this.#i).selectedTemperatures.indexOf(e);t>-1?c(this.#i).selectedTemperatures.splice(t,1):c(this.#i).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){c(this.#i).selectedProductTypes=[],c(this.#i).selectedTemperatures=[]}setGroupBy(e){c(this.#i).groupBy=e}toggleStore(e){const t=c(this.#i).selectedStores.indexOf(e);t>-1?c(this.#i).selectedStores.splice(t,1):c(this.#i).selectedStores.push(e)}toggleWho(e){const t=c(this.#i).selectedWho.indexOf(e);t>-1?c(this.#i).selectedWho.splice(t,1):c(this.#i).selectedWho.push(e)}clearStoreFilters(){c(this.#i).selectedStores=[]}clearWhoFilters(){c(this.#i).selectedWho=[]}handleSort(e){c(this.#i).sortColumn===e?c(this.#i).sortDirection=c(this.#i).sortDirection==="asc"?"desc":"asc":(c(this.#i).sortColumn=e,c(this.#i).sortDirection="asc")}clearFilters(){h(this.#i,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return c(this.#i).sortColumn?[...e].sort((t,r)=>{let a=t[c(this.#i).sortColumn],s=r[c(this.#i).sortColumn];return c(this.#i).sortColumn==="totalNeededConsolidated"?(a=parseFloat(a)||0,s=parseFloat(s)||0):c(this.#i).sortColumn==="purchases"&&(a=t.purchases?.length||0,s=r.purchases?.length||0),a<s?c(this.#i).sortDirection==="asc"?-1:1:a>s?c(this.#i).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const t=this.#e.get(e)?.data;return t?.byDate?Vc(t.byDate):!1}async forceReload(e,t){await this.clearCache(),await this.initialize(e,t)}async clearCache(){this.#e.clear(),h(this.#u,null),this.#s&&await this.#s.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,t){const r=t?"isSyncing":"active";e.forEach(a=>{const s=this.#e.get(a);if(s){const i={...s.data,status:r};s.update(i)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${r}`)}clearSyncStatus(){const e=[];for(const[t,r]of this.#e)r.status==="isSyncing"&&e.push(t);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#p?.(),this.#p=null,this.#U(),this.#s&&(this.#s.close(),this.#s=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(c(this.#n))try{const{loadOrphanPurchases:e}=await Yr(async()=>{const{loadOrphanPurchases:r}=await Promise.resolve().then(()=>Oa);return{loadOrphanPurchases:r}},void 0),t=await e(c(this.#n));t.forEach(r=>{this.#t.set(r.$id,r)}),console.log(`[ProductsStore] ${t.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#$=Z(()=>{let e=0;const t={},r={},a=[];for(const s of this.#t.values()){const i=s.invoiceTotal||s.price||0;e+=i;const o=s.store||"Non défini";t[o]=(t[o]||0)+i;const l=s.who||"Non défini";r[l]=(r[l]||0)+i,a.push(s)}for(const s of this.#e.values()){const i=s.data;if(i.purchases&&i.purchases.length>0){for(const o of i.purchases)if(o.price){e+=o.price;const l=o.store||"Non défini";t[l]=(t[l]||0)+o.price;const d=o.who||"Non défini";r[d]=(r[d]||0)+o.price;const u={...o,_productName:i.productName};a.push(u)}}}return a.sort((s,i)=>{const o=new Date(s.orderDate||s.$createdAt).getTime();return new Date(i.orderDate||i.$createdAt).getTime()-o}),{totalGlobal:e,byStore:t,byWho:r,allPurchases:a}});get financialStats(){return c(this.#$)}set financialStats(e){h(this.#$,e)}}const kl=new $l;let Zr=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function xi(n){if(!n)return[];try{return JSON.parse(n).map(t=>t.id?t:{...t,id:Zr(6)})}catch(e){return console.error("[events.utils] Error parsing meals:",e),[]}}function pa(n){if(!n)return[];try{const e=[];for(const t of n)try{const r=JSON.parse(t);e.push(r)}catch{e.push({id:t,status:"accepted",invitedAt:new Date().toISOString()})}return e}catch(e){return console.error("[events.utils] Error parsing contributors:",e),[]}}const{APPWRITE_CONFIG:tr}=fa(),qn="main";async function Cl(){try{const{tables:n}=await Ie();return{events:(await n.listRows({databaseId:tr.databaseId,tableId:qn,queries:[M.orderDesc("dateStart")]})).rows}}catch(n){throw console.error("[appwrite-events] Error listing events:",n),n}}async function ha(n){try{const{tables:e}=await Ie();return await e.getRow({databaseId:tr.databaseId,tableId:qn,rowId:n})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${n}:`,e),e}}async function ql(n,e){try{const{tables:t}=await Ie(),r=vn.unique(),a=[Te.read(ke.user(e)),Te.update(ke.user(e)),Te.delete(ke.user(e))];n.contributors&&n.contributors.forEach(i=>{i.status==="accepted"&&(a.push(Te.read(ke.user(i.id))),a.push(Te.update(ke.user(i.id))))}),n.teams&&n.teams.forEach(i=>{a.push(Te.read(ke.team(i))),a.push(Te.update(ke.team(i)))});const s=await t.createRow({databaseId:tr.databaseId,tableId:qn,rowId:r,data:{name:n.name,dateStart:n.dateStart,dateEnd:n.dateEnd,allDates:n.allDates,meals:n.meals?JSON.stringify(n.meals):[],createdBy:e,teams:n.teams??[],contributors:n.contributors?JSON.stringify(n.contributors):[]},permissions:a});return console.log(`[appwrite-events] Event created: ${r}`),s}catch(t){throw console.error("[appwrite-events] Error creating event:",t),t}}async function jl(n,e){try{const{tables:t}=await Ie(),r=await ha(n);if(!r)throw new Error(`Event ${n} not found`);const a={...e};e.meals&&(a.meals=JSON.stringify(e.meals)),e.contributors&&(a.contributors=JSON.stringify(e.contributors)),e.allDates&&(a.allDates=e.allDates);let s;(e.contributors||e.teams)&&(s=[Te.read(ke.user(r.createdBy)),Te.update(ke.user(r.createdBy)),Te.delete(ke.user(r.createdBy))],(e.teams??r.teams??[]).forEach(d=>{s.push(Te.read(ke.team(d))),s.push(Te.update(ke.team(d)))}),(e.contributors?e.contributors:pa(r.contributors)).forEach(d=>{d.status==="accepted"&&(s.push(Te.read(ke.user(d.id))),s.push(Te.update(ke.user(d.id))))}));const i=await t.updateRow({databaseId:tr.databaseId,tableId:qn,rowId:n,data:a,permissions:s});return console.log(`[appwrite-events] Event updated: ${n}`),i}catch(t){throw console.error(`[appwrite-events] Error updating event ${n}:`,t),t}}async function Nl(n){try{const{tables:e}=await Ie();await e.deleteRow({databaseId:tr.databaseId,tableId:qn,rowId:n}),console.log(`[appwrite-events] Event deleted: ${n}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${n}:`,e),e}}async function Ll(n,e,t){const{config:r}=await Ie(),a=`databases.${r.databaseId}.collections.${qn}.documents`;return pi([a],async s=>{const i=s.payload;if(!(i.createdBy===n||i.contributors?.includes(n)||i.teams?.some(d=>e.includes(d))))return;let l="update";s.events.some(d=>d.includes(".create"))?l="create":s.events.some(d=>d.includes(".delete"))&&(l="delete"),t(i,l)})}class Ul{#e=new Yt;#t=R(!1);#n=R(null);#a=R(!1);#o=null;#c=[];#r=null;get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#a)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}async initialize(){if(c(this.#a)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!me.isAuthenticated)throw new Error("Utilisateur non connecté");this.#o=me.userId,this.#c=me.userTeams,await this.#l(),this.#u(),h(this.#a,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,t,!0),console.error("[EventsStore]",t,e),e}finally{h(this.#t,!1)}}async#l(){try{console.log("[EventsStore] Chargement des événements...");const{events:e}=await Cl();e.forEach(t=>{this.#e.set(t.$id,this.#d(t))}),console.log(`[EventsStore] ${e.length} événements chargés`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#d(e){return{...e,meals:xi(e.meals),contributors:pa(e.contributors)}}#u(){try{this.#r=()=>{Ll(this.#o,this.#c,(e,t)=>{console.log(`[EventsStore] Realtime: ${t} pour ${e.$id}`),t==="create"||t==="update"?this.#e.set(e.$id,this.#d(e)):t==="delete"&&this.#e.delete(e.$id)}),console.log("[EventsStore] Realtime activé")}}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const t=await ha(e);if(t){const r=this.#d(t);return this.#e.set(e,r),r}return null}catch(t){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,t),null}}getEventsByDateRange(e,t){return this.events.filter(r=>r.dateStart&&r.dateEnd&&r.dateStart>=e&&r.dateEnd<=t)}canEditEvent(e){if(!this.#o)return!1;const t=this.#e.get(e);return t?!!(t.createdBy===this.#o||t.teams?.some(r=>this.#c.includes(r))||t.contributors&&t.contributors.some(r=>r.id===this.#o&&r.status==="accepted")):!1}async createEvent(e){try{if(!me.userId)throw new Error("Utilisateur non connecté");const t=await ql(e,me.userId),r=this.#d(t);return this.#e.set(t.$id,r),console.log(`[EventsStore] Événement créé: ${t.$id}`),r}catch(t){throw console.error("[EventsStore] Erreur création:",t),t}}async updateEvent(e,t){try{const r=await jl(e,t),a=this.#d(r);return this.#e.set(e,a),console.log(`[EventsStore] Événement mis à jour: ${e}`),a}catch(r){throw console.error(`[EventsStore] Erreur mise à jour ${e}:`,r),r}}async deleteEvent(e){try{await Nl(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(t){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,t),t}}getContributors(e){const t=this.#e.get(e);return t?t.contributors:[]}async addContributor(e,t,r){try{const a=this.#e.get(e);if(!a)throw new Error("Événement introuvable");const s=[...a.contributors];if(s.some(u=>u.email===t||u.id===t))return console.log(`[EventsStore] Contributeur déjà présent: ${t}`),a;const{checkUserEmails:i,inviteToEvent:o}=await Yr(async()=>{const{checkUserEmails:u,inviteToEvent:p}=await import("./appwrite-functions.js");return{checkUserEmails:u,inviteToEvent:p}},[]),d=(await i([t]))[t];if(d){const u={id:d.id,email:t,name:d.name,status:"invited",invitedAt:new Date().toISOString()};return s.push(u),await this.updateEvent(e,{contributors:s})}else await o(e,a.name,[t])}catch(a){throw console.error("[EventsStore] Erreur ajout contributeur:",a),a}}async addContributorFromKteam(e,t,r,a){try{const s=this.#e.get(e);if(!s)throw new Error("Événement introuvable");const i=[...s.contributors];if(i.some(l=>l.id===t||r&&l.email===r))return console.log(`[EventsStore] Contributeur KTeam déjà présent: ${t}`),s;const o={id:t,email:r,name:a,status:"accepted",invitedAt:new Date().toISOString(),respondedAt:new Date().toISOString()};return i.push(o),await this.updateEvent(e,{contributors:i})}catch(s){throw console.error("[EventsStore] Erreur ajout contributeur KTeam:",s),s}}async removeContributor(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=r.contributors.filter(s=>s.id!==t&&s.email!==t);return r.contributors.length===a.length?r:await this.updateEvent(e,{contributors:a})}catch(r){throw console.error("[EventsStore] Erreur suppression contributeur:",r),r}}async updateContributorStatus(e,t,r){try{const a=this.#e.get(e);if(!a)throw new Error("Événement introuvable");const s=[...a.contributors],i=s.findIndex(o=>o.id===t||o.email===t);if(i===-1)throw new Error("Contributeur introuvable");return s[i]={...s[i],status:r,respondedAt:new Date().toISOString()},await this.updateEvent(e,{contributors:s})}catch(a){throw console.error("[EventsStore] Erreur maj statut:",a),a}}getMeals(e){const t=this.#e.get(e);return t?t.meals:[]}async addMeal(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=[...r.meals,t];return await this.updateEvent(e,{meals:a})}catch(r){throw console.error("[EventsStore] Erreur ajout meal:",r),r}}async updateMeal(e,t,r){try{const a=this.#e.get(e);if(!a)throw new Error("Événement introuvable");const s=[...a.meals];if(t<0||t>=s.length)throw new Error("Index invalide");return s[t]=r,await this.updateEvent(e,{meals:s})}catch(a){throw console.error("[EventsStore] Erreur maj meal:",a),a}}async deleteMeal(e,t){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const a=[...r.meals];if(t<0||t>=a.length)throw new Error("Index invalide");return a.splice(t,1),await this.updateEvent(e,{meals:a})}catch(r){throw console.error("[EventsStore] Erreur suppression meal:",r),r}}calculateScaleFactor(e,t){return e/t}async reload(){console.log("[EventsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#l(),console.log("[EventsStore] Rechargement complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,t,!0),console.error("[EventsStore]",t,e),e}finally{h(this.#t,!1)}}destroy(){this.#r&&(this.#r(),this.#r=null),this.#e.clear(),h(this.#a,!1),console.log("[EventsStore] Ressources nettoyées")}}const kt=new Ul;class Hl{#e=new Yt;#t=R(!1);#n=R(null);#a=R(!1);get loading(){return c(this.#t)}get error(){return c(this.#n)}get isInitialized(){return c(this.#a)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}async initialize(){if(c(this.#a)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!me.userId){console.log("[TeamsStore] Utilisateur non connecté"),h(this.#a,!0);return}await this.#o(),h(this.#a,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,t,!0),console.error("[TeamsStore]",t,e),e}finally{h(this.#t,!1)}}async#o(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await Ei();for(const t of e.teams)try{const r=t.members.map(i=>{try{return JSON.parse(i)}catch{return{id:"unknown",name:i.split("@")[0]||i,role:"member",joinedAt:new Date().toISOString()}}}),a=t.invited?t.invited.map(i=>{try{return JSON.parse(i)}catch{return{email:i,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],s={...t,members:r,invited:a};this.#e.set(t.$id,s)}catch(r){console.error(`[TeamsStore] Erreur lors du parsing de l'équipe ${t.$id}:`,r)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const t=await Pr(e);if(t){const r=t.members.map(i=>{try{return JSON.parse(i)}catch{return{id:"unknown",name:i.split("@")[0]||i,role:"member",joinedAt:new Date().toISOString()}}}),a=t.invited?t.invited.map(i=>{try{return JSON.parse(i)}catch{return{email:i,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],s={...t,members:r,invited:a};return this.#e.set(e,s),s}return null}catch(t){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,t),null}}async isMemberOf(e){return await Pl(e)}getTeamMembers(e){return this.#e.get(e)?.members}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async createTeam(e,t){if(!me.userId)throw new Error("Utilisateur non connecté");try{const r=await Il(e,t),a=JSON.parse(r.members[0]),s={...r,members:[a],invited:[]};return this.#e.set(r.$id,s),console.log(`[TeamsStore] Équipe créée: ${r.$id}`),s}catch(r){throw console.error("[TeamsStore] Erreur lors de la création:",r),r}}async updateTeam(e,t,r){try{const a=await Sl(e,t,r),s=this.#e.get(e);let i=[],o=[];s?(i=s.members,o=s.invited):(i=a.members.map(d=>JSON.parse(d)),o=a.invited?a.invited.map(d=>JSON.parse(d)):[]);const l={...a,members:i,invited:o};return this.#e.set(e,l),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),l}catch(a){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,a),a}}async deleteTeam(e){try{await El(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(t){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,t),t}}async inviteTeamMember(e,t,r){try{const a=await xl(e,t,r);if(await this.fetchTeam(e),a.emailResults&&a.emailResults?.failed>0){const s=a.emailResults.failed,i=a.emailResults.sent;throw console.warn(`[TeamsStore] ${s}/${s+i} invitations n'ont pas pu être envoyées`),new Error(`${a.processed} invitations traitées, mais ${s} emails n'ont pas pu être envoyés. Vérifiez les adresses email et réessayez.`)}else console.log(`[TeamsStore] ${a.processed} membres invités dans ${e}`)}catch(a){throw console.error("[TeamsStore] Erreur lors de l'invitation:",a),a}}async addMember(e,t,r){try{await Ai(e,t,r),await this.fetchTeam(e),console.log(`[TeamsStore] Membre ajouté à ${e}: ${t}`)}catch(a){throw console.error("[TeamsStore] Erreur lors de l'ajout du membre:",a),a}}async removeMember(e,t){try{await Al(e,t),await this.fetchTeam(e),console.log(`[TeamsStore] Membre supprimé de ${e}: ${t}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",r),r}}async acceptTeamInvitation(e){try{if(!me.userId)throw new Error("Utilisateur non connecté");await Tl(me.userId,e),await this.fetchTeam(e),console.log(`[TeamsStore] Invitation acceptée pour l'équipe: ${e}`)}catch(t){throw console.error("[TeamsStore] Erreur lors de l'acceptation:",t),t}}async declineTeamInvitation(e){console.warn("[TeamsStore] declineTeamInvitation non implémenté")}async reload(){console.log("[TeamsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#o(),console.log("[TeamsStore] Rechargement complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,t,!0),console.error("[TeamsStore]",t,e),e}finally{h(this.#t,!1)}}destroy(){this.#e.clear(),h(this.#a,!1),console.log("[TeamsStore] Ressources nettoyées")}}const Je=new Hl;class Bl{dbName="recipes-cache";db=null;version=1;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(s.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),s.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(s.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),s.objectStoreNames.contains(this.METADATA_STORE)||(s.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.u,o)}),console.log(`[RecipesIDBCache] ${i.size} recettes (index) chargées`),e(i)},s.onerror=()=>t(s.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),s=a.objectStore(this.RECIPES_INDEX_STORE);s.clear(),e.forEach(i=>{s.put(i)}),a.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),t()},a.onerror=()=>r(a.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);i.onsuccess=()=>{const o=i.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),t(o||null)},i.onerror=()=>r(i.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);i.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),t()},i.onerror=()=>r(i.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();s.onsuccess=()=>{const i=new Map;s.result.forEach(o=>{i.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${i.size} détails de recettes chargés`),e(i)},s.onerror=()=>t(s.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const s=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();s.onsuccess=()=>{const i=s.result,o={lastSync:null,indexHash:null,recipesCount:0};i.forEach(l=>{l.key===this.LAST_SYNC_KEY?o.lastSync=l.value:l.key===this.INDEX_HASH_KEY?o.indexHash=l.value:l.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=l.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},s.onerror=()=>t(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite"),s=a.objectStore(this.METADATA_STORE);s.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),s.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),s.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),a.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),t()},a.onerror=()=>r(a.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((t,r)=>{const i=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});i.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),t()},i.onerror=()=>r(i.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,t)=>{const r=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.RECIPES_INDEX_STORE).clear(),r.objectStore(this.RECIPES_DETAILS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},r.onerror=()=>t(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function zl(){const n=new Bl;return await n.open(),n}function Vl(n){if(!Array.isArray(n)||n.length<8)throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(n)}`);return{uuid:n[0],originalQuantity:n[1],originalUnit:n[2],normalizedQuantity:n[3],normalizedUnit:n[4],comment:n[5]||"",allergens:Array.isArray(n[6])?n[6]:[],type:n[7]||""}}function Wl(n){if(!n||typeof n!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(n.ingredients)&&n.ingredients.forEach(t=>{try{e.push(Vl(t))}catch(r){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",r)}}),{uuid:n.uuid||"",title:n.title||"",plate:n.plate||1,ingredients:e,preparation:n.preparation||""}}const jn="recettes";async function ns(){try{const{tables:n,config:e}=await Ie(),t=[M.equal("isPublished",!1)];return(await n.listRows({databaseId:e.databaseId,tableId:jn,queries:t})).rows}catch(n){throw console.error("[appwrite-recipes] Error listing all recipes:",n),n}}async function rs(n){try{const{tables:e,config:t}=await Ie();return await e.getRow({databaseId:t.databaseId,tableId:jn,rowId:n})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${n}:`,e),e}}async function Ql(n,e){try{const{tables:t,config:r}=await Ie(),a=vn.unique(),s=[Te.read(ke.user(e)),Te.update(ke.user(e)),Te.delete(ke.user(e))];n.contributors&&n.contributors.forEach(o=>{s.push(Te.read(ke.user(o))),s.push(Te.update(ke.user(o)))}),n.teams&&n.teams.forEach(o=>{s.push(Te.read(ke.team(o))),s.push(Te.update(ke.team(o)))});const i=await t.createRow({databaseId:r.databaseId,tableId:jn,rowId:a,data:{title:n.title,plate:n.plate,ingredients:n.ingredients,preparation:n.preparation,draft:n.draft??!0,typeR:n.typeR,categories:n.categories??[],regime:n.regime??[],isPublished:!1,createdBy:e,teams:n.teams??[],contributors:n.contributors??[]},permissions:s});return console.log(`[appwrite-recipes] Recipe created: ${a}`),i}catch(t){throw console.error("[appwrite-recipes] Error creating recipe:",t),t}}async function Ri(n,e){try{const{tables:t,config:r}=await Ie(),a=await t.updateRow({databaseId:r.databaseId,tableId:jn,rowId:n,data:e});return console.log(`[appwrite-recipes] Recipe updated: ${n}`),a}catch(t){throw console.error(`[appwrite-recipes] Error updating recipe ${n}:`,t),t}}async function Gl(n){try{const{tables:e,config:t}=await Ie();await e.deleteRow({databaseId:t.databaseId,tableId:jn,rowId:n}),console.log(`[appwrite-recipes] Recipe deleted: ${n}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${n}:`,e),e}}async function Kl(n,e){return await Ri(n,{isPublished:!0,publishedAt:new Date().toISOString()})}function Jl(n,e,t){const a=`databases.${fa().APPWRITE_CONFIG.databaseId}.collections.${jn}.documents`;return pi([a],s=>{const i=s.payload;if(!(i.createdBy===n||i.contributors?.includes(n)||i.teams?.some(d=>e.includes(d))))return;let l="update";s.events.some(d=>d.includes(".create"))?l="create":s.events.some(d=>d.includes(".delete"))&&(l="delete"),t(i,l)})}const Yl="/api/data.json";class Xl{#e=new Yt;#t=new Yt;#n=R(!1);#a=R(null);#o=R(null);#c=R(!1);#r=null;#l=new Set;#d=null;get loading(){return c(this.#n)}get error(){return c(this.#a)}get lastSync(){return c(this.#o)}get isInitialized(){return c(this.#c)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(c(this.#c)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),h(this.#n,!0),h(this.#a,null);try{this.#r=await zl();const e=await this.#r.loadRecipesIndex(),t=await this.#r.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new Yt(e),h(this.#o,t.lastSync,!0)),await this.#u(),me.userId&&await this.#s(),me.userId&&await this.#p(),me.userId&&this.#h(),h(this.#c,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#w()} published, ${this.#m()} non-published)`)}catch(e){const t=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#a,t,!0),console.error("[RecipesStore]",t,e),e}finally{h(this.#n,!1)}}async#u(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(Yl);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const r=(await e.json()).recipes;if(!Array.isArray(r))throw new Error("Format de données invalide: recipes n'est pas un tableau");const a=await this.#f(JSON.stringify(r));if((await this.#r.loadMetadata()).indexHash===a){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const i=new Map;r.forEach(o=>{i.set(o.u,o)}),this.#e=new Yt(i),h(this.#o,new Date().toISOString(),!0),this.#r&&(await this.#r.saveRecipesIndex(i),await this.#r.saveMetadata({lastSync:c(this.#o),indexHash:a,recipesCount:i.size})),console.log(`[RecipesStore] ${i.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}async#s(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await ns();let t=0;for(const r of e)this.#e.has(r.$id)&&(await Kl(r.$id),t++);t>0&&console.log(`[RecipesStore] ${t} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#p(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await ns();e.forEach(t=>{this.#e.set(t.$id,{u:t.$id,n:t.title,t:t.typeR,p:null,plates:t.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#h(){try{this.#d=Jl(me.userId,me.userTeams,(e,t)=>{console.log(`[RecipesStore] Realtime: ${t} pour ${e.$id}`),t==="create"||t==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):t==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(e){switch(e){case"entree":return 0;case"plat":return 1;case"dessert":return 2;default:return 0}}#b(e){switch(e){case 0:return"entree";case 1:return"plat";case 2:return"dessert";default:return"plat"}}#w(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#m(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#i(e){return{uuid:e.$id,title:e.title,plate:e.plate,ingredients:JSON.parse(e.ingredients),preparation:e.preparation}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}searchRecipes(e){if(!e.trim())return this.recipesIndex;const t=e.toLowerCase();return this.recipesIndex.filter(r=>r.n.toLowerCase().includes(t))}getRecipesByType(e){return this.recipesIndex.filter(t=>t.t===e)}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(t=>e.add(t.t)),Array.from(e).sort()}async canEditRecipe(e){if(!me.userId)return!1;const t=this.#e.get(e);if(!t||t.isPublished!==!1)return!1;try{const r=await rs(e);return r?r.createdBy===me.userId||!!r.contributors?.includes(me.userId)||!!r.teams?.some(a=>me.userTeams.includes(a)):!1}catch(r){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,r),!1}}async getRecipeByUuid(e){const t=this.#t.get(e);if(t)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),t;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(r=>setTimeout(r,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#r){const s=await this.#r.loadRecipeDetail(e);if(s)return this.#t.set(e,s),s}const r=this.#e.get(e);if(!r)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let a;if(r.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${r.p}...`);const s=await fetch(r.p);if(!s.ok)throw new Error(`Erreur HTTP: ${s.status}`);const i=await s.json();a=Wl(i)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const s=await rs(e);if(!s)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;a=this.#i(s)}return this.#t.set(e,a),this.#r&&await this.#r.saveRecipeDetail(a),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),a}catch(r){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,r),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const t=e.map(r=>this.getRecipeByUuid(r));await Promise.all(t),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!me.userId)throw new Error("Utilisateur non connecté");try{const t={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:this.#b(0),categories:[],regime:[],teams:[],contributors:[]},r=await Ql(t,me.userId);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:!1}),this.#i(r)}catch(t){throw console.error("[RecipesStore] Erreur lors de la création:",t),t}}async updateRecipe(e,t){try{const r={};t.title&&(r.title=t.title),t.plate&&(r.plate=t.plate),t.ingredients&&(r.ingredients=JSON.stringify(t.ingredients)),t.preparation&&(r.preparation=t.preparation);const a=await Ri(e,r);return this.#e.set(a.$id,{u:a.$id,n:a.title,t:a.typeR,p:null,plates:a.plate,isPublished:a.isPublished}),this.#t.delete(e),this.#i(a)}catch(r){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteRecipe(e){try{await Gl(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(t){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,t),t}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),h(this.#n,!0),h(this.#a,null);try{await this.#u(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const t=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#a,t,!0),console.error("[RecipesStore]",t,e),e}finally{h(this.#n,!1)}}async clearCache(){this.#r&&(await this.#r.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),h(this.#o,null),h(this.#c,!1)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#r&&(this.#r.close(),this.#r=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),h(this.#c,!1),console.log("[RecipesStore] Ressources nettoyées")}}const va=new Xl;var Zl=T('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Ol(n,e){var t=Zl(),r=m(f(t),2),a=m(f(r),2),s=f(a);X(()=>G(s,e.message)),b(n,t)}class Fl{routes=[];#e=R("");get currentPath(){return c(this.#e)}set currentPath(e){h(this.#e,e,!0)}#t=R(Me({}));get currentParams(){return c(this.#t)}set currentParams(e){h(this.#t,e,!0)}#n=R(Me({}));get currentQuery(){return c(this.#n)}set currentQuery(e){h(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,t,r){this.routes.push({path:e,component:t,guard:r})}navigate(e,t){const r=t?"?"+new URLSearchParams(t).toString():"",a="#"+(e.startsWith("/")?e:"/"+e)+r;window.location.hash=a}async match(){for(const e of this.routes){const t=this.matchRoute(e.path,this.currentPath);if(t)return e.guard&&!await e.guard()?null:(this.currentParams=t.params,{component:e.component,params:t.params,query:this.currentQuery})}return null}matchRoute(e,t){if(e instanceof RegExp){const o=t.match(e);return o?{params:o.groups||{}}:null}const r=[],a=e.replace(/:([^/]+)/g,(o,l)=>(r.push(l),"([^/]+)")),s=new RegExp(`^${a}$`),i=t.match(s);if(i){const o={};return r.forEach((l,d)=>{o[l]=i[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const t=window.location.hash.slice(1).split("?")[1],r={};t&&new URLSearchParams(t).forEach((s,i)=>{r[i]=s}),this.currentQuery=r}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const bt=new Fl;function an(n,e){bt.navigate(n,e)}function Lr(n){return bt.query[n]}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const ed={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var td=ic("<svg><!><!></svg>");function Ee(n,e){ee(e,!0);const t=$e(e,"color",3,"currentColor"),r=$e(e,"size",3,24),a=$e(e,"strokeWidth",3,2),s=$e(e,"absoluteStrokeWidth",3,!1),i=$e(e,"iconNode",19,()=>[]),o=we(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=td();ka(l,p=>({...ed,...o,width:r(),height:r(),stroke:t(),"stroke-width":p,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(a())*24/Number(r()):a()]);var d=f(l);et(d,17,i,Yn,(p,v)=>{var g=Z(()=>Vi(c(v),2));let y=()=>c(g)[0],I=()=>c(g)[1];var _=O(),A=H(_);pc(A,y,!0,(P,E)=>{ka(P,()=>({...I()}))}),b(p,_)});var u=m(d);be(u,()=>e.children??pe),b(n,l),te()}function nd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Ee(n,Se({name:"arrow-left"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function rd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];Ee(n,Se({name:"book-open"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Gn(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];Ee(n,Se({name:"calendar"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ad(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Ee(n,Se({name:"check"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function hr(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];Ee(n,Se({name:"chef-hat"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function sd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];Ee(n,Se({name:"chevron-down"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Ti(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m9 18 6-6-6-6"}]];Ee(n,Se({name:"chevron-right"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Pi(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];Ee(n,Se({name:"circle-alert"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function id(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];Ee(n,Se({name:"circle-x"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function od(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];Ee(n,Se({name:"clock"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function cd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];Ee(n,Se({name:"cloud"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ld(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Ee(n,Se({name:"copy"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Mi(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}],["path",{d:"M5 21h14"}]];Ee(n,Se({name:"crown"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function dd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];Ee(n,Se({name:"info"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ud(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];Ee(n,Se({name:"layout-dashboard"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ma(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Ee(n,Se({name:"loader-circle"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function fd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];Ee(n,Se({name:"log-in"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Di(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Ee(n,Se({name:"log-out"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function pn(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];Ee(n,Se({name:"mail"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function as(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];Ee(n,Se({name:"moon"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function $i(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Ee(n,Se({name:"pencil-line"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function mn(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Ee(n,Se({name:"plus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function pd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Ee(n,Se({name:"save"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function hd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];Ee(n,Se({name:"search"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function vd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];Ee(n,Se({name:"settings"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ki(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]];Ee(n,Se({name:"shield"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function md(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];Ee(n,Se({name:"square-pen"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function gd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Ee(n,Se({name:"sun"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Ci(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Ee(n,Se({name:"trash-2"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function qi(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];Ee(n,Se({name:"triangle-alert"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function yd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];Ee(n,Se({name:"user-minus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function ss(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];Ee(n,Se({name:"user-plus"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function Mt(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];Ee(n,Se({name:"users"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function bd(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];Ee(n,Se({name:"utensils"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function en(n,e){ee(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=we(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Ee(n,Se({name:"x"},()=>t,{get iconNode(){return r},children:(a,s)=>{var i=O(),o=H(i);be(o,()=>e.children??pe),b(a,i)},$$slots:{default:!0}})),te()}function wd(n,e,t){c(e)||t(!1)}var _d=T('<div class="auth-message auth-message-error svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),Id=T('<div class="auth-message auth-message-success svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),Sd=T('<span class="auth-spinner svelte-o861tn"></span>'),Ed=(n,e)=>h(e,!1),Ad=T('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="forgot-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="forgot-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com"/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-back-link svelte-o861tn"><button class="auth-link-btn svelte-o861tn">← Retour à la connexion</button></div>',1),xd=T('<span class="auth-spinner svelte-o861tn"></span>'),Rd=(n,e)=>h(e,!0),Td=(n,e)=>h(e,!1),Pd=T(`<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="login-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="login-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-actions svelte-o861tn"><button class="auth-link-btn svelte-o861tn">Mot de passe oublié ?</button> <div class="auth-switch svelte-o861tn">Pas encore de compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">S'inscrire</button></div></div>`,1),Md=T('<span class="auth-spinner svelte-o861tn"></span>'),Dd=(n,e)=>h(e,!0),$d=T('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-name"><span class="auth-label-text svelte-o861tn">Nom</span></label> <input id="register-name" type="text" class="auth-input svelte-o861tn" placeholder="Votre nom" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="register-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="register-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-success auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-switch svelte-o861tn">Déjà un compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">Se connecter</button></div>',1),kd=T('<div role="dialog"><div class="auth-modal-content svelte-o861tn"><div class="auth-header svelte-o861tn"><div class="auth-title svelte-o861tn"> </div> <button class="auth-close-btn svelte-o861tn">✕</button></div> <div class="auth-body svelte-o861tn"><!> <!> <!></div></div></div>');function Cd(n,e){ee(e,!0);let t=$e(e,"isOpen",15),r=$e(e,"onAuthSuccess",3,()=>{}),a=R(!0),s=R(!1),i=R(""),o=R(""),l=R(""),d=R(""),u=R(""),p=R(""),v=R(""),g=R(""),y=R(!1);async function I(U){if(U.preventDefault(),!c(l)||!c(d)){h(i,"Veuillez remplir tous les champs");return}h(s,!0),h(i,"");try{const{account:V}=await Ie();await V.createEmailPasswordSession({email:c(l),password:c(d)}),h(o,"Connexion réussie !"),setTimeout(()=>{r()()},1e3)}catch(V){console.error("Erreur de connexion:",V),h(i,V.message||"Erreur lors de la connexion",!0)}finally{h(s,!1)}}async function _(U){if(U.preventDefault(),!c(u)||!c(p)||!c(v)){h(i,"Veuillez remplir tous les champs");return}h(s,!0),h(i,"");try{const{account:V}=await Ie();await V.create({userId:"unique()",email:c(p),password:c(v),name:c(u)}),await V.createEmailPasswordSession({email:c(p),password:c(v)}),h(o,"Compte créé et connecté !"),setTimeout(()=>{r()()},1e3)}catch(V){console.error("Erreur d'inscription:",V),h(i,V.message||"Erreur lors de la création du compte",!0)}finally{h(s,!1)}}async function A(U){if(U.preventDefault(),!c(g)){h(i,"Veuillez entrer votre email");return}h(s,!0),h(i,"");try{const{account:V}=await Ie();await V.createRecovery({email:c(g),url:`${window.location.origin}/reset-password`}),h(o,"Email de réinitialisation envoyé !"),setTimeout(()=>{h(y,!1),h(g,"")},2e3)}catch(V){console.error("Erreur mot de passe oublié:",V),h(i,V.message||"Erreur lors de l'envoi de l'email",!0)}finally{h(s,!1)}}ht(()=>{(c(a)||c(y))&&(h(i,""),h(o,""))});var P=kd(),E=f(P),D=f(E),$=f(D),S=f($),x=m($,2);x.__click=[wd,s,t];var C=m(D,2),k=f(C);{var Y=U=>{var V=_d(),ie=f(V),j=f(ie);X(()=>G(j,c(i))),b(U,V)};N(k,U=>{c(i)&&U(Y)})}var L=m(k,2);{var K=U=>{var V=Id(),ie=f(V),j=f(ie);X(()=>G(j,c(o))),b(U,V)};N(L,U=>{c(o)&&U(K)})}var le=m(L,2);{var re=U=>{var V=Ad(),ie=H(V),j=f(ie),se=m(f(j),2),de=m(j,2),ue=f(de);{var W=ne=>{var fe=Sd();b(ne,fe)},q=ne=>{var fe=cr("Envoyer l'email de réinitialisation");b(ne,fe)};N(ue,ne=>{c(s)?ne(W):ne(q,!1)})}var Q=m(ie,2),B=f(Q);B.__click=[Ed,y],X(()=>{se.disabled=c(s),de.disabled=c(s),B.disabled=c(s)}),Mr("submit",ie,A),Ve(se,()=>c(g),ne=>h(g,ne)),b(U,V)},ae=U=>{var V=O(),ie=H(V);{var j=de=>{var ue=Pd(),W=H(ue),q=f(W),Q=m(f(q),2),B=m(q,2),ne=m(f(B),2),fe=m(B,2),he=f(fe);{var Re=ce=>{var Ne=xd();b(ce,Ne)},Pe=ce=>{var Ne=cr("Se connecter");b(ce,Ne)};N(he,ce=>{c(s)?ce(Re):ce(Pe,!1)})}var Le=m(W,2),je=f(Le);je.__click=[Rd,y];var F=m(je,2),oe=m(f(F));oe.__click=[Td,a],X(()=>{Q.disabled=c(s),ne.disabled=c(s),fe.disabled=c(s),je.disabled=c(s),oe.disabled=c(s)}),Mr("submit",W,I),Ve(Q,()=>c(l),ce=>h(l,ce)),Ve(ne,()=>c(d),ce=>h(d,ce)),b(de,ue)},se=de=>{var ue=$d(),W=H(ue),q=f(W),Q=m(f(q),2),B=m(q,2),ne=m(f(B),2),fe=m(B,2),he=m(f(fe),2),Re=m(fe,2),Pe=f(Re);{var Le=ce=>{var Ne=Md();b(ce,Ne)},je=ce=>{var Ne=cr("Créer un compte");b(ce,Ne)};N(Pe,ce=>{c(s)?ce(Le):ce(je,!1)})}var F=m(W,2),oe=m(f(F));oe.__click=[Dd,a],X(()=>{Q.disabled=c(s),ne.disabled=c(s),he.disabled=c(s),Re.disabled=c(s),oe.disabled=c(s)}),Mr("submit",W,_),Ve(Q,()=>c(u),ce=>h(u,ce)),Ve(ne,()=>c(p),ce=>h(p,ce)),Ve(he,()=>c(v),ce=>h(v,ce)),b(de,ue)};N(ie,de=>{c(a)?de(j):de(se,!1)},!0)}b(U,V)};N(le,U=>{c(y)?U(re):U(ae,!1)})}X(()=>{He(P,1,`auth-modal ${(t()&&"auth-modal-open")??""}`,"svelte-o861tn"),G(S,c(y)?"Mot de passe oublié":c(a)?"Connexion":"Inscription")}),b(n,P),te()}Ze(["click"]);function qd(n,e){h(e,!c(e))}async function jd(){try{await me.logout(),window.location.href="/"}catch(n){console.error("Erreur lors de la déconnexion:",n)}}function Nd(n,e){h(e,!0),console.log("showAuthModal",c(e))}var Ld=()=>an("/"),Ud=()=>an("/teams"),Hd=()=>an("/eventEdit"),Bd=()=>an("/recipes"),zd=T('<ul class="svelte-dropdown-menu svelte-18a4s1a"><li><div class="svelte-dropdown-header svelte-18a4s1a"> </div></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Dashboard</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Équipes</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Créer un événement</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Recettes</span></button></li> <li><hr class="svelte-dropdown-divider svelte-18a4s1a"/></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Se déconnecter</span></button></li></ul>'),Vd=T('<li class="svelte-user-dropdown svelte-18a4s1a"><button class="svelte-btn-user svelte-18a4s1a" aria-label="Menu utilisateur"><div class="svelte-user-avatar svelte-18a4s1a"> </div> <svg class="svelte-dropdown-arrow svelte-18a4s1a" width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"></path></svg></button> <!></li>'),Wd=T('<li><button class="svelte-btn-login svelte-18a4s1a"><!> <span>Connexion</span></button></li>'),Qd=T('<!> <nav class="svelte-header-nav svelte-18a4s1a"><div class="svelte-nav-container svelte-18a4s1a"><a class="svelte-nav-brand svelte-18a4s1a" href="/"><img src="/favicon-96x96.png" alt="logo" class="svelte-brand-logo svelte-18a4s1a"/></a> <ul class="svelte-nav-menu svelte-18a4s1a"><li><a class="svelte-nav-link svelte-18a4s1a" href="/recettes">Recettes</a></li> <li><a class="svelte-nav-link svelte-18a4s1a" href="/evenements">Événements</a></li></ul> <ul class="svelte-nav-actions svelte-18a4s1a"><!></ul></div></nav>',1);function Gd(n,e){ee(e,!0);let t=R(!1),r=R(!1);function a(){h(t,!1)}function s(I){I.target.closest(".svelte-user-dropdown")||a()}function i(){h(r,!1)}ht(()=>{if(c(t))return document.addEventListener("click",s),()=>document.removeEventListener("click",s)});var o=Qd(),l=H(o);Cd(l,{onAuthSuccess:i,get isOpen(){return c(r)},set isOpen(I){h(r,I,!0)}});var d=m(l,2),u=f(d),p=m(f(u),4),v=f(p);{var g=I=>{var _=Vd(),A=f(_);A.__click=[qd,t];var P=f(A),E=f(P),D=m(A,2);{var $=S=>{var x=zd(),C=f(x),k=f(C),Y=f(k),L=m(C,2),K=f(L);K.__click=[Ld];var le=f(K);ud(le,{class:"svelte-dropdown-icon",size:16});var re=m(L,2),ae=f(re);ae.__click=[Ud];var U=f(ae);Mt(U,{class:"svelte-dropdown-icon",size:16});var V=m(re,2),ie=f(V);ie.__click=[Hd];var j=f(ie);Mt(j,{class:"svelte-dropdown-icon",size:16});var se=m(V,2),de=f(se);de.__click=[Bd];var ue=f(de);rd(ue,{class:"svelte-dropdown-icon",size:16});var W=m(se,4),q=f(W);q.__click=[jd];var Q=f(q);Di(Q,{class:"svelte-dropdown-icon",size:16}),X(()=>G(Y,me.user?.email||"Utilisateur")),b(S,x)};N(D,S=>{c(t)&&S($)})}X(S=>{qt(A,"aria-expanded",c(t)),G(E,S)},[()=>me.user?.name?.charAt(0).toUpperCase()||"U"]),b(I,_)},y=I=>{var _=Wd(),A=f(_);A.__click=[Nd,r];var P=f(A);fd(P,{size:16}),b(I,_)};N(v,I=>{me.isAuthenticated?I(g):I(y,!1)})}b(n,o),te()}Ze(["click"]);var Kd=(n,e,t,r)=>e(c(t),c(r)),Jd=T('<button class="btn btn-sm btn-primary"> </button>'),Yd=(n,e,t)=>e(c(t)),Xd=T('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),Zd=(n,e,t)=>e(c(t)),Od=T('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),Fd=T('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),eu=T("<div></div>");function tu(n,e){ee(e,!0);let t=$e(e,"position",3,"toast-right toast-bottom"),r=$e(e,"padding",3,"md");const a=Z(()=>r()==="sm"?"px-2 py-0.5":""),s=Z(()=>mt.toasts);function i(p){return p==="success"||p==="info"}function o(p){mt.dismiss(p.id)}function l(p){e.onShowDetails?.({id:p.id,message:p.message,details:p.details})}function d(p,v){v.onClick()}var u=eu();et(u,21,()=>c(s),p=>p.id,(p,v)=>{var g=Fd(),y=f(g),I=f(y),_=f(I);{var A=L=>{ma(L,{class:"h-5 w-5 animate-spin"})};N(_,L=>{c(v).state==="loading"&&L(A)})}var P=m(_,2),E=f(P),D=m(I,2),$=f(D);{var S=L=>{var K=O(),le=H(K);et(le,17,()=>c(v).actions,Yn,(re,ae)=>{var U=Jd();U.__click=[Kd,d,v,ae];var V=f(U);X(()=>G(V,c(ae).label)),b(re,U)}),b(L,K)};N($,L=>{c(v).actions&&c(v).actions.length>0&&L(S)})}var x=m($,2);{var C=L=>{var K=Xd();K.__click=[Yd,l,v];var le=f(K);sd(le,{class:"h-3 w-3"}),b(L,K)};N(x,L=>{c(v).details&&L(C)})}var k=m(x,2);{var Y=L=>{var K=Od();K.__click=[Zd,o,v];var le=f(K);en(le,{class:"h-4 w-4"}),b(L,K)};N(k,L=>{(c(v).state==="error"||c(v).state==="warning"||!i(c(v).state))&&L(Y)})}X(()=>{He(g,1,`alert alert-${c(v).state??""} max-w-sm ${c(a)??""} shadow-lg`),G(E,c(v).message)}),b(p,g)}),X(()=>He(u,1,`toast ${t()??""} z-50`)),b(n,u),te()}Ze(["click"]);function nu(n,e){ee(e,!0),te()}Io();function is(){an("/eventEdit")}var ru=T('<div class="flex items-center justify-center py-20"><!></div>'),au=T('<div class="alert alert-error shadow-lg"><span> </span></div>'),su=T(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun événement</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé d'événement.</p> <button class="btn btn-primary btn-sm">Créer mon premier événement</button></div>`),iu=(n,e,t)=>e(c(t).$id),ou=T('<div class="badge badge-ghost text-xs"> </div>'),cu=T('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span>-</span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="text-base-content/70 mt-auto flex flex-wrap justify-between text-sm"><div> </div> <div> </div></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Ouvrir <!></span></div></div></button>'),lu=T('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),du=T('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Événements</h1> <p class="text-base-content/60">Gérez vos menus et listes de courses</p></div> <button class="btn btn-primary"><!> Nouvel Événement</button></div> <!></div>');function os(n,e){ee(e,!1);function t(p){return p?new Date(p).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date inconnue"}function r(p){an(`/eventEdit/${p}`)}Ac();var a=du(),s=f(a),i=m(f(s),2);i.__click=[is];var o=f(i);mn(o,{class:"mr-2 h-5 w-5"});var l=m(s,2);{var d=p=>{var v=ru(),g=f(v);ma(g,{class:"text-primary h-8 w-8 animate-spin"}),b(p,v)},u=p=>{var v=O(),g=H(v);{var y=_=>{var A=au(),P=f(A),E=f(P);X(()=>G(E,kt.error)),b(_,A)},I=_=>{var A=O(),P=H(A);{var E=$=>{var S=su(),x=f(S),C=f(x);Gn(C,{class:"h-8 w-8 opacity-50"});var k=m(x,6);k.__click=[is],b($,S)},D=$=>{var S=lu();et(S,5,()=>kt.events,Yn,(x,C)=>{var k=cu();k.__click=[iu,r,C];var Y=f(k),L=f(Y),K=f(L),le=f(K),re=m(K,2);{var ae=Pe=>{var Le=ou(),je=f(Le);X(F=>G(je,F),[()=>t(c(C).dateStart)]),b(Pe,Le)};N(re,Pe=>{c(C).dateStart&&Pe(ae)})}var U=m(L,2),V=f(U),ie=f(V);Mt(ie,{class:"h-4 w-4"});var j=m(V,2),se=f(j);Gn(se,{class:"h-4 w-4"});var de=m(se,2),ue=f(de),W=m(U,2),q=f(W),Q=f(q),B=m(q,2),ne=f(B),fe=m(W,2),he=f(fe),Re=m(f(he));Ti(Re,{class:"h-4 w-4"}),X(()=>{G(le,c(C).name),G(ue,`${(c(C).allDates?.length||0)??""} jours`),G(Q,`crée le ${c(C).$createdAt??""}`),G(ne,`modifié le ${c(C).$updatedAt??""}`)}),b(x,k)}),b($,S)};N(P,$=>{kt.count===0?$(E):$(D,!1)},!0)}b(_,A)};N(g,_=>{kt.error?_(y):_(I,!1)},!0)}b(p,v)};N(l,p=>{kt.loading&&kt.count===0?p(d):p(u,!1)})}b(n,a),te()}Ze(["click"]);function uu(n){return e=>{n.shouldFocus&&requestAnimationFrame(()=>{e.focus()});const t=r=>{(r.key==="Enter"||r.key==="Tab")&&e instanceof HTMLInputElement&&e.value.trim()===""&&(r.preventDefault(),n.onEmptySubmit?.())};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}}function fu(n,e,t,r){c(e).length&&(n.key==="ArrowDown"?(n.preventDefault(),h(t,(c(t)+1)%c(e).length)):n.key==="ArrowUp"?(n.preventDefault(),h(t,c(t)<=0?c(e).length-1:c(t)-1,!0)):(n.key==="Enter"||n.key==="Tab")&&c(t)>=0&&(n.preventDefault(),r(c(e)[c(t)])))}var pu=T('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),hu=(n,e,t)=>e(c(t)),vu=T('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),mu=T('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),gu=T('<div class="mt-2"><label class="input input-accent w-full"><!> <input type="text" placeholder="Rechercher une recette..."/> <!></label> <!> <!></div>'),yu=(n,e)=>h(e,null),bu=T('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),wu=T('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function _u(n,e){ee(e,!0);let t=$e(e,"defaultPlates",3,4),r=$e(e,"autoFocus",3,!1),a=R(""),s=R(""),i=R(Me(t())),o=R(null),l=!1,d=R(-1),u=Z(()=>c(a).length>1?va.searchRecipes(c(a)).slice(0,5):[]);ht(()=>{c(u).length>0&&c(d)===-1?h(d,0):c(u).length===0&&h(d,-1)});function p(){h(o,null),h(a,""),h(s,""),h(i,t()),h(d,-1)}function v(S){h(o,S,!0);const x=S.t||"plat";h(s,c(s)?c(s):x,!0),e.onSelect(S,c(s),c(i)),p()}const g=Math.random().toString(36).slice(2);var y=wu(),I=f(y),_=f(I),A=f(_),P=f(A);mn(P,{class:"text-primary h-4 w-4"});var E=m(_,2);{var D=S=>{var x=gu(),C=f(x),k=f(C);hd(k,{class:"h-4 w-4 opacity-50"});var Y=m(k,2);Y.__keydown=[fu,u,d,v],ti(Y,()=>uu({shouldFocus:r(),onEmptySubmit:e.onEmptySubmit}));var L=m(Y,2);N(L,U=>{});var K=m(C,2);{var le=U=>{var V=pu();b(U,V)};N(K,U=>{c(a).length>1&&c(u).length===0&&U(le)})}var re=m(K,2);{var ae=U=>{var V=mu();et(V,23,()=>c(u),ie=>ie.u,(ie,j,se)=>{var de=vu(),ue=f(de);ue.__click=[hu,v,j],ue.disabled=l;var W=f(ue),q=f(W);hr(q,{class:"h-3 w-3 opacity-70"});var Q=m(W,2),B=f(Q);X(()=>{He(ue,1,`flex items-center gap-2 py-2 text-left ${c(se)===c(d)&&"ring-accent/40 ring-2"} `),G(B,c(j).n)}),b(ie,de)}),b(U,V)};N(re,U=>{c(u).length>0&&U(ae)})}Ve(Y,()=>c(a),U=>h(a,U)),b(S,x)},$=S=>{var x=bu(),C=f(x),k=f(C),Y=f(k);hr(Y,{class:"h-5 w-5"});var L=m(k,2),K=f(L),le=f(K),re=m(K,2);re.__click=[yu,o];var ae=m(C,2),U=f(ae),V=f(U),ie=m(V,2),j=f(ie);j.value=j.__value="";var se=m(j);se.value=se.__value="entree";var de=m(se);de.value=de.__value="plat";var ue=m(de);ue.value=ue.__value="dessert";var W=m(U,2),q=f(W),Q=m(q,2);X(()=>{G(le,c(o).n),qt(V,"for",`type-${g}`),qt(ie,"id",`type-${g}`),qt(q,"for",`plates-${g}`),qt(Q,"id",`plates-${g}`)}),Jr(ie,()=>c(s),B=>h(s,B)),Ve(Q,()=>c(i),B=>h(i,B)),b(S,x)};N(E,S=>{c(o)?S($,!1):S(D)})}b(n,y),te()}Ze(["keydown","click"]);function Iu(n){if(!n)return"";try{return new Date(n).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return n}}const Su=n=>n;function Ur(n,{delay:e=0,duration:t=400,easing:r=Su}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*a}`}}function Eu(n,e){return`${n}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function Au(n){return n.split("T")[0]}function cs(n){const e=parseInt(n.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function xu(n){const e=n-1;return e*e*e+1}function ji(n,{from:e,to:t},r={}){var{delay:a=0,duration:s=S=>Math.sqrt(S)*120,easing:i=xu}=r,o=getComputedStyle(n),l=o.transform==="none"?"":o.transform,[d,u]=o.transformOrigin.split(" ").map(parseFloat);d/=n.clientWidth,u/=n.clientHeight;var p=Ru(n),v=n.clientWidth/t.width/p,g=n.clientHeight/t.height/p,y=e.left+e.width*d,I=e.top+e.height*u,_=t.left+t.width*d,A=t.top+t.height*u,P=(y-_)*v,E=(I-A)*g,D=e.width/t.width,$=e.height/t.height;return{delay:a,duration:typeof s=="function"?s(Math.sqrt(P*P+E*E)):s,easing:i,css:(S,x)=>{var C=x*P,k=x*E,Y=S+x*D,L=S+x*$;return`transform: ${l} translate(${C}px, ${k}px) scale(${Y}, ${L});`}}}function Ru(n){if("currentCSSZoom"in n)return n.currentCSSZoom;for(var e=n,t=1;e!==null;)t*=+getComputedStyle(e).zoom,e=e.parentElement;return t}var Tu=(n,e,t)=>{(n.key==="Enter"||n.key===" ")&&!e()&&t()},Pu=(n,e)=>{e(!1)},Mu=T(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),Du=(n,e,t)=>{e(!0),t.onEditToggle&&t.onEditToggle()},$u=T('<button class="btn btn-ghost" title="Éditer"><!></button>'),ku=T('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Cu=(n,e,t)=>e(c(t).recipeUuid),qu=T('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),ju=T('<div class="mb-4 space-y-2"></div>'),Nu=T('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Lu=T('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),Uu=T('<div class="flex flex-wrap gap-2"></div>'),Hu=T('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),Bu=T('<div class="space-y-2"><!></div>'),zu=T('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function Vu(n,e){ee(e,!0);let t=$e(e,"meal",15),r=$e(e,"defaultGuests",3,100),a=$e(e,"isEditing",15,!1),s=$e(e,"allDates",19,()=>[]),i=R(!1);t().guests||t(t().guests=r(),!0),t().recipes||t(t().recipes=[],!0);let o=Z(()=>cs(t().date||"")),l=R(!1),d=R(Me(Au(t().date||""))),u=R(Me(cs(t().date||""))),p=Z(()=>Eu(c(d),c(u)));ht(()=>{const q=!v(c(p)),Q=t().date;q?(t(t().date=c(p),!0),h(l,!1),e.onDateChanged&&t().id&&Q!==c(p)&&e.onDateChanged(t().id,c(p)),h(l,!1)):h(l,!0)});function v(q){const Q=t().date||"";return s().some(B=>B!==Q&&B===q)}const g=Z(()=>{const q=c(o)||"";return q==="matin"?cd:q==="midi"?gd:as}),y=Z(()=>{const q={entree:1,plat:2,dessert:3};return[...t().recipes].sort((Q,B)=>{const ne=q[Q.type]||999,fe=q[B.type]||999;return ne-fe})});function I(q,Q,B){if(t().recipes.some(Re=>Re.recipeUuid===q.u))return;const fe=B||t().guests,he={recipeUuid:q.u,plates:fe,type:Q};t(t().recipes=[...t().recipes,{...he}],!0)}function _(q){t(t().recipes=t().recipes.filter(Q=>Q.recipeUuid!==q),!0)}function A(q){return va.getRecipeIndexByUuid(q)}function P(){!a()&&e.onEditToggle&&(e.onEditToggle(),h(i,!0))}ht(()=>{a()&&(h(i,!0),setTimeout(()=>{h(i,!1)},100))});function E(q){return q==="entree"?"bg-lime-100 border-lime-200":q==="plat"?"bg-orange-100 border-orange-200":q==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var D=zu();D.__click=P,D.__keydown=[Tu,a,P];var $=f(D),S=f($),x=f(S),C=f(x),k=f(C),Y=m(C,2),L=f(Y);Cn(L,()=>c(g),(q,Q)=>{Q(q,{size:16})});var K=m(L,2),le=f(K),re=m(Y,2),ae=f(re);Mt(ae,{class:"h-3 w-3"});var U=m(ae),V=m(x,2),ie=f(V);{var j=q=>{var Q=Mu(),B=H(Q);B.__click=[Pu,a];var ne=m(B,2);ne.__click=function(...Pe){e.onDuplicate?.apply(this,Pe)};var fe=f(ne);ld(fe,{class:"h-4 w-4"});var he=m(ne,2);he.__click=function(...Pe){e.onDelete?.apply(this,Pe)};var Re=f(he);Ci(Re,{class:"h-4 w-4"}),b(q,Q)},se=q=>{var Q=$u();Q.__click=[Du,a,e];var B=f(Q);$i(B,{class:"h-4 w-4"}),b(q,Q)};N(ie,q=>{a()?q(j):q(se,!1)})}var de=m(S,2);{var ue=q=>{var Q=Nu(),B=f(Q),ne=f(B),fe=m(f(ne),2),he=m(fe,2);{var Re=J=>{var xe=ku();b(J,xe)};N(he,J=>{c(l)&&J(Re)})}var Pe=m(ne,2),Le=m(f(Pe),2),je=f(Le);je.value=je.__value="";var F=m(je);F.value=F.__value="matin";var oe=m(F);oe.value=oe.__value="midi";var ce=m(oe);ce.value=ce.__value="soir";var Ne=m(Pe,2),nt=m(f(Ne),2),Ce=m(B,2),at=f(Ce),Wt=f(at),sn=f(Wt);bd(sn,{class:"h-4 w-4"});var Qt=m(at,2);{var ut=J=>{var xe=ju();et(xe,31,()=>c(y),ve=>ve.recipeUuid,(ve,Ae,Ue)=>{const Ye=Z(()=>A(c(Ae).recipeUuid));var Qe=qu(),st=f(Qe),Oe=f(st),_e=f(Oe);hr(_e,{class:"h-5 w-5"});var qe=m(Oe,2),Xe=f(qe),Be=f(Xe),Ge=m(st,2),ze=f(Ge),It=f(ze);It.value=It.__value="entree";var $t=m(It);$t.value=$t.__value="plat";var Gt=m($t);Gt.value=Gt.__value="dessert";var Kt=m(ze,2),Li=f(Kt),ga=m(Kt,2);ga.__click=[Cu,_,Ae];var Ui=f(ga);en(Ui,{class:"h-4 w-4"}),X(Nn=>{He(Oe,1,`${Nn??""} rounded-md border-2 p-2`),G(Be,c(Ye)?.n||"Recette inconnue")},[()=>E(c(Ae).type)]),Jr(ze,()=>c(Ae).type,Nn=>c(Ae).type=Nn),Ve(Li,()=>c(Ae).plates,Nn=>c(Ae).plates=Nn),ci(Qe,()=>ji,()=>({duration:200})),b(ve,Qe)}),b(J,xe)};N(Qt,J=>{t().recipes.length>=1&&J(ut)})}var z=m(Qt,2);_u(z,{onSelect:I,get defaultPlates(){return t().guests},get autoFocus(){return c(i)},get onEmptySubmit(){return e.onEmptySearchSubmit}}),X(()=>{He(fe,1,`input input-bordered w-full ${c(l)?"input-error":""}`),He(Le,1,`select select-bordered w-full ${c(l)?"select-error":""}`)}),Ve(fe,()=>c(d),J=>h(d,J)),Jr(Le,()=>c(u),J=>h(u,J)),Ve(nt,()=>t().guests,J=>t(t().guests=J,!0)),b(q,Q)},W=q=>{var Q=Bu(),B=f(Q);{var ne=he=>{var Re=Uu();et(Re,21,()=>c(y),Pe=>Pe.recipeUuid,(Pe,Le)=>{const je=Z(()=>A(c(Le).recipeUuid));var F=Lu(),oe=f(F);hr(oe,{class:"h-4 w-4"});var ce=m(oe,2),Ne=f(ce),nt=m(ce,2),Ce=f(nt);X(at=>{He(F,1,`badge badge-lg ${at??""} h-auto gap-2 py-1 font-medium`),G(Ne,c(je)?.n||"..."),G(Ce,`${(c(Le).plates||t().guests)??""}p`)},[()=>E(c(Le).type)]),b(Pe,F)}),b(he,Re)},fe=he=>{var Re=Hu();b(he,Re)};N(B,he=>{c(y).length>0?he(ne):he(fe,!1)})}b(q,Q)};N(de,q=>{a()?q(ue):q(W,!1)})}X((q,Q)=>{He(D,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${a()?"ring-accent/40 ring-2":""} ${a()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"}`),qt(D,"tabindex",a()?-1:0),G(k,q),G(le,Q),G(U,` ${t().guests??""} pers.`)},[()=>t().date?Iu(t().date):"Date non définie",()=>c(o)?c(o).toUpperCase():"REPAS"]),b(n,D),te()}Ze(["click","keydown"]);function Wu(n,e,t,r){c(e)&&(t(t().filter(a=>a!==c(e))),h(e,null)),h(r,!1)}function Qu(n,e,t,r){c(e)&&(t(t().filter(a=>parseContributor(a).id!==c(e).id)),h(e,null)),h(r,!1)}var Gu=(n,e)=>h(e,!0),Ku=(n,e,t)=>e(c(t).$id),Ju=(n,e,t)=>e(c(t).$id),Yu=T('<button class="btn btn-ghost btn-xs btn-circle" title="Retirer cette équipe"><!></button>'),Xu=T('<div class="border-base-200 hover:bg-base-200/50 flex items-center justify-between rounded-lg border p-2 transition-colors"><label class="flex grow cursor-pointer items-center gap-3"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span> </span></label> <!></div>'),Zu=T('<p class="text-base-content/60 text-xs italic">Aucune équipe disponible</p>'),Ou=(n,e,t)=>e(c(t).id,c(t).name,c(t).email,c(t).teamId),Fu=T('<button class="badge badge-outline badge-lg h-auto gap-1 py-1" title="Ajouter comme contributeur"><!> </button>'),ef=T('<div class="mb-3"><p class="mb-2 text-sm font-medium">Membres des équipes sélectionnées</p> <div class="flex flex-wrap gap-2"></div></div>'),tf=(n,e)=>n.key==="Enter"&&e(),nf=T('<span class="loading loading-spinner loading-xs"></span>'),rf=T('<div class="alert alert-error mt-2 py-2 text-xs"><!> </div>'),af=(n,e,t)=>e(c(t)),sf=T('<div><!> <button class="btn btn-ghost btn-xs btn-circle h-4 min-h-0 w-4" title="Retirer ce contributeur"><!></button></div>'),of=T('<p class="text-base-content/60 text-xs italic">Aucun contributeur ajouté</p>'),cf=(n,e)=>h(e,!1),lf=T(`<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4">Êtes-vous sûr de vouloir retirer cette équipe des permissions ? Les
        membres de cette équipe ne pourront plus accéder à cet événement.</p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>`),df=(n,e)=>h(e,!1),uf=T('<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>'),ff=(n,e,t)=>e(c(t).$id),pf=T('<label class="border-base-200 flex cursor-pointer items-center gap-3 rounded-lg border p-2"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <div class="grow"><div class="font-medium"> </div> <div class="text-base-content/60 text-xs"> </div></div></label>'),hf=T(`<p class="text-base-content/60 text-xs italic">Vous n'avez accès à aucune équipe.</p>`),vf=(n,e)=>h(e,!1),mf=T('<div class="modal modal-open"><div class="modal-box max-w-md"><h3 class="text-lg font-bold">Gérer les équipes</h3> <div class="py-4"><div class="flex flex-col gap-2"><!> <!></div></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div></div></div>'),gf=T('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Permissions</h3> <fieldset class="fieldset"><div class="flex items-center justify-between"><legend class="fieldset-legend">Équipes</legend> <button class="btn btn-ghost btn-xs"><!> Gérer</button></div> <div class="flex flex-col gap-2"><!> <!></div></fieldset> <div class="divider my-2"></div> <fieldset class="fieldset"><legend class="fieldset-legend">Contributeurs</legend> <!> <fieldset class="fieldset mb-3"><legend class="legend">Inviter par email</legend> <label class="input validator flex gap-2"><!> <input type="email" placeholder="email@exemple.com" class="input input-sm w-full"/> <button class="btn btn-sm btn-primary"><!> Inviter</button></label> <div class="validator-hint hidden">email invalide</div> <!></fieldset> <div class="mb-3"><p class="mb-2 text-sm font-medium"> </p> <div class="flex flex-wrap gap-2"><!> <!></div></div></fieldset></div></div> <!> <!> <!>',1);function yf(n,e){ee(e,!0);let t=Z(()=>{const z=[];if(a()&&a().length>0)for(const J of a())z.push(parseContributor(J));return z}),r=$e(e,"selectedTeams",31,()=>Me([])),a=$e(e,"contributors",31,()=>Me([])),s=$e(e,"userId",3,"");$e(e,"userTeams",19,()=>[]);let i=$e(e,"eventId",3,""),o=R(!1),l=R(!1),d=R(!1),u=R(null),p=R(null),v=R(""),g=R(!1),y=R(null),I=Z(()=>{const z=new Map;for(const J of r()){const xe=e.teamsStore.getTeamById(J);if(xe&&xe.members)for(const ve of xe.members.memberships)ve.userId!==s()&&!c(t).some(Ae=>Ae.id===ve.userId)&&z.set(ve.userId,{id:ve.userId,name:ve.userName,email:ve.userEmail,teamId:J})}return z}),_=Z(()=>Array.from(c(I).values()));function A(z){r().includes(z)?r(r().filter(J=>J!==z)):r([...r(),z])}function P(z){h(u,z,!0),h(l,!0)}function E(z,J,xe,ve){if(c(t).some(Ue=>Ue.id===z))return;const Ae={id:z,name:J,email:xe,status:"accepted",invitedAt:new Date().toISOString(),teamId:ve};a([...a(),stringifyContributor(Ae)])}async function D(){if(!c(v)){h(y,"Veuillez entrer une adresse email valide");return}if(!i()){h(y,"ID d'événement manquant pour l'invitation");return}if(c(t).some(z=>z.email===c(v))){h(y,"Cet email a déjà été invité");return}h(g,!0),h(y,null);try{const z=createTempContributor(c(v),i());await inviteContributorToEvent(c(v),i(),s()),a([...a(),stringifyContributor(z)]),h(v,"")}catch(z){console.error("Erreur lors de l'invitation:",z),h(y,"Erreur lors de l'envoi de l'invitation")}finally{h(g,!1)}}function $(z){h(p,z,!0),h(d,!0)}var S=gf(),x=H(S),C=f(x),k=f(C),Y=f(k);Mt(Y,{class:"text-secondary h-5 w-5"});var L=m(k,2),K=f(L),le=m(f(K),2);le.__click=[Gu,o];var re=f(le);md(re,{class:"mr-1 h-3 w-3"});var ae=m(K,2),U=f(ae);et(U,17,()=>e.teamsStore.teams,Yn,(z,J)=>{var xe=Xu(),ve=f(xe),Ae=f(ve);Ae.__change=[Ku,A,J];var Ue=m(Ae,2),Ye=f(Ue),Qe=m(ve,2);{var st=Oe=>{var _e=Yu();_e.__click=[Ju,P,J];var qe=f(_e);en(qe,{class:"h-3 w-3"}),b(Oe,_e)};N(Qe,Oe=>{r().includes(c(J).$id)&&Oe(st)})}X(Oe=>{$a(Ae,Oe),G(Ye,c(J).name)},[()=>r().includes(c(J).$id)]),b(z,xe)});var V=m(U,2);{var ie=z=>{var J=Zu();b(z,J)};N(V,z=>{e.teamsStore.teams.length===0&&z(ie)})}var j=m(L,4),se=m(f(j),2);{var de=z=>{var J=ef(),xe=m(f(J),2);et(xe,21,()=>c(_),ve=>ve.name,(ve,Ae)=>{var Ue=Fu();Ue.__click=[Ou,E,Ae];var Ye=f(Ue);mn(Ye,{class:"h-3 w-3"});var Qe=m(Ye);X(()=>G(Qe,` ${c(Ae).name??""}`)),b(ve,Ue)}),b(z,J)};N(se,z=>{c(_).length>0&&z(de)})}var ue=m(se,2),W=m(f(ue),2),q=f(W);pn(q,{class:"h-4 w-4 opacity-50"});var Q=m(q,2);Q.__keydown=[tf,D];var B=m(Q,2);B.__click=D;var ne=f(B);{var fe=z=>{var J=nf();b(z,J)},he=z=>{pn(z,{class:"h-4 w-4"})};N(ne,z=>{c(g)?z(fe):z(he,!1)})}var Re=m(W,4);{var Pe=z=>{var J=rf(),xe=f(J);Pi(xe,{class:"h-3 w-3"});var ve=m(xe);X(()=>G(ve,` ${c(y)??""}`)),b(z,J)};N(Re,z=>{c(y)&&z(Pe)})}var Le=m(ue,2),je=f(Le),F=f(je),oe=m(je,2),ce=f(oe);et(ce,17,()=>c(t),z=>z.id,(z,J)=>{var xe=sf();let ve;var Ae=f(xe);{var Ue=_e=>{pn(_e,{class:"h-3 w-3"})},Ye=_e=>{var qe=O(),Xe=H(qe);{var Be=ze=>{ad(ze,{class:"h-3 w-3"})},Ge=ze=>{var It=O(),$t=H(It);{var Gt=Kt=>{id(Kt,{class:"h-3 w-3"})};N($t,Kt=>{c(J).status==="declined"&&Kt(Gt)},!0)}b(ze,It)};N(Xe,ze=>{c(J).status==="accepted"?ze(Be):ze(Ge,!1)},!0)}b(_e,qe)};N(Ae,_e=>{c(J).status==="invited"?_e(Ue):_e(Ye,!1)})}var Qe=m(Ae),st=m(Qe);st.__click=[af,$,J];var Oe=f(st);en(Oe,{class:"h-3 w-3"}),X(_e=>{ve=He(xe,1,"badge badge-outline gap-2 pr-1",null,ve,_e),G(Qe,` ${(c(J).name||c(J).email||c(J).id)??""} `)},[()=>({"badge-success":c(J).status==="accepted"})]),b(z,xe)});var Ne=m(ce,2);{var nt=z=>{var J=of();b(z,J)};N(Ne,z=>{c(t).length===0&&z(nt)})}var Ce=m(x,2);{var at=z=>{var J=lf(),xe=f(J),ve=m(f(xe),4),Ae=f(ve);Ae.__click=[cf,l];var Ue=m(Ae,2);Ue.__click=[Wu,u,r,l],Cr(3,J,()=>Ur),b(z,J)};N(Ce,z=>{c(l)&&z(at)})}var Wt=m(Ce,2);{var sn=z=>{var J=uf(),xe=f(J),ve=m(f(xe),2),Ae=f(ve),Ue=m(ve,2),Ye=f(Ue);Ye.__click=[df,d];var Qe=m(Ye,2);Qe.__click=[Qu,p,a,d],X(()=>G(Ae,`Êtes-vous sûr de vouloir retirer ce contributeur ?
        ${(c(p)?.name||c(p)?.email||c(p)?.id)??""} ne pourra plus accéder à cet événement.`)),Cr(3,J,()=>Ur),b(z,J)};N(Wt,z=>{c(d)&&z(sn)})}var Qt=m(Wt,2);{var ut=z=>{var J=mf(),xe=f(J),ve=m(f(xe),2),Ae=f(ve),Ue=f(Ae);et(Ue,17,()=>e.teamsStore.teams,Yn,(_e,qe)=>{var Xe=pf(),Be=f(Xe);Be.__change=[ff,A,qe];var Ge=m(Be,2),ze=f(Ge),It=f(ze),$t=m(ze,2),Gt=f($t);X(Kt=>{$a(Be,Kt),G(It,c(qe).name),G(Gt,`${(c(qe).members?.total||0)??""} membre${c(qe).members?.total!==1?"s":""}`)},[()=>r().includes(c(qe).$id)]),b(_e,Xe)});var Ye=m(Ue,2);{var Qe=_e=>{var qe=hf();b(_e,qe)};N(Ye,_e=>{e.teamsStore.teams.length===0&&_e(Qe)})}var st=m(ve,2),Oe=f(st);Oe.__click=[vf,o],Cr(3,J,()=>Ur),b(z,J)};N(Qt,z=>{c(o)&&z(ut)})}X(()=>{B.disabled=c(g)||!c(v),G(F,`Contributeurs (${a().length??""})`)}),Ve(Q,()=>c(v),z=>h(v,z)),b(n,S),te()}Ze(["click","change","keydown"]);async function bf(n,e,t,r,a,s,i,o,l,d,u,p){if(!c(e)){h(t,"Veuillez renseigner le nom de l'événement");return}if(c(r).length===0){h(t,"Veuillez ajouter au moins un repas");return}h(a,!0),h(t,null);try{const v={name:c(e),dateStart:c(s),dateEnd:c(i),allDates:c(o),teams:c(l),contributors:c(d),meals:c(r)};c(u)?await kt.updateEvent(c(u),v):await kt.createEvent(v),p()}catch(v){console.error("Erreur lors de la sauvegarde de l'événement:",v),h(t,"Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{h(a,!1)}}var wf=T('<span class="loading loading-spinner loading-sm"></span>'),_f=T(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),If=T('<div class="alert alert-error shadow-lg"><span> </span></div>'),Sf=T('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),Ef=T("<div><!></div>"),Af=T('<div class="space-y-4"></div>'),xf=T(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <!></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),Rf=T('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!></div>');function ls(n,e){ee(e,!0);const t=Z(()=>e.params?.id);let r=R(""),a=R(Me([])),s=R(Me([])),i=R(Me([])),o=R(!1),l=R(!1),d=R(null),u=R(null);const p=Z(()=>{const W=c(i).map(q=>q.date).filter(Boolean);return[...new Set(W)].sort()}),v=Z(()=>c(p).length>0?c(p)[0]:""),g=Z(()=>c(p).length>0?c(p)[c(p).length-1]:"");ht(()=>{c(t)?(h(l,!0),h(d,null),ha(c(t)).then(W=>{W?(h(r,W.name||"",!0),h(a,W.teams||[],!0),h(s,pa(W),!0),h(i,xi(W).sort((q,Q)=>q.date.localeCompare(Q.date)),!0)):h(d,"Événement introuvable")}).catch(W=>{console.error("Erreur lors du chargement de l'événement:",W),h(d,"Erreur lors du chargement de l'événement")}).finally(()=>{h(l,!1)})):(h(r,""),h(a,[],!0),h(s,[],!0),h(i,[],!0))});function y(){history.back()}function I(){const W=Zr(6);let q;if(c(p).length===0){const B=new Date;B.setHours(12,0,0,0),q=B.toISOString()}else{const B=c(p)[c(p).length-1],ne=new Date(B);ne.getHours()<14?ne.setHours(20,0,0,0):(ne.setDate(ne.getDate()+1),ne.setHours(12,0,0,0)),q=ne.toISOString()}if(c(i).some(B=>B.date===q)){h(d,"Un repas existe déjà à cette date et heure");return}const Q={id:W,date:q,guests:100,recipes:[]};h(i,[...c(i),Q].sort((B,ne)=>B.date.localeCompare(ne.date)),!0),h(u,W,!0)}function _(W){h(i,c(i).filter(q=>q.id!==W),!0)}function A(W){}function P(W){h(u,c(u)===W?null:W,!0)}function E(W){const q=c(i).findIndex(Q=>Q.id===W);if(q<c(i).length-1){const Q=c(i)[q+1];Q.id||(Q.id=Zr(6)),h(u,Q.id,!0)}else I()}function D(W,q){h(i,c(i).sort((Q,B)=>Q.date.localeCompare(B.date)),!0)}var $=Rf(),S=f($),x=f(S),C=f(x);C.__click=y;var k=f(C);nd(k,{class:"h-6 w-6"});var Y=m(C,2),L=f(Y),K=f(L),le=m(L,2),re=f(le),ae=m(x,2);ae.__click=[bf,r,d,i,o,v,g,p,a,s,t,y];var U=f(ae);{var V=W=>{var q=wf();b(W,q)},ie=W=>{pd(W,{class:"mr-2 h-4 w-4"})};N(U,W=>{c(o)?W(V):W(ie,!1)})}var j=m(U),se=m(S,2);{var de=W=>{var q=_f();b(W,q)},ue=W=>{var q=O(),Q=H(q);{var B=fe=>{var he=If(),Re=f(he),Pe=f(Re);X(()=>G(Pe,c(d))),b(fe,he)},ne=fe=>{var he=xf(),Re=f(he),Pe=f(Re),Le=f(Pe),je=f(Le),F=f(je);Gn(F,{class:"text-primary h-5 w-5"});var oe=m(je,2),ce=f(oe),Ne=f(ce),nt=f(Ne);Gn(nt,{class:"h-4 w-4 opacity-50"});var Ce=m(nt,2),at=m(Pe,2);{let _e=Z(()=>me.userId||""),qe=Z(()=>me.userTeams||[]);yf(at,{get teamsStore(){return Je},get userId(){return c(_e)},get userTeams(){return c(qe)},get eventId(){return c(t)},get selectedTeams(){return c(a)},set selectedTeams(Xe){h(a,Xe,!0)},get contributors(){return c(s)},set contributors(Xe){h(s,Xe,!0)}})}var Wt=m(Re,2),sn=f(Wt),Qt=f(sn),ut=f(Qt),z=f(ut),J=f(z),xe=m(z,2);xe.__click=I;var ve=f(xe);mn(ve,{class:"mr-1 h-4 w-4"});var Ae=m(ut,2);{var Ue=_e=>{var qe=Sf(),Xe=f(qe),Be=f(Xe);Gn(Be,{class:"h-8 w-8 opacity-50"}),b(_e,qe)},Ye=_e=>{var qe=Af();et(qe,31,()=>c(i),Xe=>Xe.id,(Xe,Be,Ge)=>{var ze=Ef(),It=f(ze);{let $t=Z(()=>c(u)===c(Be).id);Vu(It,{get isEditing(){return c($t)},onEditToggle:()=>c(Be).id&&P(c(Be).id),onDelete:()=>c(Be).id&&_(c(Be).id),onDuplicate:()=>c(Be).id&&(c(Be).id,void 0),get allDates(){return c(p)},onEmptySearchSubmit:()=>c(Be).id&&E(c(Be).id),onDateChanged:D,get meal(){return c(i)[c(Ge)]},set meal(Gt){c(i)[c(Ge)]=Gt}})}ci(ze,()=>ji,()=>({delay:100,duration:400})),b(Xe,ze)}),b(_e,qe)};N(Ae,_e=>{c(i).length===0?_e(Ue):_e(Ye,!1)})}var Qe=m(Ae,2),st=f(Qe);st.__click=I;var Oe=f(st);mn(Oe,{class:"mr-1 h-4 w-4"}),X(()=>G(J,`Repas & Menus (${c(i).length??""})`)),Ve(Ce,()=>c(r),_e=>h(r,_e)),b(fe,he)};N(Q,fe=>{c(d)?fe(B):fe(ne,!1)},!0)}b(W,q)};N(se,W=>{c(l)?W(de):W(ue,!1)})}X(()=>{G(K,`${c(t)?"Éditer":"Nouvel"} Événement`),G(re,c(t)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),ae.disabled=c(o)||c(l),G(j,` ${c(t)?"Enregistrer":"Créer l'événement"}`)}),b(n,$),te()}Ze(["click"]);async function Tf(n,e,t,r){if(c(e).length<8){alert("Le mot de passe doit faire au moins 8 caractères.");return}h(t,!0);try{const{client:a,account:s}=await Ie();await s.updatePassword({password:c(e)}),c(r)&&await s.updateName({name:c(r)}),console.log("[AcceptInvite] Session créée, redirection..."),an("/dashboard")}catch(a){console.error("[AcceptInvite] Erreur finalisation:",a),alert("Erreur : "+a.message),h(t,!1)}}var Pf=T(`<span class="loading loading-spinner loading-lg text-primary mx-auto"></span> <p class="text-base-content/70 mt-4">Vérification de l'invitation...</p>`,1),Mf=()=>an("/"),Df=T(`<!> <h2 class="text-error text-xl font-bold">Oups !</h2> <p class="py-4"> </p> <button class="btn btn-ghost">Retour à l'accueil</button>`,1),$f=T('<span class="loading loading-spinner loading-xs"></span>'),kf=T(`<div class="mb-2 text-4xl">👋</div> <h2 class="card-title justify-center text-2xl">Bienvenue !</h2> <p class="text-base-content/70 mb-6 text-sm">Votre invitation est validée. <br/> Veuillez définir un mot de passe.</p> <label class="w-full text-left"><div class="label"><span class="label-text">Votre Pseudo / Nom</span></div> <input type="text" class="input w-full" placeholder="Ex: Chef Gusto"/></label> <label class="mt-3 w-full text-left"><div class="label"><span class="label-text">Nouveau mot de passe</span></div> <input type="password" placeholder="Minimum 8 caractères" class="input w-full"/></label> <div class="card-actions mt-6"><button class="btn btn-primary w-full"><!> Terminer l'inscription</button></div>`,1),Cf=T('<div class="bg-base-200 flex min-h-screen items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body text-center"><!></div></div></div>');function qf(n,e){ee(e,!0);let t=R(!0),r=R("verifying"),a=R(""),s=R(""),i=R(""),o="",l="",d="";li(async()=>{if(o=Lr("userId")||"",l=Lr("secret")||"",d=Lr("teamId")||"",!o||!l){h(r,"error"),h(a,"Lien d'invitation incomplet ou invalide."),h(t,!1);return}try{console.log("[AcceptInvite] Initialisation avec Secret...");const{client:_,account:A}=await Ie(),{token:P}=await Rl(d,o,l);console.log("[AcceptInvite] Token frais reçu, création session..."),await A.createSession({userId:o,secret:P});const E=await A.get();console.log("[AcceptInvite] Connecté en tant que :",E.name),h(i,E.name,!0),E.passwordUpdate,h(r,"set-password")}catch(_){console.error("[AcceptInvite] Erreur validation:",_),h(r,"error"),h(a,"Ce lien d'invitation a expiré ou est invalide.")}finally{h(t,!1)}});var u=Cf(),p=f(u),v=f(p),g=f(v);{var y=_=>{var A=Pf();b(_,A)},I=_=>{var A=O(),P=H(A);{var E=$=>{var S=Df(),x=H(S);qi(x,{class:"text-error mb-2 size-7"});var C=m(x,4),k=f(C),Y=m(C,2);Y.__click=[Mf],X(()=>G(k,c(a))),b($,S)},D=$=>{var S=O(),x=H(S);{var C=k=>{var Y=kf(),L=m(H(Y),6),K=m(f(L),2),le=m(L,2),re=m(f(le),2),ae=m(le,2),U=f(ae);U.__click=[Tf,s,t,i];var V=f(U);{var ie=j=>{var se=$f();b(j,se)};N(V,j=>{c(t)&&j(ie)})}X(()=>U.disabled=c(t)),Ve(K,()=>c(i),j=>h(i,j)),Ve(re,()=>c(s),j=>h(s,j)),b(k,Y)};N(x,k=>{c(r)==="set-password"&&k(C)},!0)}b($,S)};N(P,$=>{c(r)==="error"?$(E):$(D,!1)},!0)}b(_,A)};N(g,_=>{c(t)&&c(r)!=="set-password"?_(y):_(I,!1)})}b(n,u),te()}Ze(["click"]);var jf=(n,e)=>e.onClick(e.team.$id),Nf=T("<div><!> </div>"),Lf=T('<p class="text-base-content/70 mb-2 line-clamp-2 text-sm"> </p>'),Uf=T('<div class="badge badge-warning badge-sm gap-1"> </div>'),Hf=T('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <!> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span> </span></div> <!></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Gérer <!></span></div></div></button>');function Bf(n,e){ee(e,!0);const t=Z(()=>{const k=me.userId;return k&&e.team.members.find(L=>L.id===k)?.role||null}),r=Z(()=>c(t)==="owner"?Mi:c(t)==="admin"?ki:null),a=Z(()=>c(t)==="owner"?"badge-primary":c(t)==="admin"?"badge-secondary":"badge-ghost"),s=Z(()=>e.team.invited?.length||0);var i=Hf();i.__click=[jf,e];var o=f(i),l=f(o),d=f(l),u=f(d),p=m(d,2);{var v=k=>{var Y=Nf(),L=f(Y);{var K=re=>{var ae=O(),U=H(ae);Cn(U,()=>c(r),(V,ie)=>{ie(V,{class:"h-3 w-3"})}),b(re,ae)};N(L,re=>{c(r)&&re(K)})}var le=m(L);X(()=>{He(Y,1,`badge ${c(a)??""} gap-1`),G(le,` ${c(t)??""}`)}),b(k,Y)};N(p,k=>{c(t)&&k(v)})}var g=m(l,2);{var y=k=>{var Y=Lf(),L=f(Y);X(()=>G(L,e.team.description)),b(k,Y)};N(g,k=>{e.team.description&&k(y)})}var I=m(g,2),_=f(I),A=f(_);Mt(A,{class:"h-4 w-4"});var P=m(A,2),E=f(P),D=m(_,2);{var $=k=>{var Y=Uf(),L=f(Y);X(()=>G(L,`${c(s)??""} invitation${c(s)>1?"s":""}`)),b(k,Y)};N(D,k=>{c(t)&&c(s)>0&&k($)})}var S=m(I,2),x=f(S),C=m(f(x));Ti(C,{class:"h-4 w-4"}),X(()=>{G(u,e.team.name),G(E,`${e.team.members.length??""} membre${e.team.members.length>1?"s":""}`)}),b(n,i),te()}Ze(["click"]);var zf=T('<div class="mb-1 text-xs opacity-70"> </div>'),Vf=(n,e,t)=>e(c(t)),Wf=T("<button><!> </button>"),Qf=T('<div><!> <div class="ms-1 flex flex-wrap items-center gap-1"><!> <!></div></div>');function Gf(n,e){ee(e,!0);let t=$e(e,"maxSuggestions",3,8),r=$e(e,"buttonSize",3,"btn-xs"),a=$e(e,"buttonVariant",3,"btn-soft"),s=$e(e,"disabled",3,!1);const i=Z(()=>e.suggestions.slice(0,t()));function o(p){!s()&&!p.disabled&&e.onSuggestionClick(p)}var l=O(),d=H(l);{var u=p=>{var v=Qf(),g=f(v);{var y=P=>{var E=zf(),D=f(E);X(()=>G(D,e.title)),b(P,E)};N(g,P=>{e.title&&P(y)})}var I=m(g,2),_=f(I);$i(_,{class:"text-base-content/70 mr-1",size:14});var A=m(_,2);et(A,17,()=>c(i),P=>P.id,(P,E)=>{var D=Wf();D.__click=[Vf,o,E];var $=f(D);{var S=C=>{var k=O(),Y=H(k);Cn(Y,()=>c(E).icon,(L,K)=>{K(L,{class:"h-3 w-3"})}),b(C,k)};N($,C=>{c(E).icon&&C(S)})}var x=m($);X(()=>{He(D,1,`btn btn-primary ${r()??""} ${a()??""}`),D.disabled=s()||c(E).disabled,qt(D,"title",c(E).disabled?"Déjà sélectionné":c(E).label),G(x,` ${c(E).label??""}`)}),b(P,D)}),b(p,v)};N(d,p=>{c(i).length>0&&p(u)})}b(n,l),te()}Ze(["click"]);async function Kf(n,e,t,r,a,s){if(c(e).length===0){h(t,"Veuillez ajouter au moins une adresse email");return}h(r,!0),h(t,null);try{await Je.inviteTeamMember(a.team.$id,c(e),c(s)||void 0),h(e,[],!0),h(s,""),a.onSuccess?.()}catch(i){h(t,i.message||"Erreur lors de l'envoi des invitations",!0),console.error("[InviteMembersForm] Erreur:",i)}finally{h(r,!1)}}function Jf(n,e){n.key==="Enter"&&(n.preventDefault(),e())}var Yf=T('<div class="alert alert-error"><span class="text-sm"> </span></div>'),Xf=(n,e,t)=>e(t),Zf=T('<div class="badge badge-primary badge-lg gap-2"><!> <button class="btn btn-circle btn-ghost btn-xs" title="Retirer"><!></button></div>'),Of=T('<div><div class="mb-2 text-sm font-medium opacity-70"> </div> <div class="flex flex-wrap gap-2"></div></div>'),Ff=T('<span class="loading loading-spinner loading-sm"></span>'),ep=T('<div class="space-y-4"><div class="flex gap-2"><label class="input flex-1"><!> <input type="email" placeholder="email@example.com"/></label> <button class="btn btn-primary" title="Ajouter à la liste"><!></button></div> <!> <!> <!> <div><label class="label"><span class="label-text">Message personnalisé (optionnel)</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Ajoutez un message pour les personnes invitées..." rows="3" maxlength="200"></textarea> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <div class="flex justify-end"><button class="btn btn-primary"><!> </button></div></div>');function Ni(n,e){ee(e,!0);let t=R(""),r=R(Me([])),a=R(""),s=R(!1),i=R(null);function o(j){return Je.isValidEmail(j)}const l=Z(()=>[]);function d(){const j=c(t).trim().toLowerCase();if(!j){h(i,"Veuillez entrer une adresse email");return}if(!o(j)){h(i,"Adresse email invalide");return}if(c(r).includes(j)){h(i,"Cet email est déjà dans la liste");return}if(e.team.members.some(ue=>ue.name.toLowerCase()===j)){h(i,"Cette personne est déjà membre de l'équipe");return}if(e.team.invited?.some(ue=>ue.email.toLowerCase()===j)){h(i,"Cette personne a déjà été invitée");return}c(r).push(j),h(t,""),h(i,null)}function u(j){h(r,c(r).filter(se=>se!==j),!0)}var p=ep(),v=f(p),g=f(v),y=f(g);pn(y,{class:"h-4 w-4 opacity-50"});var I=m(y,2);I.__keydown=[Jf,d];var _=m(g,2);_.__click=d;var A=f(_);ss(A,{class:"h-5 w-5"});var P=m(v,2);{var E=j=>{Gf(j,{get suggestions(){return c(l)},onSuggestionClick:se=>{h(t,se.label,!0),d()},title:"Suggestions",buttonSize:"btn-sm"})};N(P,j=>{c(l).length>0&&j(E)})}var D=m(P,2);{var $=j=>{var se=Yf(),de=f(se),ue=f(de);X(()=>G(ue,c(i))),b(j,se)};N(D,j=>{c(i)&&j($)})}var S=m(D,2);{var x=j=>{var se=Of(),de=f(se),ue=f(de),W=m(de,2);et(W,20,()=>c(r),q=>q,(q,Q)=>{var B=Zf(),ne=f(B);pn(ne,{class:"h-3 w-3"});var fe=m(ne),he=m(fe);he.__click=[Xf,u,Q];var Re=f(he);en(Re,{class:"h-3 w-3"}),X(()=>{G(fe,` ${Q??""} `),he.disabled=c(s)}),b(q,B)}),X(()=>G(ue,`Personnes à inviter (${c(r).length??""})`)),b(j,se)};N(S,j=>{c(r).length>0&&j(x)})}var C=m(S,2),k=m(f(C),2),Y=m(k,2),L=f(Y),K=f(L),le=m(C,2),re=f(le);re.__click=[Kf,r,i,s,e,a];var ae=f(re);{var U=j=>{var se=Ff();b(j,se)},V=j=>{ss(j,{class:"h-5 w-5"})};N(ae,j=>{c(s)?j(U):j(V,!1)})}var ie=m(ae);X(j=>{I.disabled=c(s),_.disabled=j,k.disabled=c(s),G(K,`${c(a).length??""}/200 caractères`),re.disabled=c(s)||c(r).length===0,G(ie,` Envoyer ${c(r).length>0?`${c(r).length} invitation${c(r).length>1?"s":""}`:"les invitations"}`)},[()=>c(s)||!c(t).trim()]),Ve(I,()=>c(t),j=>h(t,j)),Ve(k,()=>c(a),j=>h(a,j)),b(n,p),te()}Ze(["keydown","click"]);function ds(n,e,t){e(),t.onClose()}function tp(n,e,t){n.key==="Enter"&&c(e)==="create"&&(n.preventDefault(),t())}var np=T('<div class="alert alert-error"><span class="text-sm"> </span></div>'),rp=T('<span class="loading loading-spinner loading-sm"></span>'),ap=T(`<div class="space-y-4"><div><label class="label"><span class="label-text">Nom de l'équipe *</span></label> <input type="text" class="input input-bordered w-full" placeholder="Ex: Équipe Marketing" maxlength="50"/> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <div><label class="label"><span class="label-text">Description (optionnel)</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Décrivez l'objectif de cette équipe..." rows="3" maxlength="200"></textarea> <label class="label"><span class="label-text-alt opacity-50"> </span></label></div> <!></div> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-primary"><!> Créer l'équipe</button></div>`,1),sp=T('<div class="mb-4"><div class="alert alert-success"><span> </span></div></div> <!> <div class="modal-action"><button class="btn btn-ghost">Passer cette étape</button></div>',1),ip=T('<div><div class="modal-box max-w-2xl"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-bold"> </h3> <button class="btn btn-circle btn-ghost btn-sm" aria-label="Fermer"><!></button></div> <!></div></div>');function op(n,e){ee(e,!0);let t=R(""),r=R(""),a=R(!1),s=R(null),i=R("create"),o=R(null);function l(){h(t,""),h(r,""),h(s,null),h(i,"create"),h(o,null)}async function d(){if(!c(t).trim()){h(s,"Le nom de l'équipe est requis");return}h(a,!0),h(s,null);try{const $=await Je.createTeam(c(t).trim(),c(r).trim()||void 0);h(o,$.$id,!0),h(i,"invite")}catch($){h(s,$.message||"Erreur lors de la création de l'équipe",!0),console.error("[CreateTeamModal] Erreur:",$)}finally{h(a,!1)}}function u(){c(o)&&e.onSuccess?.(c(o)),l(),e.onClose()}var p=ip(),v=f(p),g=f(v),y=f(g),I=f(y),_=m(y,2);_.__click=[ds,l,e];var A=f(_);en(A,{class:"h-4 w-4"});var P=m(g,2);{var E=$=>{var S=ap(),x=H(S),C=f(x),k=m(f(C),2);k.__keydown=[tp,i,d],qs(k,!0);var Y=m(k,2),L=f(Y),K=f(L),le=m(C,2),re=m(f(le),2),ae=m(re,2),U=f(ae),V=f(U),ie=m(le,2);{var j=B=>{var ne=np(),fe=f(ne),he=f(fe);X(()=>G(he,c(s))),b(B,ne)};N(ie,B=>{c(s)&&B(j)})}var se=m(x,2),de=f(se);de.__click=[ds,l,e];var ue=m(de,2);ue.__click=d;var W=f(ue);{var q=B=>{var ne=rp();b(B,ne)},Q=B=>{mn(B,{class:"h-5 w-5"})};N(W,B=>{c(a)?B(q):B(Q,!1)})}X(B=>{k.disabled=c(a),G(K,`${c(t).length??""}/50 caractères`),re.disabled=c(a),G(V,`${c(r).length??""}/200 caractères`),de.disabled=c(a),ue.disabled=B},[()=>c(a)||!c(t).trim()]),Ve(k,()=>c(t),B=>h(t,B)),Ve(re,()=>c(r),B=>h(r,B)),b($,S)},D=$=>{var S=O(),x=H(S);{var C=k=>{const Y=Z(()=>Je.getTeamById(c(o)));var L=O(),K=H(L);{var le=re=>{var ae=sp(),U=H(ae),V=f(U),ie=f(V),j=f(ie),se=m(U,2);Ni(se,{get team(){return c(Y)},onSuccess:u});var de=m(se,2),ue=f(de);ue.__click=u,X(()=>G(j,`Équipe "${c(Y).name??""}" créée avec succès !`)),b(re,ae)};N(K,re=>{c(Y)&&re(le)})}b(k,L)};N(x,k=>{c(i)==="invite"&&c(o)&&k(C)},!0)}b($,S)};N(P,$=>{c(i)==="create"?$(E):$(D,!1)})}X(()=>{He(p,1,`modal ${(e.isOpen&&"modal-open")??""}`),G(I,c(i)==="create"?"Créer une équipe":"Inviter des membres")}),b(n,p),te()}Ze(["click","keydown"]);var cp=T('<div><div class="modal-box"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-bold"> </h3> <button class="btn btn-circle btn-ghost btn-sm" aria-label="Fermer"><!></button></div> <div><!> <span> </span></div> <div class="modal-action"><button class="btn btn-ghost"> </button> <button> </button></div></div></div>');function Or(n,e){let t=$e(e,"variant",3,"warning"),r=$e(e,"confirmLabel",3,"Confirmer"),a=$e(e,"cancelLabel",3,"Annuler");const s=Z(()=>t()==="danger"?"alert-error":t()==="info"?"alert-info":"alert-warning"),i=Z(()=>t()==="danger"?"btn-error":t()==="info"?"btn-info":"btn-warning"),o=Z(()=>t()==="danger"?Pi:t()==="info"?dd:qi);var l=cp(),d=f(l),u=f(d),p=f(u),v=f(p),g=m(p,2);g.__click=function(...C){e.onCancel?.apply(this,C)};var y=f(g);en(y,{class:"h-4 w-4"});var I=m(u,2),_=f(I);Cn(_,()=>c(o),(C,k)=>{k(C,{class:"h-5 w-5"})});var A=m(_,2),P=f(A),E=m(I,2),D=f(E);D.__click=function(...C){e.onCancel?.apply(this,C)};var $=f(D),S=m(D,2);S.__click=function(...C){e.onConfirm?.apply(this,C)};var x=f(S);X(()=>{He(l,1,`modal ${(e.isOpen&&"modal-open")??""}`),G(v,e.title),He(I,1,`alert ${c(s)??""} mb-6`),G(P,e.message),G($,a()),He(S,1,`btn ${c(i)??""}`),G(x,r())}),b(n,l)}Ze(["click"]);var lp=T('<div class="py-8 text-center opacity-50"><!> <p class="text-sm">Aucun membre</p></div>'),dp=T('<span class="text-xs opacity-50">(vous)</span>'),up=(n,e)=>h(e,!0),fp=T(`<button class="btn btn-error btn-sm" title="Quitter l'équipe"><!></button>`),pp=(n,e,t)=>e(c(t).id,c(t).name),hp=T('<button class="btn btn-error btn-sm" title="Retirer ce membre"><!></button>'),vp=T('<div class="card bg-base-100 border-base-200 border p-4 transition-shadow hover:shadow-md"><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-3"><div class="avatar placeholder"><div class="bg-neutral text-neutral-content w-12 rounded-full"><span class="text-lg"> </span></div></div> <div class="flex-1"><div class="font-medium"> <!></div> <div class="text-sm opacity-70"> </div></div></div> <div><!> </div> <div class="flex gap-2"><!></div></div></div>'),mp=T('<div class="space-y-2"></div>'),gp=T('<div class="space-y-4"><!></div> <!> <!>',1);function yp(n,e){ee(e,!0);let t=R(Me({isOpen:!1,memberId:null,memberName:null})),r=R(!1),a=R(!1);const s=Z(()=>me.userId),i=Z(()=>()=>c(s)&&e.team.members.find(x=>x.id===c(s))?.role||null),o=Z(()=>c(i)()==="owner"||c(i)()==="admin");function l(S){return new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}function d(S,x){h(t,{isOpen:!0,memberId:S,memberName:x},!0)}async function u(){if(c(t).memberId){h(a,!0);try{await Je.removeMember(e.team.$id,c(t).memberId),h(t,{isOpen:!1,memberId:null,memberName:null},!0),e.onMemberRemoved?.()}catch(S){console.error("[TeamMembersList] Erreur suppression:",S),alert("Erreur lors de la suppression du membre")}finally{h(a,!1)}}}async function p(){if(c(s)){h(a,!0);try{await Je.removeMember(e.team.$id,c(s)),h(r,!1),e.onMemberRemoved?.()}catch(S){console.error("[TeamMembersList] Erreur désinscription:",S),alert("Erreur lors de la désinscription")}finally{h(a,!1)}}}function v(S){return S==="owner"?Mi:S==="admin"?ki:Mt}function g(S){return S==="owner"?"badge-primary":S==="admin"?"badge-secondary":"badge-ghost"}function y(S){return S==="owner"?"Propriétaire":S==="admin"?"Administrateur":"Membre"}var I=gp(),_=H(I),A=f(_);{var P=S=>{var x=lp(),C=f(x);Mt(C,{class:"mx-auto mb-2 h-8 w-8"}),b(S,x)},E=S=>{var x=mp();et(x,21,()=>e.team.members,C=>C.id,(C,k)=>{const Y=Z(()=>v(c(k).role)),L=Z(()=>c(k).id===c(s)),K=Z(()=>c(o)&&!c(L));var le=vp(),re=f(le),ae=f(re),U=f(ae),V=f(U),ie=f(V),j=f(ie),se=m(U,2),de=f(se),ue=f(de),W=m(ue);{var q=F=>{var oe=dp();b(F,oe)};N(W,F=>{c(L)&&F(q)})}var Q=m(de,2),B=f(Q),ne=m(ae,2),fe=f(ne);Cn(fe,()=>c(Y),(F,oe)=>{oe(F,{class:"h-3 w-3"})});var he=m(fe),Re=m(ne,2),Pe=f(Re);{var Le=F=>{var oe=fp();oe.__click=[up,r];var ce=f(oe);Di(ce,{class:"h-4 w-4"}),X(()=>oe.disabled=c(a)),b(F,oe)},je=F=>{var oe=O(),ce=H(oe);{var Ne=nt=>{var Ce=hp();Ce.__click=[pp,d,k];var at=f(Ce);yd(at,{class:"h-4 w-4"}),X(()=>Ce.disabled=c(a)),b(nt,Ce)};N(ce,nt=>{c(K)&&nt(Ne)},!0)}b(F,oe)};N(Pe,F=>{c(L)&&c(k).role!=="owner"?F(Le):F(je,!1)})}X((F,oe,ce,Ne)=>{G(j,F),G(ue,`${c(k).name??""} `),G(B,`Membre depuis ${oe??""}`),He(ne,1,`badge ${ce??""} gap-1`),G(he,` ${Ne??""}`)},[()=>c(k).name.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2),()=>l(c(k).joinedAt),()=>g(c(k).role),()=>y(c(k).role)]),b(C,le)}),b(S,x)};N(A,S=>{e.team.members.length===0?S(P):S(E,!1)})}var D=m(_,2);Or(D,{get isOpen(){return c(t).isOpen},title:"Retirer un membre",get message(){return`Êtes-vous sûr de vouloir retirer ${c(t).memberName??""} de l'équipe ? Cette action est irréversible.`},variant:"warning",confirmLabel:"Retirer",cancelLabel:"Annuler",onConfirm:u,onCancel:()=>h(t,{isOpen:!1,memberId:null,memberName:null},!0)});var $=m(D,2);Or($,{get isOpen(){return c(r)},title:"Quitter l'équipe",message:"Êtes-vous sûr de vouloir quitter cette équipe ? Vous devrez être réinvité pour y revenir.",variant:"warning",confirmLabel:"Quitter",cancelLabel:"Annuler",onConfirm:p,onCancel:()=>h(r,!1)}),b(n,I),te()}Ze(["click"]);var bp=T('<span class="ml-1"> </span>'),wp=T('<div class="card bg-base-100 border-base-200 border p-4 transition-shadow hover:shadow-md"><div class="flex items-center justify-between gap-4"><div class="flex flex-1 items-center gap-3"><div class="avatar placeholder"><div class="bg-base-200 text-base-content w-12 rounded-full"><!></div></div> <div class="flex-1"><div class="font-medium"> </div> <div class="flex items-center gap-1 text-sm opacity-70"><!> <!></div></div></div> <div class="badge badge-warning">En attente</div></div></div>'),_p=T('<div><h4 class="mb-3 text-sm font-medium opacity-70"> </h4> <div class="space-y-2"></div></div> <div class="divider"></div>',1),Ip=T('<div class="space-y-6"><!> <div><h4 class="mb-3 text-sm font-medium opacity-70">Inviter de nouveaux membres</h4> <!></div></div>');function Sp(n,e){ee(e,!0);function t(l){return new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}var r=Ip(),a=f(r);{var s=l=>{var d=_p(),u=H(d),p=f(u),v=f(p),g=m(p,2);et(g,21,()=>e.team.invited,y=>y.email,(y,I)=>{var _=wp(),A=f(_),P=f(A),E=f(P),D=f(E),$=f(D);pn($,{class:"h-5 w-5"});var S=m(E,2),x=f(S),C=f(x),k=m(x,2),Y=f(k);od(Y,{class:"h-3 w-3"});var L=m(Y),K=m(L);{var le=re=>{var ae=bp(),U=f(ae);X(()=>G(U,`par ${c(I).invitedBy??""}`)),b(re,ae)};N(K,re=>{c(I).invitedBy&&re(le)})}X(re=>{G(C,c(I).email),G(L,` Invité le ${re??""} `)},[()=>t(c(I).invitedAt)]),b(y,_)}),X(()=>G(v,`Invitations en attente (${e.team.invited.length??""})`)),b(l,d)};N(a,l=>{e.team.invited&&e.team.invited.length>0&&l(s)})}var i=m(a,2),o=m(f(i),2);Ni(o,{get team(){return e.team},get onSuccess(){return e.onInvitationSent}}),b(n,r),te()}async function Ep(n,e,t,r,a,s){if(!(!c(e)||!c(t))){h(r,!0);try{await Je.updateTeam(c(e).$id,c(a).trim()||void 0,c(s).trim()||void 0),h(t,!1)}catch(i){console.error("[TeamDetailModal] Erreur sauvegarde:",i),alert("Erreur lors de la sauvegarde")}finally{h(r,!1)}}}var Ap=T('<p class="text-sm opacity-70"> </p>'),xp=(n,e)=>h(e,!0),Rp=T(`<button class="btn btn-error btn-sm" title="Supprimer l'équipe"><!></button>`),Tp=(n,e)=>h(e,"members"),Pp=(n,e)=>h(e,"invitations"),Mp=T('<span class="badge badge-sm badge-warning ml-1"> </span>'),Dp=T('<span class="badge badge-sm badge-ghost ml-1">0</span>'),$p=(n,e)=>h(e,"settings"),kp=T('<div class="bg-warning ml-1 h-2 w-2 rounded-full"></div>'),Cp=T('<button role="tab"><!> Paramètres <!></button>'),qp=T('<span class="loading loading-spinner loading-sm"></span>'),jp=T(`<div class="space-y-4"><div><label class="label"><span class="label-text">Nom de l'équipe</span></label> <input type="text" class="input input-bordered w-full" placeholder="Nom de l'équipe" maxlength="50"/></div> <div><label class="label"><span class="label-text">Description</span></label> <textarea class="textarea textarea-bordered w-full" placeholder="Description de l'équipe" rows="3" maxlength="200"></textarea></div> <div class="flex justify-end"><button class="btn btn-primary"><!></button></div></div>`),Np=T('<div class="flex items-center justify-between border-b p-4 pt-0"><div><h3 class="text-xl font-bold"> </h3> <!></div> <div class="flex items-center gap-2"><!></div></div> <div class="tabs tabs-border flex-none" role="tablist"><button role="tab"><!> Membres <span class="badge badge-sm badge-secondary ml-1"> </span></button> <button role="tab"><!> Invitations <!></button> <!></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div>',1),Lp=T('<div><div class="modal-box fixed top-0 flex h-lvh w-lvw flex-col overflow-auto md:top-10 md:h-full md:max-h-11/12 md:w-full md:max-w-4xl"><button class="btn btn-circle btn-ghost btn-sm absolute top-4 right-4" aria-label="Fermer"><!></button> <!></div></div> <!>',1);function Up(n,e){ee(e,!0);let t=R("members"),r=R(!1),a=R(!1);const s=Z(()=>e.teamId?Je.getTeamById(e.teamId):null),i=Z(()=>!c(s)||!me.userId?null:c(s).members.find(C=>C.id===me.userId)?.role||null),o=Z(()=>c(i)==="owner"),l=Z(()=>c(o)||c(i)==="admin");let d=R(""),u=R(""),p=R(!1);ht(()=>{c(s)&&(h(d,c(s).name,!0),h(u,c(s).description||"",!0),h(p,!1))}),ht(()=>{c(s)&&h(p,c(d)!==c(s).name||c(u)!==(c(s).description||""),!0)});async function v(){if(c(s)){h(a,!0);try{await Je.deleteTeam(c(s).$id),h(r,!1),e.onClose()}catch(x){console.error("[TeamDetailModal] Erreur suppression:",x),alert("Erreur lors de la suppression de l'équipe")}finally{h(a,!1)}}}async function g(){e.teamId&&await Je.fetchTeam(e.teamId)}async function y(){e.teamId&&await Je.fetchTeam(e.teamId)}var I=Lp(),_=H(I),A=f(_),P=f(A);P.__click=function(...x){e.onClose?.apply(this,x)};var E=f(P);en(E,{class:"h-4 w-4"});var D=m(P,2);{var $=x=>{var C=Np(),k=H(C),Y=f(k),L=f(Y),K=f(L),le=m(L,2);{var re=F=>{var oe=Ap(),ce=f(oe);X(()=>G(ce,c(s).description)),b(F,oe)};N(le,F=>{c(s).description&&F(re)})}var ae=m(Y,2),U=f(ae);{var V=F=>{var oe=Rp();oe.__click=[xp,r];var ce=f(oe);Ci(ce,{class:"h-4 w-4"}),X(()=>oe.disabled=c(a)),b(F,oe)};N(U,F=>{c(o)&&F(V)})}var ie=m(k,2),j=f(ie);j.__click=[Tp,t];var se=f(j);Mt(se,{class:"mr-1 h-5 w-5"});var de=m(se,2),ue=f(de),W=m(j,2);W.__click=[Pp,t];var q=f(W);pn(q,{class:"mr-1 h-5 w-5"});var Q=m(q,2);{var B=F=>{var oe=Mp(),ce=f(oe);X(()=>G(ce,c(s).invited.length)),b(F,oe)},ne=F=>{var oe=Dp();b(F,oe)};N(Q,F=>{c(s).invited&&c(s).invited.length>0?F(B):F(ne,!1)})}var fe=m(W,2);{var he=F=>{var oe=Cp();oe.__click=[$p,t];var ce=f(oe);vd(ce,{class:"mr-1 h-5 w-5"});var Ne=m(ce,2);{var nt=Ce=>{var at=kp();b(Ce,at)};N(Ne,Ce=>{c(p)&&Ce(nt)})}X(()=>He(oe,1,`tab ${c(t)==="settings"?"tab-active":""}`)),b(F,oe)};N(fe,F=>{c(l)&&F(he)})}var Re=m(ie,2),Pe=f(Re);dc(Pe,()=>c(t),F=>{var oe=O(),ce=H(oe);{var Ne=Ce=>{yp(Ce,{get team(){return c(s)},onMemberRemoved:g})},nt=Ce=>{var at=O(),Wt=H(at);{var sn=ut=>{Sp(ut,{get team(){return c(s)},onInvitationSent:y})},Qt=ut=>{var z=O(),J=H(z);{var xe=ve=>{var Ae=jp(),Ue=f(Ae),Ye=m(f(Ue),2),Qe=m(Ue,2),st=m(f(Qe),2),Oe=m(Qe,2),_e=f(Oe);_e.__click=[Ep,s,p,a,d,u];var qe=f(_e);{var Xe=Ge=>{var ze=qp();b(Ge,ze)},Be=Ge=>{var ze=cr("Enregistrer");b(Ge,ze)};N(qe,Ge=>{c(a)?Ge(Xe):Ge(Be,!1)})}X(()=>{Ye.disabled=c(a),st.disabled=c(a),_e.disabled=c(a)||!c(p)}),Ve(Ye,()=>c(d),Ge=>h(d,Ge)),Ve(st,()=>c(u),Ge=>h(u,Ge)),b(ve,Ae)};N(J,ve=>{c(t)==="settings"&&c(l)&&ve(xe)},!0)}b(ut,z)};N(Wt,ut=>{c(t)==="invitations"?ut(sn):ut(Qt,!1)},!0)}b(Ce,at)};N(ce,Ce=>{c(t)==="members"?Ce(Ne):Ce(nt,!1)})}b(F,oe)});var Le=m(Re,2),je=f(Le);je.__click=function(...F){e.onClose?.apply(this,F)},X(()=>{G(K,c(s).name),He(j,1,`tab ${c(t)==="members"?"tab-active":""}`),G(ue,c(s).members.length),He(W,1,`tab ${c(t)==="invitations"?"tab-active":""}`)}),b(x,C)};N(D,x=>{c(s)&&x($)})}var S=m(_,2);Or(S,{get isOpen(){return c(r)},title:"Supprimer l'équipe",message:"Êtes-vous sûr de vouloir supprimer définitivement cette équipe ? Tous les membres seront retirés et cette action est irréversible.",variant:"danger",confirmLabel:"Supprimer définitivement",cancelLabel:"Annuler",onConfirm:v,onCancel:()=>h(r,!1)}),X(()=>He(_,1,`modal ${(e.teamId&&"modal-open")??""}`)),b(n,I),te()}Ze(["click"]);function us(n,e){h(e,!0)}var Hp=T('<div class="alert alert-warning"><span>Vous devez être connecté pour voir vos équipes</span></div>'),Bp=T('<div class="flex items-center justify-center py-20"><!></div>'),zp=T('<div class="alert alert-error shadow-lg"><span> </span></div>'),Vp=T(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucune équipe</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé ou rejoint d'équipe.</p> <button class="btn btn-primary btn-sm">Créer ma première équipe</button></div>`),Wp=T('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),Qp=T('<div class="mx-auto max-w-7xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Équipes</h1> <p class="text-base-content/60">Gérez vos équipes et collaborez avec vos collègues</p></div> <button class="btn btn-primary"><!> Créer une équipe</button></div> <!></div> <!> <!>',1);function Gp(n,e){ee(e,!0);let t=R(!1),r=R(null);function a(P){h(r,P,!0)}function s(){h(r,null)}function i(){h(t,!1)}function o(P){i(),a(P)}var l=Qp(),d=H(l),u=f(d),p=m(f(u),2);p.__click=[us,t];var v=f(p);mn(v,{class:"mr-2 h-5 w-5"});var g=m(u,2);{var y=P=>{var E=Hp();b(P,E)},I=P=>{var E=O(),D=H(E);{var $=x=>{var C=Bp(),k=f(C);ma(k,{class:"text-primary h-8 w-8 animate-spin"}),b(x,C)},S=x=>{var C=O(),k=H(C);{var Y=K=>{var le=zp(),re=f(le),ae=f(re);X(()=>G(ae,Je.error)),b(K,le)},L=K=>{var le=O(),re=H(le);{var ae=V=>{var ie=Vp(),j=f(ie),se=f(j);Mt(se,{class:"h-8 w-8 opacity-50"});var de=m(j,6);de.__click=[us,t],b(V,ie)},U=V=>{var ie=Wp();et(ie,21,()=>Je.teams,j=>j.$id,(j,se)=>{Bf(j,{get team(){return c(se)},onClick:de=>a(de)})}),b(V,ie)};N(re,V=>{Je.count===0?V(ae):V(U,!1)},!0)}b(K,le)};N(k,K=>{Je.error?K(Y):K(L,!1)},!0)}b(x,C)};N(D,x=>{Je.loading&&Je.count===0?x($):x(S,!1)},!0)}b(P,E)};N(g,P=>{me.isAuthenticated?P(I,!1):P(y)})}var _=m(d,2);op(_,{get isOpen(){return c(t)},onClose:i,onSuccess:o});var A=m(_,2);Up(A,{get teamId(){return c(r)},onClose:s}),b(n,l),te()}Ze(["click"]);var Kp=T('<div class="flex items-center justify-center py-20"><p class="text-slate-400">Chargement...</p></div>'),Jp=T("<!> <!>",1),Yp=T("<!> <!> <!> <!>",1);function Xp(n,e){ee(e,!0);let t=R(null);bt.addRoute("/",os),bt.addRoute("/dashboard",os),bt.addRoute("/eventEdit",ls),bt.addRoute("/eventEdit/:id",ls),bt.addRoute("/teams",Gp),bt.addRoute("/accept-invite",qf);let r=R(null);ht(()=>{!me.isAuthenticated&&bt.path!=="/"&&bt.path!=="/accept-invite"&&(window.location.hash="/",window.location.pathname="/")}),ht(()=>{bt.match().then(I=>{h(r,I,!0)})});async function a(){try{await me.initializeAuth()}catch(I){console.error("Erreur d'initialisation auth:",I)}}async function s(){try{await Promise.all([Je.initialize(),va.initialize(),kt.initialize()])}catch(I){console.error("Erreur d'initialisation dashboard:",I),h(t,I.message||"Erreur inconnue lors de l'initialisation",!0)}}li(()=>{(async()=>(await a(),me.isAuthenticated&&(window.location.pathname=="/"&&(window.location.pathname="/a"),await s())))()});let i=Z(()=>c(t)||kl.error);var o=Yp(),l=H(o);Gd(l,{});var d=m(l,2);{var u=I=>{const _=Z(()=>c(r).component);var A=O(),P=H(A);Cn(P,()=>c(_),(E,D)=>{D(E,{get params(){return c(r).params},get query(){return c(r).query}})}),b(I,A)},p=I=>{var _=Kp();b(I,_)};N(d,I=>{c(r)?I(u):I(p,!1)})}var v=m(d,2);tu(v,{});var g=m(v,2);{var y=I=>{var _=Jp(),A=H(_);{var P=D=>{Ol(D,{get message(){return c(i)}})};N(A,D=>{c(i)&&D(P)})}var E=m(A,2);nu(E,{get isOpen(){return me.isConflictModalOpen},get conflictData(){return me.conflictData}}),b(I,_)};N(g,I=>{me.isAuthenticated&&I(y)})}b(n,o),te()}let Zn=null;window.location.pathname.startsWith("/a")?Zn=document.getElementById("app"):Zn=document.getElementById("svelte-header");if(!Zn)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${Zn.id}`);oc(Xp,{target:Zn});export{fa as a,Ie as g};
