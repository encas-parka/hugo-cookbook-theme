(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ii=!1;var Yn=Array.isArray,Aa=Array.prototype.indexOf,Xr=Array.from,Ur=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,ai=Object.getOwnPropertyDescriptors,oi=Object.prototype,Ra=Array.prototype,pr=Object.getPrototypeOf,ps=Object.isExtensible;function gn(t){return typeof t=="function"}const ne=()=>{};function Pa(t){return t()}function Hr(t){for(var e=0;e<t.length;e++)t[e]()}function ci(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}function Ta(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const tt=2,Zr=4,hr=8,Kt=16,Dt=32,ln=64,Or=128,lt=256,ar=512,Ge=1024,rt=2048,Jt=4096,ft=8192,dn=16384,vr=32768,Yt=65536,hs=1<<17,Ma=1<<18,En=1<<19,li=1<<20,Br=1<<21,mr=1<<22,sn=1<<23,Tt=Symbol("$state"),di=Symbol("legacy props"),$a=Symbol(""),Ln=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Da(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function xa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ka(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ca(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qa(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ja(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Na(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function La(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ua(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ha(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ba(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const gr=1,yr=2,ui=4,za=8,Wa=16,Qa=1,Va=2,Ga=4,Ka=8,Ja=16,Ya=4,Xa=1,Za=2,Le=Symbol(),Oa="http://www.w3.org/1999/xhtml",Fa="http://www.w3.org/2000/svg",eo="@attach";function to(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function no(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ro=!1;function fi(t){return t===this.v}function so(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function pi(t){return!so(t,this.v)}let An=!1,io=!1;function ao(){An=!0}const oo=[];function vn(t,e=!1,n=!1){return sr(t,new Map,"",oo,null,n)}function sr(t,e,n,r,s=null,i=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Yn(t)){var o=Array(t.length);e.set(t,o),s!==null&&e.set(s,o);for(var c=0;c<t.length;c+=1){var d=t[c];c in t&&(o[c]=sr(d,e,n,r,null,i))}return o}if(pr(t)===oi){o={},e.set(t,o),s!==null&&e.set(s,o);for(var u in t)o[u]=sr(t[u],e,n,r,null,i);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return sr(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let xe=null;function wn(t){xe=t}function Y(t,e=!1,n){xe={p:xe,c:null,e:null,s:t,x:null,l:An&&!e?{s:null,u:null,$:[]}:null}}function X(t){var e=xe,n=e.e;if(n!==null){e.e=null;for(var r of n)Mi(r)}return xe=e.p,{}}function Xn(){return!An||xe!==null&&xe.l===null}let tn=[];function hi(){var t=tn;tn=[],Hr(t)}function Vt(t){if(tn.length===0&&!Un){var e=tn;queueMicrotask(()=>{e===tn&&hi()})}tn.push(t)}function co(){for(;tn.length>0;)hi()}const lo=new WeakMap;function vi(t){var e=F;if(e===null)return te.f|=sn,t;if((e.f&vr)===0){if((e.f&Or)===0)throw!e.parent&&t instanceof Error&&mi(t),t;e.b.error(t)}else bn(t,e)}function bn(t,e){for(;e!==null;){if((e.f&Or)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&mi(t),t}function mi(t){const e=lo.get(t);e&&(Ur(t,"message",{value:e.message}),Ur(t,"stack",{value:e.stack}))}const er=new Set;let Ae=null,ir=null,zr=new Set,yt=[],wr=null,Wr=!1,Un=!1;class ot{current=new Map;#e=new Map;#t=new Set;#n=0;#s=null;#o=[];#c=[];#r=[];#l=[];#d=[];#u=[];skipped_effects=new Set;process(e){yt=[],ir=null;var n=ot.apply(this);for(const i of e)this.#f(i);if(this.#n===0){this.#p();var r=this.#c,s=this.#r;this.#c=[],this.#r=[],this.#l=[],ir=this,Ae=null,vs(r),vs(s),ir=null,this.#s?.resolve()}else this.#i(this.#c),this.#i(this.#r),this.#i(this.#l);n();for(const i of this.#o)Wn(i);this.#o=[]}#f(e){e.f^=Ge;for(var n=e.first;n!==null;){var r=n.f,s=(r&(Dt|ln))!==0,i=s&&(r&Ge)!==0,a=i||(r&ft)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){s?n.f^=Ge:(r&Zr)!==0?this.#r.push(n):(r&Ge)===0&&((r&mr)!==0&&n.b?.is_pending()?this.#o.push(n):Ir(n)&&((n.f&Kt)!==0&&this.#l.push(n),Wn(n)));var o=n.first;if(o!==null){n=o;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#i(e){for(const n of e)((n.f&rt)!==0?this.#d:this.#u).push(n),Oe(n,Ge);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v)}activate(){Ae=this}deactivate(){Ae=null}flush(){if(yt.length>0){if(this.activate(),gi(),Ae!==null&&Ae!==this)return}else this.#n===0&&this.#p();this.deactivate();for(const e of zr)if(zr.delete(e),e(),Ae!==null)break}#p(){for(const e of this.#t)e();if(this.#t.clear(),er.size>1){this.#e.clear();let e=!0;for(const n of er){if(n===this){e=!1;continue}for(const[r,s]of this.current){if(n.current.has(r))if(e)n.current.set(r,s);else continue;yi(r)}if(yt.length>0){Ae=n;const r=ot.apply(n);for(const s of yt)n.#f(s);yt=[],r()}}Ae=null}er.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#d)Oe(e,rt),on(e);for(const e of this.#u)Oe(e,Jt),on(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#s??=ci()).promise}static ensure(){if(Ae===null){const e=Ae=new ot;er.add(Ae),Un||ot.enqueue(()=>{Ae===e&&e.flush()})}return Ae}static enqueue(e){Vt(e)}static apply(e){return ne}}function uo(t){var e=Un;Un=!0;try{for(var n;;){if(co(),yt.length===0&&(Ae?.flush(),yt.length===0))return wr=null,n;gi()}}finally{Un=e}}function gi(){var t=yn;Wr=!0;try{var e=0;for(ws(!0);yt.length>0;){var n=ot.ensure();if(e++>1e3){var r,s;fo()}n.process(yt),Wt.clear()}}finally{Wr=!1,ws(t),wr=null}}function fo(){try{ja()}catch(t){bn(t,wr)}}let en=null;function vs(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(dn|ft))===0&&Ir(r)&&(en=[],Wn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ki(r):r.fn=null),en?.length>0)){Wt.clear();for(const s of en)Wn(s);en=[]}}en=null}}function yi(t){if(t.reactions!==null)for(const e of t.reactions){const n=e.f;(n&tt)!==0?yi(e):(n&(mr|Kt))!==0&&(Oe(e,rt),on(e))}}function on(t){for(var e=wr=t;e.parent!==null;){e=e.parent;var n=e.f;if(Wr&&e===F&&(n&Kt)!==0)return;if((n&(ln|Dt))!==0){if((n&Ge)===0)return;e.f^=Ge}}yt.push(e)}function Fr(t){let e=0,n=Gt(0),r;return()=>{Po()&&(l(n),$i(()=>(e===0&&(r=Pn(()=>t(()=>wt(n)))),e+=1,()=>{Vt(()=>{e-=1,e===0&&(r?.(),r=void 0,wt(n))})})))}}var po=Yt|En|Or;function ho(t,e,n){new vo(t,e,n)}class vo{parent;#e=!1;#t;#n=null;#s;#o;#c;#r=null;#l=null;#d=null;#u=null;#f=0;#i=0;#p=!1;#h=null;#v=()=>{this.#h&&_n(this.#h,this.#f)};#w=Fr(()=>(this.#h=Gt(this.#f),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#s=n,this.#o=r,this.parent=F.b,this.#e=!!this.#s.pending,this.#c=Zt(()=>{F.b=this;{try{this.#r=Ve(()=>r(this.#t))}catch(s){this.error(s)}this.#i>0?this.#g():this.#e=!1}},po)}#b(){try{this.#r=Ve(()=>this.#o(this.#t))}catch(e){this.error(e)}this.#e=!1}#m(){const e=this.#s.pending;e&&(this.#l=Ve(()=>e(this.#t)),ot.enqueue(()=>{this.#r=this.#a(()=>(ot.ensure(),Ve(()=>this.#o(this.#t)))),this.#i>0?this.#g():(Qt(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#a(e){var n=F,r=te,s=xe;It(this.#c),et(this.#c),wn(this.#c.ctx);try{return e()}catch(i){return vi(i),null}finally{It(n),et(r),wn(s)}}#g(){const e=this.#s.pending;this.#r!==null&&(this.#u=document.createDocumentFragment(),mo(this.#r,this.#u)),this.#l===null&&(this.#l=Ve(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#i+=e,this.#i===0&&(this.#e=!1,this.#l&&Qt(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),Vt(()=>{ot.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,zr.add(this.#v)}get_effect_pending(){return this.#w(),l(this.#h)}error(e){var n=this.#s.onerror;let r=this.#s.failed;if(this.#p||!n&&!r)throw e;this.#r&&(Be(this.#r),this.#r=null),this.#l&&(Be(this.#l),this.#l=null),this.#d&&(Be(this.#d),this.#d=null);var s=!1,i=!1;const a=()=>{if(s){no();return}s=!0,i&&Ba(),ot.ensure(),this.#f=0,this.#d!==null&&Qt(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#r=this.#a(()=>(this.#p=!1,Ve(()=>this.#o(this.#t)))),this.#i>0?this.#g():this.#e=!1};var o=te;try{et(null),i=!0,n?.(e,a),i=!1}catch(c){bn(c,this.#c&&this.#c.parent)}finally{et(o)}r&&Vt(()=>{this.#d=this.#a(()=>{this.#p=!0;try{return Ve(()=>{r(this.#t,()=>e,()=>a)})}catch(c){return bn(c,this.#c.parent),null}finally{this.#p=!1}})})}}function mo(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var s=n===r?null:On(n);e.append(n),n=s}}function wi(t,e,n){const r=Xn()?Zn:es;if(e.length===0){n(t.map(r));return}var s=Ae,i=F,a=go();Promise.all(e.map(o=>yo(o))).then(o=>{a();try{n([...t.map(r),...o])}catch(c){(i.f&dn)===0&&bn(c,i)}s?.deactivate(),bi()}).catch(o=>{bn(o,i)})}function go(){var t=F,e=te,n=xe,r=Ae;return function(){It(t),et(e),wn(n),r?.activate()}}function bi(){It(null),et(null),wn(null)}function Zn(t){var e=tt|rt,n=te!==null&&(te.f&tt)!==0?te:null;return F===null||n!==null&&(n.f&lt)!==0?e|=lt:F.f|=En,{ctx:xe,deps:null,effects:null,equals:fi,f:e,fn:t,reactions:null,rv:0,v:Le,wv:0,parent:n??F,ac:null}}function yo(t,e){let n=F;n===null&&xa();var r=n.b,s=void 0,i=Gt(Le),a=!te,o=new Map;return $o(()=>{var c=ci();s=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject)}catch(h){c.reject(h)}var d=Ae,u=r.is_pending();a&&(r.update_pending_count(1),u||(d.increment(),o.get(d)?.reject(Ln),o.set(d,c)));const f=(h,m=void 0)=>{u||d.activate(),m?m!==Ln&&(i.f|=sn,_n(i,m)):((i.f&sn)!==0&&(i.f^=sn),_n(i,h)),a&&(r.update_pending_count(-1),u||d.decrement()),bi()};c.promise.then(f,h=>f(null,h||"unknown"))}),rs(()=>{for(const c of o.values())c.reject(Ln)}),new Promise(c=>{function d(u){function f(){u===s?c(i):d(s)}u.then(f,f)}d(s)})}function J(t){const e=Zn(t);return ji(e),e}function es(t){const e=Zn(t);return e.equals=pi,e}function _i(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Be(e[n])}}function wo(t){for(var e=t.parent;e!==null;){if((e.f&tt)===0)return e;e=e.parent}return null}function ts(t){var e,n=F;It(wo(t));try{_i(t),e=Hi(t)}finally{It(n)}return e}function Ii(t){var e=ts(t);if(t.equals(e)||(t.v=e,t.wv=Li()),!un){var n=(Ut||(t.f&lt)!==0)&&t.deps!==null?Jt:Ge;Oe(t,n)}}const Wt=new Map;function Gt(t,e){var n={f:0,v:t,reactions:null,equals:fi,rv:0,wv:0};return n}function A(t,e){const n=Gt(t);return ji(n),n}function bo(t,e=!1,n=!0){const r=Gt(t);return e||(r.equals=pi),An&&n&&xe!==null&&xe.l!==null&&(xe.l.s??=[]).push(r),r}function p(t,e,n=!1){te!==null&&(!dt||(te.f&hs)!==0)&&Xn()&&(te.f&(tt|Kt|mr|hs))!==0&&!Mt?.includes(t)&&Ha();let r=n?Re(e):e;return _n(t,r)}function _n(t,e){if(!t.equals(e)){var n=t.v;un?Wt.set(t,e):Wt.set(t,n),t.v=e;var r=ot.ensure();r.capture(t,n),(t.f&tt)!==0&&((t.f&rt)!==0&&ts(t),Oe(t,(t.f&lt)===0?Ge:Jt)),t.wv=Li(),Si(t,rt),Xn()&&F!==null&&(F.f&Ge)!==0&&(F.f&(Dt|ln))===0&&(it===null?ko([t]):it.push(t))}return e}function wt(t){p(t,t.v+1)}function Si(t,e){var n=t.reactions;if(n!==null)for(var r=Xn(),s=n.length,i=0;i<s;i++){var a=n[i],o=a.f;if(!(!r&&a===F)){var c=(o&rt)===0;c&&Oe(a,e),(o&tt)!==0?Si(a,Jt):c&&((o&Kt)!==0&&en!==null&&en.push(a),on(a))}}}function Re(t){if(typeof t!="object"||t===null||Tt in t)return t;const e=pr(t);if(e!==oi&&e!==Ra)return t;var n=new Map,r=Yn(t),s=A(0),i=$t,a=o=>{if($t===i)return o();var c=te,d=$t;et(null),_s(i);var u=o();return et(c),_s(d),u};return r&&n.set("length",A(t.length)),new Proxy(t,{defineProperty(o,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&La();var u=n.get(c);return u===void 0?u=a(()=>{var f=A(d.value);return n.set(c,f),f}):p(u,d.value,!0),!0},deleteProperty(o,c){var d=n.get(c);if(d===void 0){if(c in o){const u=a(()=>A(Le));n.set(c,u),wt(s)}}else p(d,Le),wt(s);return!0},get(o,c,d){if(c===Tt)return t;var u=n.get(c),f=c in o;if(u===void 0&&(!f||zt(o,c)?.writable)&&(u=a(()=>{var m=Re(f?o[c]:Le),g=A(m);return g}),n.set(c,u)),u!==void 0){var h=l(u);return h===Le?void 0:h}return Reflect.get(o,c,d)},getOwnPropertyDescriptor(o,c){var d=Reflect.getOwnPropertyDescriptor(o,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=l(u))}else if(d===void 0){var f=n.get(c),h=f?.v;if(f!==void 0&&h!==Le)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return d},has(o,c){if(c===Tt)return!0;var d=n.get(c),u=d!==void 0&&d.v!==Le||Reflect.has(o,c);if(d!==void 0||F!==null&&(!u||zt(o,c)?.writable)){d===void 0&&(d=a(()=>{var h=u?Re(o[c]):Le,m=A(h);return m}),n.set(c,d));var f=l(d);if(f===Le)return!1}return u},set(o,c,d,u){var f=n.get(c),h=c in o;if(r&&c==="length")for(var m=d;m<f.v;m+=1){var g=n.get(m+"");g!==void 0?p(g,Le):m in o&&(g=a(()=>A(Le)),n.set(m+"",g))}if(f===void 0)(!h||zt(o,c)?.writable)&&(f=a(()=>A(void 0)),p(f,Re(d)),n.set(c,f));else{h=f.v!==Le;var b=a(()=>Re(d));p(f,b)}var _=Reflect.getOwnPropertyDescriptor(o,c);if(_?.set&&_.set.call(u,d),!h){if(r&&typeof c=="string"){var E=n.get("length"),$=Number(c);Number.isInteger($)&&$>=E.v&&p(E,$+1)}wt(s)}return!0},ownKeys(o){l(s);var c=Reflect.ownKeys(o).filter(f=>{var h=n.get(f);return h===void 0||h.v!==Le});for(var[d,u]of n)u.v!==Le&&!(d in o)&&c.push(d);return c},setPrototypeOf(){Ua()}})}function ms(t){try{if(t!==null&&typeof t=="object"&&Tt in t)return t[Tt]}catch{}return t}function _o(t,e){return Object.is(ms(t),ms(e))}var gs,Ei,Ai,Ri;function Io(){if(gs===void 0){gs=window,Ei=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ai=zt(e,"firstChild").get,Ri=zt(e,"nextSibling").get,ps(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ps(n)&&(n.__t=void 0)}}function Xt(t=""){return document.createTextNode(t)}function In(t){return Ai.call(t)}function On(t){return Ri.call(t)}function v(t,e){return In(t)}function W(t,e=!1){{var n=In(t);return n instanceof Comment&&n.data===""?On(n):n}}function w(t,e=1,n=!1){let r=t;for(;e--;)r=On(r);return r}function So(t){t.textContent=""}function ns(){return!1}function Eo(t,e){if(e){const n=document.body;t.autofocus=!0,Vt(()=>{document.activeElement===n&&t.focus()})}}let ys=!1;function Ao(){ys||(ys=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Rn(t){var e=te,n=F;et(null),It(null);try{return t()}finally{et(e),It(n)}}function Pi(t,e,n,r=n){t.addEventListener(e,()=>Rn(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r(!0)}:t.__on_r=()=>r(!0),Ao()}function Ti(t){F===null&&te===null&&qa(),te!==null&&(te.f&lt)!==0&&F===null&&Ca(),un&&ka()}function Ro(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function St(t,e,n,r=!0){var s=F;s!==null&&(s.f&ft)!==0&&(t|=ft);var i={ctx:xe,deps:null,nodes_start:null,nodes_end:null,f:t|rt,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Wn(i),i.f|=vr}catch(c){throw Be(i),c}else e!==null&&on(i);if(r){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&En)===0&&(a=a.first),a!==null&&(a.parent=s,s!==null&&Ro(a,s),te!==null&&(te.f&tt)!==0&&(t&ln)===0)){var o=te;(o.effects??=[]).push(a)}}return i}function Po(){return te!==null&&!dt}function rs(t){const e=St(hr,null,!1);return Oe(e,Ge),e.teardown=t,e}function pt(t){Ti();var e=F.f,n=!te&&(e&Dt)!==0&&(e&vr)===0;if(n){var r=xe;(r.e??=[]).push(t)}else return Mi(t)}function Mi(t){return St(Zr|li,t,!1)}function To(t){return Ti(),St(hr|li,t,!0)}function Mo(t){ot.ensure();const e=St(ln|En,t,!0);return(n={})=>new Promise(r=>{n.outro?Qt(e,()=>{Be(e),r(void 0)}):(Be(e),r(void 0))})}function br(t){return St(Zr,t,!1)}function $o(t){return St(mr|En,t,!0)}function $i(t,e=0){return St(hr|e,t,!0)}function ce(t,e=[],n=[]){wi(e,n,r=>{St(hr,()=>t(...r.map(l)),!0)})}function Zt(t,e=0){var n=St(Kt|e,t,!0);return n}function Ve(t,e=!0){return St(Dt|En,t,!0,e)}function Di(t){var e=t.teardown;if(e!==null){const n=un,r=te;bs(!0),et(null);try{e.call(null)}finally{bs(n),et(r)}}}function xi(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Rn(()=>{s.abort(Ln)});var r=n.next;(n.f&ln)!==0?n.parent=null:Be(n,e),n=r}}function Do(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Dt)===0&&Be(e),e=n}}function Be(t,e=!0){var n=!1;(e||(t.f&Ma)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(xo(t.nodes_start,t.nodes_end),n=!0),xi(t,e&&!n),or(t,0),Oe(t,dn);var r=t.transitions;if(r!==null)for(const i of r)i.stop();Di(t);var s=t.parent;s!==null&&s.first!==null&&ki(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function xo(t,e){for(;t!==null;){var n=t===e?null:On(t);t.remove(),t=n}}function ki(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Qt(t,e){var n=[];ss(t,n,!0),Ci(n,()=>{Be(t),e&&e()})}function Ci(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function ss(t,e,n){if((t.f&ft)===0){if(t.f^=ft,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&Yt)!==0||(r.f&Dt)!==0;ss(r,e,i?n:!1),r=s}}}function _r(t){qi(t,!0)}function qi(t,e){if((t.f&ft)!==0){t.f^=ft,(t.f&Ge)===0&&(Oe(t,rt),on(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&Yt)!==0||(n.f&Dt)!==0;qi(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let yn=!1;function ws(t){yn=t}let un=!1;function bs(t){un=t}let te=null,dt=!1;function et(t){te=t}let F=null;function It(t){F=t}let Mt=null;function ji(t){te!==null&&(Mt===null?Mt=[t]:Mt.push(t))}let Xe=null,nt=0,it=null;function ko(t){it=t}let Ni=1,zn=0,$t=zn;function _s(t){$t=t}let Ut=!1;function Li(){return++Ni}function Ir(t){var e=t.f;if((e&rt)!==0)return!0;if((e&Jt)!==0){var n=t.deps,r=(e&lt)!==0;if(n!==null){var s,i,a=(e&ar)!==0,o=r&&F!==null&&!Ut,c=n.length;if((a||o)&&(F===null||(F.f&dn)===0)){var d=t,u=d.parent;for(s=0;s<c;s++)i=n[s],(a||!i?.reactions?.includes(d))&&(i.reactions??=[]).push(d);a&&(d.f^=ar),o&&u!==null&&(u.f&lt)===0&&(d.f^=lt)}for(s=0;s<c;s++)if(i=n[s],Ir(i)&&Ii(i),i.wv>t.wv)return!0}(!r||F!==null&&!Ut)&&Oe(t,Ge)}return!1}function Ui(t,e,n=!0){var r=t.reactions;if(r!==null&&!Mt?.includes(t))for(var s=0;s<r.length;s++){var i=r[s];(i.f&tt)!==0?Ui(i,e,!1):e===i&&(n?Oe(i,rt):(i.f&Ge)!==0&&Oe(i,Jt),on(i))}}function Hi(t){var e=Xe,n=nt,r=it,s=te,i=Ut,a=Mt,o=xe,c=dt,d=$t,u=t.f;Xe=null,nt=0,it=null,Ut=(u&lt)!==0&&(dt||!yn||te===null),te=(u&(Dt|ln))===0?t:null,Mt=null,wn(t.ctx),dt=!1,$t=++zn,t.ac!==null&&(Rn(()=>{t.ac.abort(Ln)}),t.ac=null);try{t.f|=Br;var f=t.fn,h=f(),m=t.deps;if(Xe!==null){var g;if(or(t,nt),m!==null&&nt>0)for(m.length=nt+Xe.length,g=0;g<Xe.length;g++)m[nt+g]=Xe[g];else t.deps=m=Xe;if(!Ut||(u&tt)!==0&&t.reactions!==null)for(g=nt;g<m.length;g++)(m[g].reactions??=[]).push(t)}else m!==null&&nt<m.length&&(or(t,nt),m.length=nt);if(Xn()&&it!==null&&!dt&&m!==null&&(t.f&(tt|Jt|rt))===0)for(g=0;g<it.length;g++)Ui(it[g],t);return s!==null&&s!==t&&(zn++,it!==null&&(r===null?r=it:r.push(...it))),(t.f&sn)!==0&&(t.f^=sn),h}catch(b){return vi(b)}finally{t.f^=Br,Xe=e,nt=n,it=r,te=s,Ut=i,Mt=a,wn(o),dt=c,$t=d}}function Co(t,e){let n=e.reactions;if(n!==null){var r=Aa.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(e.f&tt)!==0&&(Xe===null||!Xe.includes(e))&&(Oe(e,Jt),(e.f&(lt|ar))===0&&(e.f^=ar),_i(e),or(e,0))}function or(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Co(t,n[r])}function Wn(t){var e=t.f;if((e&dn)===0){Oe(t,Ge);var n=F,r=yn;F=t,yn=!0;try{(e&Kt)!==0?Do(t):xi(t),Di(t);var s=Hi(t);t.teardown=typeof s=="function"?s:null,t.wv=Ni;var i;ii&&io&&(t.f&rt)!==0&&t.deps}finally{yn=r,F=n}}}async function qo(){await Promise.resolve(),uo()}function l(t){var e=t.f,n=(e&tt)!==0;if(te!==null&&!dt){var r=F!==null&&(F.f&dn)!==0;if(!r&&!Mt?.includes(t)){var s=te.deps;if((te.f&Br)!==0)t.rv<zn&&(t.rv=zn,Xe===null&&s!==null&&s[nt]===t?nt++:Xe===null?Xe=[t]:(!Ut||!Xe.includes(t))&&Xe.push(t));else{(te.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[te]:i.includes(te)||i.push(te)}}}else if(n&&t.deps===null&&t.effects===null){var a=t,o=a.parent;o!==null&&(o.f&lt)===0&&(a.f^=lt)}if(un){if(Wt.has(t))return Wt.get(t);if(n){a=t;var c=a.v;return((a.f&Ge)===0&&a.reactions!==null||Bi(a))&&(c=ts(a)),Wt.set(a,c),c}}else n&&(a=t,Ir(a)&&Ii(a));if((t.f&sn)!==0)throw t.v;return t.v}function Bi(t){if(t.v===Le)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Wt.has(e)||(e.f&tt)!==0&&Bi(e))return!0;return!1}function Pn(t){var e=dt;try{return dt=!0,t()}finally{dt=e}}const jo=-7169;function Oe(t,e){t.f=t.f&jo|e}function No(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Tt in t)Qr(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Tt in n&&Qr(n)}}}function Qr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Qr(t[r],e)}catch{}const n=pr(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ai(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}function Lo(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Uo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Ho(t){return Uo.includes(t)}const Bo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function zo(t){return t=t.toLowerCase(),Bo[t]??t}const Wo=["touchstart","touchmove"];function Qo(t){return Wo.includes(t)}const zi=new Set,Vr=new Set;function is(t,e,n,r={}){function s(i){if(r.capture||jn.call(e,i),!i.cancelBubble)return Rn(()=>n?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Vt(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function Gr(t,e,n,r={}){var s=is(e,t,n,r);return()=>{t.removeEventListener(e,s,r)}}function Pr(t,e,n,r,s){var i={capture:r,passive:s},a=is(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&rs(()=>{e.removeEventListener(t,a,i)})}function Et(t){for(var e=0;e<t.length;e++)zi.add(t[e]);for(var n of Vr)n(t)}let Is=null;function jn(t){var e=this,n=e.ownerDocument,r=t.type,s=t.composedPath?.()||[],i=s[0]||t.target;Is=t;var a=0,o=Is===t&&t.__root;if(o){var c=s.indexOf(o);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var d=s.indexOf(e);if(d===-1)return;c<=d&&(a=c)}if(i=s[a]||t.target,i!==e){Ur(t,"currentTarget",{configurable:!0,get(){return i||n}});var u=te,f=F;et(null),It(null);try{for(var h,m=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+r];if(b!=null&&(!i.disabled||t.target===i))if(Yn(b)){var[_,...E]=b;_.apply(i,[t,...E])}else b.call(i,t)}catch($){h?m.push($):h=$}if(t.cancelBubble||g===e||g===null)break;i=g}if(h){for(let $ of m)queueMicrotask(()=>{throw $});throw h}}finally{t.__root=e,delete t.currentTarget,et(u),It(f)}}}function Wi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Sn(t,e){var n=F;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function x(t,e){var n=(e&Xa)!==0,r=(e&Za)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Wi(i?t:"<!>"+t),n||(s=In(s)));var a=r||Ei?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=In(a),c=a.lastChild;Sn(o,c)}else Sn(a,a);return a}}function Vo(t,e,n="svg"){var r=!t.startsWith("<!>"),s=`<${n}>${r?t:"<!>"+t}</${n}>`,i;return()=>{if(!i){var a=Wi(s),o=In(a);i=In(o)}var c=i.cloneNode(!0);return Sn(c,c),c}}function Go(t,e){return Vo(t,e,"svg")}function Tr(t=""){{var e=Xt(t+"");return Sn(e,e),e}}function Z(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Xt();return t.append(e,n),Sn(e,n),t}function I(t,e){t!==null&&t.before(e)}let cr=!0;function Ss(t){cr=t}function ee(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Ko(t,e){return Jo(t,e)}const mn=new Map;function Jo(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:a=!0}){Io();var o=new Set,c=f=>{for(var h=0;h<f.length;h++){var m=f[h];if(!o.has(m)){o.add(m);var g=Qo(m);e.addEventListener(m,jn,{passive:g});var b=mn.get(m);b===void 0?(document.addEventListener(m,jn,{passive:g}),mn.set(m,1)):mn.set(m,b+1)}}};c(Xr(zi)),Vr.add(c);var d=void 0,u=Mo(()=>{var f=n??e.appendChild(Xt());return ho(f,{pending:()=>{}},h=>{if(i){Y({});var m=xe;m.c=i}s&&(r.$$events=s),cr=a,d=t(h,r)||{},cr=!0,i&&X()}),()=>{for(var h of o){e.removeEventListener(h,jn);var m=mn.get(h);--m===0?(document.removeEventListener(h,jn),mn.delete(h)):mn.set(h,m)}Vr.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return Yo.set(d,u),d}let Yo=new WeakMap;function z(t,e,n=!1){var r=t,s=null,i=null,a=Le,o=n?Yt:0,c=!1;const d=(m,g=!0)=>{c=!0,h(g,m)};var u=null;function f(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var m=a?s:i,g=a?i:s;m&&_r(m),g&&Qt(g,()=>{a?i=null:s=null})}const h=(m,g)=>{if(a!==(a=m)){var b=ns(),_=r;if(b&&(u=document.createDocumentFragment(),u.append(_=Xt())),a?s??=g&&Ve(()=>g(_)):i??=g&&Ve(()=>g(_)),b){var E=Ae,$=a?s:i,k=a?i:s;$&&E.skipped_effects.delete($),k&&E.skipped_effects.add(k),E.add_callback(f)}else f()}};Zt(()=>{c=!1,e(d),c||h(null,null)},o)}let an=null;function Es(t){an=t}function Qn(t,e){return e}function Xo(t,e,n){for(var r=t.items,s=[],i=e.length,a=0;a<i;a++)ss(e[a].e,s,!0);var o=i>0&&s.length===0&&n!==null;if(o){var c=n.parentNode;So(c),c.append(n),r.clear(),vt(t,e[0].prev,e[i-1].next)}Ci(s,()=>{for(var d=0;d<i;d++){var u=e[d];o||(r.delete(u.k),vt(t,u.prev,u.next)),Be(u.e,!o)}})}function ct(t,e,n,r,s,i=null){var a=t,o={flags:e,items:new Map,first:null},c=(e&ui)!==0;if(c){var d=t;a=d.appendChild(Xt())}var u=null,f=!1,h=new Map,m=es(()=>{var E=n();return Yn(E)?E:E==null?[]:Xr(E)}),g,b;function _(){Zo(b,g,o,h,a,s,e,r,n),i!==null&&(g.length===0?u?_r(u):u=Ve(()=>i(a)):u!==null&&Qt(u,()=>{u=null}))}Zt(()=>{b??=F,g=l(m);var E=g.length;if(!(f&&E===0)){f=E===0;var $,k,P,M;if(ns()){var R=new Set,D=Ae;for(k=0;k<E;k+=1){P=g[k],M=r(P,k);var q=o.items.get(M)??h.get(M);q?(e&(gr|yr))!==0&&Qi(q,P,k,e):($=Vi(null,o,null,null,P,M,k,s,e,n,!0),h.set(M,$)),R.add(M)}for(const[V,le]of o.items)R.has(V)||D.skipped_effects.add(le.e);D.add_callback(_)}else _();l(m)}})}function Zo(t,e,n,r,s,i,a,o,c){var d=(a&za)!==0,u=(a&(gr|yr))!==0,f=e.length,h=n.items,m=n.first,g=m,b,_=null,E,$=[],k=[],P,M,R,D;if(d)for(D=0;D<f;D+=1)P=e[D],M=o(P,D),R=h.get(M),R!==void 0&&(R.a?.measure(),(E??=new Set).add(R));for(D=0;D<f;D+=1){if(P=e[D],M=o(P,D),R=h.get(M),R===void 0){var q=r.get(M);if(q!==void 0){r.delete(M),h.set(M,q);var V=_?_.next:g;vt(n,_,q),vt(n,q,V),Mr(q,V,s),_=q}else{var le=g?g.e.nodes_start:s;_=Vi(le,n,_,_===null?n.first:_.next,P,M,D,i,a,c)}h.set(M,_),$=[],k=[],g=_.next;continue}if(u&&Qi(R,P,D,a),(R.e.f&ft)!==0&&(_r(R.e),d&&(R.a?.unfix(),(E??=new Set).delete(R))),R!==g){if(b!==void 0&&b.has(R)){if($.length<k.length){var Q=k[0],G;_=Q.prev;var _e=$[0],Te=$[$.length-1];for(G=0;G<$.length;G+=1)Mr($[G],Q,s);for(G=0;G<k.length;G+=1)b.delete(k[G]);vt(n,_e.prev,Te.next),vt(n,_,_e),vt(n,Te,Q),g=Q,_=Te,D-=1,$=[],k=[]}else b.delete(R),Mr(R,g,s),vt(n,R.prev,R.next),vt(n,R,_===null?n.first:_.next),vt(n,_,R),_=R;continue}for($=[],k=[];g!==null&&g.k!==M;)(g.e.f&ft)===0&&(b??=new Set).add(g),k.push(g),g=g.next;if(g===null)continue;R=g}$.push(R),_=R,g=R.next}if(g!==null||b!==void 0){for(var de=b===void 0?[]:Xr(b);g!==null;)(g.e.f&ft)===0&&de.push(g),g=g.next;var U=de.length;if(U>0){var H=(a&ui)!==0&&f===0?s:null;if(d){for(D=0;D<U;D+=1)de[D].a?.measure();for(D=0;D<U;D+=1)de[D].a?.fix()}Xo(n,de,H)}}d&&Vt(()=>{if(E!==void 0)for(R of E)R.a?.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var O of r.values())Be(O.e);r.clear()}function Qi(t,e,n,r){(r&gr)!==0&&_n(t.v,e),(r&yr)!==0?_n(t.i,n):t.i=n}function Vi(t,e,n,r,s,i,a,o,c,d,u){var f=an,h=(c&gr)!==0,m=(c&Wa)===0,g=h?m?bo(s,!1,!1):Gt(s):s,b=(c&yr)===0?a:Gt(a),_={i:b,v:g,k:i,a:null,e:null,prev:n,next:r};an=_;try{if(t===null){var E=document.createDocumentFragment();E.append(t=Xt())}return _.e=Ve(()=>o(t,g,b,d),ro),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?u||(e.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{an=f}}function Mr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==null&&i!==r;){var a=On(i);s.before(i),i=a}}function vt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function me(t,e,...n){var r=t,s=ne,i;Zt(()=>{s!==(s=e())&&(i&&(Be(i),i=null),i=Ve(()=>s(r,...n)))},Yt)}function Gi(t,e,n){var r=t,s,i,a=null,o=null;function c(){i&&(Qt(i),i=null),a&&(a.lastChild.remove(),r.before(a),a=null),i=o,o=null}Zt(()=>{if(s!==(s=e())){var d=ns();if(s){var u=r;d&&(a=document.createDocumentFragment(),a.append(u=Xt()),i&&Ae.skipped_effects.add(i)),o=Ve(()=>n(u,s))}d?Ae.add_callback(c):c()}},Yt)}function Oo(t,e,n,r,s,i){var a,o,c=null,d=t,u,f=an;Zt(()=>{const h=e()||null;var m=Fa;if(h!==a){var g=an;Es(f),u&&(h===null?Qt(u,()=>{u=null,o=null}):h===o?_r(u):(Be(u),Ss(!1))),h&&h!==o&&(u=Ve(()=>{if(c=document.createElementNS(m,h),Sn(c,c),r){var b=c.appendChild(Xt());r(c,b)}F.nodes_end=c,d.before(c)})),a=h,a&&(o=a),Ss(!0),Es(g)}},Yt)}function Ki(t,e){var n=void 0,r;Zt(()=>{n!==(n=e())&&(r&&(Be(r),r=null),n&&(r=Ve(()=>{br(()=>n(t))})))})}function Ji(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ji(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fo(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ji(t))&&(r&&(r+=" "),r+=e);return r}function ec(t){return typeof t=="object"?Fo(t):t??""}const As=[...` 	
\r\f \v\uFEFF`];function tc(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var o=a+i;(a===0||As.includes(r[a-1]))&&(o===r.length||As.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Rs(t,e=!1){var n=e?" !important;":";",r="";for(var s in t){var i=t[s];i!=null&&i!==""&&(r+=" "+s+": "+i+n)}return r}function $r(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function nc(t,e){if(e){var n="",r,s;if(Array.isArray(e)?(r=e[0],s=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,c=[];r&&c.push(...Object.keys(r).map($r)),s&&c.push(...Object.keys(s).map($r));var d=0,u=-1;const b=t.length;for(var f=0;f<b;f++){var h=t[f];if(o?h==="/"&&t[f-1]==="*"&&(o=!1):i?i===h&&(i=!1):h==="/"&&t[f+1]==="*"?o=!0:h==='"'||h==="'"?i=h:h==="("?a++:h===")"&&a--,!o&&i===!1&&a===0){if(h===":"&&u===-1)u=f;else if(h===";"||f===b-1){if(u!==-1){var m=$r(t.substring(d,u).trim());if(!c.includes(m)){h!==";"&&f++;var g=t.substring(d,f).trim();n+=" "+g+";"}}d=f+1,u=-1}}}}return r&&(n+=Rs(r)),s&&(n+=Rs(s,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function ut(t,e,n,r,s,i){var a=t.__className;if(a!==n||a===void 0){var o=tc(n,r,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=n}else if(i&&s!==i)for(var c in i){var d=!!i[c];(s==null||d!==!!s[c])&&t.classList.toggle(c,d)}return i}function Dr(t,e={},n,r){for(var s in n){var i=n[s];e[s]!==i&&(n[s]==null?t.style.removeProperty(s):t.style.setProperty(s,i,r))}}function rc(t,e,n,r){var s=t.__style;if(s!==e){var i=nc(e,r);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else r&&(Array.isArray(r)?(Dr(t,n?.[0],r[0]),Dr(t,n?.[1],r[1],"important")):Dr(t,n,r));return r}function lr(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Yn(e))return to();for(var r of t.options)r.selected=e.includes(Hn(r));return}for(r of t.options){var s=Hn(r);if(_o(s,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Yi(t){var e=new MutationObserver(()=>{lr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rs(()=>{e.disconnect()})}function Kr(t,e,n=e){var r=!0;Pi(t,"change",s=>{var i=s?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(i),Hn);else{var o=t.querySelector(i)??t.querySelector("option:not([disabled])");a=o&&Hn(o)}n(a)}),br(()=>{var s=e();if(lr(t,s,r),r&&s===void 0){var i=t.querySelector(":checked");i!==null&&(s=Hn(i),n(s))}t.__value=s,r=!1}),Yi(t)}function Hn(t){return"__value"in t?t.__value:t.value}const kn=Symbol("class"),Cn=Symbol("style"),Xi=Symbol("is custom element"),Zi=Symbol("is html");function Ps(t,e){var n=as(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function sc(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Ht(t,e,n,r){var s=as(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[$a]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Oi(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ic(t,e,n,r,s=!1,i=!1){var a=as(t),o=a[Xi],c=!a[Zi],d=e||{},u=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=ec(n.class):n[kn]&&(n.class=null),n[Cn]&&(n.style??=null);var h=Oi(t);for(const P in n){let M=n[P];if(u&&P==="value"&&M==null){t.value=t.__value="",d[P]=M;continue}if(P==="class"){var m=t.namespaceURI==="http://www.w3.org/1999/xhtml";ut(t,m,M,r,e?.[kn],n[kn]),d[P]=M,d[kn]=n[kn];continue}if(P==="style"){rc(t,M,e?.[Cn],n[Cn]),d[P]=M,d[Cn]=n[Cn];continue}var g=d[P];if(!(M===g&&!(M===void 0&&t.hasAttribute(P)))){d[P]=M;var b=P[0]+P[1];if(b!=="$$")if(b==="on"){const R={},D="$$"+P;let q=P.slice(2);var _=Ho(q);if(Lo(q)&&(q=q.slice(0,-7),R.capture=!0),!_&&g){if(M!=null)continue;t.removeEventListener(q,d[D],R),d[D]=null}if(M!=null)if(_)t[`__${q}`]=M,Et([q]);else{let V=function(le){d[P].call(this,le)};var k=V;d[D]=is(q,t,V,R)}else _&&(t[`__${q}`]=void 0)}else if(P==="style")Ht(t,P,M);else if(P==="autofocus")Eo(t,!!M);else if(!o&&(P==="__value"||P==="value"&&M!=null))t.value=t.__value=M;else if(P==="selected"&&u)sc(t,M);else{var E=P;c||(E=zo(E));var $=E==="defaultValue"||E==="defaultChecked";if(M==null&&!o&&!$)if(a[P]=null,E==="value"||E==="checked"){let R=t;const D=e===void 0;if(E==="value"){let q=R.defaultValue;R.removeAttribute(E),R.defaultValue=q,R.value=R.__value=D?q:null}else{let q=R.defaultChecked;R.removeAttribute(E),R.defaultChecked=q,R.checked=D?q:!1}}else t.removeAttribute(P);else $||h.includes(E)&&(o||typeof M!="string")?(t[E]=M,E in a&&(a[E]=Le)):typeof M!="function"&&Ht(t,E,M)}}}return d}function Ts(t,e,n=[],r=[],s,i=!1,a=!1){wi(n,r,o=>{var c=void 0,d={},u=t.nodeName==="SELECT",f=!1;if(Zt(()=>{var m=e(...o.map(l)),g=ic(t,c,m,s,i,a);f&&u&&"value"in m&&lr(t,m.value);for(let _ of Object.getOwnPropertySymbols(d))m[_]||Be(d[_]);for(let _ of Object.getOwnPropertySymbols(m)){var b=m[_];_.description===eo&&(!c||b!==c[_])&&(d[_]&&Be(d[_]),d[_]=Ve(()=>Ki(t,()=>b))),g[_]=b}c=g}),u){var h=t;br(()=>{lr(h,c.value,!0),Yi(h)})}f=!0})}function as(t){return t.__attributes??={[Xi]:t.nodeName.includes("-"),[Zi]:t.namespaceURI===Oa}}var Ms=new Map;function Oi(t){var e=t.getAttribute("is")||t.nodeName,n=Ms.get(e);if(n)return n;Ms.set(e,n=[]);for(var r,s=t,i=Element.prototype;i!==s;){r=ai(s);for(var a in r)r[a].set&&n.push(a);s=pr(s)}return n}const ac=()=>performance.now(),Pt={tick:t=>requestAnimationFrame(t),now:()=>ac(),tasks:new Set};function Fi(){const t=Pt.now();Pt.tasks.forEach(e=>{e.c(t)||(Pt.tasks.delete(e),e.f())}),Pt.tasks.size!==0&&Pt.tick(Fi)}function oc(t){let e;return Pt.tasks.size===0&&Pt.tick(Fi),{promise:new Promise(n=>{Pt.tasks.add(e={c:t,f:n})}),abort(){Pt.tasks.delete(e)}}}function tr(t,e){Rn(()=>{t.dispatchEvent(new CustomEvent(e))})}function cc(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function $s(t){const e={},n=t.split(";");for(const r of n){const[s,i]=r.split(":");if(!s||i===void 0)break;const a=cc(s.trim());e[a]=i.trim()}return e}const lc=t=>t;function ea(t,e,n){var r=an,s,i,a,o=null;r.a??={element:t,measure(){s=this.element.getBoundingClientRect()},apply(){if(a?.abort(),i=this.element.getBoundingClientRect(),s.left!==i.left||s.right!==i.right||s.top!==i.top||s.bottom!==i.bottom){const c=e()(this.element,{from:s,to:i},n?.());a=dr(this.element,c,void 0,1,()=>{a?.abort(),a=void 0})}},fix(){if(!t.getAnimations().length){var{position:c,width:d,height:u}=getComputedStyle(t);if(c!=="absolute"&&c!=="fixed"){var f=t.style;o={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=u;var h=t.getBoundingClientRect();if(s.left!==h.left||s.top!==h.top){var m=`translate(${s.left-h.left}px, ${s.top-h.top}px)`;f.transform=f.transform?`${f.transform} ${m}`:m}}}},unfix(){if(o){var c=t.style;c.position=o.position,c.width=o.width,c.height=o.height,c.transform=o.transform}}},r.a.element=t}function xr(t,e,n,r){var s=(t&Ya)!==0,i="both",a,o=e.inert,c=e.style.overflow,d,u;function f(){return Rn(()=>a??=n()(e,r?.()??{},{direction:i}))}var h={is_global:s,in(){e.inert=o,tr(e,"introstart"),d=dr(e,f(),u,1,()=>{tr(e,"introend"),d?.abort(),d=a=void 0,e.style.overflow=c})},out(_){e.inert=!0,tr(e,"outrostart"),u=dr(e,f(),d,0,()=>{tr(e,"outroend"),_?.()})},stop:()=>{d?.abort(),u?.abort()}},m=F;if((m.transitions??=[]).push(h),cr){var g=s;if(!g){for(var b=m.parent;b&&(b.f&Yt)!==0;)for(;(b=b.parent)&&(b.f&Kt)===0;);g=!b||(b.f&vr)!==0}g&&br(()=>{Pn(()=>h.in())})}}function dr(t,e,n,r,s){var i=r===1;if(gn(e)){var a,o=!1;return Vt(()=>{if(!o){var _=e({direction:i?"in":"out"});a=dr(t,_,n,r,s)}}),{abort:()=>{o=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!e?.duration)return s(),{abort:ne,deactivate:ne,reset:ne,t:()=>r};const{delay:c=0,css:d,tick:u,easing:f=lc}=e;var h=[];if(i&&n===void 0&&(u&&u(0,1),d)){var m=$s(d(0,1));h.push(m,m)}var g=()=>1-r,b=t.animate(h,{duration:c,fill:"forwards"});return b.onfinish=()=>{b.cancel();var _=n?.t()??1-r;n?.abort();var E=r-_,$=e.duration*Math.abs(E),k=[];if($>0){var P=!1;if(d)for(var M=Math.ceil($/16.666666666666668),R=0;R<=M;R+=1){var D=_+E*f(R/M),q=$s(d(D,1-D));k.push(q),P||=q.overflow==="hidden"}P&&(t.style.overflow="hidden"),g=()=>{var V=b.currentTime;return _+E*f(V/$)},u&&oc(()=>{if(b.playState!=="running")return!1;var V=g();return u(V,1-V),!0})}b=t.animate(k,{duration:$,fill:"forwards"}),b.onfinish=()=>{g=()=>r,u?.(r,1-r),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=ne)},deactivate:()=>{s=ne},reset:()=>{r===0&&u?.(1,0)},t:()=>g()}}function Ze(t,e,n=e){var r=new WeakSet;Pi(t,"input",async s=>{var i=s?t.defaultValue:t.value;if(i=kr(t)?Cr(i):i,n(i),Ae!==null&&r.add(Ae),await qo(),i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),Pn(e)==null&&t.value&&(n(kr(t)?Cr(t.value):t.value),Ae!==null&&r.add(Ae)),$i(()=>{var s=e();if(t===document.activeElement){var i=ir??Ae;if(r.has(i))return}kr(t)&&s===Cr(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function kr(t){var e=t.type;return e==="number"||e==="range"}function Cr(t){return t===""?null:+t}function dc(t=!1){const e=xe,n=e.l.u;if(!n)return;let r=()=>No(e.s);if(t){let s=0,i={};const a=Zn(()=>{let o=!1;const c=e.s;for(const d in c)c[d]!==i[d]&&(i[d]=c[d],o=!0);return o&&s++,s});r=()=>l(a)}n.b.length&&To(()=>{Ds(e,r),Hr(n.b)}),pt(()=>{const s=Pn(()=>n.m.map(Pa));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&pt(()=>{Ds(e,r),Hr(n.a)})}function Ds(t,e){if(t.l.s)for(const n of t.l.s)l(n);e()}let nr=!1;function uc(t){var e=nr;try{return nr=!1,[t(),nr]}finally{nr=e}}const fc={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function ge(t,e,n){return new Proxy({props:t,exclude:e},fc)}const pc={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(gn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let s=t.props[r];gn(s)&&(s=s());const i=zt(s,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(gn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const s=zt(r,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===Tt||e===di)return!1;for(let n of t.props)if(gn(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(gn(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function we(...t){return new Proxy({props:t},pc)}function ke(t,e,n,r){var s=!An||(n&Va)!==0,i=(n&Ka)!==0,a=(n&Ja)!==0,o=r,c=!0,d=()=>(c&&(c=!1,o=a?Pn(r):r),o),u;if(i){var f=Tt in t||di in t;u=zt(t,e)?.set??(f&&e in t?k=>t[e]=k:void 0)}var h,m=!1;i?[h,m]=uc(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=d(),u&&(s&&Na(),u(h)));var g;if(s?g=()=>{var k=t[e];return k===void 0?d():(c=!0,k)}:g=()=>{var k=t[e];return k!==void 0&&(o=void 0),k===void 0?o:k},s&&(n&Ga)===0)return g;if(u){var b=t.$$legacy;return(function(k,P){return arguments.length>0?((!s||!P||b||m)&&u(P?g():k),k):g()})}var _=!1,E=((n&Qa)!==0?Zn:es)(()=>(_=!1,g()));i&&l(E);var $=F;return(function(k,P){if(arguments.length>0){const M=P?l(E):s&&i?Re(k):k;return p(E,M),_=!0,o!==void 0&&(o=M),k}return un&&_||($.f&dn)!==0?E.v:l(E)})}function ta(t){xe===null&&Da(),An&&xe.l!==null?hc(xe).m.push(t):pt(()=>{const e=Pn(t);if(typeof e=="function")return e})}function hc(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const vc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(vc);const mc="modulepreload",gc=function(t){return"/"+t},xs={},ks=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var a=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=d(n.map(u=>{if(u=gc(u),u in xs)return;xs[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":mc,f||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};class Bt extends Map{#e=new Map;#t=A(0);#n=A(0);#s=$t||-1;constructor(e){if(super(),e){for(var[n,r]of e)super.set(n,r);this.#n.v=super.size}}#o(e){return $t===this.#s?A(e):Gt(e)}has(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#o(0),n.set(e,r);else return l(this.#t),!1}return l(r),!0}forEach(e,n){this.#c(),super.forEach(e,n)}get(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#o(0),n.set(e,r);else{l(this.#t);return}}return l(r),super.get(e)}set(e,n){var r=this.#e,s=r.get(e),i=super.get(e),a=super.set(e,n),o=this.#t;if(s===void 0)s=this.#o(0),r.set(e,s),p(this.#n,super.size),wt(o);else if(i!==n){wt(s);var c=o.reactions===null?null:new Set(o.reactions),d=c===null||!s.reactions?.every(u=>c.has(u));d&&wt(o)}return a}delete(e){var n=this.#e,r=n.get(e),s=super.delete(e);return r!==void 0&&(n.delete(e),p(this.#n,super.size),p(r,-1),wt(this.#t)),s}clear(){if(super.size!==0){super.clear();var e=this.#e;p(this.#n,0);for(var n of e.values())p(n,-1);wt(this.#t),e.clear()}}#c(){l(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var r=this.#o(0);e.set(n,r)}}for([,r]of this.#e)l(r)}keys(){return l(this.#t),super.keys()}values(){return this.#c(),super.values()}entries(){return this.#c(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return l(this.#n),super.size}}class yc{#e;#t;constructor(e,n){this.#e=e,this.#t=Fr(n)}get current(){return this.#t(),this.#e()}}const wc=/\(.+\)/,bc=new Set(["all","print","screen","and","or","not","only"]);class _c extends yc{constructor(e,n){let r=wc.test(e)||e.split(/[\s,]+/).some(i=>bc.has(i.trim()))?e:`(${e})`;const s=window.matchMedia(r);super(()=>s.matches,i=>Gr(s,"change",i))}}const Ic=typeof window<"u"?window:void 0;function Sc(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class Ec{#e;#t;constructor(e={}){const{window:n=Ic,document:r=n?.document}=e;n!==void 0&&(this.#e=r,this.#t=Fr(s=>{const i=Gr(n,"focusin",s),a=Gr(n,"focusout",s);return()=>{i(),a()}}))}get current(){return this.#t?.(),this.#e?Sc(this.#e):null}}new Ec;function Ac(t){return typeof t=="function"}function Rc(t,e){if(Ac(t)){const r=t();return r===void 0?e:r}return t===void 0?e:t}function Pc(t,e){let n=A(null);const r=J(()=>Rc(e,250));function s(...i){if(l(n))l(n).timeout&&clearTimeout(l(n).timeout);else{let a,o;const c=new Promise((d,u)=>{a=d,o=u});p(n,{timeout:null,runner:null,promise:c,resolve:a,reject:o},!0)}return l(n).runner=async()=>{if(!l(n))return;const a=l(n);p(n,null);try{a.resolve(await t.apply(this,i))}catch(o){a.reject(o)}},l(n).timeout=setTimeout(l(n).runner,l(r)),l(n).promise}return s.cancel=async()=>{(!l(n)||l(n).timeout===null)&&(await new Promise(i=>setTimeout(i,0)),!l(n)||l(n).timeout===null)||(clearTimeout(l(n).timeout),l(n).reject("Cancelled"),p(n,null))},s.runScheduledNow=async()=>{(!l(n)||!l(n).timeout)&&(await new Promise(i=>setTimeout(i,0)),!l(n)||!l(n).timeout)||(clearTimeout(l(n).timeout),l(n).timeout=null,await l(n).runner?.())},Object.defineProperty(s,"pending",{enumerable:!0,get(){return!!l(n)?.timeout}}),s}function bt(t){if(!t?.trim())return null;try{return JSON.parse(t)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function Sr(t){return t?.length?t.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function Er(t){if(!t?.length)return[];const e=new Map;return t.forEach(n=>{if(!n.q||!n.u||typeof n.q!="number"||isNaN(n.q))return;const r=e.get(n.u)||0;e.set(n.u,r+n.q)}),Array.from(e.entries()).map(([n,r])=>({q:r,u:n}))}function Ar(t,e){if(!t?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=t.map(c=>nn(c.q.toString(),c.u)).join(" et ");return{numeric:t,display:o}}const n=new Map,r=new Map;t.forEach(o=>{const c=parseFloat(o.q);isNaN(c)||n.set(o.u,(n.get(o.u)||0)+c)}),e.forEach(o=>{r.set(o.u,(r.get(o.u)||0)+o.q)});const s=[],i=[];n.forEach((o,c)=>{const d=r.get(c)||0,u=o-d;u>0&&(s.push({q:u,u:c}),i.push(nn(u.toString(),c)))});const a=i.length>0?i.join(" et "):"✅ Complet";return{numeric:s,display:a}}function Fe(t){return t?.length?t.map(e=>nn(e.q.toString(),e.u)).join(" et "):"-"}function nn(t,e){const n=parseFloat(t);if(isNaN(n))return`${t} ${e}`;if((e==="gr."||e==="ml")&&n>=1e3){const r=n/1e3,s=e==="gr."?"kg":"l.";let a=(Math.round(r*100)/100).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),a.endsWith(",00")&&(a=a.slice(0,-3)),`${a} ${s}`}if(!["gr.","ml","kg","l."].includes(e)){let s=(Math.round(n*10)/10).toString();return s.endsWith(",0")&&(s=s.slice(0,-2)),`${s} ${e}`}return`${n} ${e}`}function os(t){if(!t?.length)return[];const e=new Map;return t.forEach(({q:n,u:r})=>{if(typeof n=="number"&&!isNaN(n)){const s=e.get(r)||0;e.set(r,s+n)}}),Array.from(e.entries()).map(([n,r])=>({q:r,u:n}))}function Tc(t){return t?Object.values(t).some(e=>e.recipes?.some(n=>n.q!==void 0||n.u!==void 0)):!1}function cs(t){if(!t)return[];const e=Object.values(t).flatMap(n=>n.totalConsolidated);return os(e)}function na(t,e){const n=new Map,r=new Map;t.forEach(({q:a,u:o})=>{n.set(o,(n.get(o)||0)+a)}),e.forEach(({q:a,u:o})=>{r.set(o,(r.get(o)||0)+a)});const s=[],i=new Set([...n.keys(),...r.keys()]);for(const a of i){const o=n.get(a)||0,c=r.get(a)||0,d=o-c;Math.abs(d)>.001&&s.push({q:d,u:a})}return s}function ls(t){if(!t?.length)return"Équilibré";const e=t.filter(r=>r.q>0),n=t.filter(r=>r.q<0);if(e.length>0&&n.length>0){const r=e.map(i=>nn(i.q.toString(),i.u)).join(" et "),s=n.map(i=>nn(Math.abs(i.q).toString(),i.u)).join(" et ");return`${r} disponibles, ${s} manquant${n.length>1?"s":""}`}else return e.length>0?e.map(r=>"+"+nn(r.q.toString(),r.u)).join(" et ")+" disponibles":n.length>0?n.map(r=>nn(Math.abs(r.q).toString(),r.u)).join(" et ")+` manquant${n.length>1?"s":""}`:"Équilibré"}function Mc(t,e){if(e.searchQuery.trim()){const n=e.searchQuery.toLowerCase();if(!t.productName.toLowerCase().includes(n))return!1}return!(e.selectedStores.length>0&&(!t.storeInfo?.storeName||!e.selectedStores.includes(t.storeInfo.storeName))||e.selectedWho.length>0&&(!t.who||!t.who.some(n=>e.selectedWho.includes(n)))||e.selectedProductTypes.length>0&&(!t.productType||!e.selectedProductTypes.includes(t.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&t.pFrais||e.selectedTemperatures.includes("surgele")&&t.pSurgel))}function Cs(t){return{...t,products:t.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:t.mainId}}function $c(t){const e=bt(t.specs)??null,n=Er(Sr(t.purchases??[]));let r=[];e?.quantity&&(r=[e.quantity]);const{numeric:s,display:i}=Ar(r,n),a=bt(t.stockReel)??null,o=Fe(n),c=t.store?bt(t.store):null,d=a?`${a.quantity} ${a.unit}`:o;return{$id:t.$id,$createdAt:t.$createdAt,$updatedAt:t.$updatedAt,productHugoUuid:t.productHugoUuid||"",productName:t.productName,productType:t.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:t.isSynced,mainId:t.mainId,totalNeededRaw:[],status:t.status,who:t.who,store:t.store,stockReel:t.stockReel,previousNames:t.previousNames,isMerged:t.isMerged,mergedFrom:t.mergedFrom,mergeDate:t.mergeDate,mergeReason:t.mergeReason,mergedInto:t.mergedInto,totalNeededOverride:t.totalNeededOverride,purchases:t.purchases,specs:t.specs,byDate:{},storeInfo:c,stockParsed:a,specsParsed:e,totalNeededArray:r,totalPurchasesArray:n,missingQuantityArray:s,stockOrTotalPurchases:d,displayTotalNeeded:Fe(r),displayTotalPurchases:o,displayMissingQuantity:i,totalNeededOverrideParsed:bt(t.totalNeededOverride),displayTotalOverride:(()=>{const u=bt(t.totalNeededOverride);return u?Fe([u.totalOverride]):""})()}}function rr(t,e){const n=t.purchases??e.purchases,r=t.specs??e.specs,s=r?bt(r):e.specsParsed,i=Er(Sr(n??[])),a=Fe(i);let o=e.totalNeededArray;!e.productHugoUuid&&s?.quantity&&(o=[s.quantity]);const{numeric:c,display:d}=Ar(o,i),u=t.stockReel??e.stockReel,f=u?bt(u):e.stockParsed,h=t.store??e.store,m=h?bt(h):e.storeInfo,g=f?`${f.quantity} ${f.unit}`:a;return t.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:t.$updatedAt,productName:t.productName??e.productName,productType:t.productType??e.productType,isSynced:t.isSynced??e.isSynced,mainId:t.mainId??e.mainId,pFrais:s?.pFrais??e.pFrais,pSurgel:s?.pSurgel??e.pSurgel,status:t.status??e.status,who:t.who??e.who,store:h,stockReel:u,specs:r,purchases:n,previousNames:t.previousNames??e.previousNames,isMerged:t.isMerged??e.isMerged,mergedFrom:t.mergedFrom??e.mergedFrom,mergeDate:t.mergeDate??e.mergeDate,mergeReason:t.mergeReason??e.mergeReason,mergedInto:t.mergedInto??e.mergedInto,totalNeededOverride:t.totalNeededOverride??e.totalNeededOverride,storeInfo:m,stockParsed:f,specsParsed:s,totalNeededArray:o,totalPurchasesArray:i,missingQuantityArray:c,stockOrTotalPurchases:g,displayTotalPurchases:a,displayMissingQuantity:d,displayTotalNeeded:Fe(o),totalNeededOverrideParsed:bt(t.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const b=bt(t.totalNeededOverride??e.totalNeededOverride);return b?Fe([b.totalOverride]):""})()}}class Dc{#e=A(Re([]));MAX_TOASTS=3;get toasts(){return[...l(this.#e)].sort((e,n)=>n.timestamp-e.timestamp)}create(e){const n=e.id||crypto.randomUUID(),r={id:n,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,details:e.details,actions:e.actions||[]};return this.#t(r),n}update(e,n){const r=l(this.#e).findIndex(i=>i.id===e);if(r===-1)return;const s=l(this.#e)[r];s.timeoutId&&clearTimeout(s.timeoutId),l(this.#e)[r]={...s,state:n.state||s.state,message:n.message||s.message,source:n.source||s.source,actions:n.actions||s.actions},this.#n(l(this.#e)[r])}async track(e,n){const r=this.create({id:n.id,state:"loading",message:n.loading,source:"user"});try{const s=await e;return this.update(r,{state:"success",message:n.success||"Opération réussie"}),s}catch(s){throw this.update(r,{state:"error",message:n.error||"Erreur lors de l'opération"}),s}}dismiss(e){const n=l(this.#e).findIndex(s=>s.id===e);if(n===-1)return;const r=l(this.#e)[n];r.timeoutId&&clearTimeout(r.timeoutId),l(this.#e).splice(n,1)}dismissAll(){l(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),p(this.#e,[],!0)}#t(e){if(e.source==="user"){const n=l(this.#e).findIndex(r=>r.source==="user");n>=0?l(this.#e)[n]=e:l(this.#e).push(e)}else{const n=l(this.#e).filter(r=>r.source!=="user");if(n.length>=2){const r=n[0];this.dismiss(r.id)}l(this.#e).push(e)}l(this.#e).length>this.MAX_TOASTS&&l(this.#e).splice(0,l(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){if(e.state!=="success"&&e.state!=="info")return;const n=e.source==="realtime-other"?4e3:2e3;e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},n)}success(e,n){return this.create({state:"success",message:e,details:n})}error(e,n){return this.create({state:"error",message:e,details:n})}warning(e,n){return this.create({state:"warning",message:e,source:n?.source||"system",details:n?.details,actions:n?.actions})}info(e,n){return this.create({state:"info",message:e,source:n?.source||"system",details:n?.details})}loading(e,n){return this.create({state:"loading",message:e,details:n})}}const at=new Dc;function qr(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((r=r.apply(t,[])).next())})}function xc(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}class S{constructor(e,n,r){this.method=e,this.attribute=n,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}S.equal=(t,e)=>new S("equal",t,e).toString();S.notEqual=(t,e)=>new S("notEqual",t,e).toString();S.lessThan=(t,e)=>new S("lessThan",t,e).toString();S.lessThanEqual=(t,e)=>new S("lessThanEqual",t,e).toString();S.greaterThan=(t,e)=>new S("greaterThan",t,e).toString();S.greaterThanEqual=(t,e)=>new S("greaterThanEqual",t,e).toString();S.isNull=t=>new S("isNull",t).toString();S.isNotNull=t=>new S("isNotNull",t).toString();S.between=(t,e,n)=>new S("between",t,[e,n]).toString();S.startsWith=(t,e)=>new S("startsWith",t,e).toString();S.endsWith=(t,e)=>new S("endsWith",t,e).toString();S.select=t=>new S("select",void 0,t).toString();S.search=(t,e)=>new S("search",t,e).toString();S.orderDesc=t=>new S("orderDesc",t).toString();S.orderAsc=t=>new S("orderAsc",t).toString();S.orderRandom=()=>new S("orderRandom").toString();S.cursorAfter=t=>new S("cursorAfter",void 0,t).toString();S.cursorBefore=t=>new S("cursorBefore",void 0,t).toString();S.limit=t=>new S("limit",void 0,t).toString();S.offset=t=>new S("offset",void 0,t).toString();S.contains=(t,e)=>new S("contains",t,e).toString();S.notContains=(t,e)=>new S("notContains",t,e).toString();S.notSearch=(t,e)=>new S("notSearch",t,e).toString();S.notBetween=(t,e,n)=>new S("notBetween",t,[e,n]).toString();S.notStartsWith=(t,e)=>new S("notStartsWith",t,e).toString();S.notEndsWith=(t,e)=>new S("notEndsWith",t,e).toString();S.createdBefore=t=>S.lessThan("$createdAt",t);S.createdAfter=t=>S.greaterThan("$createdAt",t);S.createdBetween=(t,e)=>S.between("$createdAt",t,e);S.updatedBefore=t=>S.lessThan("$updatedAt",t);S.updatedAfter=t=>S.greaterThan("$updatedAt",t);S.updatedBetween=(t,e)=>S.between("$updatedAt",t,e);S.or=t=>new S("or",void 0,t.map(e=>JSON.parse(e))).toString();S.and=t=>new S("and",void 0,t.map(e=>JSON.parse(e))).toString();S.distanceEqual=(t,e,n,r=!0)=>new S("distanceEqual",t,[[e,n,r]]).toString();S.distanceNotEqual=(t,e,n,r=!0)=>new S("distanceNotEqual",t,[[e,n,r]]).toString();S.distanceGreaterThan=(t,e,n,r=!0)=>new S("distanceGreaterThan",t,[[e,n,r]]).toString();S.distanceLessThan=(t,e,n,r=!0)=>new S("distanceLessThan",t,[[e,n,r]]).toString();S.intersects=(t,e)=>new S("intersects",t,[e]).toString();S.notIntersects=(t,e)=>new S("notIntersects",t,[e]).toString();S.crosses=(t,e)=>new S("crosses",t,[e]).toString();S.notCrosses=(t,e)=>new S("notCrosses",t,[e]).toString();S.overlaps=(t,e)=>new S("overlaps",t,[e]).toString();S.notOverlaps=(t,e)=>new S("notOverlaps",t,[e]).toString();S.touches=(t,e)=>new S("touches",t,[e]).toString();S.notTouches=(t,e)=>new S("notTouches",t,[e]).toString();class y extends Error{constructor(e,n=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=r,this.response=s}}class gt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;this.config.project&&s.set("project",this.config.project),this.realtime.channels.forEach(a=>{s.append("channels[]",a)});const i=this.config.endpointRealtime+"/realtime?"+s.toString();(i!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",a=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",a=>{var o,c,d;if(!this.realtime.reconnect||((c=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||c===void 0?void 0:c.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,a.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var n,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":let i=this.config.session;if(!i){const c=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}");i=c?.[`a_session_${this.config.project}`]}const a=s.data;i&&!a.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:i}})));break;case"event":let o=s.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(u=>d.channels.includes(u))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([s,i])=>i.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new y("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new y("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let r=typeof e=="string"?[e]:e;r.forEach(i=>this.realtime.channels.add(i));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,n,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const a=window.localStorage.getItem("cookieFallback");a&&(r["X-Fallback-Cookies"]=a)}let i={method:e,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(i.credentials="include"),e==="GET")for(const[a,o]of Object.entries(gt.flatten(s)))n.searchParams.append(a,o);else switch(r["content-type"]){case"application/json":i.body=JSON.stringify(s);break;case"multipart/form-data":const a=new FormData;for(const[o,c]of Object.entries(s))if(c instanceof File)a.append(o,c,c.name);else if(Array.isArray(c))for(const d of c)a.append(`${o}[]`,d);else a.append(o,c);i.body=a,delete r["content-type"];break}return{uri:n.toString(),options:i}}chunkedUpload(e,n,r={},s={},i){var a;return qr(this,void 0,void 0,function*(){const[o,c]=(a=Object.entries(s).find(([f,h])=>h instanceof File))!==null&&a!==void 0?a:[];if(!c||!o)throw new Error("File not found in payload");if(c.size<=gt.CHUNK_SIZE)return yield this.call(e,n,r,s);let d=0,u=null;for(;d<c.size;){let f=d+gt.CHUNK_SIZE;f>=c.size&&(f=c.size),r["content-range"]=`bytes ${d}-${f-1}/${c.size}`;const h=c.slice(d,f);let m=Object.assign({},s);m[o]=new File([h],c.name),u=yield this.call(e,n,r,m),i&&typeof i=="function"&&i({$id:u.$id,progress:Math.round(f/c.size*100),sizeUploaded:f,chunksTotal:Math.ceil(c.size/gt.CHUNK_SIZE),chunksUploaded:Math.ceil(f/gt.CHUNK_SIZE)}),u&&u.$id&&(r["x-appwrite-id"]=u.$id),d=f}return u})}ping(){return qr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,r={},s={},i="json"){var a,o;return qr(this,void 0,void 0,function*(){const{uri:c,options:d}=this.prepareRequest(e,n,r,s);let u=null;const f=yield fetch(c,d);if(f.type==="opaque")throw new y(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const h=f.headers.get("x-appwrite-warning");if(h&&h.split(";").forEach(g=>console.warn("Warning: "+g)),!((a=f.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")?u=yield f.json():i==="arrayBuffer"?u=yield f.arrayBuffer():u={message:yield f.text()},400<=f.status){let g="";throw!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||i==="arrayBuffer"?g=JSON.stringify(u):g=u?.message,new y(u?.message,f.status,u?.type,g)}const m=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&m&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",m)),u})}static flatten(e,n=""){let r={};for(const[s,i]of Object.entries(e)){let a=n?n+"["+s+"]":s;Array.isArray(i)?r=Object.assign(Object.assign({},r),gt.flatten(i,a)):r[a]=i}return r}}gt.CHUNK_SIZE=1024*1024*5;class Vn{constructor(e){this.client=e}static flatten(e,n=""){let r={};for(const[s,i]of Object.entries(e)){let a=n?n+"["+s+"]":s;Array.isArray(i)?r=Object.assign(Object.assign({},r),Vn.flatten(i,a)):r[a]=i}return r}}Vn.CHUNK_SIZE=5*1024*1024;class kc{constructor(e){this.client=e}get(){const e="/account",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}create(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],password:n[1],name:n[2]};const s=r.userId,i=r.email,a=r.password,o=r.name;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');if(typeof a>"u")throw new y('Missing required parameter: "password"');const c="/account",d={};typeof s<"u"&&(d.userId=s),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.password=a),typeof o<"u"&&(d.name=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}updateEmail(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const s=r.email,i=r.password;if(typeof s>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/email",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}listIdentities(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:n[0]};const s=r.queries,i=r.total,a="/account/identities",o={};typeof s<"u"&&(o.queries=s),typeof i<"u"&&(o.total=i);const c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}deleteIdentity(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={identityId:e};const r=n.identityId;if(typeof r>"u")throw new y('Missing required parameter: "identityId"');const s="/account/identities/{identityId}".replace("{identityId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createJWT(){const e="/account/jwts",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}listLogs(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,total:n[0]};const s=r.queries,i=r.total,a="/account/logs",o={};typeof s<"u"&&(o.queries=s),typeof i<"u"&&(o.total=i);const c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}updateMFA(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={mfa:e};const r=n.mfa;if(typeof r>"u")throw new y('Missing required parameter: "mfa"');const s="/account/mfa",i={};typeof r<"u"&&(i.mfa=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new y('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new y('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const s=r.type,i=r.otp;if(typeof s>"u")throw new y('Missing required parameter: "type"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",s),o={};typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateMFAAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const s=r.type,i=r.otp;if(typeof s>"u")throw new y('Missing required parameter: "type"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",s),o={};typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}deleteMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new y('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}deleteMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new y('Missing required parameter: "type"');const s="/account/mfa/authenticators/{type}".replace("{type}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createMfaChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new y('Missing required parameter: "factor"');const s="/account/mfa/challenge",i={};typeof r<"u"&&(i.factor=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new y('Missing required parameter: "factor"');const s="/account/mfa/challenge",i={};typeof r<"u"&&(i.factor=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const s=r.challengeId,i=r.otp;if(typeof s>"u")throw new y('Missing required parameter: "challengeId"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof s<"u"&&(o.challengeId=s),typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateMFAChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const s=r.challengeId,i=r.otp;if(typeof s>"u")throw new y('Missing required parameter: "challengeId"');if(typeof i>"u")throw new y('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof s<"u"&&(o.challengeId=s),typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}listMfaFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}listMFAFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}updateName(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={name:e};const r=n.name;if(typeof r>"u")throw new y('Missing required parameter: "name"');const s="/account/name",i={};typeof r<"u"&&(i.name=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}updatePassword(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={password:e,oldPassword:n[0]};const s=r.password,i=r.oldPassword;if(typeof s>"u")throw new y('Missing required parameter: "password"');const a="/account/password",o={};typeof s<"u"&&(o.password=s),typeof i<"u"&&(o.oldPassword=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}updatePhone(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={phone:e,password:n[0]};const s=r.phone,i=r.password;if(typeof s>"u")throw new y('Missing required parameter: "phone"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/phone",o={};typeof s<"u"&&(o.phone=s),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}getPrefs(){const e="/account/prefs",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}updatePrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?n=e||{}:n={prefs:e};const r=n.prefs;if(typeof r>"u")throw new y('Missing required parameter: "prefs"');const s="/account/prefs",i={};typeof r<"u"&&(i.prefs=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,url:n[0]};const s=r.email,i=r.url;if(typeof s>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "url"');const a="/account/recovery",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.url=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}updateRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0],password:n[1]};const s=r.userId,i=r.secret,a=r.password;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');if(typeof a>"u")throw new y('Missing required parameter: "password"');const o="/account/recovery",c={};typeof s<"u"&&(c.userId=s),typeof i<"u"&&(c.secret=i),typeof a<"u"&&(c.password=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",d,u,c)}listSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),s={};return this.client.call("get",r,s,n)}deleteSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("delete",r,s,n)}createAnonymousSession(){const e="/account/sessions/anonymous",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}createEmailPasswordSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const s=r.email,i=r.password;if(typeof s>"u")throw new y('Missing required parameter: "email"');if(typeof i>"u")throw new y('Missing required parameter: "password"');const a="/account/sessions/email",o={};typeof s<"u"&&(o.email=s),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}updateMagicURLSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/magic-url",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createOAuth2Session(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const s=r.provider,i=r.success,a=r.failure,o=r.scopes;if(typeof s>"u")throw new y('Missing required parameter: "provider"');const c="/account/sessions/oauth2/{provider}".replace("{provider}",s),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+c);d.project=this.client.config.project;for(const[f,h]of Object.entries(Vn.flatten(d)))u.searchParams.append(f,h);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}updatePhoneSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/sessions/token",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}getSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new y('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new y('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}deleteSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new y('Missing required parameter: "sessionId"');const s="/account/sessions/{sessionId}".replace("{sessionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}updateStatus(){const e="/account/status",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("patch",r,s,n)}createPushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0],providerId:n[1]};const s=r.targetId,i=r.identifier,a=r.providerId;if(typeof s>"u")throw new y('Missing required parameter: "targetId"');if(typeof i>"u")throw new y('Missing required parameter: "identifier"');const o="/account/targets/push",c={};typeof s<"u"&&(c.targetId=s),typeof i<"u"&&(c.identifier=i),typeof a<"u"&&(c.providerId=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}updatePushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0]};const s=r.targetId,i=r.identifier;if(typeof s>"u")throw new y('Missing required parameter: "targetId"');if(typeof i>"u")throw new y('Missing required parameter: "identifier"');const a="/account/targets/{targetId}/push".replace("{targetId}",s),o={};typeof i<"u"&&(o.identifier=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}deletePushTarget(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e};const r=n.targetId;if(typeof r>"u")throw new y('Missing required parameter: "targetId"');const s="/account/targets/{targetId}/push".replace("{targetId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createEmailToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],phrase:n[1]};const s=r.userId,i=r.email,a=r.phrase;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');const o="/account/tokens/email",c={};typeof s<"u"&&(c.userId=s),typeof i<"u"&&(c.email=i),typeof a<"u"&&(c.phrase=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}createMagicURLToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],url:n[1],phrase:n[2]};const s=r.userId,i=r.email,a=r.url,o=r.phrase;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "email"');const c="/account/tokens/magic-url",d={};typeof s<"u"&&(d.userId=s),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.url=a),typeof o<"u"&&(d.phrase=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}createOAuth2Token(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const s=r.provider,i=r.success,a=r.failure,o=r.scopes;if(typeof s>"u")throw new y('Missing required parameter: "provider"');const c="/account/tokens/oauth2/{provider}".replace("{provider}",s),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+c);d.project=this.client.config.project;for(const[f,h]of Object.entries(Vn.flatten(d)))u.searchParams.append(f,h);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}createPhoneToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,phone:n[0]};const s=r.userId,i=r.phone;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "phone"');const a="/account/tokens/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.phone=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}createEmailVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const r=n.url;if(typeof r>"u")throw new y('Missing required parameter: "url"');const s="/account/verifications/email",i={};typeof r<"u"&&(i.url=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const r=n.url;if(typeof r>"u")throw new y('Missing required parameter: "url"');const s="/account/verifications/email",i={};typeof r<"u"&&(i.url=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateEmailVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createPhoneVerification(){const e="/account/verifications/phone",n={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return this.client.call("post",r,s,n)}updatePhoneVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const s=r.userId,i=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "userId"');if(typeof i>"u")throw new y('Missing required parameter: "secret"');const a="/account/verifications/phone",o={};typeof s<"u"&&(o.userId=s),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}}class Cc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,s="/databases/transactions",i={};typeof r<"u"&&(i.queries=r);const a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const r=n.ttl,s="/databases/transactions",i={};typeof r<"u"&&(i.ttl=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const s="/databases/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:n[0],rollback:n[1]};const s=r.transactionId,i=r.commit,a=r.rollback;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",s),c={};typeof i<"u"&&(c.commit=i),typeof a<"u"&&(c.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const s="/databases/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:n[0]};const s=r.transactionId,i=r.operations;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}/operations".replace("{transactionId}",s),o={};typeof i<"u"&&(o.operations=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}listDocuments(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const s=r.databaseId,i=r.collectionId,a=r.queries,o=r.transactionId,c=r.total;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",s).replace("{collectionId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof c<"u"&&(u.total=c);const f=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",f,h,u)}createDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",s).replace("{collectionId}",i),f={};typeof a<"u"&&(f.documentId=a),typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",h,m,f)}getDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],queries:n[2],transactionId:n[3]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.queries,c=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),u={};typeof o<"u"&&(u.queries=o),typeof c<"u"&&(u.transactionId=c);const f=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",f,h,u)}upsertDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",h,m,f)}updateDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",h,m,f)}deleteDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],transactionId:n[2]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');const c="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],min:n[4],transactionId:n[5]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.attribute,c=r.value,d=r.min,u=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),h={};typeof c<"u"&&(h.value=c),typeof d<"u"&&(h.min=d),typeof u<"u"&&(h.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}incrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],max:n[4],transactionId:n[5]};const s=r.databaseId,i=r.collectionId,a=r.documentId,o=r.attribute,c=r.value,d=r.max,u=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "collectionId"');if(typeof a>"u")throw new y('Missing required parameter: "documentId"');if(typeof o>"u")throw new y('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",s).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),h={};typeof c<"u"&&(h.value=c),typeof d<"u"&&(h.max=d),typeof u<"u"&&(h.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}}class qc{constructor(e){this.client=e}listExecutions(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,queries:n[0],total:n[1]};const s=r.functionId,i=r.queries,a=r.total;if(typeof s>"u")throw new y('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",s),c={};typeof i<"u"&&(c.queries=i),typeof a<"u"&&(c.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,c)}createExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,body:n[0],async:n[1],xpath:n[2],method:n[3],headers:n[4],scheduledAt:n[5]};const s=r.functionId,i=r.body,a=r.async,o=r.xpath,c=r.method,d=r.headers,u=r.scheduledAt;if(typeof s>"u")throw new y('Missing required parameter: "functionId"');const f="/functions/{functionId}/executions".replace("{functionId}",s),h={};typeof i<"u"&&(h.body=i),typeof a<"u"&&(h.async=a),typeof o<"u"&&(h.path=o),typeof c<"u"&&(h.method=c),typeof d<"u"&&(h.headers=d),typeof u<"u"&&(h.scheduledAt=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,h)}getExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,executionId:n[0]};const s=r.functionId,i=r.executionId;if(typeof s>"u")throw new y('Missing required parameter: "functionId"');if(typeof i>"u")throw new y('Missing required parameter: "executionId"');const a="/functions/{functionId}/executions/{executionId}".replace("{functionId}",s).replace("{executionId}",i),o={},c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}}class jc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,s="/tablesdb/transactions",i={};typeof r<"u"&&(i.queries=r);const a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const r=n.ttl,s="/tablesdb/transactions",i={};typeof r<"u"&&(i.ttl=r);const a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const s="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,commit:n[0],rollback:n[1]};const s=r.transactionId,i=r.commit,a=r.rollback;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),c={};typeof i<"u"&&(c.commit=i),typeof a<"u"&&(c.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const r=n.transactionId;if(typeof r>"u")throw new y('Missing required parameter: "transactionId"');const s="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={transactionId:e,operations:n[0]};const s=r.transactionId,i=r.operations;if(typeof s>"u")throw new y('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",s),o={};typeof i<"u"&&(o.operations=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}listRows(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const s=r.databaseId,i=r.tableId,a=r.queries,o=r.transactionId,c=r.total;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",s).replace("{tableId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof c<"u"&&(u.total=c);const f=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",f,h,u)}createRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "data"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",s).replace("{tableId}",i),f={};typeof a<"u"&&(f.rowId=a),typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("post",h,m,f)}getRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],queries:n[2],transactionId:n[3]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.queries,c=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),u={};typeof o<"u"&&(u.queries=o),typeof c<"u"&&(u.transactionId=c);const f=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",f,h,u)}upsertRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("put",h,m,f)}updateRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.data,c=r.permissions,d=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const h=new URL(this.client.config.endpoint+u),m={"content-type":"application/json"};return this.client.call("patch",h,m,f)}deleteRow(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],transactionId:n[2]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');const c="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementRowColumn(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],min:n[4],transactionId:n[5]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.column,c=r.value,d=r.min,u=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),h={};typeof c<"u"&&(h.value=c),typeof d<"u"&&(h.min=d),typeof u<"u"&&(h.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}incrementRowColumn(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],max:n[4],transactionId:n[5]};const s=r.databaseId,i=r.tableId,a=r.rowId,o=r.column,c=r.value,d=r.max,u=r.transactionId;if(typeof s>"u")throw new y('Missing required parameter: "databaseId"');if(typeof i>"u")throw new y('Missing required parameter: "tableId"');if(typeof a>"u")throw new y('Missing required parameter: "rowId"');if(typeof o>"u")throw new y('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",s).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),h={};typeof c<"u"&&(h.value=c),typeof d<"u"&&(h.max=d),typeof u<"u"&&(h.transactionId=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("patch",m,g,h)}}class Nc{constructor(e){this.client=e}list(e,...n){let r;!e||e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={queries:e,search:n[0],total:n[1]};const s=r.queries,i=r.search,a=r.total,o="/teams",c={};typeof s<"u"&&(c.queries=s),typeof i<"u"&&(c.search=i),typeof a<"u"&&(c.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,c)}create(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:n[0],roles:n[1]};const s=r.teamId,i=r.name,a=r.roles;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "name"');const o="/teams",c={};typeof s<"u"&&(c.teamId=s),typeof i<"u"&&(c.name=i),typeof a<"u"&&(c.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}get(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');const s="/teams/{teamId}".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updateName(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,name:n[0]};const s=r.teamId,i=r.name;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "name"');const a="/teams/{teamId}".replace("{teamId}",s),o={};typeof i<"u"&&(o.name=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}delete(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');const s="/teams/{teamId}".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}listMemberships(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,queries:n[0],search:n[1],total:n[2]};const s=r.teamId,i=r.queries,a=r.search,o=r.total;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');const c="/teams/{teamId}/memberships".replace("{teamId}",s),d={};typeof i<"u"&&(d.queries=i),typeof a<"u"&&(d.search=a),typeof o<"u"&&(d.total=o);const u=new URL(this.client.config.endpoint+c),f={};return this.client.call("get",u,f,d)}createMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,roles:n[0],email:n[1],userId:n[2],phone:n[3],url:n[4],name:n[5]};const s=r.teamId,i=r.roles,a=r.email,o=r.userId,c=r.phone,d=r.url,u=r.name;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",s),h={};typeof a<"u"&&(h.email=a),typeof o<"u"&&(h.userId=o),typeof c<"u"&&(h.phone=c),typeof i<"u"&&(h.roles=i),typeof d<"u"&&(h.url=d),typeof u<"u"&&(h.name=u);const m=new URL(this.client.config.endpoint+f),g={"content-type":"application/json"};return this.client.call("post",m,g,h)}getMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0]};const s=r.teamId,i=r.membershipId;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),o={},c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}updateMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0],roles:n[1]};const s=r.teamId,i=r.membershipId,a=r.roles;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');if(typeof a>"u")throw new y('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),c={};typeof a<"u"&&(c.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteMembership(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0]};const s=r.teamId,i=r.membershipId;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",s).replace("{membershipId}",i),o={},c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("delete",c,d,o)}updateMembershipStatus(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,membershipId:n[0],userId:n[1],secret:n[2]};const s=r.teamId,i=r.membershipId,a=r.userId,o=r.secret;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "membershipId"');if(typeof a>"u")throw new y('Missing required parameter: "userId"');if(typeof o>"u")throw new y('Missing required parameter: "secret"');const c="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",s).replace("{membershipId}",i),d={};typeof a<"u"&&(d.userId=a),typeof o<"u"&&(d.secret=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("patch",u,f,d)}getPrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const r=n.teamId;if(typeof r>"u")throw new y('Missing required parameter: "teamId"');const s="/teams/{teamId}/prefs".replace("{teamId}",r),i={},a=new URL(this.client.config.endpoint+s),o={};return this.client.call("get",a,o,i)}updatePrefs(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={teamId:e,prefs:n[0]};const s=r.teamId,i=r.prefs;if(typeof s>"u")throw new y('Missing required parameter: "teamId"');if(typeof i>"u")throw new y('Missing required parameter: "prefs"');const a="/teams/{teamId}/prefs".replace("{teamId}",s),o={};typeof i<"u"&&(o.prefs=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}}var qs;(function(t){t[t.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",t[t.POLICY_VIOLATION=1008]="POLICY_VIOLATION",t[t.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(qs||(qs={}));class re{}re.read=t=>`read("${t}")`;re.write=t=>`write("${t}")`;re.create=t=>`create("${t}")`;re.update=t=>`update("${t}")`;re.delete=t=>`delete("${t}")`;class ve{static any(){return"any"}static user(e,n=""){return n===""?`user:${e}`:`user:${e}/${n}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,n=""){return n===""?`team:${e}`:`team:${e}/${n}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ra,sa;class cn{static custom(e){return e}static unique(e=7){const n=xc(cn,ra,"m",sa).call(cn);let r="";for(let s=0;s<e;s++){const i=Math.floor(Math.random()*16).toString(16);r+=i}return n+r}}ra=cn,sa=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var js;(function(t){t.Equal="equal",t.NotEqual="notEqual",t.GreaterThan="greaterThan",t.GreaterThanEqual="greaterThanEqual",t.LessThan="lessThan",t.LessThanEqual="lessThanEqual",t.Contains="contains",t.IsNull="isNull",t.IsNotNull="isNotNull"})(js||(js={}));var Ns;(function(t){t.Totp="totp"})(Ns||(Ns={}));var Ls;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(Ls||(Ls={}));var Us;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(Us||(Us={}));var Hs;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(Hs||(Hs={}));var Bs;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionPay="unionpay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(Bs||(Bs={}));var zs;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(zs||(zs={}));var Ws;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD"})(Ws||(Ws={}));var Qs;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(Qs||(Qs={}));var Vs;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(Vs||(Vs={}));var Gs;(function(t){t.Http="http",t.Schedule="schedule",t.Event="event"})(Gs||(Gs={}));var Ks;(function(t){t.Waiting="waiting",t.Processing="processing",t.Completed="completed",t.Failed="failed",t.Scheduled="scheduled"})(Ks||(Ks={}));const _t={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3",usersTeamsManager:"users_teams_manager"},collections:{events:"events",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products",kteams:"kteams"}};let rn=null;async function ae(){if(rn)return rn;console.log("[appwrite] Initialisation des instances Appwrite...");const t=new gt().setEndpoint(_t.endpoint).setProject(_t.projectId),e=new kc(t),n=new Cc(t),r=new jc(t),s=new qc(t),i=new Nc(t);return rn={client:t,account:e,databases:n,tables:r,functions:s,teams:i,config:_t},console.log("[appwrite] Instances initialisées avec succès"),rn}function Lc(){console.log("[appwrite] Cache réinitialisé"),rn=null}function ia(){return{APPWRITE_ENDPOINT:_t.endpoint,APPWRITE_PROJECT_ID:_t.projectId,APPWRITE_FUNCTION_ID:_t.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:_t.functions.accessRequest,APPWRITE_CONFIG:_t}}function aa(t,e){return rn?rn.client.subscribe(t,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new gt().setEndpoint(_t.endpoint).setProject(_t.projectId).subscribe(t,e))}function Nn(){return localStorage.getItem("appwrite-user-name")||""}async function Uc(t,e,n=100){try{const{tables:r,config:s}=await ae(),i=await r.listRows({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.purchases,queries:[S.greaterThan("$updatedAt",e),S.equal("mainId",t),S.limit(n),S.select(["*","products.$id"])]});return console.log(`[Appwrite Interactions] ${i.rows.length} purchases modifiés chargés`),i.rows}catch(r){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",r),[]}}async function oa(t,e){const{lastSync:n,limit:r=100}=e;try{const{tables:s,config:i}=await ae();if(!n)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await s.listRows({databaseId:i.databaseId,tableId:i.APPWRITE_CONFIG.collections.products,queries:[S.equal("mainId",t),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),S.limit(r)]})).rows;const a=await s.listRows({databaseId:i.databaseId,tableId:i.APPWRITE_CONFIG.collections.products,queries:[S.greaterThan("$updatedAt",n),S.equal("mainId",t),S.limit(r),S.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]});return a.rows.length>0&&console.log(`[Appwrite Interactions] ${a.rows.length} produits synchronisés avec leurs purchases`),a.rows}catch(s){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${t}:`,s);const i=s instanceof Error?s.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${i}`)}}async function ca(t,e,n=!0){const{tables:r,config:s}=await ae();return n&&(e.updatedBy=Nn()),await r.updateRow({databaseId:s.databaseId,tableId:s.APPWRITE_CONFIG.collections.products,rowId:t,data:e})}async function la(t,e,n=!1){if(!t)throw new Error("ID du produit requis pour la mise à jour de l'override");const r=JSON.stringify(e),s=await ca(t,{totalNeededOverride:r},n);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${t}:`,e),s}async function da(t){if(!t?.length)return[];try{const{tables:e,config:n}=await ae(),r=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("$id",t),S.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${r.rows.length} purchases chargés avec relations products`),r.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const n=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${n}`)}}function ua(t,e={}){let n=null;const r=i=>{const{events:a,payload:o}=i;if(!o)return;const c=a.some(m=>m.includes("products.")),d=a.some(m=>m.includes("purchases.")),u=a.some(m=>m.includes(".create")),f=a.some(m=>m.includes(".update")),h=a.some(m=>m.includes(".delete"));if(c){const m=o;m.updatedBy&&m.updatedBy!==Nn()&&(u||f?at.info(`${m.updatedBy} a modifié le produit "${m.productName}"`,{source:"realtime-other"}):h&&at.info(`${m.updatedBy} a supprimé un produit`,{source:"realtime-other"})),u&&e.onProductCreate?e.onProductCreate(m):f&&e.onProductUpdate?e.onProductUpdate(m):h&&e.onProductDelete&&e.onProductDelete(m.$id)}else if(d){const m=o;if(m.createdBy&&m.createdBy!==Nn()){const g=m.products?.[0]?.productName||"un produit";u&&m.who!==Nn()?at.info(`${m.who} a ajouté un achat pour ${g}`,{source:"realtime-other"}):f&&m.who!==Nn()?at.info(`${m.who} a modifié un achat pour ${g}`,{source:"realtime-other"}):h&&at.info(`${m.who} a supprimé un achat pour ${g}`,{source:"realtime-other"})}u&&e.onPurchaseCreate?e.onPurchaseCreate(m):f&&e.onPurchaseUpdate?e.onPurchaseUpdate(m):h&&e.onPurchaseDelete&&e.onPurchaseDelete(m.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),n=window.AppwriteClient.subscribeToCollections(["products","purchases"],t,r,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:i=>{console.error("[Appwrite Interactions] Erreur realtime:",i),e.onError?.(i)}}))}catch(i){console.error("[Appwrite Interactions] Impossible de configurer realtime:",i),e.onError?.(i)}})(),()=>{n&&(n(),n=null)}}async function fa(t){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${t}`);const{tables:e,config:n}=await ae(),r=await e.getRow(n.databaseId,n.collections.main,t);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${r.name}`),r}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${t}:`,e),null}}async function pa(t,e,n,r){try{console.log(`[Appwrite Interactions] Création du Main document: ${t}`);const{tables:s,config:i,account:a}=await ae(),o=await a.get();await s.createRow(i.databaseId,i.APPWRITE_CONFIG.collections.main,t,{name:r,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:n,status:"active",dateStart:n[0]||null,dateEnd:n[n.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${t}`)}catch(s){throw console.error("[Appwrite Interactions] Erreur création Main document:",s),s}}async function Hc(t){try{const{tables:e,config:n}=await ae(),r=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[S.equal("mainId",t),S.equal("status","expense"),S.limit(1e3)]);return console.log(`[Appwrite Interactions] ${r.rows.length} dépenses globales chargées`),r.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Js=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:pa,loadMainEventData:fa,loadOrphanPurchases:Hc,loadPurchasesListByIds:da,loadUpdatedPurchases:Uc,subscribeToRealtime:ua,syncProductsWithPurchases:oa,updateProduct:ca,updateTotalOverride:la},Symbol.toStringTag,{value:"Module"}));function Bc(t){const n=new Date(t).getHours();return n>=11&&n<=13?"sun":n>=19&&n<=21?"moon":n>=7&&n<=9?"cloud":null}function zc(t){return{formattedDate:new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:Bc(t)}}function ha(t){const e={};for(const n of t)e[n]=zc(n);return e}function Wc(t,e){if(!t.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const n=t.byDate[e],r=[e],s=new Map;n.recipes?.length&&s.set(e,n.recipes);const i=n.totalConsolidated||[],a=i.length>0?Fe(i):"-",o=Qc(t,e,i),c=o.filter(h=>h.q>0),d=new Date().toISOString().split("T")[0],f=e<d?[]:o.filter(h=>h.q<0);return{requiredQuantities:i,requiredQuantitiesFormatted:a,stockBalance:o,availableStockQuantities:c,missingStockQuantities:f,availableStockFormatted:ls(o),missingStockFormatted:Fe(f.map(h=>({q:Math.abs(h.q),u:h.u}))),hasAvailableStock:c.length>0,hasMissingStock:f.length>0,totalRecipesInRange:n.recipes?.length||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:r,recipesByDate:s}}function Qc(t,e,n){let r=[],s="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(r=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],s=t.stockParsed.dateTime);const i=[];if(t.purchases)for(const c of t.purchases)Vc(c,e,s)&&i.push({q:c.quantity,u:c.unit});const a=[...r,...i],o=os(a);return na(o,n)}function Vc(t,e,n=""){if(t.status==="cancelled")return!1;const r=t.deliveryDate||t.$createdAt;return!r||r>e||n&&t.$createdAt<n?!1:r<=e}function Gc(t,e){const n=t.totalNeededArray||[],r=n.length>0?Fe(n):"-",s=va(t,e[0],e[e.length-1],n),i=s.filter(d=>d.q>0),a=s.filter(d=>d.q<0),o=[...e].sort(),c=new Map;if(t.byDate)for(const[d,u]of Object.entries(t.byDate))u.recipes?.length&&c.set(d,u.recipes);return{requiredQuantities:n,requiredQuantitiesFormatted:r,stockBalance:s,availableStockQuantities:i,missingStockQuantities:a,availableStockFormatted:ls(s),missingStockFormatted:Fe(a.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:i.length>0,hasMissingStock:a.length>0,totalRecipesInRange:t.nbRecipes||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:c}}function Kc(t,e,n){if(!t.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const r=new Date(e),s=new Date(n),i=[],a=new Map,o=new Map;let c=0,d=0;for(const[E,$]of Object.entries(t.byDate)){const k=new Date(E);k>=r&&k<=s&&(i.push(E),c+=$.totalAssiettes||0,$.recipes?.length&&(a.set(E,$.recipes),d+=$.recipes.length),$.totalConsolidated&&$.totalConsolidated.forEach(({q:P,u:M})=>{o.set(M,(o.get(M)||0)+P)}))}const u=Array.from(o.entries()).map(([E,$])=>({q:$,u:E})),f=u.length>0?Fe(u):"-",h=va(t,e,n,u),m=h.filter(E=>E.q>0),g=new Date().toISOString().split("T")[0],_=n<g?[]:h.filter(E=>E.q<0);return{requiredQuantities:u,requiredQuantitiesFormatted:f,stockBalance:h,availableStockQuantities:m,missingStockQuantities:_,availableStockFormatted:ls(h),missingStockFormatted:Fe(_.map(E=>({q:Math.abs(E.q),u:E.u}))),hasAvailableStock:m.length>0,hasMissingStock:_.length>0,totalRecipesInRange:d,totalPortionsInRange:c,datesInSelectedRange:i,recipesByDate:a}}function va(t,e,n,r){let s=[],i="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(s=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],i=t.stockParsed.dateTime);const a=[];if(t.purchases)for(const d of t.purchases)Jc(d,e,n,i)&&a.push({q:d.quantity,u:d.unit});const o=[...s,...a],c=os(o);return na(c,r)}function Jc(t,e,n,r=""){if(t.status==="cancelled")return!1;const s=t.deliveryDate||t.$createdAt;return!s||s>n||r&&t.$createdAt<r?!1:s<=n}async function Yc(t){let e;if(e=await fetch(`/evenements/${t}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return n}async function Ys(t){const e=await fetch(`/evenements/${t}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.ingredients)throw new Error("Format de données Hugo invalide");return n}async function Xc(t,e){if(!t)return!0;try{return(await Yc(e)).hugoContentHash!==t}catch(n){return console.warn("Impossible de vérifier le hash Hugo:",n),!1}}function ma(t,e){const n=cs(t.byDate),r=Er(Sr([])),{numeric:s,display:i}=Ar(n,r),a=Object.keys(t.byDate||{}),o=ha(a);return{$id:`${t.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:t.ingredientHugoUuid,productName:t.ingredientName,productType:t.ingType,pFrais:t.pFrais||!1,pSurgel:t.pSurgel||!1,nbRecipes:t.nbRecipes,totalNeededRaw:t.totalNeededRaw,totalAssiettes:t.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:t.byDate,storeInfo:null,stockParsed:null,totalNeededArray:n,totalPurchasesArray:r,missingQuantityArray:s,stockOrTotalPurchases:"-",displayTotalNeeded:Fe(n),displayTotalPurchases:"-",displayMissingQuantity:i,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function Zc(t,e){return t.map(n=>ma(n,e))}class Oc{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.PRODUCTS_STORE)||(i.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.$id,o)}),console.log(`[IDBCache] ${a.size} produits chargés`),e(a)},i.onerror=()=>n(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,allDates:[],hugoContentHash:null};a.forEach(c=>{c.key===this.LAST_SYNC_KEY?o.lastSync=c.value:c.key===this.ALL_DATES_KEY?o.allDates=c.value||[]:c.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=c.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),i=s.objectStore(this.PRODUCTS_STORE);i.clear(),e.forEach(a=>{i.put(a)}),s.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),n()},s.onerror=()=>r(s.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.METADATA_STORE,"readwrite"),i=s.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&i.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),s.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),n()},s.onerror=()=>r(s.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),n()},a.onerror=()=>r(a.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});a.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),n()},a.onerror=()=>r(a.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const r=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.PRODUCTS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},r.onerror=()=>n(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function Fc(t){const e=new Oc(t);return await e.open(),e}function el(t){return!!(t.isMerged||t.totalNeededOverride)}function tl(t,e){if(!t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++){const r=t[n],s=e[n];if(r.q!==s.q||r.u!==s.u)return!0}return!1}async function nl(t,e){const n={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},r=new Set;for(const s of e.ingredients){const i=s.productSemanticKey;if(!i){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${s.ingredientName}`);continue}r.add(i);const a=t.get(i);if(a){if(tl(a.totalNeededRaw,s.totalNeededRaw)){const c=rl(a,s);if(c&&n.overrideConflicts.push(c),a.isMerged){const d=a.displayTotalNeeded;Xs(a,s),n.mergedProductsUpdated.push({product:a,oldDisplayTotal:d,newDisplayTotal:a.displayTotalNeeded,currentOverride:a.totalNeededOverrideParsed,semanticKey:i})}else Xs(a,s);n.updated.push(i)}t.set(i,a)}else{n.added.push(s);const o=ma(s,e.mainGroup_id);t.set(o.$id,o)}}for(const[s,i]of t)r.has(s)||(n.removed.push(i),!el(i)&&!i.purchases?.length&&!i.stockReel&&!i.who?.length&&t.delete(s));return n.overrideConflicts.length>0&&await sl(n.overrideConflicts),n.summary=al(n),n}function rl(t,e){if(!t.totalNeededOverride||!t.totalNeededOverrideParsed)return null;const n=cs(e.byDate),r=Fe(n),s=t.displayTotalNeeded;return s!==r?{product:t,oldDisplayTotal:s,newDisplayTotal:r,currentOverride:t.totalNeededOverrideParsed,semanticKey:t.$id}:null}async function sl(t){for(const e of t){const n={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(n);try{await la(e.product.$id,n,!1)}catch(r){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,r)}}}function Xs(t,e){t.byDate=e.byDate,t.nbRecipes=e.nbRecipes,t.totalAssiettes=e.totalAssiettes,t.productType=e.ingType,t.pFrais=e.pFrais||!1,t.pSurgel=e.pSurgel||!1,il(t)}function il(t){t.totalNeededArray=cs(t.byDate),t.displayTotalNeeded=Fe(t.totalNeededArray);const e=Er(Sr(t.purchases)),{numeric:n,display:r}=Ar(t.totalNeededArray,e);t.totalPurchasesArray=e,t.missingQuantityArray=n,t.displayMissingQuantity=r;const s=Object.keys(t.byDate||{});t.dateDisplayInfo=ha(s),t.stockOrTotalPurchases=t.purchases.length>0?t.displayTotalPurchases:t.displayTotalNeeded}function al(t){const e=[];if((t.added.length>0||t.updated.length>0||t.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),t.added.length>0&&e.push(`${t.added.length} nouveau(x) ingrédient(s)`),t.updated.length>0&&e.push(` ${t.updated.length} ingrédient(s) mis à jour`),t.overrideConflicts.length>0&&e.push(`⚠️ ${t.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),t.mergedProductsUpdated.length>0&&e.push(`🔀 ${t.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),t.removed.length>0){const n=t.removed.filter(r=>r.purchases?.length||r.stockReel||r.who?.length).length;n>0?e.push(`⚠️ ${n} suppression(s) avec données conservées`):e.push(`${t.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}const{APPWRITE_CONFIG:Ot}=ia();async function ga(){try{const{tables:t,account:e}=await ae(),n=await e.get();return{teams:(await t.listRows({databaseId:Ot.databaseId,tableId:"kteams",queries:[S.or([S.contains("membersId",n.$id),S.contains("invited",n.$id)])]})).rows}}catch(t){throw console.error("[teams] Error listing teams:",t),t}}async function ds(t){try{const{tables:e}=await ae();return await e.getRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:t})}catch(e){throw console.error(`[teams] Error getting team ${t}:`,e),e}}async function ol(t,e){try{const{tables:n,account:r}=await ae(),s=await r.get(),i=cn.unique(),a={id:s.$id,name:s.name,role:"owner",joinedAt:new Date().toISOString()},o=await n.createRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:i,data:{name:t,description:e||null,membersId:[s.$id],members:[JSON.stringify(a)],invited:null,main:[]},permissions:[re.read(ve.user(s.$id)),re.update(ve.user(s.$id)),re.delete(ve.user(s.$id))]});return console.log(`[teams] Team created: ${i}`),o}catch(n){throw console.error("[teams] Error creating team:",n),n}}async function cl(t,e,n){try{const{tables:r}=await ae(),s={};e!==void 0&&(s.name=e),n!==void 0&&(s.description=n);const i=await r.updateRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:t,data:s});return console.log(`[teams] Team updated: ${t}`),i}catch(r){throw console.error(`[teams] Error updating team ${t}:`,r),r}}async function ll(t){try{const{tables:e}=await ae();await e.deleteRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:t}),console.log(`[teams] Team deleted: ${t}`)}catch(e){throw console.error(`[teams] Error deleting team ${t}:`,e),e}}async function ya(t,e,n,r){try{const{tables:s}=await ae(),i=await ds(t);if(!i.membersId.includes(e)){const a={id:e,name:n,role:"member",joinedAt:new Date().toISOString()},o=[...i.membersId,e],c=[...i.members,JSON.stringify(a)],d=await s.updateRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:t,data:{membersId:o,members:c},permissions:[re.read(ve.user(e)),re.update(ve.user(e))]});return console.log(`[teams] Member added to team ${t}: ${e}`),d}return i}catch(s){throw console.error(`[teams] Error adding member to team ${t}:`,s),s}}async function dl(t,e){try{const{tables:n}=await ae(),r=await ds(t);if(r.membersId.includes(e)){const s=r.membersId.filter(o=>o!==e),i=r.members.filter((o,c)=>r.membersId[c]!==e),a=await n.updateRow({databaseId:Ot.databaseId,tableId:"kteams",rowId:t,data:{membersId:s,members:i}});return console.log(`[teams] Member removed from team ${t}: ${e}`),a}return r}catch(n){throw console.error(`[teams] Error removing member from team ${t}:`,n),n}}async function ul(t,e,n){try{const{functions:r}=await ae(),s=await r.createExecution({functionId:Ot.functions.usersTeamsManager,body:JSON.stringify({action:"invite",emails:e,teamId:t,message:n||""})}),i=JSON.parse(s.responseBody);if(!i.success)throw new Error(i.error||"Erreur lors de l'invitation");return console.log(`[teams] Invitations sent for team ${t}: ${i.processed} processed`),i}catch(r){throw console.error(`[teams] Error inviting members to team ${t}:`,r),r}}async function fl(t,e){try{const{account:n}=await ae(),r=await n.get();return await ya(e,t,r.email)}catch(n){throw console.error(`[teams] Error accepting invitation for team ${e}:`,n),n}}async function Jr(){try{return(await ga()).teams.map(e=>e.$id)}catch(t){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",t),[]}}async function pl(t){try{return(await Jr()).includes(t)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}class hl{isMobileQuery=new _c("max-width: 1024px");#e=A(null);#t=A(Re([]));#n=A(!1);#s=A(null);#o=A(!1);get user(){return l(this.#e)}get userId(){return l(this.#e)?.$id??null}get userTeams(){return l(this.#t)}get isAuthenticated(){return l(this.#e)!==null}get authLoading(){return l(this.#n)}get authError(){return l(this.#s)}get authInitialized(){return l(this.#o)}async initializeAuth(){if(l(this.#o)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),p(this.#n,!0),p(this.#s,null);try{const{account:e}=await ae();p(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",l(this.#e).name),localStorage.setItem("appwrite-user-email",l(this.#e).email),localStorage.setItem("appwrite-user-id",l(this.#e).$id),p(this.#t,await Jr(),!0),console.log(`[GlobalState] Authentifié: ${l(this.#e).name} (${l(this.#t).length} équipes)`)}catch(e){p(this.#e,null),p(this.#t,[],!0),p(this.#s,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{p(this.#n,!1),p(this.#o,!0)}}async logout(){try{const{account:e}=await ae();await e.deleteSession({sessionId:"current"}),Lc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),p(this.#e,null),p(this.#t,[],!0),p(this.#o,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!l(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await Jr();(e.length>0||l(this.#t).length===0)&&(p(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${l(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return l(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return at.toasts}get toast(){return at}#c=A(Re({isOpen:!1,conflicts:[]}));get modalOverride(){return l(this.#c)}set modalOverride(e){p(this.#c,e,!0)}#r=A(Re({isOpen:!1}));get modal(){return l(this.#r)}set modal(e){p(this.#r,e,!0)}#l=A(Re({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return l(this.#l)}set backgroundOperation(e){p(this.#l,e,!0)}#d=A(Re({isOpen:!1}));get authModal(){return l(this.#d)}set authModal(e){p(this.#d,e,!0)}}const he=new hl;class qn{#e=A(Re({}));get data(){return l(this.#e)}set data(e){p(this.#e,e,!0)}dateStore;constructor(e,n){this.data=e,this.dateStore=n}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=J(()=>{const e=this.dateStore.current,n=this.dateStore.dates;let r;if(this.dateStore.isFullRange)r=Gc(this.data,n),r.datesInSelectedRange&&(r.datesInSelectedRange=r.datesInSelectedRange.filter(s=>this.data.byDate&&this.data.byDate[s]));else if(e.start&&e.end&&e.start===e.end)r=Wc(this.data,e.start);else if(e.start&&e.end)r=Kc(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:r.requiredQuantities,formattedQuantities:r.requiredQuantitiesFormatted,nbRecipes:r.totalRecipesInRange,totalAssiettes:r.totalPortionsInRange,stockResult:r.stockBalance,availableQuantities:r.availableStockQuantities,missingQuantities:r.missingStockQuantities,formattedMissingQuantities:r.missingStockFormatted,formattedAvailableQuantities:r.availableStockFormatted,hasAvailable:r.hasAvailableStock,hasMissing:r.hasMissingStock,concernedDates:r.datesInSelectedRange,recipesByDate:r.recipesByDate}});get stats(){return l(this.#t)}set stats(e){p(this.#t,e)}}class vl{#e=A(Re([]));#t=A(null);#n=A(null);constructor(e=[]){p(this.#e,e,!0),this.initializeSmartRange()}get start(){return l(this.#t)}get end(){return l(this.#n)}get dates(){return l(this.#e)}#s=J(()=>[...l(this.#e)].sort()[0]);get firstAvailableDate(){return l(this.#s)}set firstAvailableDate(e){p(this.#s,e)}#o=J(()=>[...l(this.#e)].sort()[l(this.#e).length-1]);get lastAvailableDate(){return l(this.#o)}set lastAvailableDate(e){p(this.#o,e)}get current(){return{start:l(this.#t),end:l(this.#n)}}#c=J(()=>{if(l(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return l(this.#c)}set isEventPassed(e){p(this.#c,e)}#r=J(()=>{if(l(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),l(this.#e).some(n=>new Date(n)>=e)});get hasUpcomingDates(){return l(this.#r)}set hasUpcomingDates(e){p(this.#r,e)}#l=J(()=>l(this.#t)===this.firstAvailableDate&&l(this.#n)===this.lastAvailableDate);get isFullRange(){return l(this.#l)}set isFullRange(e){p(this.#l,e)}#d=J(()=>{if(l(this.#e).length===0)return!1;const e=[...l(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const r=e.find(a=>new Date(a)>=n)||null;let s,i;if(r)s=r,i=e[e.length-1];else{const a=e[e.length-1];s=a,i=a}return l(this.#t)===s&&l(this.#n)===i});get isUpcomingRange(){return l(this.#d)}set isUpcomingRange(e){p(this.#d,e)}#u=J(()=>l(this.#e).length===1);get hasSingleDateEvent(){return l(this.#u)}set hasSingleDateEvent(e){p(this.#u,e)}#f=J(()=>!!(l(this.#t)&&l(this.#t)===l(this.#n)));get hasSingleDateInRange(){return l(this.#f)}set hasSingleDateInRange(e){p(this.#f,e)}#i=J(()=>{if(!l(this.#t)||!l(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(l(this.#t))<e});get hasPastDatesInRange(){return l(this.#i)}set hasPastDatesInRange(e){p(this.#i,e)}setAvailableDates(e){p(this.#e,e,!0),this.initializeSmartRange()}setRange(e,n){if(!e&&!n){p(this.#t,null),p(this.#n,null);return}if(!e||!n){const i=e||n;p(this.#t,i,!0),p(this.#n,i,!0);return}const r=new Date(e)<=new Date(n)?e:n,s=new Date(e)>=new Date(n)?e:n;p(this.#t,r,!0),p(this.#n,s,!0)}selectAll(){l(this.#e).length!==0&&(p(this.#t,l(this.#e)[0],!0),p(this.#n,l(this.#e)[l(this.#e).length-1],!0))}selectUpcoming(){if(l(this.#e).length===0)return;const e=[...l(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const r=e.find(s=>new Date(s)>=n)||null;if(r)p(this.#t,r,!0),p(this.#n,e[e.length-1],!0);else{const s=e[e.length-1];p(this.#t,s,!0),p(this.#n,s,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const n=l(this.#e).filter(r=>new Date(r)>=e);n.length>0&&(p(this.#t,n[0],!0),p(this.#n,n[n.length-1],!0))}initializeSmartRange(){if(l(this.#e).length===0)return;const e=[...l(this.#e)].sort(),n=this.isEventPassed,r=new Date(e[0])<new Date,s=new Date;let i;n?i=e[0]:r?i=s.toISOString().slice(0,19)+"Z":i=e[0],p(this.#t,i,!0),p(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${l(this.#t)} - ${l(this.#n)}`)}}const Zs=1e3;class ml{#e=new Bt;#t=new Bt;#n=A(null);#s=A(null);#o=A(!1);#c=A(!1);#r=A(null);#l=A(!1);#d=A(!1);#u=A(null);#f=A(null);get currentMainId(){return l(this.#n)}dateStore=new vl;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#i=null;#p=null;#h=A(!1);#v=null;#w=A(!1);#b=A();#m=A(Re([]));get hasPendingConflicts(){return l(this.#m).length>0}get pendingConflicts(){return l(this.#m)}#a=A(Re({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return l(this.#a)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return l(this.#c)}get error(){return l(this.#r)}get lastSync(){return l(this.#u)}get syncing(){return l(this.#l)}setDateRange(e,n){this.dateStore.setRange(e,n)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return l(this.#d)}#g=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return l(this.#g)}set enrichedProducts(e){p(this.#g,e)}#y=J(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),n=new Date(this.dateRange.end),r=new Map;for(const[s,i]of this.#e){const a=i.data,o=!a.productHugoUuid;if(!a.byDate&&!o||!Mc(a,l(this.#a)))continue;let d=!1;a.byDate&&(d=Object.keys(a.byDate).some(u=>{const f=new Date(u);return f>=e&&f<=n})),(d||o)&&r.set(s,i)}return r});get filteredProductsMap(){return l(this.#y)}set filteredProductsMap(e){p(this.#y,e)}#E=J(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return l(this.#E)}set stats(e){p(this.#E,e)}#A=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return l(this.#A)}set uniqueStores(e){p(this.#A,e)}#R=J(()=>{const e=Array.from(this.#e.values()).flatMap(n=>n.who||[]);return[...new Set(e)]});get uniqueWho(){return l(this.#R)}set uniqueWho(e){p(this.#R,e)}#P=J(()=>{const e=Array.from(this.#e.values()).map(n=>n.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return l(this.#P)}set uniqueProductTypes(e){p(this.#P,e)}#T=J(()=>{const n=Array.from(this.filteredProductsMap.values()).sort((a,o)=>a.$id.localeCompare(o.$id));if(l(this.#a).groupBy==="none")return{"":n};const r=Object.groupBy(n,a=>l(this.#a).groupBy==="store"?a.storeInfo?.storeName||"Non défini":a.productType||"Non défini"),s=Object.keys(r).sort((a,o)=>a===""?1:o===""?-1:a.localeCompare(o)),i={};return s.forEach(a=>{i[a]=r[a]}),i});get groupedFilteredProducts(){return l(this.#T)}set groupedFilteredProducts(e){p(this.#T,e)}async initialize(e,n){if(!e?.trim())throw new Error("mainId invalide fourni");if(l(this.#o)&&l(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),p(this.#n,e,!0),p(this.#s,n,!0);try{this.#i=await Fc(e)}catch(r){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",r),new Error("Impossible d'initialiser le cache IndexedDB")}p(this.#r,null);try{if(await this.#k(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");let s;s=await Ys(n),console.log(`[ProductsStore] Hugo chargé: ${s.ingredients.length} ingrédients`),p(this.#f,s.hugoContentHash,!0),Zc(s.ingredients,e).forEach(o=>{this.#e.set(o.$id,new qn(o,this.dateStore))}),this.dateStore.setAvailableDates([...s.allDates]),await fa(e)||await pa(s.mainGroup_id,s.hugoContentHash,s.allDates,s.name),await this.#M()}this.initializeDateRange(),await this.#C(),await this.#G(),p(this.#o,!0);const r=this.#V();this.#p=ua(e,r),this.#L(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#$(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(r){const s=r instanceof Error?r.message:"Erreur lors de l'initialisation";throw p(this.#r,s,!0),console.error("[ProductsStore]",s,r),r}}async#k(){if(this.#i)try{const e=await this.#i.loadProducts();e.forEach((r,s)=>{r.status==="isSyncing"&&(r.status="active"),this.#e.set(s,new qn(r,this.dateStore))});const n=await this.#i.loadMetadata();p(this.#u,n.lastSync,!0),this.dateStore.setAvailableDates([...n.allDates]),p(this.#f,n.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${n.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#C(){if(l(this.#n)){p(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${l(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${l(this.#u)}`);const e=await oa(l(this.#n),{lastSync:l(this.#u),limit:Zs});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(n=>{const r=this.#e.get(n.$id);console.log(`[ProductsStore] Sync produit ${n.$id}: existing=${!!r}, who=${n.who}, store=${n.store}`);const s=this.#D(n,r?.data);s.isSynced=!0,r?r.update(s):this.#e.set(n.$id,new qn(s,this.dateStore))}),l(this.#u)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${l(this.#u)}`);const{loadUpdatedPurchases:n}=await ks(async()=>{const{loadUpdatedPurchases:s}=await Promise.resolve().then(()=>Js);return{loadUpdatedPurchases:s}},void 0),r=await n(l(this.#n),l(this.#u),Zs);console.log(`[ProductsStore] ${r.length} purchases modifiés récupérés`),r.forEach(s=>{if(s.status==="expense")this.#t.set(s.$id,s);else if(s.products?.length){const i=s.products.map(a=>typeof a=="string"?a:a.$id);this.#S(i,s)}})}this.#j(),await this.#q(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{p(this.#l,!1)}}}async#q(){if(this.#i)try{const e=new Map;this.#e.forEach((n,r)=>{const s=vn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#i.saveProducts(e),await this.#i.saveMetadata({lastSync:l(this.#u),allDates:[...this.dateStore.dates],hugoContentHash:l(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#i)try{const e=new Map;this.#e.forEach((n,r)=>{const s=vn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#i.saveProducts(e),await this.#i.updateLastSync(l(this.#u)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#M(){if(this.#i)try{const e=new Map;this.#e.forEach((n,r)=>{const s=vn(n.data);s.status==="isSyncing"&&(s.status="active"),e.set(r,s)}),await this.#i.saveProducts(e),await this.#i.updateLastSync(l(this.#u)),await this.#i.updateAllDates([...this.availableDates]),await this.#i.updateHugoContentHash(l(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#i||e.length===0))try{const n=e.map(r=>this.#e.get(r)?.data).filter(r=>r!=null).map(r=>{const s=vn(r);return s.status==="isSyncing"&&(s.status="active"),this.#i.upsertProduct(s)});n.length>0&&(await Promise.all(n),console.log(`[ProductsStore] ${n.length} produits affectés persistés`))}catch(n){console.error("[ProductsStore] Erreur persistence produits affectés:",n)}}#j(){p(this.#u,new Date().toISOString(),!0)}async#$(){if(!l(this.#s)||l(this.#c))return!1;try{const e=await Xc(l(this.#f),l(this.#s));return e&&!l(this.#h)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${l(this.#s)}, analyse approfondie en cours...`),p(this.#h,!0),await this.#N()),p(this.#b,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!l(this.#s)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Ys(l(this.#s)),n=new Map;this.#e.forEach((i,a)=>n.set(a,i.data));const r=await nl(n,e);console.log(`[ProductsStore  - hugo change] ${r.summary}`);for(const[i,a]of n){const o=this.#e.get(i);if(o)o.update(a);else{const c=new qn(a,this.dateStore);this.#e.set(i,c),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${i}`)}}const s=[];for(const[i]of this.#e)n.has(i)||s.push(i);for(const i of s)this.#e.delete(i),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${i}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${n.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),r.overrideConflicts.length>0&&(p(this.#m,r.overrideConflicts,!0),at.error(`${r.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{action:{label:"Réviser",onClick:()=>he.modalOverride.isOpen=!0}})),r.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${r.mergedProductsUpdated.length} produits fusionnés modifiés`),r.removed.length>0){const i=r.removed.filter(a=>a.purchases?.length||a.stockReel||a.who?.length);i.length>0&&console.log(`[ProductsStore] ℹ️ ${i.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),p(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#M(),(r.added.length||r.updated.length||r.removed.length)&&at.success(r.summary),p(this.#h,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),at.error("Erreur lors de la mise à jour Hugo")}}#L(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#$()},6e4)}#U(){this.#v&&(clearInterval(this.#v),this.#v=null)}#D(e,n){return n?rr(e,n):$c(e)}#J(e){e.length&&(e.forEach(n=>this.#_(n)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const n=this.#e.get(e.$id),r=this.#D(e,n?.data);n?n.update(r):(this.dateStore.dates,this.#e.set(e.$id,new qn(r,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const n=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#Q(n,e),n}async#z(e){if(e.products?.length){const n=e.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(n,e),n}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[n]=await da([e.$id]);if(n?.products?.length){const r=n.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#S(r,n),r}return[]}catch(n){return console.error("[ProductsStore] Erreur rechargement purchase:",n),[]}}async#W(e){const n=Array.from(this.#e.values()).map(r=>r.data).filter(r=>r.purchases?.some(s=>s.$id===e));return n.forEach(r=>{this.#_(r)}),n.map(r=>r.$id)}#Q(e,n){const r=Cs(n),s=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,c=o.purchases||[];if(!c.some(d=>d.$id===r.$id)){const d=rr({...o,purchases:[...c,r],status:"active"},o);s.push(d)}}}),s.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#S(e,n){const r=Cs(n),s=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,c=o.purchases||[],d=c.findIndex(u=>u.$id===r.$id);if(d>=0){const u=[...c];u[d]=r;const f=rr({...o,purchases:u,status:"active"},o);s.push(f)}else{const u=rr({...o,purchases:[...c,n],status:"active"},o);s.push(u)}}}),s.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#V(){return{onProductCreate:e=>{if(this.#_(e),this.#i){const n=this.#e.get(e.$id);n&&this.#i.upsertProduct(vn(n.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductUpdate:e=>{if(this.#_(e),this.#i){const n=this.#e.get(e.$id);n&&this.#i.upsertProduct(vn(n.data)).catch(r=>console.error("[ProductsStore] Erreur persistence produit:",r))}},onProductDelete:e=>{this.#H(e),this.#i&&this.#i.deleteProduct(e).catch(n=>console.error("[ProductsStore] Erreur suppression produit:",n))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const n=await this.#B(e);await this.#I(n)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const n=await this.#z(e);await this.#I(n)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const n=await this.#W(e);await this.#I(n)},onConnect:()=>{p(this.#d,!0)},onDisconnect:()=>{p(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=Pc(e=>{l(this.#a).searchQuery=e},()=>500);toggleProductType(e){const n=l(this.#a).selectedProductTypes.indexOf(e);n>-1?l(this.#a).selectedProductTypes.splice(n,1):l(this.#a).selectedProductTypes.push(e)}toggleTemperature(e){const n=l(this.#a).selectedTemperatures.indexOf(e);n>-1?l(this.#a).selectedTemperatures.splice(n,1):l(this.#a).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){l(this.#a).selectedProductTypes=[],l(this.#a).selectedTemperatures=[]}setGroupBy(e){l(this.#a).groupBy=e}toggleStore(e){const n=l(this.#a).selectedStores.indexOf(e);n>-1?l(this.#a).selectedStores.splice(n,1):l(this.#a).selectedStores.push(e)}toggleWho(e){const n=l(this.#a).selectedWho.indexOf(e);n>-1?l(this.#a).selectedWho.splice(n,1):l(this.#a).selectedWho.push(e)}clearStoreFilters(){l(this.#a).selectedStores=[]}clearWhoFilters(){l(this.#a).selectedWho=[]}handleSort(e){l(this.#a).sortColumn===e?l(this.#a).sortDirection=l(this.#a).sortDirection==="asc"?"desc":"asc":(l(this.#a).sortColumn=e,l(this.#a).sortDirection="asc")}clearFilters(){p(this.#a,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return l(this.#a).sortColumn?[...e].sort((n,r)=>{let s=n[l(this.#a).sortColumn],i=r[l(this.#a).sortColumn];return l(this.#a).sortColumn==="totalNeededConsolidated"?(s=parseFloat(s)||0,i=parseFloat(i)||0):l(this.#a).sortColumn==="purchases"&&(s=n.purchases?.length||0,i=r.purchases?.length||0),s<i?l(this.#a).sortDirection==="asc"?-1:1:s>i?l(this.#a).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const n=this.#e.get(e)?.data;return n?.byDate?Tc(n.byDate):!1}async forceReload(e,n){await this.clearCache(),await this.initialize(e,n)}async clearCache(){this.#e.clear(),p(this.#u,null),this.#i&&await this.#i.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,n){const r=n?"isSyncing":"active";e.forEach(s=>{const i=this.#e.get(s);if(i){const a={...i.data,status:r};i.update(a)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${r}`)}clearSyncStatus(){const e=[];for(const[n,r]of this.#e)r.status==="isSyncing"&&e.push(n);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#p?.(),this.#p=null,this.#U(),this.#i&&(this.#i.close(),this.#i=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(l(this.#n))try{const{loadOrphanPurchases:e}=await ks(async()=>{const{loadOrphanPurchases:r}=await Promise.resolve().then(()=>Js);return{loadOrphanPurchases:r}},void 0),n=await e(l(this.#n));n.forEach(r=>{this.#t.set(r.$id,r)}),console.log(`[ProductsStore] ${n.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#x=J(()=>{let e=0;const n={},r={},s=[];for(const i of this.#t.values()){const a=i.invoiceTotal||i.price||0;e+=a;const o=i.store||"Non défini";n[o]=(n[o]||0)+a;const c=i.who||"Non défini";r[c]=(r[c]||0)+a,s.push(i)}for(const i of this.#e.values()){const a=i.data;if(a.purchases&&a.purchases.length>0){for(const o of a.purchases)if(o.price){e+=o.price;const c=o.store||"Non défini";n[c]=(n[c]||0)+o.price;const d=o.who||"Non défini";r[d]=(r[d]||0)+o.price;const u={...o,_productName:a.productName};s.push(u)}}}return s.sort((i,a)=>{const o=new Date(i.orderDate||i.$createdAt).getTime();return new Date(a.orderDate||a.$createdAt).getTime()-o}),{totalGlobal:e,byStore:n,byWho:r,allPurchases:s}});get financialStats(){return l(this.#x)}set financialStats(e){p(this.#x,e)}}const gl=new ml;let Yr=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Tn="main";async function yl(t,e){try{const{tables:n,config:r}=await ae();return(await n.listRows({databaseId:r.databaseId,tableId:Tn})).rows.filter(i=>i.createdBy===t||i.contributors?.includes(t)||i.teams?.some(a=>e.includes(a)))}catch(n){throw console.error("[appwrite-events] Error listing events:",n),n}}async function Mn(t){try{const{tables:e,config:n}=await ae();return await e.getRow({databaseId:n.databaseId,tableId:Tn,rowId:t})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${t}:`,e),e}}async function wl(t,e){try{const{tables:n,config:r}=await ae(),s=cn.unique(),i=[re.read(ve.user(e)),re.update(ve.user(e)),re.delete(ve.user(e))];t.contributors&&t.contributors.forEach(o=>{typeof o=="string"?(i.push(re.read(ve.user(o))),i.push(re.update(ve.user(o)))):o.status==="accepted"&&(i.push(re.read(ve.user(o.id))),i.push(re.update(ve.user(o.id))))}),t.teams&&t.teams.forEach(o=>{i.push(re.read(ve.team(o))),i.push(re.update(ve.team(o)))});const a=await n.createRow({databaseId:r.databaseId,tableId:Tn,rowId:s,data:{name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,allDates:t.allDates,meals:t.meals?JSON.stringify(t.meals):void 0,createdBy:e,teams:t.teams??[],contributors:t.contributors?t.contributors.map(o=>typeof o=="string"?o:JSON.stringify(o)):[]},permissions:i});return console.log(`[appwrite-events] Event created: ${s}`),a}catch(n){throw console.error("[appwrite-events] Error creating event:",n),n}}async function Rr(t,e){try{const{tables:n,config:r}=await ae(),s=await Mn(t);if(!s)throw new Error(`Event ${t} not found`);const i={...e};e.meals&&(i.meals=JSON.stringify(e.meals)),e.contributors&&(i.contributors=e.contributors.map(c=>typeof c=="string"?c:JSON.stringify(c))),e.allDates&&(i.allDates=e.allDates);let a;(e.contributors||e.teams)&&(a=[re.read(ve.user(s.createdBy)),re.update(ve.user(s.createdBy)),re.delete(ve.user(s.createdBy))],(e.teams??s.teams??[]).forEach(u=>{a.push(re.read(ve.team(u))),a.push(re.update(ve.team(u)))}),(e.contributors?e.contributors.map(u=>typeof u=="string"?JSON.parse(u):u):Lt(s)).forEach(u=>{typeof u=="string"?(a.push(re.read(ve.user(u))),a.push(re.update(ve.user(u)))):u.status==="accepted"&&(a.push(re.read(ve.user(u.id))),a.push(re.update(ve.user(u.id))))}));const o=await n.updateRow({databaseId:r.databaseId,tableId:Tn,rowId:t,data:i,permissions:a});return console.log(`[appwrite-events] Event updated: ${t}`),o}catch(n){throw console.error(`[appwrite-events] Error updating event ${t}:`,n),n}}async function bl(t){try{const{tables:e,config:n}=await ae();await e.deleteRow({databaseId:n.databaseId,tableId:Tn,rowId:t}),console.log(`[appwrite-events] Event deleted: ${t}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${t}:`,e),e}}function Fn(t){if(!t.meals)return[];try{return JSON.parse(t.meals).map(n=>n.id?n:{...n,id:Yr(6)})}catch(e){return console.error("[appwrite-events] Error parsing meals:",e),[]}}function Lt(t){if(!t.contributors)return[];try{const e=[];for(const n of t.contributors)try{const r=JSON.parse(n);e.push(r)}catch{e.push({id:n,status:"accepted",invitedAt:new Date().toISOString()})}return e}catch(e){return console.error("[appwrite-events] Error parsing contributors:",e),[]}}async function _l(t,e){const n=await Mn(t);if(!n)throw new Error(`Event ${t} not found`);const r=Fn(n);return r.push(e),await Rr(t,{meals:r})}async function Il(t,e,n){const r=await Mn(t);if(!r)throw new Error(`Event ${t} not found`);const s=Fn(r);if(e<0||e>=s.length)throw new Error(`Meal index ${e} out of bounds`);return s[e]=n,await Rr(t,{meals:s})}async function Sl(t,e){const n=await Mn(t);if(!n)throw new Error(`Event ${t} not found`);const r=Fn(n);if(e<0||e>=r.length)throw new Error(`Meal index ${e} out of bounds`);return r.splice(e,1),await Rr(t,{meals:r})}async function El(t,e,n){const{config:r}=await ae(),s=`databases.${r.databaseId}.collections.${Tn}.documents`;return aa([s],async i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let c="update";i.events.some(d=>d.includes(".create"))?c="create":i.events.some(d=>d.includes(".delete"))&&(c="delete"),n(a,c)})}class Al{#e=new Bt;#t=A(!1);#n=A(null);#s=A(!1);#o=null;#c=[];#r=null;get loading(){return l(this.#t)}get error(){return l(this.#n)}get isInitialized(){return l(this.#s)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}async initialize(){if(l(this.#s)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),p(this.#t,!0),p(this.#n,null);try{if(!he.isAuthenticated)throw new Error("Utilisateur non connecté");this.#o=he.userId,this.#c=he.userTeams,await this.#l(),this.#d(),p(this.#s,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{p(this.#t,!1)}}async#l(){try{console.log("[EventsStore] Chargement des événements...");const e=await yl(this.#o,this.#c);e.forEach(n=>{this.#e.set(n.$id,n)}),console.log(`[EventsStore] ${e.length} événements chargés`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#d(){try{this.#r=async()=>{await El(this.#o,this.#c,(e,n)=>{console.log(`[EventsStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?this.#e.set(e.$id,e):n==="delete"&&this.#e.delete(e.$id)}),console.log("[EventsStore] Realtime activé")}}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const n=await Mn(e);return n&&this.#e.set(e,n),n}catch(n){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,n),null}}getEventsByDateRange(e,n){return this.events.filter(r=>r.dateStart&&r.dateEnd&&r.dateStart>=e&&r.dateEnd<=n)}canEditEvent(e){if(!this.#o)return!1;const n=this.#e.get(e);return n?!!(n.createdBy===this.#o||n.teams?.some(r=>this.#c.includes(r))||n.contributors&&Lt(n).some(s=>s.id===this.#o&&s.status==="accepted")):!1}async createEvent(e){if(!this.#o)throw new Error("Utilisateur non connecté");try{const n=await wl(e,this.#o);return this.#e.set(n.$id,n),console.log(`[EventsStore] Événement créé: ${n.$id}`),n}catch(n){throw console.error("[EventsStore] Erreur lors de la création:",n),n}}async updateEvent(e,n){try{const r=await Rr(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Événement mis à jour: ${e}`),r}catch(r){throw console.error(`[EventsStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteEvent(e){try{await bl(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(n){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,n),n}}getContributors(e){const n=this.#e.get(e);return n?Lt(n):[]}async addContributor(e,n,r){try{const s=this.#e.get(e);if(!s)throw new Error("Événement introuvable");const i=Lt(s);if(i.some(c=>c.email===n||c.id===n))return console.log(`[EventsStore] Contributeur déjà présent: ${n}`),s;const a={id:n,email:n,name:r,status:"invited",invitedAt:new Date().toISOString()};i.push(a);const o=await this.updateEvent(e,{contributors:i.map(c=>JSON.stringify(c))});return console.log(`[EventsStore] Contributeur ajouté à ${e}: ${n}`),o}catch(s){throw console.error("[EventsStore] Erreur lors de l'ajout du contributeur:",s),s}}async addContributorFromKteam(e,n,r,s){try{const i=this.#e.get(e);if(!i)throw new Error("Événement introuvable");const a=Lt(i);if(a.some(d=>d.id===n||r&&d.email===r))return console.log(`[EventsStore] Contributeur KTeam déjà présent: ${n}`),i;const o={id:n,email:r,name:s,status:"accepted",invitedAt:new Date().toISOString(),respondedAt:new Date().toISOString()};a.push(o);const c=await this.updateEvent(e,{contributors:a.map(d=>JSON.stringify(d))});return console.log(`[EventsStore] Contributeur KTeam ajouté à ${e}: ${n}`),c}catch(i){throw console.error("[EventsStore] Erreur lors de l'ajout du contributeur KTeam:",i),i}}async removeContributor(e,n){try{const r=this.#e.get(e);if(!r)throw new Error("Événement introuvable");const s=Lt(r),i=s.filter(o=>o.id!==n&&o.email!==n);if(s.length===i.length)return r;const a=await this.updateEvent(e,{contributors:i.map(o=>JSON.stringify(o))});return console.log(`[EventsStore] Contributeur supprimé de ${e}: ${n}`),a}catch(r){throw console.error("[EventsStore] Erreur lors de la suppression du contributeur:",r),r}}async updateContributorStatus(e,n,r){try{const s=this.#e.get(e);if(!s)throw new Error("Événement introuvable");const i=Lt(s),a=i.findIndex(c=>c.id===n||c.email===n);if(a===-1)throw new Error("Contributeur introuvable");i[a]={...i[a],status:r,respondedAt:new Date().toISOString()};const o=await this.updateEvent(e,{contributors:i.map(c=>JSON.stringify(c))});return console.log(`[EventsStore] Statut contributeur mis à jour pour ${e}: ${r}`),o}catch(s){throw console.error("[EventsStore] Erreur lors de la mise à jour du statut:",s),s}}getMeals(e){const n=this.#e.get(e);return n?Fn(n):[]}async addMeal(e,n){try{const r=await _l(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Meal ajouté à ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de l'ajout du meal:",r),r}}async updateMeal(e,n,r){try{const s=await Il(e,n,r);return this.#e.set(e,s),console.log(`[EventsStore] Meal ${n} mis à jour dans ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de la mise à jour du meal:",s),s}}async deleteMeal(e,n){try{const r=await Sl(e,n);return this.#e.set(e,r),console.log(`[EventsStore] Meal ${n} supprimé de ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de la suppression du meal:",r),r}}calculateScaleFactor(e,n){return e/n}async reload(){console.log("[EventsStore] Rechargement..."),p(this.#t,!0),p(this.#n,null);try{this.#e.clear(),await this.#l(),console.log("[EventsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{p(this.#t,!1)}}destroy(){this.#r&&(this.#r(),this.#r=null),this.#e.clear(),p(this.#s,!1),console.log("[EventsStore] Ressources nettoyées")}}const Rt=new Al;class Rl{#e=new Bt;#t=A(!1);#n=A(null);#s=A(!1);get loading(){return l(this.#t)}get error(){return l(this.#n)}get isInitialized(){return l(this.#s)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}async initialize(){if(l(this.#s)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),p(this.#t,!0),p(this.#n,null);try{if(!he.userId){console.log("[TeamsStore] Utilisateur non connecté"),p(this.#s,!0);return}await this.#o(),p(this.#s,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#n,n,!0),console.error("[TeamsStore]",n,e),e}finally{p(this.#t,!1)}}async#o(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await ga();for(const n of e.teams)try{const r=n.members.map(a=>{try{return JSON.parse(a)}catch{return{id:"unknown",name:a.split("@")[0]||a,role:"member",joinedAt:new Date().toISOString()}}}),s=n.invited?n.invited.map(a=>{try{return JSON.parse(a)}catch{return{email:a,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],i={...n,members:r,invited:s};this.#e.set(n.$id,i)}catch(r){console.error(`[TeamsStore] Erreur lors du parsing de l'équipe ${n.$id}:`,r)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const n=await ds(e);if(n){const r=n.members.map(a=>{try{return JSON.parse(a)}catch{return{id:"unknown",name:a.split("@")[0]||a,role:"member",joinedAt:new Date().toISOString()}}}),s=n.invited?n.invited.map(a=>{try{return JSON.parse(a)}catch{return{email:a,status:"invited",invitedAt:new Date().toISOString(),invitedBy:"unknown"}}}):[],i={...n,members:r,invited:s};return this.#e.set(e,i),i}return null}catch(n){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,n),null}}async isMemberOf(e){return await pl(e)}getTeamMembers(e){return this.#e.get(e)?.members}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async createTeam(e,n){if(!he.userId)throw new Error("Utilisateur non connecté");try{const r=await ol(e,n),s=JSON.parse(r.members[0]),i={...r,members:[s],invited:[]};return this.#e.set(r.$id,i),console.log(`[TeamsStore] Équipe créée: ${r.$id}`),i}catch(r){throw console.error("[TeamsStore] Erreur lors de la création:",r),r}}async updateTeam(e,n,r){try{const s=await cl(e,n,r),i=this.#e.get(e);let a=[],o=[];i?(a=i.members,o=i.invited):(a=s.members.map(d=>JSON.parse(d)),o=s.invited?s.invited.map(d=>JSON.parse(d)):[]);const c={...s,members:a,invited:o};return this.#e.set(e,c),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),c}catch(s){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteTeam(e){try{await ll(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(n){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,n),n}}async inviteTeamMember(e,n,r){try{await ul(e,n,r),await this.fetchTeam(e),console.log(`[TeamsStore] Membres invités dans ${e}`)}catch(s){throw console.error("[TeamsStore] Erreur lors de l'invitation:",s),s}}async addMember(e,n,r){try{await ya(e,n,r),await this.fetchTeam(e),console.log(`[TeamsStore] Membre ajouté à ${e}: ${n}`)}catch(s){throw console.error("[TeamsStore] Erreur lors de l'ajout du membre:",s),s}}async removeMember(e,n){try{await dl(e,n),await this.fetchTeam(e),console.log(`[TeamsStore] Membre supprimé de ${e}: ${n}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",r),r}}async acceptTeamInvitation(e){try{if(!he.userId)throw new Error("Utilisateur non connecté");await fl(he.userId,e),await this.fetchTeam(e),console.log(`[TeamsStore] Invitation acceptée pour l'équipe: ${e}`)}catch(n){throw console.error("[TeamsStore] Erreur lors de l'acceptation:",n),n}}async declineTeamInvitation(e){console.warn("[TeamsStore] declineTeamInvitation non implémenté")}async reload(){console.log("[TeamsStore] Rechargement..."),p(this.#t,!0),p(this.#n,null);try{this.#e.clear(),await this.#o(),console.log("[TeamsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#n,n,!0),console.error("[TeamsStore]",n,e),e}finally{p(this.#t,!1)}}destroy(){this.#e.clear(),p(this.#s,!1),console.log("[TeamsStore] Ressources nettoyées")}}const wa=new Rl;class Pl{dbName="recipes-cache";db=null;version=1;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(i.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),i.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(i.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.u,o)}),console.log(`[RecipesIDBCache] ${a.size} recettes (index) chargées`),e(a)},i.onerror=()=>n(i.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),i=s.objectStore(this.RECIPES_INDEX_STORE);i.clear(),e.forEach(a=>{i.put(a)}),s.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),n()},s.onerror=()=>r(s.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);a.onsuccess=()=>{const o=a.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),n(o||null)},a.onerror=()=>r(a.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);a.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),n()},a.onerror=()=>r(a.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${a.size} détails de recettes chargés`),e(a)},i.onerror=()=>n(i.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>r(a.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,indexHash:null,recipesCount:0};a.forEach(c=>{c.key===this.LAST_SYNC_KEY?o.lastSync=c.value:c.key===this.INDEX_HASH_KEY?o.indexHash=c.value:c.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=c.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const s=this.db.transaction(this.METADATA_STORE,"readwrite"),i=s.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),i.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),s.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),n()},s.onerror=()=>r(s.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,r)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),n()},a.onerror=()=>r(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const r=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");r.objectStore(this.RECIPES_INDEX_STORE).clear(),r.objectStore(this.RECIPES_DETAILS_STORE).clear(),r.objectStore(this.METADATA_STORE).clear(),r.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},r.onerror=()=>n(r.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function Tl(){const t=new Pl;return await t.open(),t}function Ml(t){if(!Array.isArray(t)||t.length<8)throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(t)}`);return{uuid:t[0],originalQuantity:t[1],originalUnit:t[2],normalizedQuantity:t[3],normalizedUnit:t[4],comment:t[5]||"",allergens:Array.isArray(t[6])?t[6]:[],type:t[7]||""}}function $l(t){if(!t||typeof t!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(t.ingredients)&&t.ingredients.forEach(n=>{try{e.push(Ml(n))}catch(r){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",r)}}),{uuid:t.uuid||"",title:t.title||"",plate:t.plate||1,ingredients:e,preparation:t.preparation||""}}const $n="recettes";async function Os(){try{const{tables:t,config:e}=await ae(),n=[S.equal("isPublished",!1)];return(await t.listRows({databaseId:e.databaseId,tableId:$n,queries:n})).rows}catch(t){throw console.error("[appwrite-recipes] Error listing all recipes:",t),t}}async function Fs(t){try{const{tables:e,config:n}=await ae();return await e.getRow({databaseId:n.databaseId,tableId:$n,rowId:t})}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${t}:`,e),e}}async function Dl(t,e){try{const{tables:n,config:r}=await ae(),s=cn.unique(),i=[re.read(ve.user(e)),re.update(ve.user(e)),re.delete(ve.user(e))];t.contributors&&t.contributors.forEach(o=>{i.push(re.read(ve.user(o))),i.push(re.update(ve.user(o)))}),t.teams&&t.teams.forEach(o=>{i.push(re.read(ve.team(o))),i.push(re.update(ve.team(o)))});const a=await n.createRow({databaseId:r.databaseId,tableId:$n,rowId:s,data:{title:t.title,plate:t.plate,ingredients:t.ingredients,preparation:t.preparation,draft:t.draft??!0,typeR:t.typeR,categories:t.categories??[],regime:t.regime??[],isPublished:!1,createdBy:e,teams:t.teams??[],contributors:t.contributors??[]},permissions:i});return console.log(`[appwrite-recipes] Recipe created: ${s}`),a}catch(n){throw console.error("[appwrite-recipes] Error creating recipe:",n),n}}async function ba(t,e){try{const{tables:n,config:r}=await ae(),s=await n.updateRow({databaseId:r.databaseId,tableId:$n,rowId:t,data:e});return console.log(`[appwrite-recipes] Recipe updated: ${t}`),s}catch(n){throw console.error(`[appwrite-recipes] Error updating recipe ${t}:`,n),n}}async function xl(t){try{const{tables:e,config:n}=await ae();await e.deleteRow({databaseId:n.databaseId,tableId:$n,rowId:t}),console.log(`[appwrite-recipes] Recipe deleted: ${t}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${t}:`,e),e}}async function kl(t,e){return await ba(t,{isPublished:!0,publishedAt:new Date().toISOString()})}function Cl(t,e,n){const s=`databases.${ia().APPWRITE_CONFIG.databaseId}.collections.${$n}.documents`;return aa([s],i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let c="update";i.events.some(d=>d.includes(".create"))?c="create":i.events.some(d=>d.includes(".delete"))&&(c="delete"),n(a,c)})}const ql="/api/data.json";class jl{#e=new Bt;#t=new Bt;#n=A(!1);#s=A(null);#o=A(null);#c=A(!1);#r=null;#l=new Set;#d=null;get loading(){return l(this.#n)}get error(){return l(this.#s)}get lastSync(){return l(this.#o)}get isInitialized(){return l(this.#c)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(l(this.#c)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),p(this.#n,!0),p(this.#s,null);try{this.#r=await Tl();const e=await this.#r.loadRecipesIndex(),n=await this.#r.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new Bt(e),p(this.#o,n.lastSync,!0)),await this.#u(),he.userId&&await this.#i(),he.userId&&await this.#p(),he.userId&&this.#h(),p(this.#c,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#b()} published, ${this.#m()} non-published)`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw p(this.#s,n,!0),console.error("[RecipesStore]",n,e),e}finally{p(this.#n,!1)}}async#u(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(ql);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const r=(await e.json()).recipes;if(!Array.isArray(r))throw new Error("Format de données invalide: recipes n'est pas un tableau");const s=await this.#f(JSON.stringify(r));if((await this.#r.loadMetadata()).indexHash===s){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const a=new Map;r.forEach(o=>{a.set(o.u,o)}),this.#e=new Bt(a),p(this.#o,new Date().toISOString(),!0),this.#r&&(await this.#r.saveRecipesIndex(a),await this.#r.saveMetadata({lastSync:l(this.#o),indexHash:s,recipesCount:a.size})),console.log(`[RecipesStore] ${a.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}async#i(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await Os();let n=0;for(const r of e)this.#e.has(r.$id)&&(await kl(r.$id),n++);n>0&&console.log(`[RecipesStore] ${n} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#p(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await Os();e.forEach(n=>{this.#e.set(n.$id,{u:n.$id,n:n.title,t:n.typeR,p:null,plates:n.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#h(){try{this.#d=Cl(he.userId,he.userTeams,(e,n)=>{console.log(`[RecipesStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):n==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(e){switch(e){case"entree":return 0;case"plat":return 1;case"dessert":return 2;default:return 0}}#w(e){switch(e){case 0:return"entree";case 1:return"plat";case 2:return"dessert";default:return"plat"}}#b(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#m(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#a(e){return{uuid:e.$id,title:e.title,plate:e.plate,ingredients:JSON.parse(e.ingredients),preparation:e.preparation}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}searchRecipes(e){if(!e.trim())return this.recipesIndex;const n=e.toLowerCase();return this.recipesIndex.filter(r=>r.n.toLowerCase().includes(n))}getRecipesByType(e){return this.recipesIndex.filter(n=>n.t===e)}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(n=>e.add(n.t)),Array.from(e).sort()}async canEditRecipe(e){if(!he.userId)return!1;const n=this.#e.get(e);if(!n||n.isPublished!==!1)return!1;try{const r=await Fs(e);return r?r.createdBy===he.userId||!!r.contributors?.includes(he.userId)||!!r.teams?.some(s=>he.userTeams.includes(s)):!1}catch(r){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,r),!1}}async getRecipeByUuid(e){const n=this.#t.get(e);if(n)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),n;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(r=>setTimeout(r,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#r){const i=await this.#r.loadRecipeDetail(e);if(i)return this.#t.set(e,i),i}const r=this.#e.get(e);if(!r)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let s;if(r.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${r.p}...`);const i=await fetch(r.p);if(!i.ok)throw new Error(`Erreur HTTP: ${i.status}`);const a=await i.json();s=$l(a)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const i=await Fs(e);if(!i)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;s=this.#a(i)}return this.#t.set(e,s),this.#r&&await this.#r.saveRecipeDetail(s),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),s}catch(r){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,r),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const n=e.map(r=>this.getRecipeByUuid(r));await Promise.all(n),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!he.userId)throw new Error("Utilisateur non connecté");try{const n={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:this.#w(0),categories:[],regime:[],teams:[],contributors:[]},r=await Dl(n,he.userId);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:!1}),this.#a(r)}catch(n){throw console.error("[RecipesStore] Erreur lors de la création:",n),n}}async updateRecipe(e,n){try{const r={};n.title&&(r.title=n.title),n.plate&&(r.plate=n.plate),n.ingredients&&(r.ingredients=JSON.stringify(n.ingredients)),n.preparation&&(r.preparation=n.preparation);const s=await ba(e,r);return this.#e.set(s.$id,{u:s.$id,n:s.title,t:s.typeR,p:null,plates:s.plate,isPublished:s.isPublished}),this.#t.delete(e),this.#a(s)}catch(r){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,r),r}}async deleteRecipe(e){try{await xl(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(n){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,n),n}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),p(this.#n,!0),p(this.#s,null);try{await this.#u(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw p(this.#s,n,!0),console.error("[RecipesStore]",n,e),e}finally{p(this.#n,!1)}}async clearCache(){this.#r&&(await this.#r.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),p(this.#o,null),p(this.#c,!1)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#r&&(this.#r.close(),this.#r=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),p(this.#c,!1),console.log("[RecipesStore] Ressources nettoyées")}}const us=new jl;var Nl=x('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Ll(t,e){var n=Nl(),r=w(v(n),2),s=w(v(r),2),i=v(s);ce(()=>ee(i,e.message)),I(t,n)}class Ul{routes=[];#e=A("");get currentPath(){return l(this.#e)}set currentPath(e){p(this.#e,e,!0)}#t=A(Re({}));get currentParams(){return l(this.#t)}set currentParams(e){p(this.#t,e,!0)}#n=A(Re({}));get currentQuery(){return l(this.#n)}set currentQuery(e){p(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,n,r){this.routes.push({path:e,component:n,guard:r})}navigate(e,n){const r=n?"?"+new URLSearchParams(n).toString():"",s="#"+(e.startsWith("/")?e:"/"+e)+r;window.location.hash=s}async match(){for(const e of this.routes){const n=this.matchRoute(e.path,this.currentPath);if(n)return e.guard&&!await e.guard()?null:(this.currentParams=n.params,{component:e.component,params:n.params,query:this.currentQuery})}return null}matchRoute(e,n){if(e instanceof RegExp){const o=n.match(e);return o?{params:o.groups||{}}:null}const r=[],s=e.replace(/:([^/]+)/g,(o,c)=>(r.push(c),"([^/]+)")),i=new RegExp(`^${s}$`),a=n.match(i);if(a){const o={};return r.forEach((c,d)=>{o[c]=a[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const n=window.location.hash.slice(1).split("?")[1],r={};n&&new URLSearchParams(n).forEach((i,a)=>{r[a]=i}),this.currentQuery=r}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const mt=new Ul;function Ft(t,e){mt.navigate(t,e)}function jr(t){return mt.query[t]}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Hl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Bl=Go("<svg><!><!></svg>");function be(t,e){Y(e,!0);const n=ke(e,"color",3,"currentColor"),r=ke(e,"size",3,24),s=ke(e,"strokeWidth",3,2),i=ke(e,"absoluteStrokeWidth",3,!1),a=ke(e,"iconNode",19,()=>[]),o=ge(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var c=Bl();Ts(c,f=>({...Hl,...o,width:r(),height:r(),stroke:n(),"stroke-width":f,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>i()?Number(s())*24/Number(r()):s()]);var d=v(c);ct(d,17,a,Qn,(f,h)=>{var m=J(()=>Ta(l(h),2));let g=()=>l(m)[0],b=()=>l(m)[1];var _=Z(),E=W(_);Oo(E,g,!0,($,k)=>{Ts($,()=>({...b()}))}),I(f,_)});var u=w(d);me(u,()=>e.children??ne),I(t,c),X()}function zl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];be(t,we({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Wl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];be(t,we({name:"book-open"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Bn(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];be(t,we({name:"calendar"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Ql(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];be(t,we({name:"check"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function ur(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];be(t,we({name:"chef-hat"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Vl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];be(t,we({name:"chevron-down"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Gl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m9 18 6-6-6-6"}]];be(t,we({name:"chevron-right"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Kl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];be(t,we({name:"circle-alert"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Jl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];be(t,we({name:"circle-x"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Yl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];be(t,we({name:"cloud"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Xl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];be(t,we({name:"copy"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Zl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];be(t,we({name:"layout-dashboard"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function _a(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];be(t,we({name:"loader-circle"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Ol(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];be(t,we({name:"log-in"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Fl(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];be(t,we({name:"log-out"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Nr(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];be(t,we({name:"mail"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function ei(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];be(t,we({name:"moon"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function ed(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];be(t,we({name:"pencil-line"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Gn(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];be(t,we({name:"plus"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function td(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];be(t,we({name:"save"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function nd(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];be(t,we({name:"search"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function rd(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];be(t,we({name:"square-pen"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function sd(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];be(t,we({name:"sun"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function id(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];be(t,we({name:"trash-2"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function ad(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];be(t,we({name:"triangle-alert"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function Kn(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];be(t,we({name:"users"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function od(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];be(t,we({name:"utensils"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function fr(t,e){Y(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=ge(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];be(t,we({name:"x"},()=>n,{get iconNode(){return r},children:(s,i)=>{var a=Z(),o=W(a);me(o,()=>e.children??ne),I(s,a)},$$slots:{default:!0}})),X()}function cd(t,e,n){l(e)||n(!1)}var ld=x('<div class="auth-message auth-message-error svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),dd=x('<div class="auth-message auth-message-success svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),ud=x('<span class="auth-spinner svelte-o861tn"></span>'),fd=(t,e)=>p(e,!1),pd=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="forgot-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="forgot-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com"/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-back-link svelte-o861tn"><button class="auth-link-btn svelte-o861tn">← Retour à la connexion</button></div>',1),hd=x('<span class="auth-spinner svelte-o861tn"></span>'),vd=(t,e)=>p(e,!0),md=(t,e)=>p(e,!1),gd=x(`<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="login-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="login-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-actions svelte-o861tn"><button class="auth-link-btn svelte-o861tn">Mot de passe oublié ?</button> <div class="auth-switch svelte-o861tn">Pas encore de compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">S'inscrire</button></div></div>`,1),yd=x('<span class="auth-spinner svelte-o861tn"></span>'),wd=(t,e)=>p(e,!0),bd=x('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-name"><span class="auth-label-text svelte-o861tn">Nom</span></label> <input id="register-name" type="text" class="auth-input svelte-o861tn" placeholder="Votre nom" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="register-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="register-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-success auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-switch svelte-o861tn">Déjà un compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">Se connecter</button></div>',1),_d=x('<div role="dialog"><div class="auth-modal-content svelte-o861tn"><div class="auth-header svelte-o861tn"><div class="auth-title svelte-o861tn"> </div> <button class="auth-close-btn svelte-o861tn">✕</button></div> <div class="auth-body svelte-o861tn"><!> <!> <!></div></div></div>');function Id(t,e){Y(e,!0);let n=ke(e,"isOpen",15),r=ke(e,"onAuthSuccess",3,()=>{}),s=A(!0),i=A(!1),a=A(""),o=A(""),c=A(""),d=A(""),u=A(""),f=A(""),h=A(""),m=A(""),g=A(!1);async function b(U){if(U.preventDefault(),!l(c)||!l(d)){p(a,"Veuillez remplir tous les champs");return}p(i,!0),p(a,"");try{const{account:H}=await ae();await H.createEmailPasswordSession({email:l(c),password:l(d)}),p(o,"Connexion réussie !"),setTimeout(()=>{r()()},1e3)}catch(H){console.error("Erreur de connexion:",H),p(a,H.message||"Erreur lors de la connexion",!0)}finally{p(i,!1)}}async function _(U){if(U.preventDefault(),!l(u)||!l(f)||!l(h)){p(a,"Veuillez remplir tous les champs");return}p(i,!0),p(a,"");try{const{account:H}=await ae();await H.create({userId:"unique()",email:l(f),password:l(h),name:l(u)}),await H.createEmailPasswordSession({email:l(f),password:l(h)}),p(o,"Compte créé et connecté !"),setTimeout(()=>{r()()},1e3)}catch(H){console.error("Erreur d'inscription:",H),p(a,H.message||"Erreur lors de la création du compte",!0)}finally{p(i,!1)}}async function E(U){if(U.preventDefault(),!l(m)){p(a,"Veuillez entrer votre email");return}p(i,!0),p(a,"");try{const{account:H}=await ae();await H.createRecovery({email:l(m),url:`${window.location.origin}/reset-password`}),p(o,"Email de réinitialisation envoyé !"),setTimeout(()=>{p(g,!1),p(m,"")},2e3)}catch(H){console.error("Erreur mot de passe oublié:",H),p(a,H.message||"Erreur lors de l'envoi de l'email",!0)}finally{p(i,!1)}}pt(()=>{(l(s)||l(g))&&(p(a,""),p(o,""))});var $=_d(),k=v($),P=v(k),M=v(P),R=v(M),D=w(M,2);D.__click=[cd,i,n];var q=w(P,2),V=v(q);{var le=U=>{var H=ld(),O=v(H),Ie=v(O);ce(()=>ee(Ie,l(a))),I(U,H)};z(V,U=>{l(a)&&U(le)})}var Q=w(V,2);{var G=U=>{var H=dd(),O=v(H),Ie=v(O);ce(()=>ee(Ie,l(o))),I(U,H)};z(Q,U=>{l(o)&&U(G)})}var _e=w(Q,2);{var Te=U=>{var H=pd(),O=W(H),Ie=v(O),$e=w(v(Ie),2),Se=w(Ie,2),Ee=v(Se);{var L=K=>{var oe=ud();I(K,oe)},T=K=>{var oe=Tr("Envoyer l'email de réinitialisation");I(K,oe)};z(Ee,K=>{l(i)?K(L):K(T,!1)})}var N=w(O,2),B=v(N);B.__click=[fd,g],ce(()=>{$e.disabled=l(i),Se.disabled=l(i),B.disabled=l(i)}),Pr("submit",O,E),Ze($e,()=>l(m),K=>p(m,K)),I(U,H)},de=U=>{var H=Z(),O=W(H);{var Ie=Se=>{var Ee=gd(),L=W(Ee),T=v(L),N=w(v(T),2),B=w(T,2),K=w(v(B),2),oe=w(B,2),ye=v(oe);{var Me=se=>{var Ke=hd();I(se,Ke)},Pe=se=>{var Ke=Tr("Se connecter");I(se,Ke)};z(ye,se=>{l(i)?se(Me):se(Pe,!1)})}var Ne=w(L,2),Ce=v(Ne);Ce.__click=[vd,g];var Ue=w(Ce,2),ze=w(v(Ue));ze.__click=[md,s],ce(()=>{N.disabled=l(i),K.disabled=l(i),oe.disabled=l(i),Ce.disabled=l(i),ze.disabled=l(i)}),Pr("submit",L,b),Ze(N,()=>l(c),se=>p(c,se)),Ze(K,()=>l(d),se=>p(d,se)),I(Se,Ee)},$e=Se=>{var Ee=bd(),L=W(Ee),T=v(L),N=w(v(T),2),B=w(T,2),K=w(v(B),2),oe=w(B,2),ye=w(v(oe),2),Me=w(oe,2),Pe=v(Me);{var Ne=se=>{var Ke=yd();I(se,Ke)},Ce=se=>{var Ke=Tr("Créer un compte");I(se,Ke)};z(Pe,se=>{l(i)?se(Ne):se(Ce,!1)})}var Ue=w(L,2),ze=w(v(Ue));ze.__click=[wd,s],ce(()=>{N.disabled=l(i),K.disabled=l(i),ye.disabled=l(i),Me.disabled=l(i),ze.disabled=l(i)}),Pr("submit",L,_),Ze(N,()=>l(u),se=>p(u,se)),Ze(K,()=>l(f),se=>p(f,se)),Ze(ye,()=>l(h),se=>p(h,se)),I(Se,Ee)};z(O,Se=>{l(s)?Se(Ie):Se($e,!1)},!0)}I(U,H)};z(_e,U=>{l(g)?U(Te):U(de,!1)})}ce(()=>{ut($,1,`auth-modal ${(n()&&"auth-modal-open")??""}`,"svelte-o861tn"),ee(R,l(g)?"Mot de passe oublié":l(s)?"Connexion":"Inscription")}),I(t,$),X()}Et(["click"]);function Sd(t,e){p(e,!l(e))}async function Ed(){try{await he.logout(),window.location.href="/"}catch(t){console.error("Erreur lors de la déconnexion:",t)}}function Ad(t,e){p(e,!0),console.log("showAuthModal",l(e))}var Rd=()=>Ft("/"),Pd=()=>Ft("/teams"),Td=()=>Ft("/eventEdit"),Md=()=>Ft("/recipes"),$d=x('<ul class="svelte-dropdown-menu svelte-18a4s1a"><li><div class="svelte-dropdown-header svelte-18a4s1a"> </div></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Dashboard</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Équipes</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Créer un événement</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Recettes</span></button></li> <li><hr class="svelte-dropdown-divider svelte-18a4s1a"/></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Se déconnecter</span></button></li></ul>'),Dd=x('<li class="svelte-user-dropdown svelte-18a4s1a"><button class="svelte-btn-user svelte-18a4s1a" aria-label="Menu utilisateur"><div class="svelte-user-avatar svelte-18a4s1a"> </div> <svg class="svelte-dropdown-arrow svelte-18a4s1a" width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"></path></svg></button> <!></li>'),xd=x('<li><button class="svelte-btn-login svelte-18a4s1a"><!> <span>Connexion</span></button></li>'),kd=x('<!> <nav class="svelte-header-nav svelte-18a4s1a"><div class="svelte-nav-container svelte-18a4s1a"><a class="svelte-nav-brand svelte-18a4s1a" href="/"><img src="/favicon-96x96.png" alt="logo" class="svelte-brand-logo svelte-18a4s1a"/></a> <ul class="svelte-nav-menu svelte-18a4s1a"><li><a class="svelte-nav-link svelte-18a4s1a" href="/recettes">Recettes</a></li> <li><a class="svelte-nav-link svelte-18a4s1a" href="/evenements">Événements</a></li></ul> <ul class="svelte-nav-actions svelte-18a4s1a"><!></ul></div></nav>',1);function Cd(t,e){Y(e,!0);let n=A(!1),r=A(!1);function s(){p(n,!1)}function i(b){b.target.closest(".svelte-user-dropdown")||s()}function a(){p(r,!1)}pt(()=>{if(l(n))return document.addEventListener("click",i),()=>document.removeEventListener("click",i)});var o=kd(),c=W(o);Id(c,{onAuthSuccess:a,get isOpen(){return l(r)},set isOpen(b){p(r,b,!0)}});var d=w(c,2),u=v(d),f=w(v(u),4),h=v(f);{var m=b=>{var _=Dd(),E=v(_);E.__click=[Sd,n];var $=v(E),k=v($),P=w(E,2);{var M=R=>{var D=$d(),q=v(D),V=v(q),le=v(V),Q=w(q,2),G=v(Q);G.__click=[Rd];var _e=v(G);Zl(_e,{class:"svelte-dropdown-icon",size:16});var Te=w(Q,2),de=v(Te);de.__click=[Pd];var U=v(de);Kn(U,{class:"svelte-dropdown-icon",size:16});var H=w(Te,2),O=v(H);O.__click=[Td];var Ie=v(O);Kn(Ie,{class:"svelte-dropdown-icon",size:16});var $e=w(H,2),Se=v($e);Se.__click=[Md];var Ee=v(Se);Wl(Ee,{class:"svelte-dropdown-icon",size:16});var L=w($e,4),T=v(L);T.__click=[Ed];var N=v(T);Fl(N,{class:"svelte-dropdown-icon",size:16}),ce(()=>ee(le,he.user?.email||"Utilisateur")),I(R,D)};z(P,R=>{l(n)&&R(M)})}ce(R=>{Ht(E,"aria-expanded",l(n)),ee(k,R)},[()=>he.user?.name?.charAt(0).toUpperCase()||"U"]),I(b,_)},g=b=>{var _=xd(),E=v(_);E.__click=[Ad,r];var $=v(E);Ol($,{size:16}),I(b,_)};z(h,b=>{he.isAuthenticated?b(m):b(g,!1)})}I(t,o),X()}Et(["click"]);var qd=(t,e,n,r)=>e(l(n),l(r)),jd=x('<button class="btn btn-sm btn-primary"> </button>'),Nd=(t,e,n)=>e(l(n)),Ld=x('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),Ud=(t,e,n)=>e(l(n)),Hd=x('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),Bd=x('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),zd=x("<div></div>");function Wd(t,e){Y(e,!0);let n=ke(e,"position",3,"toast-right toast-bottom"),r=ke(e,"padding",3,"md");const s=J(()=>r()==="sm"?"px-2 py-0.5":""),i=J(()=>at.toasts);function a(f){return f==="success"||f==="info"}function o(f){at.dismiss(f.id)}function c(f){e.onShowDetails?.({id:f.id,message:f.message,details:f.details})}function d(f,h){h.onClick()}var u=zd();ct(u,21,()=>l(i),f=>f.id,(f,h)=>{var m=Bd(),g=v(m),b=v(g),_=v(b);{var E=Q=>{_a(Q,{class:"h-5 w-5 animate-spin"})};z(_,Q=>{l(h).state==="loading"&&Q(E)})}var $=w(_,2),k=v($),P=w(b,2),M=v(P);{var R=Q=>{var G=Z(),_e=W(G);ct(_e,17,()=>l(h).actions,Qn,(Te,de)=>{var U=jd();U.__click=[qd,d,h,de];var H=v(U);ce(()=>ee(H,l(de).label)),I(Te,U)}),I(Q,G)};z(M,Q=>{l(h).actions&&l(h).actions.length>0&&Q(R)})}var D=w(M,2);{var q=Q=>{var G=Ld();G.__click=[Nd,c,h];var _e=v(G);Vl(_e,{class:"h-3 w-3"}),I(Q,G)};z(D,Q=>{l(h).details&&Q(q)})}var V=w(D,2);{var le=Q=>{var G=Hd();G.__click=[Ud,o,h];var _e=v(G);fr(_e,{class:"h-4 w-4"}),I(Q,G)};z(V,Q=>{(l(h).state==="error"||l(h).state==="warning"||!a(l(h).state))&&Q(le)})}ce(()=>{ut(m,1,`alert alert-${l(h).state??""} max-w-sm ${l(s)??""} shadow-lg`),ee(k,l(h).message)}),I(f,m)}),ce(()=>ut(u,1,`toast ${n()??""} z-50`)),I(t,u),X()}Et(["click"]);function Qd(t,e){Y(e,!0),X()}ao();function ti(){Ft("/eventEdit")}var Vd=x('<div class="flex items-center justify-center py-20"><!></div>'),Gd=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),Kd=x(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun événement</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé d'événement.</p> <button class="btn btn-primary btn-sm">Créer mon premier événement</button></div>`),Jd=(t,e,n)=>e(l(n).$id),Yd=x('<div class="badge badge-ghost text-xs"> </div>'),Xd=x('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span>-</span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="text-base-content/70 mt-auto flex flex-wrap justify-between text-sm"><div> </div> <div> </div></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Ouvrir <!></span></div></div></button>'),Zd=x('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),Od=x('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Événements</h1> <p class="text-base-content/60">Gérez vos menus et listes de courses</p></div> <button class="btn btn-primary"><!> Nouvel Événement</button></div> <!></div>');function ni(t,e){Y(e,!1);function n(f){return f?new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date inconnue"}function r(f){Ft(`/eventEdit/${f}`)}dc();var s=Od(),i=v(s),a=w(v(i),2);a.__click=[ti];var o=v(a);Gn(o,{class:"mr-2 h-5 w-5"});var c=w(i,2);{var d=f=>{var h=Vd(),m=v(h);_a(m,{class:"text-primary h-8 w-8 animate-spin"}),I(f,h)},u=f=>{var h=Z(),m=W(h);{var g=_=>{var E=Gd(),$=v(E),k=v($);ce(()=>ee(k,Rt.error)),I(_,E)},b=_=>{var E=Z(),$=W(E);{var k=M=>{var R=Kd(),D=v(R),q=v(D);Bn(q,{class:"h-8 w-8 opacity-50"});var V=w(D,6);V.__click=[ti],I(M,R)},P=M=>{var R=Zd();ct(R,5,()=>Rt.events,Qn,(D,q)=>{var V=Xd();V.__click=[Jd,r,q];var le=v(V),Q=v(le),G=v(Q),_e=v(G),Te=w(G,2);{var de=Pe=>{var Ne=Yd(),Ce=v(Ne);ce(Ue=>ee(Ce,Ue),[()=>n(l(q).dateStart)]),I(Pe,Ne)};z(Te,Pe=>{l(q).dateStart&&Pe(de)})}var U=w(Q,2),H=v(U),O=v(H);Kn(O,{class:"h-4 w-4"});var Ie=w(H,2),$e=v(Ie);Bn($e,{class:"h-4 w-4"});var Se=w($e,2),Ee=v(Se),L=w(U,2),T=v(L),N=v(T),B=w(T,2),K=v(B),oe=w(L,2),ye=v(oe),Me=w(v(ye));Gl(Me,{class:"h-4 w-4"}),ce(()=>{ee(_e,l(q).name),ee(Ee,`${(l(q).allDates?.length||0)??""} jours`),ee(N,`crée le ${l(q).$createdAt??""}`),ee(K,`modifié le ${l(q).$updatedAt??""}`)}),I(D,V)}),I(M,R)};z($,M=>{Rt.count===0?M(k):M(P,!1)},!0)}I(_,E)};z(m,_=>{Rt.error?_(g):_(b,!1)},!0)}I(f,h)};z(c,f=>{Rt.loading&&Rt.count===0?f(d):f(u,!1)})}I(t,s),X()}Et(["click"]);function Fd(t){return e=>{t.shouldFocus&&requestAnimationFrame(()=>{e.focus()});const n=r=>{(r.key==="Enter"||r.key==="Tab")&&e instanceof HTMLInputElement&&e.value.trim()===""&&(r.preventDefault(),t.onEmptySubmit?.())};return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}}}function eu(t,e,n,r){l(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),p(n,(l(n)+1)%l(e).length)):t.key==="ArrowUp"?(t.preventDefault(),p(n,l(n)<=0?l(e).length-1:l(n)-1,!0)):(t.key==="Enter"||t.key==="Tab")&&l(n)>=0&&(t.preventDefault(),r(l(e)[l(n)])))}var tu=x('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),nu=(t,e,n)=>e(l(n)),ru=x('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),su=x('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),iu=x('<div class="mt-2"><label class="input input-accent w-full"><!> <input type="text" placeholder="Rechercher une recette..."/> <!></label> <!> <!></div>'),au=(t,e)=>p(e,null),ou=x('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),cu=x('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function lu(t,e){Y(e,!0);let n=ke(e,"defaultPlates",3,4),r=ke(e,"autoFocus",3,!1),s=A(""),i=A(""),a=A(Re(n())),o=A(null),c=!1,d=A(-1),u=J(()=>l(s).length>1?us.searchRecipes(l(s)).slice(0,5):[]);pt(()=>{l(u).length>0&&l(d)===-1?p(d,0):l(u).length===0&&p(d,-1)});function f(){p(o,null),p(s,""),p(i,""),p(a,n()),p(d,-1)}function h(R){p(o,R,!0);const D=R.t||"plat";p(i,l(i)?l(i):D,!0),e.onSelect(R,l(i),l(a)),f()}const m=Math.random().toString(36).slice(2);var g=cu(),b=v(g),_=v(b),E=v(_),$=v(E);Gn($,{class:"text-primary h-4 w-4"});var k=w(_,2);{var P=R=>{var D=iu(),q=v(D),V=v(q);nd(V,{class:"h-4 w-4 opacity-50"});var le=w(V,2);le.__keydown=[eu,u,d,h],Ki(le,()=>Fd({shouldFocus:r(),onEmptySubmit:e.onEmptySubmit}));var Q=w(le,2);z(Q,U=>{});var G=w(q,2);{var _e=U=>{var H=tu();I(U,H)};z(G,U=>{l(s).length>1&&l(u).length===0&&U(_e)})}var Te=w(G,2);{var de=U=>{var H=su();ct(H,23,()=>l(u),O=>O.u,(O,Ie,$e)=>{var Se=ru(),Ee=v(Se);Ee.__click=[nu,h,Ie],Ee.disabled=c;var L=v(Ee),T=v(L);ur(T,{class:"h-3 w-3 opacity-70"});var N=w(L,2),B=v(N);ce(()=>{ut(Ee,1,`flex items-center gap-2 py-2 text-left ${l($e)===l(d)&&"ring-accent/40 ring-2"} `),ee(B,l(Ie).n)}),I(O,Se)}),I(U,H)};z(Te,U=>{l(u).length>0&&U(de)})}Ze(le,()=>l(s),U=>p(s,U)),I(R,D)},M=R=>{var D=ou(),q=v(D),V=v(q),le=v(V);ur(le,{class:"h-5 w-5"});var Q=w(V,2),G=v(Q),_e=v(G),Te=w(G,2);Te.__click=[au,o];var de=w(q,2),U=v(de),H=v(U),O=w(H,2),Ie=v(O);Ie.value=Ie.__value="";var $e=w(Ie);$e.value=$e.__value="entree";var Se=w($e);Se.value=Se.__value="plat";var Ee=w(Se);Ee.value=Ee.__value="dessert";var L=w(U,2),T=v(L),N=w(T,2);ce(()=>{ee(_e,l(o).n),Ht(H,"for",`type-${m}`),Ht(O,"id",`type-${m}`),Ht(T,"for",`plates-${m}`),Ht(N,"id",`plates-${m}`)}),Kr(O,()=>l(i),B=>p(i,B)),Ze(N,()=>l(a),B=>p(a,B)),I(R,D)};z(k,R=>{l(o)?R(M,!1):R(P)})}I(t,g),X()}Et(["keydown","click"]);function du(t){if(!t)return"";try{return new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return t}}const uu=t=>t;function Lr(t,{delay:e=0,duration:n=400,easing:r=uu}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function fu(t,e){return`${t}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function pu(t){return t.split("T")[0]}function ri(t){const e=parseInt(t.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}function hu(t){const e=t-1;return e*e*e+1}function Ia(t,{from:e,to:n},r={}){var{delay:s=0,duration:i=R=>Math.sqrt(R)*120,easing:a=hu}=r,o=getComputedStyle(t),c=o.transform==="none"?"":o.transform,[d,u]=o.transformOrigin.split(" ").map(parseFloat);d/=t.clientWidth,u/=t.clientHeight;var f=vu(t),h=t.clientWidth/n.width/f,m=t.clientHeight/n.height/f,g=e.left+e.width*d,b=e.top+e.height*u,_=n.left+n.width*d,E=n.top+n.height*u,$=(g-_)*h,k=(b-E)*m,P=e.width/n.width,M=e.height/n.height;return{delay:s,duration:typeof i=="function"?i(Math.sqrt($*$+k*k)):i,easing:a,css:(R,D)=>{var q=D*$,V=D*k,le=R+D*P,Q=R+D*M;return`transform: ${c} translate(${q}px, ${V}px) scale(${le}, ${Q});`}}}function vu(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}var mu=(t,e,n)=>{(t.key==="Enter"||t.key===" ")&&!e()&&n()},gu=(t,e)=>{e(!1)},yu=x(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),wu=(t,e,n)=>{e(!0),n.onEditToggle&&n.onEditToggle()},bu=x('<button class="btn btn-ghost" title="Éditer"><!></button>'),_u=x('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Iu=(t,e,n)=>e(l(n).recipeUuid),Su=x('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),Eu=x('<div class="mb-4 space-y-2"></div>'),Au=x('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Ru=x('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),Pu=x('<div class="flex flex-wrap gap-2"></div>'),Tu=x('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),Mu=x('<div class="space-y-2"><!></div>'),$u=x('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function Du(t,e){Y(e,!0);let n=ke(e,"meal",15),r=ke(e,"defaultGuests",3,100),s=ke(e,"isEditing",15,!1),i=ke(e,"allDates",19,()=>[]),a=A(!1);n().guests||n(n().guests=r(),!0),n().recipes||n(n().recipes=[],!0);let o=J(()=>ri(n().date||"")),c=A(!1),d=A(Re(pu(n().date||""))),u=A(Re(ri(n().date||""))),f=J(()=>fu(l(d),l(u)));pt(()=>{const T=!h(l(f)),N=n().date;T?(n(n().date=l(f),!0),p(c,!1),e.onDateChanged&&n().id&&N!==l(f)&&e.onDateChanged(n().id,l(f)),p(c,!1)):p(c,!0)});function h(T){const N=n().date||"";return i().some(B=>B!==N&&B===T)}const m=J(()=>{const T=l(o)||"";return T==="matin"?Yl:T==="midi"?sd:ei}),g=J(()=>{const T={entree:1,plat:2,dessert:3};return[...n().recipes].sort((N,B)=>{const K=T[N.type]||999,oe=T[B.type]||999;return K-oe})});function b(T,N,B){if(n().recipes.some(Me=>Me.recipeUuid===T.u))return;const oe=B||n().guests,ye={recipeUuid:T.u,plates:oe,type:N};n(n().recipes=[...n().recipes,{...ye}],!0)}function _(T){n(n().recipes=n().recipes.filter(N=>N.recipeUuid!==T),!0)}function E(T){return us.getRecipeIndexByUuid(T)}function $(){!s()&&e.onEditToggle&&(e.onEditToggle(),p(a,!0))}pt(()=>{s()&&(p(a,!0),setTimeout(()=>{p(a,!1)},100))});function k(T){return T==="entree"?"bg-lime-100 border-lime-200":T==="plat"?"bg-orange-100 border-orange-200":T==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var P=$u();P.__click=$,P.__keydown=[mu,s,$];var M=v(P),R=v(M),D=v(R),q=v(D),V=v(q),le=w(q,2),Q=v(le);Gi(Q,()=>l(m),(T,N)=>{N(T,{size:16})});var G=w(Q,2),_e=v(G),Te=w(le,2),de=v(Te);Kn(de,{class:"h-3 w-3"});var U=w(de),H=w(D,2),O=v(H);{var Ie=T=>{var N=yu(),B=W(N);B.__click=[gu,s];var K=w(B,2);K.__click=function(...Pe){e.onDuplicate?.apply(this,Pe)};var oe=v(K);Xl(oe,{class:"h-4 w-4"});var ye=w(K,2);ye.__click=function(...Pe){e.onDelete?.apply(this,Pe)};var Me=v(ye);id(Me,{class:"h-4 w-4"}),I(T,N)},$e=T=>{var N=bu();N.__click=[wu,s,e];var B=v(N);ed(B,{class:"h-4 w-4"}),I(T,N)};z(O,T=>{s()?T(Ie):T($e,!1)})}var Se=w(R,2);{var Ee=T=>{var N=Au(),B=v(N),K=v(B),oe=w(v(K),2),ye=w(oe,2);{var Me=j=>{var ue=_u();I(j,ue)};z(ye,j=>{l(c)&&j(Me)})}var Pe=w(K,2),Ne=w(v(Pe),2),Ce=v(Ne);Ce.value=Ce.__value="";var Ue=w(Ce);Ue.value=Ue.__value="matin";var ze=w(Ue);ze.value=ze.__value="midi";var se=w(ze);se.value=se.__value="soir";var Ke=w(Pe,2),xt=w(v(Ke),2),kt=w(B,2),Ct=v(kt),fn=v(Ct),Dn=v(fn);od(Dn,{class:"h-4 w-4"});var pn=w(Ct,2);{var hn=j=>{var ue=Eu();ct(ue,31,()=>l(g),ie=>ie.recipeUuid,(ie,fe,qe)=>{const Je=J(()=>E(l(fe).recipeUuid));var We=Su(),st=v(We),Ye=v(st),pe=v(Ye);ur(pe,{class:"h-5 w-5"});var De=w(Ye,2),Qe=v(De),je=v(Qe),qt=w(st,2),He=v(qt),ht=v(He);ht.value=ht.__value="entree";var At=w(ht);At.value=At.__value="plat";var jt=w(At);jt.value=jt.__value="dessert";var Nt=w(He,2),Sa=v(Nt),fs=w(Nt,2);fs.__click=[Iu,_,fe];var Ea=v(fs);fr(Ea,{class:"h-4 w-4"}),ce(xn=>{ut(Ye,1,`${xn??""} rounded-md border-2 p-2`),ee(je,l(Je)?.n||"Recette inconnue")},[()=>k(l(fe).type)]),Kr(He,()=>l(fe).type,xn=>l(fe).type=xn),Ze(Sa,()=>l(fe).plates,xn=>l(fe).plates=xn),ea(We,()=>Ia,()=>({duration:200})),I(ie,We)}),I(j,ue)};z(pn,j=>{n().recipes.length>=1&&j(hn)})}var C=w(pn,2);lu(C,{onSelect:b,get defaultPlates(){return n().guests},get autoFocus(){return l(a)},get onEmptySubmit(){return e.onEmptySearchSubmit}}),ce(()=>{ut(oe,1,`input input-bordered w-full ${l(c)?"input-error":""}`),ut(Ne,1,`select select-bordered w-full ${l(c)?"select-error":""}`)}),Ze(oe,()=>l(d),j=>p(d,j)),Kr(Ne,()=>l(u),j=>p(u,j)),Ze(xt,()=>n().guests,j=>n(n().guests=j,!0)),I(T,N)},L=T=>{var N=Mu(),B=v(N);{var K=ye=>{var Me=Pu();ct(Me,21,()=>l(g),Pe=>Pe.recipeUuid,(Pe,Ne)=>{const Ce=J(()=>E(l(Ne).recipeUuid));var Ue=Ru(),ze=v(Ue);ur(ze,{class:"h-4 w-4"});var se=w(ze,2),Ke=v(se),xt=w(se,2),kt=v(xt);ce(Ct=>{ut(Ue,1,`badge badge-lg ${Ct??""} h-auto gap-2 py-1 font-medium`),ee(Ke,l(Ce)?.n||"..."),ee(kt,`${(l(Ne).plates||n().guests)??""}p`)},[()=>k(l(Ne).type)]),I(Pe,Ue)}),I(ye,Me)},oe=ye=>{var Me=Tu();I(ye,Me)};z(B,ye=>{l(g).length>0?ye(K):ye(oe,!1)})}I(T,N)};z(Se,T=>{s()?T(Ee):T(L,!1)})}ce((T,N)=>{ut(P,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${s()?"ring-accent/40 ring-2":""} ${s()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"}`),Ht(P,"tabindex",s()?-1:0),ee(V,T),ee(_e,N),ee(U,` ${n().guests??""} pers.`)},[()=>n().date?du(n().date):"Date non définie",()=>l(o)?l(o).toUpperCase():"REPAS"]),I(t,P),X()}Et(["click","keydown"]);function xu(t,e,n,r){l(e)&&(n(n().filter(s=>s!==l(e))),p(e,null)),p(r,!1)}function ku(t,e,n,r){l(e)&&(n(n().filter(s=>parseContributor(s).id!==l(e).id)),p(e,null)),p(r,!1)}var Cu=(t,e)=>p(e,!0),qu=(t,e,n)=>e(l(n).$id),ju=(t,e,n)=>e(l(n).$id),Nu=x('<button class="btn btn-ghost btn-xs btn-circle" title="Retirer cette équipe"><!></button>'),Lu=x('<div class="border-base-200 hover:bg-base-200/50 flex items-center justify-between rounded-lg border p-2 transition-colors"><label class="flex grow cursor-pointer items-center gap-3"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span> </span></label> <!></div>'),Uu=x('<p class="text-base-content/60 text-xs italic">Aucune équipe disponible</p>'),Hu=(t,e,n)=>e(l(n).id,l(n).name,l(n).email,l(n).teamId),Bu=x('<button class="badge badge-outline badge-lg h-auto gap-1 py-1" title="Ajouter comme contributeur"><!> </button>'),zu=x('<div class="mb-3"><p class="mb-2 text-sm font-medium">Membres des équipes sélectionnées</p> <div class="flex flex-wrap gap-2"></div></div>'),Wu=(t,e)=>t.key==="Enter"&&e(),Qu=x('<span class="loading loading-spinner loading-xs"></span>'),Vu=x('<div class="alert alert-error mt-2 py-2 text-xs"><!> </div>'),Gu=(t,e,n)=>e(l(n)),Ku=x('<div><!> <button class="btn btn-ghost btn-xs btn-circle h-4 min-h-0 w-4" title="Retirer ce contributeur"><!></button></div>'),Ju=x('<p class="text-base-content/60 text-xs italic">Aucun contributeur ajouté</p>'),Yu=(t,e)=>p(e,!1),Xu=x(`<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4">Êtes-vous sûr de vouloir retirer cette équipe des permissions ? Les
        membres de cette équipe ne pourront plus accéder à cet événement.</p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>`),Zu=(t,e)=>p(e,!1),Ou=x('<div class="modal modal-open"><div class="modal-box"><h3 class="text-lg font-bold">Confirmer le retrait</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn btn-ghost">Annuler</button> <button class="btn btn-error">Retirer</button></div></div></div>'),Fu=(t,e,n)=>e(l(n).$id),ef=x('<label class="border-base-200 flex cursor-pointer items-center gap-3 rounded-lg border p-2"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <div class="grow"><div class="font-medium"> </div> <div class="text-base-content/60 text-xs"> </div></div></label>'),tf=x(`<p class="text-base-content/60 text-xs italic">Vous n'avez accès à aucune équipe.</p>`),nf=(t,e)=>p(e,!1),rf=x('<div class="modal modal-open"><div class="modal-box max-w-md"><h3 class="text-lg font-bold">Gérer les équipes</h3> <div class="py-4"><div class="flex flex-col gap-2"><!> <!></div></div> <div class="modal-action"><button class="btn btn-ghost">Fermer</button></div></div></div>'),sf=x('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Permissions</h3> <fieldset class="fieldset"><div class="flex items-center justify-between"><legend class="fieldset-legend">Équipes</legend> <button class="btn btn-ghost btn-xs"><!> Gérer</button></div> <div class="flex flex-col gap-2"><!> <!></div></fieldset> <div class="divider my-2"></div> <fieldset class="fieldset"><legend class="fieldset-legend">Contributeurs</legend> <!> <fieldset class="fieldset mb-3"><legend class="legend">Inviter par email</legend> <label class="input validator flex gap-2"><!> <input type="email" placeholder="email@exemple.com" class="input input-sm w-full"/> <button class="btn btn-sm btn-primary"><!> Inviter</button></label> <div class="validator-hint hidden">email invalide</div> <!></fieldset> <div class="mb-3"><p class="mb-2 text-sm font-medium"> </p> <div class="flex flex-wrap gap-2"><!> <!></div></div></fieldset></div></div> <!> <!> <!>',1);function af(t,e){Y(e,!0);let n=J(()=>{const C=[];if(s()&&s().length>0)for(const j of s())C.push(parseContributor(j));return C}),r=ke(e,"selectedTeams",31,()=>Re([])),s=ke(e,"contributors",31,()=>Re([])),i=ke(e,"userId",3,"");ke(e,"userTeams",19,()=>[]);let a=ke(e,"eventId",3,""),o=A(!1),c=A(!1),d=A(!1),u=A(null),f=A(null),h=A(""),m=A(!1),g=A(null),b=J(()=>{const C=new Map;for(const j of r()){const ue=e.teamsStore.getTeamById(j);if(ue&&ue.members)for(const ie of ue.members.memberships)ie.userId!==i()&&!l(n).some(fe=>fe.id===ie.userId)&&C.set(ie.userId,{id:ie.userId,name:ie.userName,email:ie.userEmail,teamId:j})}return C}),_=J(()=>Array.from(l(b).values()));function E(C){r().includes(C)?r(r().filter(j=>j!==C)):r([...r(),C])}function $(C){p(u,C,!0),p(c,!0)}function k(C,j,ue,ie){if(l(n).some(qe=>qe.id===C))return;const fe={id:C,name:j,email:ue,status:"accepted",invitedAt:new Date().toISOString(),teamId:ie};s([...s(),stringifyContributor(fe)])}async function P(){if(!l(h)){p(g,"Veuillez entrer une adresse email valide");return}if(!a()){p(g,"ID d'événement manquant pour l'invitation");return}if(l(n).some(C=>C.email===l(h))){p(g,"Cet email a déjà été invité");return}p(m,!0),p(g,null);try{const C=createTempContributor(l(h),a());await inviteContributorToEvent(l(h),a(),i()),s([...s(),stringifyContributor(C)]),p(h,"")}catch(C){console.error("Erreur lors de l'invitation:",C),p(g,"Erreur lors de l'envoi de l'invitation")}finally{p(m,!1)}}function M(C){p(f,C,!0),p(d,!0)}var R=sf(),D=W(R),q=v(D),V=v(q),le=v(V);Kn(le,{class:"text-secondary h-5 w-5"});var Q=w(V,2),G=v(Q),_e=w(v(G),2);_e.__click=[Cu,o];var Te=v(_e);rd(Te,{class:"mr-1 h-3 w-3"});var de=w(G,2),U=v(de);ct(U,17,()=>e.teamsStore.teams,Qn,(C,j)=>{var ue=Lu(),ie=v(ue),fe=v(ie);fe.__change=[qu,E,j];var qe=w(fe,2),Je=v(qe),We=w(ie,2);{var st=Ye=>{var pe=Nu();pe.__click=[ju,$,j];var De=v(pe);fr(De,{class:"h-3 w-3"}),I(Ye,pe)};z(We,Ye=>{r().includes(l(j).$id)&&Ye(st)})}ce(Ye=>{Ps(fe,Ye),ee(Je,l(j).name)},[()=>r().includes(l(j).$id)]),I(C,ue)});var H=w(U,2);{var O=C=>{var j=Uu();I(C,j)};z(H,C=>{e.teamsStore.teams.length===0&&C(O)})}var Ie=w(Q,4),$e=w(v(Ie),2);{var Se=C=>{var j=zu(),ue=w(v(j),2);ct(ue,21,()=>l(_),ie=>ie.name,(ie,fe)=>{var qe=Bu();qe.__click=[Hu,k,fe];var Je=v(qe);Gn(Je,{class:"h-3 w-3"});var We=w(Je);ce(()=>ee(We,` ${l(fe).name??""}`)),I(ie,qe)}),I(C,j)};z($e,C=>{l(_).length>0&&C(Se)})}var Ee=w($e,2),L=w(v(Ee),2),T=v(L);Nr(T,{class:"h-4 w-4 opacity-50"});var N=w(T,2);N.__keydown=[Wu,P];var B=w(N,2);B.__click=P;var K=v(B);{var oe=C=>{var j=Qu();I(C,j)},ye=C=>{Nr(C,{class:"h-4 w-4"})};z(K,C=>{l(m)?C(oe):C(ye,!1)})}var Me=w(L,4);{var Pe=C=>{var j=Vu(),ue=v(j);Kl(ue,{class:"h-3 w-3"});var ie=w(ue);ce(()=>ee(ie,` ${l(g)??""}`)),I(C,j)};z(Me,C=>{l(g)&&C(Pe)})}var Ne=w(Ee,2),Ce=v(Ne),Ue=v(Ce),ze=w(Ce,2),se=v(ze);ct(se,17,()=>l(n),C=>C.id,(C,j)=>{var ue=Ku();let ie;var fe=v(ue);{var qe=pe=>{Nr(pe,{class:"h-3 w-3"})},Je=pe=>{var De=Z(),Qe=W(De);{var je=He=>{Ql(He,{class:"h-3 w-3"})},qt=He=>{var ht=Z(),At=W(ht);{var jt=Nt=>{Jl(Nt,{class:"h-3 w-3"})};z(At,Nt=>{l(j).status==="declined"&&Nt(jt)},!0)}I(He,ht)};z(Qe,He=>{l(j).status==="accepted"?He(je):He(qt,!1)},!0)}I(pe,De)};z(fe,pe=>{l(j).status==="invited"?pe(qe):pe(Je,!1)})}var We=w(fe),st=w(We);st.__click=[Gu,M,j];var Ye=v(st);fr(Ye,{class:"h-3 w-3"}),ce(pe=>{ie=ut(ue,1,"badge badge-outline gap-2 pr-1",null,ie,pe),ee(We,` ${(l(j).name||l(j).email||l(j).id)??""} `)},[()=>({"badge-success":l(j).status==="accepted"})]),I(C,ue)});var Ke=w(se,2);{var xt=C=>{var j=Ju();I(C,j)};z(Ke,C=>{l(n).length===0&&C(xt)})}var kt=w(D,2);{var Ct=C=>{var j=Xu(),ue=v(j),ie=w(v(ue),4),fe=v(ie);fe.__click=[Yu,c];var qe=w(fe,2);qe.__click=[xu,u,r,c],xr(3,j,()=>Lr),I(C,j)};z(kt,C=>{l(c)&&C(Ct)})}var fn=w(kt,2);{var Dn=C=>{var j=Ou(),ue=v(j),ie=w(v(ue),2),fe=v(ie),qe=w(ie,2),Je=v(qe);Je.__click=[Zu,d];var We=w(Je,2);We.__click=[ku,f,s,d],ce(()=>ee(fe,`Êtes-vous sûr de vouloir retirer ce contributeur ?
        ${(l(f)?.name||l(f)?.email||l(f)?.id)??""} ne pourra plus accéder à cet événement.`)),xr(3,j,()=>Lr),I(C,j)};z(fn,C=>{l(d)&&C(Dn)})}var pn=w(fn,2);{var hn=C=>{var j=rf(),ue=v(j),ie=w(v(ue),2),fe=v(ie),qe=v(fe);ct(qe,17,()=>e.teamsStore.teams,Qn,(pe,De)=>{var Qe=ef(),je=v(Qe);je.__change=[Fu,E,De];var qt=w(je,2),He=v(qt),ht=v(He),At=w(He,2),jt=v(At);ce(Nt=>{Ps(je,Nt),ee(ht,l(De).name),ee(jt,`${(l(De).members?.total||0)??""} membre${l(De).members?.total!==1?"s":""}`)},[()=>r().includes(l(De).$id)]),I(pe,Qe)});var Je=w(qe,2);{var We=pe=>{var De=tf();I(pe,De)};z(Je,pe=>{e.teamsStore.teams.length===0&&pe(We)})}var st=w(ie,2),Ye=v(st);Ye.__click=[nf,o],xr(3,j,()=>Lr),I(C,j)};z(pn,C=>{l(o)&&C(hn)})}ce(()=>{B.disabled=l(m)||!l(h),ee(Ue,`Contributeurs (${s().length??""})`)}),Ze(N,()=>l(h),C=>p(h,C)),I(t,R),X()}Et(["click","change","keydown"]);async function of(t,e,n,r,s,i,a,o,c,d,u,f){if(!l(e)){p(n,"Veuillez renseigner le nom de l'événement");return}if(l(r).length===0){p(n,"Veuillez ajouter au moins un repas");return}p(s,!0),p(n,null);try{const h={name:l(e),dateStart:l(i),dateEnd:l(a),allDates:l(o),teams:l(c),contributors:l(d),meals:l(r)};l(u)?await Rt.updateEvent(l(u),h):await Rt.createEvent(h),f()}catch(h){console.error("Erreur lors de la sauvegarde de l'événement:",h),p(n,"Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{p(s,!1)}}var cf=x('<span class="loading loading-spinner loading-sm"></span>'),lf=x(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),df=x('<div class="alert alert-error shadow-lg"><span> </span></div>'),uf=x('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),ff=x("<div><!></div>"),pf=x('<div class="space-y-4"></div>'),hf=x(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <!></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),vf=x('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!></div>');function si(t,e){Y(e,!0);const n=J(()=>e.params?.id);let r=A(""),s=A(Re([])),i=A(Re([])),a=A(Re([])),o=A(!1),c=A(!1),d=A(null),u=A(null);const f=J(()=>{const L=l(a).map(T=>T.date).filter(Boolean);return[...new Set(L)].sort()}),h=J(()=>l(f).length>0?l(f)[0]:""),m=J(()=>l(f).length>0?l(f)[l(f).length-1]:"");pt(()=>{l(n)?(p(c,!0),p(d,null),Mn(l(n)).then(L=>{L?(p(r,L.name||"",!0),p(s,L.teams||[],!0),p(i,Lt(L),!0),p(a,Fn(L).sort((T,N)=>T.date.localeCompare(N.date)),!0)):p(d,"Événement introuvable")}).catch(L=>{console.error("Erreur lors du chargement de l'événement:",L),p(d,"Erreur lors du chargement de l'événement")}).finally(()=>{p(c,!1)})):(p(r,""),p(s,[],!0),p(i,[],!0),p(a,[],!0))});function g(){history.back()}function b(){const L=Yr(6);let T;if(l(f).length===0){const B=new Date;B.setHours(12,0,0,0),T=B.toISOString()}else{const B=l(f)[l(f).length-1],K=new Date(B);K.getHours()<14?K.setHours(20,0,0,0):(K.setDate(K.getDate()+1),K.setHours(12,0,0,0)),T=K.toISOString()}if(l(a).some(B=>B.date===T)){p(d,"Un repas existe déjà à cette date et heure");return}const N={id:L,date:T,guests:100,recipes:[]};p(a,[...l(a),N].sort((B,K)=>B.date.localeCompare(K.date)),!0),p(u,L,!0)}function _(L){p(a,l(a).filter(T=>T.id!==L),!0)}function E(L){}function $(L){p(u,l(u)===L?null:L,!0)}function k(L){const T=l(a).findIndex(N=>N.id===L);if(T<l(a).length-1){const N=l(a)[T+1];N.id||(N.id=Yr(6)),p(u,N.id,!0)}else b()}function P(L,T){p(a,l(a).sort((N,B)=>N.date.localeCompare(B.date)),!0)}var M=vf(),R=v(M),D=v(R),q=v(D);q.__click=g;var V=v(q);zl(V,{class:"h-6 w-6"});var le=w(q,2),Q=v(le),G=v(Q),_e=w(Q,2),Te=v(_e),de=w(D,2);de.__click=[of,r,d,a,o,h,m,f,s,i,n,g];var U=v(de);{var H=L=>{var T=cf();I(L,T)},O=L=>{td(L,{class:"mr-2 h-4 w-4"})};z(U,L=>{l(o)?L(H):L(O,!1)})}var Ie=w(U),$e=w(R,2);{var Se=L=>{var T=lf();I(L,T)},Ee=L=>{var T=Z(),N=W(T);{var B=oe=>{var ye=df(),Me=v(ye),Pe=v(Me);ce(()=>ee(Pe,l(d))),I(oe,ye)},K=oe=>{var ye=hf(),Me=v(ye),Pe=v(Me),Ne=v(Pe),Ce=v(Ne),Ue=v(Ce);Bn(Ue,{class:"text-primary h-5 w-5"});var ze=w(Ce,2),se=v(ze),Ke=v(se),xt=v(Ke);Bn(xt,{class:"h-4 w-4 opacity-50"});var kt=w(xt,2),Ct=w(Pe,2);{let pe=J(()=>he.userId||""),De=J(()=>he.userTeams||[]);af(Ct,{get teamsStore(){return wa},get userId(){return l(pe)},get userTeams(){return l(De)},get eventId(){return l(n)},get selectedTeams(){return l(s)},set selectedTeams(Qe){p(s,Qe,!0)},get contributors(){return l(i)},set contributors(Qe){p(i,Qe,!0)}})}var fn=w(Me,2),Dn=v(fn),pn=v(Dn),hn=v(pn),C=v(hn),j=v(C),ue=w(C,2);ue.__click=b;var ie=v(ue);Gn(ie,{class:"mr-1 h-4 w-4"});var fe=w(hn,2);{var qe=pe=>{var De=uf(),Qe=v(De),je=v(Qe);Bn(je,{class:"h-8 w-8 opacity-50"}),I(pe,De)},Je=pe=>{var De=pf();ct(De,31,()=>l(a),Qe=>Qe.id,(Qe,je,qt)=>{var He=ff(),ht=v(He);{let At=J(()=>l(u)===l(je).id);Du(ht,{get isEditing(){return l(At)},onEditToggle:()=>l(je).id&&$(l(je).id),onDelete:()=>l(je).id&&_(l(je).id),onDuplicate:()=>l(je).id&&(l(je).id,void 0),get allDates(){return l(f)},onEmptySearchSubmit:()=>l(je).id&&k(l(je).id),onDateChanged:P,get meal(){return l(a)[l(qt)]},set meal(jt){l(a)[l(qt)]=jt}})}ea(He,()=>Ia,()=>({delay:100,duration:400})),I(Qe,He)}),I(pe,De)};z(fe,pe=>{l(a).length===0?pe(qe):pe(Je,!1)})}var We=w(fe,2),st=v(We);st.__click=b;var Ye=v(st);Gn(Ye,{class:"mr-1 h-4 w-4"}),ce(()=>ee(j,`Repas & Menus (${l(a).length??""})`)),Ze(kt,()=>l(r),pe=>p(r,pe)),I(oe,ye)};z(N,oe=>{l(d)?oe(B):oe(K,!1)},!0)}I(L,T)};z($e,L=>{l(c)?L(Se):L(Ee,!1)})}ce(()=>{ee(G,`${l(n)?"Éditer":"Nouvel"} Événement`),ee(Te,l(n)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),de.disabled=l(o)||l(c),ee(Ie,` ${l(n)?"Enregistrer":"Créer l'événement"}`)}),I(t,M),X()}Et(["click"]);async function mf(t,e,n,r){if(l(e).length<8){alert("Le mot de passe doit faire au moins 8 caractères.");return}p(n,!0);try{const{client:s,account:i}=await ae();await i.updatePassword({password:l(e)}),l(r)&&await i.updateName({name:l(r)});const a=await i.get();await i.createEmailPasswordSession({email:a.email,password:l(e)}),console.log("[AcceptInvite] Session créée, redirection..."),Ft("/dashboard")}catch(s){console.error("[AcceptInvite] Erreur finalisation:",s),alert("Erreur : "+s.message),p(n,!1)}}var gf=x(`<span class="loading loading-spinner loading-lg text-primary mx-auto"></span> <p class="text-base-content/70 mt-4">Vérification de l'invitation...</p>`,1),yf=()=>Ft("/"),wf=x(`<!> <h2 class="text-error text-xl font-bold">Oups !</h2> <p class="py-4"> </p> <button class="btn btn-ghost">Retour à l'accueil</button>`,1),bf=x('<span class="loading loading-spinner loading-xs"></span>'),_f=x(`<div class="mb-2 text-4xl">👋</div> <h2 class="card-title justify-center text-2xl">Bienvenue !</h2> <p class="text-base-content/70 mb-6 text-sm">Votre invitation est validée. <br/> Veuillez définir un mot de passe.</p> <label class="w-full text-left"><div class="label"><span class="label-text">Votre Pseudo / Nom</span></div> <input type="text" class="input w-full" placeholder="Ex: Chef Gusto"/></label> <label class="mt-3 w-full text-left"><div class="label"><span class="label-text">Nouveau mot de passe</span></div> <input type="password" placeholder="Minimum 8 caractères" class="input w-full"/></label> <div class="card-actions mt-6"><button class="btn btn-primary w-full"><!> Terminer l'inscription</button></div>`,1),If=x('<div class="bg-base-200 flex min-h-screen items-center justify-center p-4"><div class="card bg-base-100 w-full max-w-md shadow-xl"><div class="card-body text-center"><!></div></div></div>');function Sf(t,e){Y(e,!0);let n=A(!0),r=A("verifying"),s=A(""),i=A(""),a=A(""),o="",c="";ta(async()=>{if(o=jr("userId")||"",c=jr("secret")||"",jr("teamId"),!o||!c){p(r,"error"),p(s,"Lien d'invitation incomplet ou invalide."),p(n,!1);return}try{console.log("[AcceptInvite] Initialisation avec JWT...");const{client:b,account:_}=await ae();b.setJWT(c);const E=await _.get();console.log("[AcceptInvite] Token valide pour :",E.name),p(a,E.name,!0),E.passwordUpdate,p(r,"set-password")}catch(b){console.error("[AcceptInvite] Erreur validation:",b),p(r,"error"),p(s,"Ce lien d'invitation a expiré ou est invalide.")}finally{p(n,!1)}});var d=If(),u=v(d),f=v(u),h=v(f);{var m=b=>{var _=gf();I(b,_)},g=b=>{var _=Z(),E=W(_);{var $=P=>{var M=wf(),R=W(M);ad(R,{class:"text-error mb-2 size-7"});var D=w(R,4),q=v(D),V=w(D,2);V.__click=[yf],ce(()=>ee(q,l(s))),I(P,M)},k=P=>{var M=Z(),R=W(M);{var D=q=>{var V=_f(),le=w(W(V),6),Q=w(v(le),2),G=w(le,2),_e=w(v(G),2),Te=w(G,2),de=v(Te);de.__click=[mf,i,n,a];var U=v(de);{var H=O=>{var Ie=bf();I(O,Ie)};z(U,O=>{l(n)&&O(H)})}ce(()=>de.disabled=l(n)),Ze(Q,()=>l(a),O=>p(a,O)),Ze(_e,()=>l(i),O=>p(i,O)),I(q,V)};z(R,q=>{l(r)==="set-password"&&q(D)},!0)}I(P,M)};z(E,P=>{l(r)==="error"?P($):P(k,!1)},!0)}I(b,_)};z(h,b=>{l(n)&&l(r)!=="set-password"?b(m):b(g,!1)})}I(t,d),X()}Et(["click"]);var Ef=x('<div class="flex items-center justify-center py-20"><p class="text-slate-400">Chargement...</p></div>'),Af=x("<!> <!>",1),Rf=x("<!> <!> <!> <!>",1);function Pf(t,e){Y(e,!0);let n=A(null);mt.addRoute("/",ni),mt.addRoute("/dashboard",ni),mt.addRoute("/eventEdit",si),mt.addRoute("/eventEdit/:id",si),mt.addRoute("/accept-invite",Sf);let r=A(null);pt(()=>{!he.isAuthenticated&&mt.path!=="/"&&mt.path!=="/accept-invite"&&(window.location.hash="/",window.location.pathname="/")}),pt(()=>{mt.match().then(b=>{p(r,b,!0)})});async function s(){try{await he.initializeAuth()}catch(b){console.error("Erreur d'initialisation auth:",b)}}async function i(){try{await Promise.all([wa.initialize(),us.initialize(),Rt.initialize()])}catch(b){console.error("Erreur d'initialisation dashboard:",b),p(n,b.message||"Erreur inconnue lors de l'initialisation",!0)}}ta(()=>{(async()=>(await s(),he.isAuthenticated&&(window.location.pathname=="/"&&(window.location.pathname="/a"),await i())))()});let a=J(()=>l(n)||gl.error);var o=Rf(),c=W(o);Cd(c,{});var d=w(c,2);{var u=b=>{const _=J(()=>l(r).component);var E=Z(),$=W(E);Gi($,()=>l(_),(k,P)=>{P(k,{get params(){return l(r).params},get query(){return l(r).query}})}),I(b,E)},f=b=>{var _=Ef();I(b,_)};z(d,b=>{l(r)?b(u):b(f,!1)})}var h=w(d,2);Wd(h,{});var m=w(h,2);{var g=b=>{var _=Af(),E=W(_);{var $=P=>{Ll(P,{get message(){return l(a)}})};z(E,P=>{l(a)&&P($)})}var k=w(E,2);Qd(k,{get isOpen(){return he.isConflictModalOpen},get conflictData(){return he.conflictData}}),I(b,_)};z(m,b=>{he.isAuthenticated&&b(g)})}I(t,o),X()}let Jn=null;window.location.pathname.startsWith("/a")?Jn=document.getElementById("app"):Jn=document.getElementById("svelte-header");if(!Jn)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${Jn.id}`);Ko(Pf,{target:Jn});
