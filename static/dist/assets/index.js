(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const ci=!1;var Bn=Array.isArray,Ra=Array.prototype.indexOf,tr=Array.from,zs=Object.defineProperty,St=Object.getOwnPropertyDescriptor,li=Object.getOwnPropertyDescriptors,di=Object.prototype,Pa=Array.prototype,ds=Object.getPrototypeOf,wr=Object.isExtensible;function an(t){return typeof t=="function"}const te=()=>{};function Ta(t){return t()}function Ws(t){for(var e=0;e<t.length;e++)t[e]()}function ui(){var t,e,n=new Promise((s,r)=>{t=s,e=r});return{promise:n,resolve:t,reject:e}}function Ma(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const s of t)if(n.push(s),n.length===e)break;return n}const We=2,nr=4,us=8,Tt=16,wt=32,Gt=64,sr=128,Xe=256,rs=512,xe=1024,Ge=2048,Mt=4096,tt=8192,Kt=16384,fs=32768,Dt=65536,br=1<<17,Da=1<<18,pn=1<<19,fi=1<<20,Qs=1<<21,ps=1<<22,Wt=1<<23,vt=Symbol("$state"),pi=Symbol("legacy props"),$a=Symbol(""),$n=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ka(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function xa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ja(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ca(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Na(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function La(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ha(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ba(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function za(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const hs=1,vs=2,hi=4,Wa=8,Qa=16,Va=1,Ga=2,Ka=4,Ya=8,Ja=16,Xa=4,Za=1,Oa=2,Te=Symbol(),Fa="http://www.w3.org/1999/xhtml",eo="http://www.w3.org/2000/svg",to="@attach";function no(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function so(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ro=!1;function vi(t){return t===this.v}function io(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function gi(t){return!io(t,this.v)}let hn=!1,ao=!1;function oo(){hn=!0}const co=[];function nn(t,e=!1,n=!1){return ns(t,new Map,"",co,null,n)}function ns(t,e,n,s,r=null,i=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Bn(t)){var o=Array(t.length);e.set(t,o),r!==null&&e.set(r,o);for(var c=0;c<t.length;c+=1){var d=t[c];c in t&&(o[c]=ns(d,e,n,s,null,i))}return o}if(ds(t)===di){o={},e.set(t,o),r!==null&&e.set(r,o);for(var u in t)o[u]=ns(t[u],e,n,s,null,i);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return ns(t.toJSON(),e,n,s,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let Se=null;function cn(t){Se=t}function K(t,e=!1,n){Se={p:Se,c:null,e:null,s:t,x:null,l:hn&&!e?{s:null,u:null,$:[]}:null}}function Y(t){var e=Se,n=e.e;if(n!==null){e.e=null;for(var s of n)ki(s)}return Se=e.p,{}}function zn(){return!hn||Se!==null&&Se.l===null}let Ht=[];function mi(){var t=Ht;Ht=[],Ws(t)}function Rt(t){if(Ht.length===0&&!kn){var e=Ht;queueMicrotask(()=>{e===Ht&&mi()})}Ht.push(t)}function lo(){for(;Ht.length>0;)mi()}const uo=new WeakMap;function yi(t){var e=z;if(e===null)return V.f|=Wt,t;if((e.f&fs)===0){if((e.f&sr)===0)throw!e.parent&&t instanceof Error&&wi(t),t;e.b.error(t)}else ln(t,e)}function ln(t,e){for(;e!==null;){if((e.f&sr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&wi(t),t}function wi(t){const e=uo.get(t);e&&(zs(t,"message",{value:e.message}),zs(t,"stack",{value:e.stack}))}const On=new Set;let ce=null,ss=null,Vs=new Set,it=[],gs=null,Gs=!1,kn=!1;class Je{current=new Map;#e=new Map;#t=new Set;#n=0;#r=null;#o=[];#c=[];#s=[];#l=[];#d=[];#u=[];skipped_effects=new Set;process(e){it=[],ss=null;var n=Je.apply(this);for(const i of e)this.#f(i);if(this.#n===0){this.#p();var s=this.#c,r=this.#s;this.#c=[],this.#s=[],this.#l=[],ss=this,ce=null,_r(s),_r(r),ss=null,this.#r?.resolve()}else this.#i(this.#c),this.#i(this.#s),this.#i(this.#l);n();for(const i of this.#o)Cn(i);this.#o=[]}#f(e){e.f^=xe;for(var n=e.first;n!==null;){var s=n.f,r=(s&(wt|Gt))!==0,i=r&&(s&xe)!==0,a=i||(s&tt)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){r?n.f^=xe:(s&nr)!==0?this.#s.push(n):(s&xe)===0&&((s&ps)!==0&&n.b?.is_pending()?this.#o.push(n):ws(n)&&((n.f&Tt)!==0&&this.#l.push(n),Cn(n)));var o=n.first;if(o!==null){n=o;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#i(e){for(const n of e)((n.f&Ge)!==0?this.#d:this.#u).push(n),Ue(n,xe);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v)}activate(){ce=this}deactivate(){ce=null}flush(){if(it.length>0){if(this.activate(),bi(),ce!==null&&ce!==this)return}else this.#n===0&&this.#p();this.deactivate();for(const e of Vs)if(Vs.delete(e),e(),ce!==null)break}#p(){for(const e of this.#t)e();if(this.#t.clear(),On.size>1){this.#e.clear();let e=!0;for(const n of On){if(n===this){e=!1;continue}for(const[s,r]of this.current){if(n.current.has(s))if(e)n.current.set(s,r);else continue;_i(s)}if(it.length>0){ce=n;const s=Je.apply(n);for(const r of it)n.#f(r);it=[],s()}}ce=null}On.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#d)Ue(e,Ge),Qt(e);for(const e of this.#u)Ue(e,Mt),Qt(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#r??=ui()).promise}static ensure(){if(ce===null){const e=ce=new Je;On.add(ce),kn||Je.enqueue(()=>{ce===e&&e.flush()})}return ce}static enqueue(e){Rt(e)}static apply(e){return te}}function fo(t){var e=kn;kn=!0;try{for(var n;;){if(lo(),it.length===0&&(ce?.flush(),it.length===0))return gs=null,n;bi()}}finally{kn=e}}function bi(){var t=on;Gs=!0;try{var e=0;for(Ar(!0);it.length>0;){var n=Je.ensure();if(e++>1e3){var s,r;po()}n.process(it),Et.clear()}}finally{Gs=!1,Ar(t),gs=null}}function po(){try{Na()}catch(t){ln(t,gs)}}let Lt=null;function _r(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var s=t[n++];if((s.f&(Kt|tt))===0&&ws(s)&&(Lt=[],Cn(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Ci(s):s.fn=null),Lt?.length>0)){Et.clear();for(const r of Lt)Cn(r);Lt=[]}}Lt=null}}function _i(t){if(t.reactions!==null)for(const e of t.reactions){const n=e.f;(n&We)!==0?_i(e):(n&(ps|Tt))!==0&&(Ue(e,Ge),Qt(e))}}function Qt(t){for(var e=gs=t;e.parent!==null;){e=e.parent;var n=e.f;if(Gs&&e===z&&(n&Tt)!==0)return;if((n&(Gt|wt))!==0){if((n&xe)===0)return;e.f^=xe}}it.push(e)}function rr(t){let e=0,n=Pt(0),s;return()=>{To()&&(l(n),xi(()=>(e===0&&(s=gn(()=>t(()=>at(n)))),e+=1,()=>{Rt(()=>{e-=1,e===0&&(s?.(),s=void 0,at(n))})})))}}var ho=Dt|pn|sr;function vo(t,e,n){new go(t,e,n)}class go{parent;#e=!1;#t;#n=null;#r;#o;#c;#s=null;#l=null;#d=null;#u=null;#f=0;#i=0;#p=!1;#h=null;#v=()=>{this.#h&&dn(this.#h,this.#f)};#w=rr(()=>(this.#h=Pt(this.#f),()=>{this.#h=null}));constructor(e,n,s){this.#t=e,this.#r=n,this.#o=s,this.parent=z.b,this.#e=!!this.#r.pending,this.#c=kt(()=>{z.b=this;{try{this.#s=ke(()=>s(this.#t))}catch(r){this.error(r)}this.#i>0?this.#m():this.#e=!1}},ho)}#b(){try{this.#s=ke(()=>this.#o(this.#t))}catch(e){this.error(e)}this.#e=!1}#g(){const e=this.#r.pending;e&&(this.#l=ke(()=>e(this.#t)),Je.enqueue(()=>{this.#s=this.#a(()=>(Je.ensure(),ke(()=>this.#o(this.#t)))),this.#i>0?this.#m():(At(this.#l,()=>{this.#l=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#a(e){var n=z,s=V,r=Se;ut(this.#c),ze(this.#c),cn(this.#c.ctx);try{return e()}catch(i){return yi(i),null}finally{ut(n),ze(s),cn(r)}}#m(){const e=this.#r.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),mo(this.#s,this.#u)),this.#l===null&&(this.#l=ke(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#i+=e,this.#i===0&&(this.#e=!1,this.#l&&At(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null),Rt(()=>{Je.ensure().flush()}))}update_pending_count(e){this.#y(e),this.#f+=e,Vs.add(this.#v)}get_effect_pending(){return this.#w(),l(this.#h)}error(e){var n=this.#r.onerror;let s=this.#r.failed;if(this.#p||!n&&!s)throw e;this.#s&&(Me(this.#s),this.#s=null),this.#l&&(Me(this.#l),this.#l=null),this.#d&&(Me(this.#d),this.#d=null);var r=!1,i=!1;const a=()=>{if(r){so();return}r=!0,i&&za(),Je.ensure(),this.#f=0,this.#d!==null&&At(this.#d,()=>{this.#d=null}),this.#e=this.has_pending_snippet(),this.#s=this.#a(()=>(this.#p=!1,ke(()=>this.#o(this.#t)))),this.#i>0?this.#m():this.#e=!1};var o=V;try{ze(null),i=!0,n?.(e,a),i=!1}catch(c){ln(c,this.#c&&this.#c.parent)}finally{ze(o)}s&&Rt(()=>{this.#d=this.#a(()=>{this.#p=!0;try{return ke(()=>{s(this.#t,()=>e,()=>a)})}catch(c){return ln(c,this.#c.parent),null}finally{this.#p=!1}})})}}function mo(t,e){for(var n=t.nodes_start,s=t.nodes_end;n!==null;){var r=n===s?null:Qn(n);e.append(n),n=r}}function Ii(t,e,n){const s=zn()?Wn:ir;if(e.length===0){n(t.map(s));return}var r=ce,i=z,a=yo();Promise.all(e.map(o=>wo(o))).then(o=>{a();try{n([...t.map(s),...o])}catch(c){(i.f&Kt)===0&&ln(c,i)}r?.deactivate(),Si()}).catch(o=>{ln(o,i)})}function yo(){var t=z,e=V,n=Se,s=ce;return function(){ut(t),ze(e),cn(n),s?.activate()}}function Si(){ut(null),ze(null),cn(null)}function Wn(t){var e=We|Ge,n=V!==null&&(V.f&We)!==0?V:null;return z===null||n!==null&&(n.f&Xe)!==0?e|=Xe:z.f|=pn,{ctx:Se,deps:null,effects:null,equals:vi,f:e,fn:t,reactions:null,rv:0,v:Te,wv:0,parent:n??z,ac:null}}function wo(t,e){let n=z;n===null&&xa();var s=n.b,r=void 0,i=Pt(Te),a=!V,o=new Map;return $o(()=>{var c=ui();r=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject)}catch(p){c.reject(p)}var d=ce,u=s.is_pending();a&&(s.update_pending_count(1),u||(d.increment(),o.get(d)?.reject($n),o.set(d,c)));const f=(p,v=void 0)=>{u||d.activate(),v?v!==$n&&(i.f|=Wt,dn(i,v)):((i.f&Wt)!==0&&(i.f^=Wt),dn(i,p)),a&&(s.update_pending_count(-1),u||d.decrement()),Si()};c.promise.then(f,p=>f(null,p||"unknown"))}),cr(()=>{for(const c of o.values())c.reject($n)}),new Promise(c=>{function d(u){function f(){u===r?c(i):d(r)}u.then(f,f)}d(r)})}function H(t){const e=Wn(t);return Li(e),e}function ir(t){const e=Wn(t);return e.equals=gi,e}function Ei(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Me(e[n])}}function bo(t){for(var e=t.parent;e!==null;){if((e.f&We)===0)return e;e=e.parent}return null}function ar(t){var e,n=z;ut(bo(t));try{Ei(t),e=Wi(t)}finally{ut(n)}return e}function Ai(t){var e=ar(t);if(t.equals(e)||(t.v=e,t.wv=Bi()),!Yt){var n=(bt||(t.f&Xe)!==0)&&t.deps!==null?Mt:xe;Ue(t,n)}}const Et=new Map;function Pt(t,e){var n={f:0,v:t,reactions:null,equals:vi,rv:0,wv:0};return n}function A(t,e){const n=Pt(t);return Li(n),n}function _o(t,e=!1,n=!0){const s=Pt(t);return e||(s.equals=gi),hn&&n&&Se!==null&&Se.l!==null&&(Se.l.s??=[]).push(s),s}function h(t,e,n=!1){V!==null&&(!et||(V.f&br)!==0)&&zn()&&(V.f&(We|Tt|ps|br))!==0&&!gt?.includes(t)&&Ba();let s=n?de(e):e;return dn(t,s)}function dn(t,e){if(!t.equals(e)){var n=t.v;Yt?Et.set(t,e):Et.set(t,n),t.v=e;var s=Je.ensure();s.capture(t,n),(t.f&We)!==0&&((t.f&Ge)!==0&&ar(t),Ue(t,(t.f&Xe)===0?xe:Mt)),t.wv=Bi(),Ri(t,Ge),zn()&&z!==null&&(z.f&xe)!==0&&(z.f&(wt|Gt))===0&&(Ke===null?qo([t]):Ke.push(t))}return e}function at(t){h(t,t.v+1)}function Ri(t,e){var n=t.reactions;if(n!==null)for(var s=zn(),r=n.length,i=0;i<r;i++){var a=n[i],o=a.f;if(!(!s&&a===z)){var c=(o&Ge)===0;c&&Ue(a,e),(o&We)!==0?Ri(a,Mt):c&&((o&Tt)!==0&&Lt!==null&&Lt.push(a),Qt(a))}}}function de(t){if(typeof t!="object"||t===null||vt in t)return t;const e=ds(t);if(e!==di&&e!==Pa)return t;var n=new Map,s=Bn(t),r=A(0),i=mt,a=o=>{if(mt===i)return o();var c=V,d=mt;ze(null),Pr(i);var u=o();return ze(c),Pr(d),u};return s&&n.set("length",A(t.length)),new Proxy(t,{defineProperty(o,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&La();var u=n.get(c);return u===void 0?u=a(()=>{var f=A(d.value);return n.set(c,f),f}):h(u,d.value,!0),!0},deleteProperty(o,c){var d=n.get(c);if(d===void 0){if(c in o){const u=a(()=>A(Te));n.set(c,u),at(r)}}else h(d,Te),at(r);return!0},get(o,c,d){if(c===vt)return t;var u=n.get(c),f=c in o;if(u===void 0&&(!f||St(o,c)?.writable)&&(u=a(()=>{var v=de(f?o[c]:Te),y=A(v);return y}),n.set(c,u)),u!==void 0){var p=l(u);return p===Te?void 0:p}return Reflect.get(o,c,d)},getOwnPropertyDescriptor(o,c){var d=Reflect.getOwnPropertyDescriptor(o,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=l(u))}else if(d===void 0){var f=n.get(c),p=f?.v;if(f!==void 0&&p!==Te)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return d},has(o,c){if(c===vt)return!0;var d=n.get(c),u=d!==void 0&&d.v!==Te||Reflect.has(o,c);if(d!==void 0||z!==null&&(!u||St(o,c)?.writable)){d===void 0&&(d=a(()=>{var p=u?de(o[c]):Te,v=A(p);return v}),n.set(c,d));var f=l(d);if(f===Te)return!1}return u},set(o,c,d,u){var f=n.get(c),p=c in o;if(s&&c==="length")for(var v=d;v<f.v;v+=1){var y=n.get(v+"");y!==void 0?h(y,Te):v in o&&(y=a(()=>A(Te)),n.set(v+"",y))}if(f===void 0)(!p||St(o,c)?.writable)&&(f=a(()=>A(void 0)),h(f,de(d)),n.set(c,f));else{p=f.v!==Te;var w=a(()=>de(d));h(f,w)}var I=Reflect.getOwnPropertyDescriptor(o,c);if(I?.set&&I.set.call(u,d),!p){if(s&&typeof c=="string"){var S=n.get("length"),M=Number(c);Number.isInteger(M)&&M>=S.v&&h(S,M+1)}at(r)}return!0},ownKeys(o){l(r);var c=Reflect.ownKeys(o).filter(f=>{var p=n.get(f);return p===void 0||p.v!==Te});for(var[d,u]of n)u.v!==Te&&!(d in o)&&c.push(d);return c},setPrototypeOf(){Ha()}})}function Ir(t){try{if(t!==null&&typeof t=="object"&&vt in t)return t[vt]}catch{}return t}function Io(t,e){return Object.is(Ir(t),Ir(e))}var Sr,Pi,Ti,Mi;function So(){if(Sr===void 0){Sr=window,Pi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ti=St(e,"firstChild").get,Mi=St(e,"nextSibling").get,wr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),wr(n)&&(n.__t=void 0)}}function $t(t=""){return document.createTextNode(t)}function un(t){return Ti.call(t)}function Qn(t){return Mi.call(t)}function g(t,e){return un(t)}function B(t,e=!1){{var n=un(t);return n instanceof Comment&&n.data===""?Qn(n):n}}function b(t,e=1,n=!1){let s=t;for(;e--;)s=Qn(s);return s}function Eo(t){t.textContent=""}function or(){return!1}function Ao(t,e){if(e){const n=document.body;t.autofocus=!0,Rt(()=>{document.activeElement===n&&t.focus()})}}let Er=!1;function Ro(){Er||(Er=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function vn(t){var e=V,n=z;ze(null),ut(null);try{return t()}finally{ze(e),ut(n)}}function Di(t,e,n,s=n){t.addEventListener(e,()=>vn(n));const r=t.__on_r;r?t.__on_r=()=>{r(),s(!0)}:t.__on_r=()=>s(!0),Ro()}function $i(t){z===null&&V===null&&Ca(),V!==null&&(V.f&Xe)!==0&&z===null&&ja(),Yt&&qa()}function Po(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function ft(t,e,n,s=!0){var r=z;r!==null&&(r.f&tt)!==0&&(t|=tt);var i={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:t|Ge,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Cn(i),i.f|=fs}catch(c){throw Me(i),c}else e!==null&&Qt(i);if(s){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&pn)===0&&(a=a.first),a!==null&&(a.parent=r,r!==null&&Po(a,r),V!==null&&(V.f&We)!==0&&(t&Gt)===0)){var o=V;(o.effects??=[]).push(a)}}return i}function To(){return V!==null&&!et}function cr(t){const e=ft(us,null,!1);return Ue(e,xe),e.teardown=t,e}function yt(t){$i();var e=z.f,n=!V&&(e&wt)!==0&&(e&fs)===0;if(n){var s=Se;(s.e??=[]).push(t)}else return ki(t)}function ki(t){return ft(nr|fi,t,!1)}function Mo(t){return $i(),ft(us|fi,t,!0)}function Do(t){Je.ensure();const e=ft(Gt|pn,t,!0);return(n={})=>new Promise(s=>{n.outro?At(e,()=>{Me(e),s(void 0)}):(Me(e),s(void 0))})}function ms(t){return ft(nr,t,!1)}function $o(t){return ft(ps|pn,t,!0)}function xi(t,e=0){return ft(us|e,t,!0)}function le(t,e=[],n=[]){Ii(e,n,s=>{ft(us,()=>t(...s.map(l)),!0)})}function kt(t,e=0){var n=ft(Tt|e,t,!0);return n}function ke(t,e=!0){return ft(wt|pn,t,!0,e)}function qi(t){var e=t.teardown;if(e!==null){const n=Yt,s=V;Rr(!0),ze(null);try{e.call(null)}finally{Rr(n),ze(s)}}}function ji(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const r=n.ac;r!==null&&vn(()=>{r.abort($n)});var s=n.next;(n.f&Gt)!==0?n.parent=null:Me(n,e),n=s}}function ko(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&wt)===0&&Me(e),e=n}}function Me(t,e=!0){var n=!1;(e||(t.f&Da)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(xo(t.nodes_start,t.nodes_end),n=!0),ji(t,e&&!n),is(t,0),Ue(t,Kt);var s=t.transitions;if(s!==null)for(const i of s)i.stop();qi(t);var r=t.parent;r!==null&&r.first!==null&&Ci(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function xo(t,e){for(;t!==null;){var n=t===e?null:Qn(t);t.remove(),t=n}}function Ci(t){var e=t.parent,n=t.prev,s=t.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=n))}function At(t,e){var n=[];lr(t,n,!0),Ni(n,()=>{Me(t),e&&e()})}function Ni(t,e){var n=t.length;if(n>0){var s=()=>--n||e();for(var r of t)r.out(s)}else e()}function lr(t,e,n){if((t.f&tt)===0){if(t.f^=tt,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var s=t.first;s!==null;){var r=s.next,i=(s.f&Dt)!==0||(s.f&wt)!==0;lr(s,e,i?n:!1),s=r}}}function ys(t){Ui(t,!0)}function Ui(t,e){if((t.f&tt)!==0){t.f^=tt,(t.f&xe)===0&&(Ue(t,Ge),Qt(t));for(var n=t.first;n!==null;){var s=n.next,r=(n.f&Dt)!==0||(n.f&wt)!==0;Ui(n,r?e:!1),n=s}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let on=!1;function Ar(t){on=t}let Yt=!1;function Rr(t){Yt=t}let V=null,et=!1;function ze(t){V=t}let z=null;function ut(t){z=t}let gt=null;function Li(t){V!==null&&(gt===null?gt=[t]:gt.push(t))}let Ne=null,Qe=0,Ke=null;function qo(t){Ke=t}let Hi=1,jn=0,mt=jn;function Pr(t){mt=t}let bt=!1;function Bi(){return++Hi}function ws(t){var e=t.f;if((e&Ge)!==0)return!0;if((e&Mt)!==0){var n=t.deps,s=(e&Xe)!==0;if(n!==null){var r,i,a=(e&rs)!==0,o=s&&z!==null&&!bt,c=n.length;if((a||o)&&(z===null||(z.f&Kt)===0)){var d=t,u=d.parent;for(r=0;r<c;r++)i=n[r],(a||!i?.reactions?.includes(d))&&(i.reactions??=[]).push(d);a&&(d.f^=rs),o&&u!==null&&(u.f&Xe)===0&&(d.f^=Xe)}for(r=0;r<c;r++)if(i=n[r],ws(i)&&Ai(i),i.wv>t.wv)return!0}(!s||z!==null&&!bt)&&Ue(t,xe)}return!1}function zi(t,e,n=!0){var s=t.reactions;if(s!==null&&!gt?.includes(t))for(var r=0;r<s.length;r++){var i=s[r];(i.f&We)!==0?zi(i,e,!1):e===i&&(n?Ue(i,Ge):(i.f&xe)!==0&&Ue(i,Mt),Qt(i))}}function Wi(t){var e=Ne,n=Qe,s=Ke,r=V,i=bt,a=gt,o=Se,c=et,d=mt,u=t.f;Ne=null,Qe=0,Ke=null,bt=(u&Xe)!==0&&(et||!on||V===null),V=(u&(wt|Gt))===0?t:null,gt=null,cn(t.ctx),et=!1,mt=++jn,t.ac!==null&&(vn(()=>{t.ac.abort($n)}),t.ac=null);try{t.f|=Qs;var f=t.fn,p=f(),v=t.deps;if(Ne!==null){var y;if(is(t,Qe),v!==null&&Qe>0)for(v.length=Qe+Ne.length,y=0;y<Ne.length;y++)v[Qe+y]=Ne[y];else t.deps=v=Ne;if(!bt||(u&We)!==0&&t.reactions!==null)for(y=Qe;y<v.length;y++)(v[y].reactions??=[]).push(t)}else v!==null&&Qe<v.length&&(is(t,Qe),v.length=Qe);if(zn()&&Ke!==null&&!et&&v!==null&&(t.f&(We|Mt|Ge))===0)for(y=0;y<Ke.length;y++)zi(Ke[y],t);return r!==null&&r!==t&&(jn++,Ke!==null&&(s===null?s=Ke:s.push(...Ke))),(t.f&Wt)!==0&&(t.f^=Wt),p}catch(w){return yi(w)}finally{t.f^=Qs,Ne=e,Qe=n,Ke=s,V=r,bt=i,gt=a,cn(o),et=c,mt=d}}function jo(t,e){let n=e.reactions;if(n!==null){var s=Ra.call(n,t);if(s!==-1){var r=n.length-1;r===0?n=e.reactions=null:(n[s]=n[r],n.pop())}}n===null&&(e.f&We)!==0&&(Ne===null||!Ne.includes(e))&&(Ue(e,Mt),(e.f&(Xe|rs))===0&&(e.f^=rs),Ei(e),is(e,0))}function is(t,e){var n=t.deps;if(n!==null)for(var s=e;s<n.length;s++)jo(t,n[s])}function Cn(t){var e=t.f;if((e&Kt)===0){Ue(t,xe);var n=z,s=on;z=t,on=!0;try{(e&Tt)!==0?ko(t):ji(t),qi(t);var r=Wi(t);t.teardown=typeof r=="function"?r:null,t.wv=Hi;var i;ci&&ao&&(t.f&Ge)!==0&&t.deps}finally{on=s,z=n}}}async function Co(){await Promise.resolve(),fo()}function l(t){var e=t.f,n=(e&We)!==0;if(V!==null&&!et){var s=z!==null&&(z.f&Kt)!==0;if(!s&&!gt?.includes(t)){var r=V.deps;if((V.f&Qs)!==0)t.rv<jn&&(t.rv=jn,Ne===null&&r!==null&&r[Qe]===t?Qe++:Ne===null?Ne=[t]:(!bt||!Ne.includes(t))&&Ne.push(t));else{(V.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[V]:i.includes(V)||i.push(V)}}}else if(n&&t.deps===null&&t.effects===null){var a=t,o=a.parent;o!==null&&(o.f&Xe)===0&&(a.f^=Xe)}if(Yt){if(Et.has(t))return Et.get(t);if(n){a=t;var c=a.v;return((a.f&xe)===0&&a.reactions!==null||Qi(a))&&(c=ar(a)),Et.set(a,c),c}}else n&&(a=t,ws(a)&&Ai(a));if((t.f&Wt)!==0)throw t.v;return t.v}function Qi(t){if(t.v===Te)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Et.has(e)||(e.f&We)!==0&&Qi(e))return!0;return!1}function gn(t){var e=et;try{return et=!0,t()}finally{et=e}}const No=-7169;function Ue(t,e){t.f=t.f&No|e}function Uo(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(vt in t)Ks(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&vt in n&&Ks(n)}}}function Ks(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{Ks(t[s],e)}catch{}const n=ds(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const s=li(n);for(let r in s){const i=s[r].get;if(i)try{i.call(t)}catch{}}}}}function Lo(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Ho=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Bo(t){return Ho.includes(t)}const zo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Wo(t){return t=t.toLowerCase(),zo[t]??t}const Qo=["touchstart","touchmove"];function Vo(t){return Qo.includes(t)}const Vi=new Set,Ys=new Set;function dr(t,e,n,s={}){function r(i){if(s.capture||Mn.call(e,i),!i.cancelBubble)return vn(()=>n?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Rt(()=>{e.addEventListener(t,r,s)}):e.addEventListener(t,r,s),r}function Js(t,e,n,s={}){var r=dr(e,t,n,s);return()=>{t.removeEventListener(e,r,s)}}function qs(t,e,n,s,r){var i={capture:s,passive:r},a=dr(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&cr(()=>{e.removeEventListener(t,a,i)})}function xt(t){for(var e=0;e<t.length;e++)Vi.add(t[e]);for(var n of Ys)n(t)}let Tr=null;function Mn(t){var e=this,n=e.ownerDocument,s=t.type,r=t.composedPath?.()||[],i=r[0]||t.target;Tr=t;var a=0,o=Tr===t&&t.__root;if(o){var c=r.indexOf(o);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var d=r.indexOf(e);if(d===-1)return;c<=d&&(a=c)}if(i=r[a]||t.target,i!==e){zs(t,"currentTarget",{configurable:!0,get(){return i||n}});var u=V,f=z;ze(null),ut(null);try{for(var p,v=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+s];if(w!=null&&(!i.disabled||t.target===i))if(Bn(w)){var[I,...S]=w;I.apply(i,[t,...S])}else w.call(i,t)}catch(M){p?v.push(M):p=M}if(t.cancelBubble||y===e||y===null)break;i=y}if(p){for(let M of v)queueMicrotask(()=>{throw M});throw p}}finally{t.__root=e,delete t.currentTarget,ze(u),ut(f)}}}function Gi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function fn(t,e){var n=z;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function C(t,e){var n=(e&Za)!==0,s=(e&Oa)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=Gi(i?t:"<!>"+t),n||(r=un(r)));var a=s||Pi?document.importNode(r,!0):r.cloneNode(!0);if(n){var o=un(a),c=a.lastChild;fn(o,c)}else fn(a,a);return a}}function Go(t,e,n="svg"){var s=!t.startsWith("<!>"),r=`<${n}>${s?t:"<!>"+t}</${n}>`,i;return()=>{if(!i){var a=Gi(r),o=un(a);i=un(o)}var c=i.cloneNode(!0);return fn(c,c),c}}function Ko(t,e){return Go(t,e,"svg")}function js(t=""){{var e=$t(t+"");return fn(e,e),e}}function ne(){var t=document.createDocumentFragment(),e=document.createComment(""),n=$t();return t.append(e,n),fn(e,n),t}function E(t,e){t!==null&&t.before(e)}let as=!0;function Mr(t){as=t}function re(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Yo(t,e){return Jo(t,e)}const sn=new Map;function Jo(t,{target:e,anchor:n,props:s={},events:r,context:i,intro:a=!0}){So();var o=new Set,c=f=>{for(var p=0;p<f.length;p++){var v=f[p];if(!o.has(v)){o.add(v);var y=Vo(v);e.addEventListener(v,Mn,{passive:y});var w=sn.get(v);w===void 0?(document.addEventListener(v,Mn,{passive:y}),sn.set(v,1)):sn.set(v,w+1)}}};c(tr(Vi)),Ys.add(c);var d=void 0,u=Do(()=>{var f=n??e.appendChild($t());return vo(f,{pending:()=>{}},p=>{if(i){K({});var v=Se;v.c=i}r&&(s.$$events=r),as=a,d=t(p,s)||{},as=!0,i&&Y()}),()=>{for(var p of o){e.removeEventListener(p,Mn);var v=sn.get(p);--v===0?(document.removeEventListener(p,Mn),sn.delete(p)):sn.set(p,v)}Ys.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return Xo.set(d,u),d}let Xo=new WeakMap;function G(t,e,n=!1){var s=t,r=null,i=null,a=Te,o=n?Dt:0,c=!1;const d=(v,y=!0)=>{c=!0,p(y,v)};var u=null;function f(){u!==null&&(u.lastChild.remove(),s.before(u),u=null);var v=a?r:i,y=a?i:r;v&&ys(v),y&&At(y,()=>{a?i=null:r=null})}const p=(v,y)=>{if(a!==(a=v)){var w=or(),I=s;if(w&&(u=document.createDocumentFragment(),u.append(I=$t())),a?r??=y&&ke(()=>y(I)):i??=y&&ke(()=>y(I)),w){var S=ce,M=a?r:i,$=a?i:r;M&&S.skipped_effects.delete(M),$&&S.skipped_effects.add($),S.add_callback(f)}else f()}};kt(()=>{c=!1,e(d),c||p(null,null)},o)}function Nn(t,e){return e}function Zo(t,e,n){for(var s=t.items,r=[],i=e.length,a=0;a<i;a++)lr(e[a].e,r,!0);var o=i>0&&r.length===0&&n!==null;if(o){var c=n.parentNode;Eo(c),c.append(n),s.clear(),st(t,e[0].prev,e[i-1].next)}Ni(r,()=>{for(var d=0;d<i;d++){var u=e[d];o||(s.delete(u.k),st(t,u.prev,u.next)),Me(u.e,!o)}})}function dt(t,e,n,s,r,i=null){var a=t,o={flags:e,items:new Map,first:null},c=(e&hi)!==0;if(c){var d=t;a=d.appendChild($t())}var u=null,f=!1,p=new Map,v=ir(()=>{var S=n();return Bn(S)?S:S==null?[]:tr(S)}),y,w;function I(){Oo(w,y,o,p,a,r,e,s,n),i!==null&&(y.length===0?u?ys(u):u=ke(()=>i(a)):u!==null&&At(u,()=>{u=null}))}kt(()=>{w??=z,y=l(v);var S=y.length;if(!(f&&S===0)){f=S===0;var M,$,D,R;if(or()){var T=new Set,q=ce;for($=0;$<S;$+=1){D=y[$],R=s(D,$);var j=o.items.get(R)??p.get(R);j?(e&(hs|vs))!==0&&Ki(j,D,$,e):(M=Yi(null,o,null,null,D,R,$,r,e,n,!0),p.set(R,M)),T.add(R)}for(const[W,ye]of o.items)T.has(W)||q.skipped_effects.add(ye.e);q.add_callback(I)}else I();l(v)}})}function Oo(t,e,n,s,r,i,a,o,c){var d=(a&Wa)!==0,u=(a&(hs|vs))!==0,f=e.length,p=n.items,v=n.first,y=v,w,I=null,S,M=[],$=[],D,R,T,q;if(d)for(q=0;q<f;q+=1)D=e[q],R=o(D,q),T=p.get(R),T!==void 0&&(T.a?.measure(),(S??=new Set).add(T));for(q=0;q<f;q+=1){if(D=e[q],R=o(D,q),T=p.get(R),T===void 0){var j=s.get(R);if(j!==void 0){s.delete(R),p.set(R,j);var W=I?I.next:y;st(n,I,j),st(n,j,W),Cs(j,W,r),I=j}else{var ye=y?y.e.nodes_start:r;I=Yi(ye,n,I,I===null?n.first:I.next,D,R,q,i,a,c)}p.set(R,I),M=[],$=[],y=I.next;continue}if(u&&Ki(T,D,q,a),(T.e.f&tt)!==0&&(ys(T.e),d&&(T.a?.unfix(),(S??=new Set).delete(T))),T!==y){if(w!==void 0&&w.has(T)){if(M.length<$.length){var L=$[0],Q;I=L.prev;var we=M[0],_e=M[M.length-1];for(Q=0;Q<M.length;Q+=1)Cs(M[Q],L,r);for(Q=0;Q<$.length;Q+=1)w.delete($[Q]);st(n,we.prev,_e.next),st(n,I,we),st(n,_e,L),y=L,I=_e,q-=1,M=[],$=[]}else w.delete(T),Cs(T,y,r),st(n,T.prev,T.next),st(n,T,I===null?n.first:I.next),st(n,I,T),I=T;continue}for(M=[],$=[];y!==null&&y.k!==R;)(y.e.f&tt)===0&&(w??=new Set).add(y),$.push(y),y=y.next;if(y===null)continue;T=y}M.push(T),I=T,y=T.next}if(y!==null||w!==void 0){for(var J=w===void 0?[]:tr(w);y!==null;)(y.e.f&tt)===0&&J.push(y),y=y.next;var U=J.length;if(U>0){var N=(a&hi)!==0&&f===0?r:null;if(d){for(q=0;q<U;q+=1)J[q].a?.measure();for(q=0;q<U;q+=1)J[q].a?.fix()}Zo(n,J,N)}}d&&Rt(()=>{if(S!==void 0)for(T of S)T.a?.apply()}),t.first=n.first&&n.first.e,t.last=I&&I.e;for(var se of s.values())Me(se.e);s.clear()}function Ki(t,e,n,s){(s&hs)!==0&&dn(t.v,e),(s&vs)!==0?dn(t.i,n):t.i=n}function Yi(t,e,n,s,r,i,a,o,c,d,u){var f=(c&hs)!==0,p=(c&Qa)===0,v=f?p?_o(r,!1,!1):Pt(r):r,y=(c&vs)===0?a:Pt(a),w={i:y,v,k:i,a:null,e:null,prev:n,next:s};try{if(t===null){var I=document.createDocumentFragment();I.append(t=$t())}return w.e=ke(()=>o(t,v,y,d),ro),w.e.prev=n&&n.e,w.e.next=s&&s.e,n===null?u||(e.first=w):(n.next=w,n.e.next=w.e),s!==null&&(s.prev=w,s.e.prev=w.e),w}finally{}}function Cs(t,e,n){for(var s=t.next?t.next.e.nodes_start:n,r=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==null&&i!==s;){var a=Qn(i);r.before(i),i=a}}function st(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ue(t,e,...n){var s=t,r=te,i;kt(()=>{r!==(r=e())&&(i&&(Me(i),i=null),i=ke(()=>r(s,...n)))},Dt)}function Ji(t,e,n){var s=t,r,i,a=null,o=null;function c(){i&&(At(i),i=null),a&&(a.lastChild.remove(),s.before(a),a=null),i=o,o=null}kt(()=>{if(r!==(r=e())){var d=or();if(r){var u=s;d&&(a=document.createDocumentFragment(),a.append(u=$t()),i&&ce.skipped_effects.add(i)),o=ke(()=>n(u,r))}d?ce.add_callback(c):c()}},Dt)}function Fo(t,e,n,s,r,i){var a,o,c=null,d=t,u;kt(()=>{const f=e()||null;var p=eo;f!==a&&(u&&(f===null?At(u,()=>{u=null,o=null}):f===o?ys(u):(Me(u),Mr(!1))),f&&f!==o&&(u=ke(()=>{if(c=document.createElementNS(p,f),fn(c,c),s){var v=c.appendChild($t());s(c,v)}z.nodes_end=c,d.before(c)})),a=f,a&&(o=a),Mr(!0))},Dt)}function ec(t,e){var n=void 0,s;kt(()=>{n!==(n=e())&&(s&&(Me(s),s=null),n&&(s=ke(()=>{ms(()=>n(t))})))})}function Xi(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Xi(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function tc(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Xi(t))&&(s&&(s+=" "),s+=e);return s}function nc(t){return typeof t=="object"?tc(t):t??""}const Dr=[...` 	
\r\f \v\uFEFF`];function sc(t,e,n){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,a=0;(a=s.indexOf(r,a))>=0;){var o=a+i;(a===0||Dr.includes(s[a-1]))&&(o===s.length||Dr.includes(s[o]))?s=(a===0?"":s.substring(0,a))+s.substring(o+1):a=o}}return s===""?null:s}function $r(t,e=!1){var n=e?" !important;":";",s="";for(var r in t){var i=t[r];i!=null&&i!==""&&(s+=" "+r+": "+i+n)}return s}function Ns(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function rc(t,e){if(e){var n="",s,r;if(Array.isArray(e)?(s=e[0],r=e[1]):s=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,c=[];s&&c.push(...Object.keys(s).map(Ns)),r&&c.push(...Object.keys(r).map(Ns));var d=0,u=-1;const w=t.length;for(var f=0;f<w;f++){var p=t[f];if(o?p==="/"&&t[f-1]==="*"&&(o=!1):i?i===p&&(i=!1):p==="/"&&t[f+1]==="*"?o=!0:p==='"'||p==="'"?i=p:p==="("?a++:p===")"&&a--,!o&&i===!1&&a===0){if(p===":"&&u===-1)u=f;else if(p===";"||f===w-1){if(u!==-1){var v=Ns(t.substring(d,u).trim());if(!c.includes(v)){p!==";"&&f++;var y=t.substring(d,f).trim();n+=" "+y+";"}}d=f+1,u=-1}}}}return s&&(n+=$r(s)),r&&(n+=$r(r,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function ot(t,e,n,s,r,i){var a=t.__className;if(a!==n||a===void 0){var o=sc(n,s,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=n}else if(i&&r!==i)for(var c in i){var d=!!i[c];(r==null||d!==!!r[c])&&t.classList.toggle(c,d)}return i}function Us(t,e={},n,s){for(var r in n){var i=n[r];e[r]!==i&&(n[r]==null?t.style.removeProperty(r):t.style.setProperty(r,i,s))}}function ic(t,e,n,s){var r=t.__style;if(r!==e){var i=rc(e,s);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else s&&(Array.isArray(s)?(Us(t,n?.[0],s[0]),Us(t,n?.[1],s[1],"important")):Us(t,n,s));return s}function os(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Bn(e))return no();for(var s of t.options)s.selected=e.includes(xn(s));return}for(s of t.options){var r=xn(s);if(Io(r,e)){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Zi(t){var e=new MutationObserver(()=>{os(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),cr(()=>{e.disconnect()})}function Xs(t,e,n=e){var s=!0;Di(t,"change",r=>{var i=r?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(i),xn);else{var o=t.querySelector(i)??t.querySelector("option:not([disabled])");a=o&&xn(o)}n(a)}),ms(()=>{var r=e();if(os(t,r,s),s&&r===void 0){var i=t.querySelector(":checked");i!==null&&(r=xn(i),n(r))}t.__value=r,s=!1}),Zi(t)}function xn(t){return"__value"in t?t.__value:t.value}const Rn=Symbol("class"),Pn=Symbol("style"),Oi=Symbol("is custom element"),Fi=Symbol("is html");function ac(t,e){var n=ur(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function oc(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function _t(t,e,n,s){var r=ur(t);r[e]!==(r[e]=n)&&(e==="loading"&&(t[$a]=n),n==null?t.removeAttribute(e):typeof n!="string"&&ea(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function cc(t,e,n,s,r=!1,i=!1){var a=ur(t),o=a[Oi],c=!a[Fi],d=e||{},u=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=nc(n.class):n[Rn]&&(n.class=null),n[Pn]&&(n.style??=null);var p=ea(t);for(const D in n){let R=n[D];if(u&&D==="value"&&R==null){t.value=t.__value="",d[D]=R;continue}if(D==="class"){var v=t.namespaceURI==="http://www.w3.org/1999/xhtml";ot(t,v,R,s,e?.[Rn],n[Rn]),d[D]=R,d[Rn]=n[Rn];continue}if(D==="style"){ic(t,R,e?.[Pn],n[Pn]),d[D]=R,d[Pn]=n[Pn];continue}var y=d[D];if(!(R===y&&!(R===void 0&&t.hasAttribute(D)))){d[D]=R;var w=D[0]+D[1];if(w!=="$$")if(w==="on"){const T={},q="$$"+D;let j=D.slice(2);var I=Bo(j);if(Lo(j)&&(j=j.slice(0,-7),T.capture=!0),!I&&y){if(R!=null)continue;t.removeEventListener(j,d[q],T),d[q]=null}if(R!=null)if(I)t[`__${j}`]=R,xt([j]);else{let W=function(ye){d[D].call(this,ye)};var $=W;d[q]=dr(j,t,W,T)}else I&&(t[`__${j}`]=void 0)}else if(D==="style")_t(t,D,R);else if(D==="autofocus")Ao(t,!!R);else if(!o&&(D==="__value"||D==="value"&&R!=null))t.value=t.__value=R;else if(D==="selected"&&u)oc(t,R);else{var S=D;c||(S=Wo(S));var M=S==="defaultValue"||S==="defaultChecked";if(R==null&&!o&&!M)if(a[D]=null,S==="value"||S==="checked"){let T=t;const q=e===void 0;if(S==="value"){let j=T.defaultValue;T.removeAttribute(S),T.defaultValue=j,T.value=T.__value=q?j:null}else{let j=T.defaultChecked;T.removeAttribute(S),T.defaultChecked=j,T.checked=q?j:!1}}else t.removeAttribute(D);else M||p.includes(S)&&(o||typeof R!="string")?(t[S]=R,S in a&&(a[S]=Te)):typeof R!="function"&&_t(t,S,R)}}}return d}function kr(t,e,n=[],s=[],r,i=!1,a=!1){Ii(n,s,o=>{var c=void 0,d={},u=t.nodeName==="SELECT",f=!1;if(kt(()=>{var v=e(...o.map(l)),y=cc(t,c,v,r,i,a);f&&u&&"value"in v&&os(t,v.value);for(let I of Object.getOwnPropertySymbols(d))v[I]||Me(d[I]);for(let I of Object.getOwnPropertySymbols(v)){var w=v[I];I.description===to&&(!c||w!==c[I])&&(d[I]&&Me(d[I]),d[I]=ke(()=>ec(t,()=>w))),y[I]=w}c=y}),u){var p=t;ms(()=>{os(p,c.value,!0),Zi(p)})}f=!0})}function ur(t){return t.__attributes??={[Oi]:t.nodeName.includes("-"),[Fi]:t.namespaceURI===Fa}}var xr=new Map;function ea(t){var e=t.getAttribute("is")||t.nodeName,n=xr.get(e);if(n)return n;xr.set(e,n=[]);for(var s,r=t,i=Element.prototype;i!==r;){s=li(r);for(var a in s)s[a].set&&n.push(a);r=ds(r)}return n}const lc=()=>performance.now(),ht={tick:t=>requestAnimationFrame(t),now:()=>lc(),tasks:new Set};function ta(){const t=ht.now();ht.tasks.forEach(e=>{e.c(t)||(ht.tasks.delete(e),e.f())}),ht.tasks.size!==0&&ht.tick(ta)}function dc(t){let e;return ht.tasks.size===0&&ht.tick(ta),{promise:new Promise(n=>{ht.tasks.add(e={c:t,f:n})}),abort(){ht.tasks.delete(e)}}}function Fn(t,e){vn(()=>{t.dispatchEvent(new CustomEvent(e))})}function uc(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function qr(t){const e={},n=t.split(";");for(const s of n){const[r,i]=s.split(":");if(!r||i===void 0)break;const a=uc(r.trim());e[a]=i.trim()}return e}const fc=t=>t;function na(t,e,n,s){var r=(t&Xa)!==0,i="both",a,o=e.inert,c=e.style.overflow,d,u;function f(){return vn(()=>a??=n()(e,s?.()??{},{direction:i}))}var p={is_global:r,in(){e.inert=o,Fn(e,"introstart"),d=Zs(e,f(),u,1,()=>{Fn(e,"introend"),d?.abort(),d=a=void 0,e.style.overflow=c})},out(I){e.inert=!0,Fn(e,"outrostart"),u=Zs(e,f(),d,0,()=>{Fn(e,"outroend"),I?.()})},stop:()=>{d?.abort(),u?.abort()}},v=z;if((v.transitions??=[]).push(p),as){var y=r;if(!y){for(var w=v.parent;w&&(w.f&Dt)!==0;)for(;(w=w.parent)&&(w.f&Tt)===0;);y=!w||(w.f&fs)!==0}y&&ms(()=>{gn(()=>p.in())})}}function Zs(t,e,n,s,r){var i=s===1;if(an(e)){var a,o=!1;return Rt(()=>{if(!o){var I=e({direction:i?"in":"out"});a=Zs(t,I,n,s,r)}}),{abort:()=>{o=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!e?.duration)return r(),{abort:te,deactivate:te,reset:te,t:()=>s};const{delay:c=0,css:d,tick:u,easing:f=fc}=e;var p=[];if(i&&n===void 0&&(u&&u(0,1),d)){var v=qr(d(0,1));p.push(v,v)}var y=()=>1-s,w=t.animate(p,{duration:c,fill:"forwards"});return w.onfinish=()=>{w.cancel();var I=n?.t()??1-s;n?.abort();var S=s-I,M=e.duration*Math.abs(S),$=[];if(M>0){var D=!1;if(d)for(var R=Math.ceil(M/16.666666666666668),T=0;T<=R;T+=1){var q=I+S*f(T/R),j=qr(d(q,1-q));$.push(j),D||=j.overflow==="hidden"}D&&(t.style.overflow="hidden"),y=()=>{var W=w.currentTime;return I+S*f(W/M)},u&&dc(()=>{if(w.playState!=="running")return!1;var W=y();return u(W,1-W),!0})}w=t.animate($,{duration:M,fill:"forwards"}),w.onfinish=()=>{y=()=>s,u?.(s,1-s),r()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=te)},deactivate:()=>{r=te},reset:()=>{s===0&&u?.(1,0)},t:()=>y()}}function Ve(t,e,n=e){var s=new WeakSet;Di(t,"input",async r=>{var i=r?t.defaultValue:t.value;if(i=Ls(t)?Hs(i):i,n(i),ce!==null&&s.add(ce),await Co(),i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),gn(e)==null&&t.value&&(n(Ls(t)?Hs(t.value):t.value),ce!==null&&s.add(ce)),xi(()=>{var r=e();if(t===document.activeElement){var i=ss??ce;if(s.has(i))return}Ls(t)&&r===Hs(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function Ls(t){var e=t.type;return e==="number"||e==="range"}function Hs(t){return t===""?null:+t}function pc(t=!1){const e=Se,n=e.l.u;if(!n)return;let s=()=>Uo(e.s);if(t){let r=0,i={};const a=Wn(()=>{let o=!1;const c=e.s;for(const d in c)c[d]!==i[d]&&(i[d]=c[d],o=!0);return o&&r++,r});s=()=>l(a)}n.b.length&&Mo(()=>{jr(e,s),Ws(n.b)}),yt(()=>{const r=gn(()=>n.m.map(Ta));return()=>{for(const i of r)typeof i=="function"&&i()}}),n.a.length&&yt(()=>{jr(e,s),Ws(n.a)})}function jr(t,e){if(t.l.s)for(const n of t.l.s)l(n);e()}let es=!1;function hc(t){var e=es;try{return es=!1,[t(),es]}finally{es=e}}const vc={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function fe(t,e,n){return new Proxy({props:t,exclude:e},vc)}const gc={get(t,e){let n=t.props.length;for(;n--;){let s=t.props[n];if(an(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,n){let s=t.props.length;for(;s--;){let r=t.props[s];an(r)&&(r=r());const i=St(r,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let s=t.props[n];if(an(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const r=St(s,e);return r&&!r.configurable&&(r.configurable=!0),r}}},has(t,e){if(e===vt||e===pi)return!1;for(let n of t.props)if(an(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(an(n)&&(n=n()),!!n){for(const s in n)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(n))e.includes(s)||e.push(s)}return e}};function ge(...t){return new Proxy({props:t},gc)}function Be(t,e,n,s){var r=!hn||(n&Ga)!==0,i=(n&Ya)!==0,a=(n&Ja)!==0,o=s,c=!0,d=()=>(c&&(c=!1,o=a?gn(s):s),o),u;if(i){var f=vt in t||pi in t;u=St(t,e)?.set??(f&&e in t?$=>t[e]=$:void 0)}var p,v=!1;i?[p,v]=hc(()=>t[e]):p=t[e],p===void 0&&s!==void 0&&(p=d(),u&&(r&&Ua(),u(p)));var y;if(r?y=()=>{var $=t[e];return $===void 0?d():(c=!0,$)}:y=()=>{var $=t[e];return $!==void 0&&(o=void 0),$===void 0?o:$},r&&(n&Ka)===0)return y;if(u){var w=t.$$legacy;return(function($,D){return arguments.length>0?((!r||!D||w||v)&&u(D?y():$),$):y()})}var I=!1,S=((n&Va)!==0?Wn:ir)(()=>(I=!1,y()));i&&l(S);var M=z;return(function($,D){if(arguments.length>0){const R=D?l(S):r&&i?de($):$;return h(S,R),I=!0,o!==void 0&&(o=R),$}return Yt&&I||(M.f&Kt)!==0?S.v:l(S)})}function mc(t){Se===null&&ka(),hn&&Se.l!==null?yc(Se).m.push(t):yt(()=>{const e=gn(t);if(typeof e=="function")return e})}function yc(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const wc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(wc);const bc="modulepreload",_c=function(t){return"/"+t},Cr={},Nr=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=d(n.map(u=>{if(u=_c(u),u in Cr)return;Cr[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":bc,f||(v.as="script"),v.crossOrigin="",v.href=u,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};class It extends Map{#e=new Map;#t=A(0);#n=A(0);#r=mt||-1;constructor(e){if(super(),e){for(var[n,s]of e)super.set(n,s);this.#n.v=super.size}}#o(e){return mt===this.#r?A(e):Pt(e)}has(e){var n=this.#e,s=n.get(e);if(s===void 0){var r=super.get(e);if(r!==void 0)s=this.#o(0),n.set(e,s);else return l(this.#t),!1}return l(s),!0}forEach(e,n){this.#c(),super.forEach(e,n)}get(e){var n=this.#e,s=n.get(e);if(s===void 0){var r=super.get(e);if(r!==void 0)s=this.#o(0),n.set(e,s);else{l(this.#t);return}}return l(s),super.get(e)}set(e,n){var s=this.#e,r=s.get(e),i=super.get(e),a=super.set(e,n),o=this.#t;if(r===void 0)r=this.#o(0),s.set(e,r),h(this.#n,super.size),at(o);else if(i!==n){at(r);var c=o.reactions===null?null:new Set(o.reactions),d=c===null||!r.reactions?.every(u=>c.has(u));d&&at(o)}return a}delete(e){var n=this.#e,s=n.get(e),r=super.delete(e);return s!==void 0&&(n.delete(e),h(this.#n,super.size),h(s,-1),at(this.#t)),r}clear(){if(super.size!==0){super.clear();var e=this.#e;h(this.#n,0);for(var n of e.values())h(n,-1);at(this.#t),e.clear()}}#c(){l(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var s=this.#o(0);e.set(n,s)}}for([,s]of this.#e)l(s)}keys(){return l(this.#t),super.keys()}values(){return this.#c(),super.values()}entries(){return this.#c(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return l(this.#n),super.size}}class Ic{#e;#t;constructor(e,n){this.#e=e,this.#t=rr(n)}get current(){return this.#t(),this.#e()}}const Sc=/\(.+\)/,Ec=new Set(["all","print","screen","and","or","not","only"]);class Ac extends Ic{constructor(e,n){let s=Sc.test(e)||e.split(/[\s,]+/).some(i=>Ec.has(i.trim()))?e:`(${e})`;const r=window.matchMedia(s);super(()=>r.matches,i=>Js(r,"change",i))}}const Rc=typeof window<"u"?window:void 0;function Pc(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class Tc{#e;#t;constructor(e={}){const{window:n=Rc,document:s=n?.document}=e;n!==void 0&&(this.#e=s,this.#t=rr(r=>{const i=Js(n,"focusin",r),a=Js(n,"focusout",r);return()=>{i(),a()}}))}get current(){return this.#t?.(),this.#e?Pc(this.#e):null}}new Tc;function Mc(t){return typeof t=="function"}function Dc(t,e){if(Mc(t)){const s=t();return s===void 0?e:s}return t===void 0?e:t}function $c(t,e){let n=A(null);const s=H(()=>Dc(e,250));function r(...i){if(l(n))l(n).timeout&&clearTimeout(l(n).timeout);else{let a,o;const c=new Promise((d,u)=>{a=d,o=u});h(n,{timeout:null,runner:null,promise:c,resolve:a,reject:o},!0)}return l(n).runner=async()=>{if(!l(n))return;const a=l(n);h(n,null);try{a.resolve(await t.apply(this,i))}catch(o){a.reject(o)}},l(n).timeout=setTimeout(l(n).runner,l(s)),l(n).promise}return r.cancel=async()=>{(!l(n)||l(n).timeout===null)&&(await new Promise(i=>setTimeout(i,0)),!l(n)||l(n).timeout===null)||(clearTimeout(l(n).timeout),l(n).reject("Cancelled"),h(n,null))},r.runScheduledNow=async()=>{(!l(n)||!l(n).timeout)&&(await new Promise(i=>setTimeout(i,0)),!l(n)||!l(n).timeout)||(clearTimeout(l(n).timeout),l(n).timeout=null,await l(n).runner?.())},Object.defineProperty(r,"pending",{enumerable:!0,get(){return!!l(n)?.timeout}}),r}function ct(t){if(!t?.trim())return null;try{return JSON.parse(t)}catch(e){return console.warn("[ProductsStore] Erreur parsing JSON:",e),null}}function bs(t){return t?.length?t.filter(e=>e.quantity!=null&&e.unit).map(e=>({q:typeof e.quantity=="number"?e.quantity:parseFloat(e.quantity),u:e.unit})).filter(e=>!isNaN(e.q)):[]}function _s(t){if(!t?.length)return[];const e=new Map;return t.forEach(n=>{if(!n.q||!n.u||typeof n.q!="number"||isNaN(n.q))return;const s=e.get(n.u)||0;e.set(n.u,s+n.q)}),Array.from(e.entries()).map(([n,s])=>({q:s,u:n}))}function Is(t,e){if(!t?.length)return{numeric:[],display:"✅ Complet"};if(!e?.length){const o=t.map(c=>Bt(c.q.toString(),c.u)).join(" et ");return{numeric:t,display:o}}const n=new Map,s=new Map;t.forEach(o=>{const c=parseFloat(o.q);isNaN(c)||n.set(o.u,(n.get(o.u)||0)+c)}),e.forEach(o=>{s.set(o.u,(s.get(o.u)||0)+o.q)});const r=[],i=[];n.forEach((o,c)=>{const d=s.get(c)||0,u=o-d;u>0&&(r.push({q:u,u:c}),i.push(Bt(u.toString(),c)))});const a=i.length>0?i.join(" et "):"✅ Complet";return{numeric:r,display:a}}function Le(t){return t?.length?t.map(e=>Bt(e.q.toString(),e.u)).join(" et "):"-"}function Bt(t,e){const n=parseFloat(t);if(isNaN(n))return`${t} ${e}`;if((e==="gr."||e==="ml")&&n>=1e3){const s=n/1e3,r=e==="gr."?"kg":"l.";let a=(Math.round(s*100)/100).toString();return a.endsWith(",0")&&(a=a.slice(0,-2)),a.endsWith(",00")&&(a=a.slice(0,-3)),`${a} ${r}`}if(!["gr.","ml","kg","l."].includes(e)){let r=(Math.round(n*10)/10).toString();return r.endsWith(",0")&&(r=r.slice(0,-2)),`${r} ${e}`}return`${n} ${e}`}function fr(t){if(!t?.length)return[];const e=new Map;return t.forEach(({q:n,u:s})=>{if(typeof n=="number"&&!isNaN(n)){const r=e.get(s)||0;e.set(s,r+n)}}),Array.from(e.entries()).map(([n,s])=>({q:s,u:n}))}function kc(t){return t?Object.values(t).some(e=>e.recipes?.some(n=>n.q!==void 0||n.u!==void 0)):!1}function pr(t){if(!t)return[];const e=Object.values(t).flatMap(n=>n.totalConsolidated);return fr(e)}function sa(t,e){const n=new Map,s=new Map;t.forEach(({q:a,u:o})=>{n.set(o,(n.get(o)||0)+a)}),e.forEach(({q:a,u:o})=>{s.set(o,(s.get(o)||0)+a)});const r=[],i=new Set([...n.keys(),...s.keys()]);for(const a of i){const o=n.get(a)||0,c=s.get(a)||0,d=o-c;Math.abs(d)>.001&&r.push({q:d,u:a})}return r}function hr(t){if(!t?.length)return"Équilibré";const e=t.filter(s=>s.q>0),n=t.filter(s=>s.q<0);if(e.length>0&&n.length>0){const s=e.map(i=>Bt(i.q.toString(),i.u)).join(" et "),r=n.map(i=>Bt(Math.abs(i.q).toString(),i.u)).join(" et ");return`${s} disponibles, ${r} manquant${n.length>1?"s":""}`}else return e.length>0?e.map(s=>"+"+Bt(s.q.toString(),s.u)).join(" et ")+" disponibles":n.length>0?n.map(s=>Bt(Math.abs(s.q).toString(),s.u)).join(" et ")+` manquant${n.length>1?"s":""}`:"Équilibré"}function xc(t,e){if(e.searchQuery.trim()){const n=e.searchQuery.toLowerCase();if(!t.productName.toLowerCase().includes(n))return!1}return!(e.selectedStores.length>0&&(!t.storeInfo?.storeName||!e.selectedStores.includes(t.storeInfo.storeName))||e.selectedWho.length>0&&(!t.who||!t.who.some(n=>e.selectedWho.includes(n)))||e.selectedProductTypes.length>0&&(!t.productType||!e.selectedProductTypes.includes(t.productType))||e.selectedTemperatures.length>0&&!(e.selectedTemperatures.includes("frais")&&t.pFrais||e.selectedTemperatures.includes("surgele")&&t.pSurgel))}function Ur(t){return{...t,products:t.products?.map(e=>typeof e=="string"?e:e.$id)||[],mainId:t.mainId}}function qc(t){const e=ct(t.specs)??null,n=_s(bs(t.purchases??[]));let s=[];e?.quantity&&(s=[e.quantity]);const{numeric:r,display:i}=Is(s,n),a=ct(t.stockReel)??null,o=Le(n),c=t.store?ct(t.store):null,d=a?`${a.quantity} ${a.unit}`:o;return{$id:t.$id,$createdAt:t.$createdAt,$updatedAt:t.$updatedAt,productHugoUuid:t.productHugoUuid||"",productName:t.productName,productType:t.productType||"none",pFrais:e?.pFrais??!1,pSurgel:e?.pSurgel??!1,nbRecipes:0,totalAssiettes:0,isSynced:t.isSynced,mainId:t.mainId,totalNeededRaw:[],status:t.status,who:t.who,store:t.store,stockReel:t.stockReel,previousNames:t.previousNames,isMerged:t.isMerged,mergedFrom:t.mergedFrom,mergeDate:t.mergeDate,mergeReason:t.mergeReason,mergedInto:t.mergedInto,totalNeededOverride:t.totalNeededOverride,purchases:t.purchases,specs:t.specs,byDate:{},storeInfo:c,stockParsed:a,specsParsed:e,totalNeededArray:s,totalPurchasesArray:n,missingQuantityArray:r,stockOrTotalPurchases:d,displayTotalNeeded:Le(s),displayTotalPurchases:o,displayMissingQuantity:i,totalNeededOverrideParsed:ct(t.totalNeededOverride),displayTotalOverride:(()=>{const u=ct(t.totalNeededOverride);return u?Le([u.totalOverride]):""})()}}function ts(t,e){const n=t.purchases??e.purchases,s=t.specs??e.specs,r=s?ct(s):e.specsParsed,i=_s(bs(n??[])),a=Le(i);let o=e.totalNeededArray;!e.productHugoUuid&&r?.quantity&&(o=[r.quantity]);const{numeric:c,display:d}=Is(o,i),u=t.stockReel??e.stockReel,f=u?ct(u):e.stockParsed,p=t.store??e.store,v=p?ct(p):e.storeInfo,y=f?`${f.quantity} ${f.unit}`:a;return t.purchases===void 0&&e.purchases?.length&&console.log(`[ProductsStore] Fusion intelligente : préservation de ${e.purchases.length} purchases pour ${e.productName}`),{...e,$updatedAt:t.$updatedAt,productName:t.productName??e.productName,productType:t.productType??e.productType,isSynced:t.isSynced??e.isSynced,mainId:t.mainId??e.mainId,pFrais:r?.pFrais??e.pFrais,pSurgel:r?.pSurgel??e.pSurgel,status:t.status??e.status,who:t.who??e.who,store:p,stockReel:u,specs:s,purchases:n,previousNames:t.previousNames??e.previousNames,isMerged:t.isMerged??e.isMerged,mergedFrom:t.mergedFrom??e.mergedFrom,mergeDate:t.mergeDate??e.mergeDate,mergeReason:t.mergeReason??e.mergeReason,mergedInto:t.mergedInto??e.mergedInto,totalNeededOverride:t.totalNeededOverride??e.totalNeededOverride,storeInfo:v,stockParsed:f,specsParsed:r,totalNeededArray:o,totalPurchasesArray:i,missingQuantityArray:c,stockOrTotalPurchases:y,displayTotalPurchases:a,displayMissingQuantity:d,displayTotalNeeded:Le(o),totalNeededOverrideParsed:ct(t.totalNeededOverride??e.totalNeededOverride),displayTotalOverride:(()=>{const w=ct(t.totalNeededOverride??e.totalNeededOverride);return w?Le([w.totalOverride]):""})()}}class jc{#e=A(de([]));MAX_TOASTS=3;get toasts(){return[...l(this.#e)].sort((e,n)=>n.timestamp-e.timestamp)}create(e){const n=e.id||crypto.randomUUID(),s={id:n,state:e.state,message:e.message,timestamp:Date.now(),source:e.source||"user",timeoutId:void 0,details:e.details,actions:e.actions||[]};return this.#t(s),n}update(e,n){const s=l(this.#e).findIndex(i=>i.id===e);if(s===-1)return;const r=l(this.#e)[s];r.timeoutId&&clearTimeout(r.timeoutId),l(this.#e)[s]={...r,state:n.state||r.state,message:n.message||r.message,source:n.source||r.source,actions:n.actions||r.actions},this.#n(l(this.#e)[s])}async track(e,n){const s=this.create({id:n.id,state:"loading",message:n.loading,source:"user"});try{const r=await e;return this.update(s,{state:"success",message:n.success||"Opération réussie"}),r}catch(r){throw this.update(s,{state:"error",message:n.error||"Erreur lors de l'opération"}),r}}dismiss(e){const n=l(this.#e).findIndex(r=>r.id===e);if(n===-1)return;const s=l(this.#e)[n];s.timeoutId&&clearTimeout(s.timeoutId),l(this.#e).splice(n,1)}dismissAll(){l(this.#e).forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),h(this.#e,[],!0)}#t(e){if(e.source==="user"){const n=l(this.#e).findIndex(s=>s.source==="user");n>=0?l(this.#e)[n]=e:l(this.#e).push(e)}else{const n=l(this.#e).filter(s=>s.source!=="user");if(n.length>=2){const s=n[0];this.dismiss(s.id)}l(this.#e).push(e)}l(this.#e).length>this.MAX_TOASTS&&l(this.#e).splice(0,l(this.#e).length-this.MAX_TOASTS),this.#n(e)}#n(e){if(e.state!=="success"&&e.state!=="info")return;const n=e.source==="realtime-other"?4e3:2e3;e.timeoutId=setTimeout(()=>{this.dismiss(e.id)},n)}success(e,n){return this.create({state:"success",message:e,details:n})}error(e,n){return this.create({state:"error",message:e,details:n})}warning(e,n){return this.create({state:"warning",message:e,source:n?.source||"system",details:n?.details,actions:n?.actions})}info(e,n){return this.create({state:"info",message:e,source:n?.source||"system",details:n?.details})}loading(e,n){return this.create({state:"loading",message:e,details:n})}}const Ye=new jc;function Bs(t,e,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{d(s.next(u))}catch(f){a(f)}}function c(u){try{d(s.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):r(u.value).then(o,c)}d((s=s.apply(t,[])).next())})}function Cc(t,e,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}class _{constructor(e,n,s){this.method=e,this.attribute=n,s!==void 0&&(Array.isArray(s)?this.values=s:this.values=[s])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}_.equal=(t,e)=>new _("equal",t,e).toString();_.notEqual=(t,e)=>new _("notEqual",t,e).toString();_.lessThan=(t,e)=>new _("lessThan",t,e).toString();_.lessThanEqual=(t,e)=>new _("lessThanEqual",t,e).toString();_.greaterThan=(t,e)=>new _("greaterThan",t,e).toString();_.greaterThanEqual=(t,e)=>new _("greaterThanEqual",t,e).toString();_.isNull=t=>new _("isNull",t).toString();_.isNotNull=t=>new _("isNotNull",t).toString();_.between=(t,e,n)=>new _("between",t,[e,n]).toString();_.startsWith=(t,e)=>new _("startsWith",t,e).toString();_.endsWith=(t,e)=>new _("endsWith",t,e).toString();_.select=t=>new _("select",void 0,t).toString();_.search=(t,e)=>new _("search",t,e).toString();_.orderDesc=t=>new _("orderDesc",t).toString();_.orderAsc=t=>new _("orderAsc",t).toString();_.orderRandom=()=>new _("orderRandom").toString();_.cursorAfter=t=>new _("cursorAfter",void 0,t).toString();_.cursorBefore=t=>new _("cursorBefore",void 0,t).toString();_.limit=t=>new _("limit",void 0,t).toString();_.offset=t=>new _("offset",void 0,t).toString();_.contains=(t,e)=>new _("contains",t,e).toString();_.notContains=(t,e)=>new _("notContains",t,e).toString();_.notSearch=(t,e)=>new _("notSearch",t,e).toString();_.notBetween=(t,e,n)=>new _("notBetween",t,[e,n]).toString();_.notStartsWith=(t,e)=>new _("notStartsWith",t,e).toString();_.notEndsWith=(t,e)=>new _("notEndsWith",t,e).toString();_.createdBefore=t=>_.lessThan("$createdAt",t);_.createdAfter=t=>_.greaterThan("$createdAt",t);_.createdBetween=(t,e)=>_.between("$createdAt",t,e);_.updatedBefore=t=>_.lessThan("$updatedAt",t);_.updatedAfter=t=>_.greaterThan("$updatedAt",t);_.updatedBetween=(t,e)=>_.between("$updatedAt",t,e);_.or=t=>new _("or",void 0,t.map(e=>JSON.parse(e))).toString();_.and=t=>new _("and",void 0,t.map(e=>JSON.parse(e))).toString();_.distanceEqual=(t,e,n,s=!0)=>new _("distanceEqual",t,[[e,n,s]]).toString();_.distanceNotEqual=(t,e,n,s=!0)=>new _("distanceNotEqual",t,[[e,n,s]]).toString();_.distanceGreaterThan=(t,e,n,s=!0)=>new _("distanceGreaterThan",t,[[e,n,s]]).toString();_.distanceLessThan=(t,e,n,s=!0)=>new _("distanceLessThan",t,[[e,n,s]]).toString();_.intersects=(t,e)=>new _("intersects",t,[e]).toString();_.notIntersects=(t,e)=>new _("notIntersects",t,[e]).toString();_.crosses=(t,e)=>new _("crosses",t,[e]).toString();_.notCrosses=(t,e)=>new _("notCrosses",t,[e]).toString();_.overlaps=(t,e)=>new _("overlaps",t,[e]).toString();_.notOverlaps=(t,e)=>new _("notOverlaps",t,[e]).toString();_.touches=(t,e)=>new _("touches",t,[e]).toString();_.notTouches=(t,e)=>new _("notTouches",t,[e]).toString();class m extends Error{constructor(e,n=0,s="",r=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=s,this.response=r}}class rt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"21.4.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,s;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const r=new URLSearchParams;this.config.project&&r.set("project",this.config.project),this.realtime.channels.forEach(a=>{r.append("channels[]",a)});const i=this.config.endpointRealtime+"/realtime?"+r.toString();(i!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((s=this.realtime.socket)===null||s===void 0?void 0:s.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",a=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",a=>{var o,c,d;if(!this.realtime.reconnect||((c=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||c===void 0?void 0:c.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,a.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var n,s;try{const r=JSON.parse(e.data);switch(this.realtime.lastMessage=r,r.type){case"connected":let i=this.config.session;if(!i){const c=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}");i=c?.[`a_session_${this.config.project}`]}const a=r.data;i&&!a.user&&((s=this.realtime.socket)===null||s===void 0||s.send(JSON.stringify({type:"authentication",data:{session:i}})));break;case"event":let o=r.data;if(o?.channels){if(!o.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{o.channels.some(u=>d.channels.includes(u))&&setTimeout(()=>d.callback(o))})}break;case"pong":break;case"error":throw r.data;default:break}}catch(r){console.error(r)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([r,i])=>i.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new m("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new m("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let s=typeof e=="string"?[e]:e;s.forEach(i=>this.realtime.channels.add(i));const r=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(r,{channels:s,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(r),this.realtime.cleanUp(s),this.realtime.connect()}}prepareRequest(e,n,s={},r={}){if(e=e.toUpperCase(),s=Object.assign({},this.headers,s),typeof window<"u"&&window.localStorage){const a=window.localStorage.getItem("cookieFallback");a&&(s["X-Fallback-Cookies"]=a)}let i={method:e,headers:s};if(s["X-Appwrite-Dev-Key"]===void 0&&(i.credentials="include"),e==="GET")for(const[a,o]of Object.entries(rt.flatten(r)))n.searchParams.append(a,o);else switch(s["content-type"]){case"application/json":i.body=JSON.stringify(r);break;case"multipart/form-data":const a=new FormData;for(const[o,c]of Object.entries(r))if(c instanceof File)a.append(o,c,c.name);else if(Array.isArray(c))for(const d of c)a.append(`${o}[]`,d);else a.append(o,c);i.body=a,delete s["content-type"];break}return{uri:n.toString(),options:i}}chunkedUpload(e,n,s={},r={},i){var a;return Bs(this,void 0,void 0,function*(){const[o,c]=(a=Object.entries(r).find(([f,p])=>p instanceof File))!==null&&a!==void 0?a:[];if(!c||!o)throw new Error("File not found in payload");if(c.size<=rt.CHUNK_SIZE)return yield this.call(e,n,s,r);let d=0,u=null;for(;d<c.size;){let f=d+rt.CHUNK_SIZE;f>=c.size&&(f=c.size),s["content-range"]=`bytes ${d}-${f-1}/${c.size}`;const p=c.slice(d,f);let v=Object.assign({},r);v[o]=new File([p],c.name),u=yield this.call(e,n,s,v),i&&typeof i=="function"&&i({$id:u.$id,progress:Math.round(f/c.size*100),sizeUploaded:f,chunksTotal:Math.ceil(c.size/rt.CHUNK_SIZE),chunksUploaded:Math.ceil(f/rt.CHUNK_SIZE)}),u&&u.$id&&(s["x-appwrite-id"]=u.$id),d=f}return u})}ping(){return Bs(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,s={},r={},i="json"){var a,o;return Bs(this,void 0,void 0,function*(){const{uri:c,options:d}=this.prepareRequest(e,n,s,r);let u=null;const f=yield fetch(c,d);if(f.type==="opaque")throw new m(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const p=f.headers.get("x-appwrite-warning");if(p&&p.split(";").forEach(y=>console.warn("Warning: "+y)),!((a=f.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")?u=yield f.json():i==="arrayBuffer"?u=yield f.arrayBuffer():u={message:yield f.text()},400<=f.status){let y="";throw!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")||i==="arrayBuffer"?y=JSON.stringify(u):y=u?.message,new m(u?.message,f.status,u?.type,y)}const v=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&v&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",v)),u})}static flatten(e,n=""){let s={};for(const[r,i]of Object.entries(e)){let a=n?n+"["+r+"]":r;Array.isArray(i)?s=Object.assign(Object.assign({},s),rt.flatten(i,a)):s[a]=i}return s}}rt.CHUNK_SIZE=1024*1024*5;class Un{constructor(e){this.client=e}static flatten(e,n=""){let s={};for(const[r,i]of Object.entries(e)){let a=n?n+"["+r+"]":r;Array.isArray(i)?s=Object.assign(Object.assign({},s),Un.flatten(i,a)):s[a]=i}return s}}Un.CHUNK_SIZE=5*1024*1024;class Nc{constructor(e){this.client=e}get(){const e="/account",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}create(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],password:n[1],name:n[2]};const r=s.userId,i=s.email,a=s.password,o=s.name;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "email"');if(typeof a>"u")throw new m('Missing required parameter: "password"');const c="/account",d={};typeof r<"u"&&(d.userId=r),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.password=a),typeof o<"u"&&(d.name=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}updateEmail(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,password:n[0]};const r=s.email,i=s.password;if(typeof r>"u")throw new m('Missing required parameter: "email"');if(typeof i>"u")throw new m('Missing required parameter: "password"');const a="/account/email",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}listIdentities(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,total:n[0]};const r=s.queries,i=s.total,a="/account/identities",o={};typeof r<"u"&&(o.queries=r),typeof i<"u"&&(o.total=i);const c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}deleteIdentity(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={identityId:e};const s=n.identityId;if(typeof s>"u")throw new m('Missing required parameter: "identityId"');const r="/account/identities/{identityId}".replace("{identityId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createJWT(){const e="/account/jwts",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}listLogs(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,total:n[0]};const r=s.queries,i=s.total,a="/account/logs",o={};typeof r<"u"&&(o.queries=r),typeof i<"u"&&(o.total=i);const c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}updateMFA(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={mfa:e};const s=n.mfa;if(typeof s>"u")throw new m('Missing required parameter: "mfa"');const r="/account/mfa",i={};typeof s<"u"&&(i.mfa=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new m('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new m('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaAuthenticator(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?s=e||{}:s={type:e,otp:n[0]};const r=s.type,i=s.otp;if(typeof r>"u")throw new m('Missing required parameter: "type"');if(typeof i>"u")throw new m('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),o={};typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateMFAAuthenticator(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?s=e||{}:s={type:e,otp:n[0]};const r=s.type,i=s.otp;if(typeof r>"u")throw new m('Missing required parameter: "type"');if(typeof i>"u")throw new m('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",r),o={};typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}deleteMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new m('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}deleteMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const s=n.type;if(typeof s>"u")throw new m('Missing required parameter: "type"');const r="/account/mfa/authenticators/{type}".replace("{type}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createMfaChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const s=n.factor;if(typeof s>"u")throw new m('Missing required parameter: "factor"');const r="/account/mfa/challenge",i={};typeof s<"u"&&(i.factor=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createMFAChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const s=n.factor;if(typeof s>"u")throw new m('Missing required parameter: "factor"');const r="/account/mfa/challenge",i={};typeof s<"u"&&(i.factor=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateMfaChallenge(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={challengeId:e,otp:n[0]};const r=s.challengeId,i=s.otp;if(typeof r>"u")throw new m('Missing required parameter: "challengeId"');if(typeof i>"u")throw new m('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof r<"u"&&(o.challengeId=r),typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateMFAChallenge(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={challengeId:e,otp:n[0]};const r=s.challengeId,i=s.otp;if(typeof r>"u")throw new m('Missing required parameter: "challengeId"');if(typeof i>"u")throw new m('Missing required parameter: "otp"');const a="/account/mfa/challenge",o={};typeof r<"u"&&(o.challengeId=r),typeof i<"u"&&(o.otp=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}listMfaFactors(){const e="/account/mfa/factors",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}listMFAFactors(){const e="/account/mfa/factors",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}updateName(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={name:e};const s=n.name;if(typeof s>"u")throw new m('Missing required parameter: "name"');const r="/account/name",i={};typeof s<"u"&&(i.name=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}updatePassword(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={password:e,oldPassword:n[0]};const r=s.password,i=s.oldPassword;if(typeof r>"u")throw new m('Missing required parameter: "password"');const a="/account/password",o={};typeof r<"u"&&(o.password=r),typeof i<"u"&&(o.oldPassword=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}updatePhone(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={phone:e,password:n[0]};const r=s.phone,i=s.password;if(typeof r>"u")throw new m('Missing required parameter: "phone"');if(typeof i>"u")throw new m('Missing required parameter: "password"');const a="/account/phone",o={};typeof r<"u"&&(o.phone=r),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("patch",c,d,o)}getPrefs(){const e="/account/prefs",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}updatePrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?n=e||{}:n={prefs:e};const s=n.prefs;if(typeof s>"u")throw new m('Missing required parameter: "prefs"');const r="/account/prefs",i={};typeof s<"u"&&(i.prefs=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}createRecovery(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,url:n[0]};const r=s.email,i=s.url;if(typeof r>"u")throw new m('Missing required parameter: "email"');if(typeof i>"u")throw new m('Missing required parameter: "url"');const a="/account/recovery",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.url=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}updateRecovery(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0],password:n[1]};const r=s.userId,i=s.secret,a=s.password;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');if(typeof a>"u")throw new m('Missing required parameter: "password"');const o="/account/recovery",c={};typeof r<"u"&&(c.userId=r),typeof i<"u"&&(c.secret=i),typeof a<"u"&&(c.password=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",d,u,c)}listSessions(){const e="/account/sessions",n={},s=new URL(this.client.config.endpoint+e),r={};return this.client.call("get",s,r,n)}deleteSessions(){const e="/account/sessions",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("delete",s,r,n)}createAnonymousSession(){const e="/account/sessions/anonymous",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}createEmailPasswordSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={email:e,password:n[0]};const r=s.email,i=s.password;if(typeof r>"u")throw new m('Missing required parameter: "email"');if(typeof i>"u")throw new m('Missing required parameter: "password"');const a="/account/sessions/email",o={};typeof r<"u"&&(o.email=r),typeof i<"u"&&(o.password=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}updateMagicURLSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/sessions/magic-url",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createOAuth2Session(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?s=e||{}:s={provider:e,success:n[0],failure:n[1],scopes:n[2]};const r=s.provider,i=s.success,a=s.failure,o=s.scopes;if(typeof r>"u")throw new m('Missing required parameter: "provider"');const c="/account/sessions/oauth2/{provider}".replace("{provider}",r),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+c);d.project=this.client.config.project;for(const[f,p]of Object.entries(Un.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}updatePhoneSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/sessions/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createSession(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/sessions/token",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}getSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new m('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new m('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("patch",a,o,i)}deleteSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const s=n.sessionId;if(typeof s>"u")throw new m('Missing required parameter: "sessionId"');const r="/account/sessions/{sessionId}".replace("{sessionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}updateStatus(){const e="/account/status",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("patch",s,r,n)}createPushTarget(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={targetId:e,identifier:n[0],providerId:n[1]};const r=s.targetId,i=s.identifier,a=s.providerId;if(typeof r>"u")throw new m('Missing required parameter: "targetId"');if(typeof i>"u")throw new m('Missing required parameter: "identifier"');const o="/account/targets/push",c={};typeof r<"u"&&(c.targetId=r),typeof i<"u"&&(c.identifier=i),typeof a<"u"&&(c.providerId=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}updatePushTarget(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={targetId:e,identifier:n[0]};const r=s.targetId,i=s.identifier;if(typeof r>"u")throw new m('Missing required parameter: "targetId"');if(typeof i>"u")throw new m('Missing required parameter: "identifier"');const a="/account/targets/{targetId}/push".replace("{targetId}",r),o={};typeof i<"u"&&(o.identifier=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}deletePushTarget(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e};const s=n.targetId;if(typeof s>"u")throw new m('Missing required parameter: "targetId"');const r="/account/targets/{targetId}/push".replace("{targetId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createEmailToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],phrase:n[1]};const r=s.userId,i=s.email,a=s.phrase;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "email"');const o="/account/tokens/email",c={};typeof r<"u"&&(c.userId=r),typeof i<"u"&&(c.email=i),typeof a<"u"&&(c.phrase=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}createMagicURLToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,email:n[0],url:n[1],phrase:n[2]};const r=s.userId,i=s.email,a=s.url,o=s.phrase;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "email"');const c="/account/tokens/magic-url",d={};typeof r<"u"&&(d.userId=r),typeof i<"u"&&(d.email=i),typeof a<"u"&&(d.url=a),typeof o<"u"&&(d.phrase=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",u,f,d)}createOAuth2Token(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?s=e||{}:s={provider:e,success:n[0],failure:n[1],scopes:n[2]};const r=s.provider,i=s.success,a=s.failure,o=s.scopes;if(typeof r>"u")throw new m('Missing required parameter: "provider"');const c="/account/tokens/oauth2/{provider}".replace("{provider}",r),d={};typeof i<"u"&&(d.success=i),typeof a<"u"&&(d.failure=a),typeof o<"u"&&(d.scopes=o);const u=new URL(this.client.config.endpoint+c);d.project=this.client.config.project;for(const[f,p]of Object.entries(Un.flatten(d)))u.searchParams.append(f,p);if(typeof window<"u"&&window?.location){window.location.href=u.toString();return}else return u.toString()}createPhoneToken(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,phone:n[0]};const r=s.userId,i=s.phone;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "phone"');const a="/account/tokens/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.phone=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}createEmailVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const s=n.url;if(typeof s>"u")throw new m('Missing required parameter: "url"');const r="/account/verifications/email",i={};typeof s<"u"&&(i.url=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}createVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const s=n.url;if(typeof s>"u")throw new m('Missing required parameter: "url"');const r="/account/verifications/email",i={};typeof s<"u"&&(i.url=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}updateEmailVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}updateVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/verifications/email",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}createPhoneVerification(){const e="/account/verifications/phone",n={},s=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return this.client.call("post",s,r,n)}updatePhoneVerification(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={userId:e,secret:n[0]};const r=s.userId,i=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "userId"');if(typeof i>"u")throw new m('Missing required parameter: "secret"');const a="/account/verifications/phone",o={};typeof r<"u"&&(o.userId=r),typeof i<"u"&&(o.secret=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}}class Uc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const s=n.queries,r="/databases/transactions",i={};typeof s<"u"&&(i.queries=s);const a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const s=n.ttl,r="/databases/transactions",i={};typeof s<"u"&&(i.ttl=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new m('Missing required parameter: "transactionId"');const r="/databases/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,commit:n[0],rollback:n[1]};const r=s.transactionId,i=s.commit,a=s.rollback;if(typeof r>"u")throw new m('Missing required parameter: "transactionId"');const o="/databases/transactions/{transactionId}".replace("{transactionId}",r),c={};typeof i<"u"&&(c.commit=i),typeof a<"u"&&(c.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new m('Missing required parameter: "transactionId"');const r="/databases/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,operations:n[0]};const r=s.transactionId,i=s.operations;if(typeof r>"u")throw new m('Missing required parameter: "transactionId"');const a="/databases/transactions/{transactionId}/operations".replace("{transactionId}",r),o={};typeof i<"u"&&(o.operations=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}listDocuments(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const r=s.databaseId,i=s.collectionId,a=s.queries,o=s.transactionId,c=s.total;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');const d="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",r).replace("{collectionId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof c<"u"&&(u.total=c);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');if(typeof o>"u")throw new m('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",r).replace("{collectionId}",i),f={};typeof a<"u"&&(f.documentId=a),typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("post",p,v,f)}getDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],queries:n[2],transactionId:n[3]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.queries,c=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),u={};typeof o<"u"&&(u.queries=o),typeof c<"u"&&(u.transactionId=c);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');if(typeof o>"u")throw new m('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("put",p,v,f)}updateDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("patch",p,v,f)}deleteDocument(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],transactionId:n[2]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');const c="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementDocumentAttribute(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],min:n[4],transactionId:n[5]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.attribute,c=s.value,d=s.min,u=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');if(typeof o>"u")throw new m('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof c<"u"&&(p.value=c),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,p)}incrementDocumentAttribute(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],max:n[4],transactionId:n[5]};const r=s.databaseId,i=s.collectionId,a=s.documentId,o=s.attribute,c=s.value,d=s.max,u=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "collectionId"');if(typeof a>"u")throw new m('Missing required parameter: "documentId"');if(typeof o>"u")throw new m('Missing required parameter: "attribute"');const f="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",r).replace("{collectionId}",i).replace("{documentId}",a).replace("{attribute}",o),p={};typeof c<"u"&&(p.value=c),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,p)}}class Lc{constructor(e){this.client=e}listExecutions(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,queries:n[0],total:n[1]};const r=s.functionId,i=s.queries,a=s.total;if(typeof r>"u")throw new m('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",r),c={};typeof i<"u"&&(c.queries=i),typeof a<"u"&&(c.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,c)}createExecution(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,body:n[0],async:n[1],xpath:n[2],method:n[3],headers:n[4],scheduledAt:n[5]};const r=s.functionId,i=s.body,a=s.async,o=s.xpath,c=s.method,d=s.headers,u=s.scheduledAt;if(typeof r>"u")throw new m('Missing required parameter: "functionId"');const f="/functions/{functionId}/executions".replace("{functionId}",r),p={};typeof i<"u"&&(p.body=i),typeof a<"u"&&(p.async=a),typeof o<"u"&&(p.path=o),typeof c<"u"&&(p.method=c),typeof d<"u"&&(p.headers=d),typeof u<"u"&&(p.scheduledAt=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",v,y,p)}getExecution(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={functionId:e,executionId:n[0]};const r=s.functionId,i=s.executionId;if(typeof r>"u")throw new m('Missing required parameter: "functionId"');if(typeof i>"u")throw new m('Missing required parameter: "executionId"');const a="/functions/{functionId}/executions/{executionId}".replace("{functionId}",r).replace("{executionId}",i),o={},c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}}class Hc{constructor(e){this.client=e}listTransactions(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const s=n.queries,r="/tablesdb/transactions",i={};typeof s<"u"&&(i.queries=s);const a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}createTransaction(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={ttl:e};const s=n.ttl,r="/tablesdb/transactions",i={};typeof s<"u"&&(i.ttl=s);const a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("post",a,o,i)}getTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new m('Missing required parameter: "transactionId"');const r="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateTransaction(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,commit:n[0],rollback:n[1]};const r=s.transactionId,i=s.commit,a=s.rollback;if(typeof r>"u")throw new m('Missing required parameter: "transactionId"');const o="/tablesdb/transactions/{transactionId}".replace("{transactionId}",r),c={};typeof i<"u"&&(c.commit=i),typeof a<"u"&&(c.rollback=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteTransaction(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={transactionId:e};const s=n.transactionId;if(typeof s>"u")throw new m('Missing required parameter: "transactionId"');const r="/tablesdb/transactions/{transactionId}".replace("{transactionId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}createOperations(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={transactionId:e,operations:n[0]};const r=s.transactionId,i=s.operations;if(typeof r>"u")throw new m('Missing required parameter: "transactionId"');const a="/tablesdb/transactions/{transactionId}/operations".replace("{transactionId}",r),o={};typeof i<"u"&&(o.operations=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("post",c,d,o)}listRows(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],queries:n[1],transactionId:n[2],total:n[3]};const r=s.databaseId,i=s.tableId,a=s.queries,o=s.transactionId,c=s.total;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",r).replace("{tableId}",i),u={};typeof a<"u"&&(u.queries=a),typeof o<"u"&&(u.transactionId=o),typeof c<"u"&&(u.total=c);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}createRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');if(typeof o>"u")throw new m('Missing required parameter: "data"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows".replace("{databaseId}",r).replace("{tableId}",i),f={};typeof a<"u"&&(f.rowId=a),typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("post",p,v,f)}getRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],queries:n[2],transactionId:n[3]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.queries,c=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');const d="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),u={};typeof o<"u"&&(u.queries=o),typeof c<"u"&&(u.transactionId=c);const f=new URL(this.client.config.endpoint+d),p={};return this.client.call("get",f,p,u)}upsertRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("put",p,v,f)}updateRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],data:n[2],permissions:n[3],transactionId:n[4]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.data,c=s.permissions,d=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');const u="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),f={};typeof o<"u"&&(f.data=o),typeof c<"u"&&(f.permissions=c),typeof d<"u"&&(f.transactionId=d);const p=new URL(this.client.config.endpoint+u),v={"content-type":"application/json"};return this.client.call("patch",p,v,f)}deleteRow(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],transactionId:n[2]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');const c="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a),d={};typeof o<"u"&&(d.transactionId=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("delete",u,f,d)}decrementRowColumn(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],min:n[4],transactionId:n[5]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.column,c=s.value,d=s.min,u=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');if(typeof o>"u")throw new m('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/decrement".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof c<"u"&&(p.value=c),typeof d<"u"&&(p.min=d),typeof u<"u"&&(p.transactionId=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,p)}incrementRowColumn(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={databaseId:e,tableId:n[0],rowId:n[1],column:n[2],value:n[3],max:n[4],transactionId:n[5]};const r=s.databaseId,i=s.tableId,a=s.rowId,o=s.column,c=s.value,d=s.max,u=s.transactionId;if(typeof r>"u")throw new m('Missing required parameter: "databaseId"');if(typeof i>"u")throw new m('Missing required parameter: "tableId"');if(typeof a>"u")throw new m('Missing required parameter: "rowId"');if(typeof o>"u")throw new m('Missing required parameter: "column"');const f="/tablesdb/{databaseId}/tables/{tableId}/rows/{rowId}/{column}/increment".replace("{databaseId}",r).replace("{tableId}",i).replace("{rowId}",a).replace("{column}",o),p={};typeof c<"u"&&(p.value=c),typeof d<"u"&&(p.max=d),typeof u<"u"&&(p.transactionId=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("patch",v,y,p)}}class Bc{constructor(e){this.client=e}list(e,...n){let s;!e||e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={queries:e,search:n[0],total:n[1]};const r=s.queries,i=s.search,a=s.total,o="/teams",c={};typeof r<"u"&&(c.queries=r),typeof i<"u"&&(c.search=i),typeof a<"u"&&(c.total=a);const d=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",d,u,c)}create(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,name:n[0],roles:n[1]};const r=s.teamId,i=s.name,a=s.roles;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "name"');const o="/teams",c={};typeof r<"u"&&(c.teamId=r),typeof i<"u"&&(c.name=i),typeof a<"u"&&(c.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",d,u,c)}get(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new m('Missing required parameter: "teamId"');const r="/teams/{teamId}".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updateName(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,name:n[0]};const r=s.teamId,i=s.name;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "name"');const a="/teams/{teamId}".replace("{teamId}",r),o={};typeof i<"u"&&(o.name=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}delete(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new m('Missing required parameter: "teamId"');const r="/teams/{teamId}".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return this.client.call("delete",a,o,i)}listMemberships(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,queries:n[0],search:n[1],total:n[2]};const r=s.teamId,i=s.queries,a=s.search,o=s.total;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');const c="/teams/{teamId}/memberships".replace("{teamId}",r),d={};typeof i<"u"&&(d.queries=i),typeof a<"u"&&(d.search=a),typeof o<"u"&&(d.total=o);const u=new URL(this.client.config.endpoint+c),f={};return this.client.call("get",u,f,d)}createMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,roles:n[0],email:n[1],userId:n[2],phone:n[3],url:n[4],name:n[5]};const r=s.teamId,i=s.roles,a=s.email,o=s.userId,c=s.phone,d=s.url,u=s.name;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",r),p={};typeof a<"u"&&(p.email=a),typeof o<"u"&&(p.userId=o),typeof c<"u"&&(p.phone=c),typeof i<"u"&&(p.roles=i),typeof d<"u"&&(p.url=d),typeof u<"u"&&(p.name=u);const v=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",v,y,p)}getMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0]};const r=s.teamId,i=s.membershipId;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),o={},c=new URL(this.client.config.endpoint+a),d={};return this.client.call("get",c,d,o)}updateMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0],roles:n[1]};const r=s.teamId,i=s.membershipId,a=s.roles;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "membershipId"');if(typeof a>"u")throw new m('Missing required parameter: "roles"');const o="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),c={};typeof a<"u"&&(c.roles=a);const d=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",d,u,c)}deleteMembership(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0]};const r=s.teamId,i=s.membershipId;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "membershipId"');const a="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",r).replace("{membershipId}",i),o={},c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("delete",c,d,o)}updateMembershipStatus(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,membershipId:n[0],userId:n[1],secret:n[2]};const r=s.teamId,i=s.membershipId,a=s.userId,o=s.secret;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "membershipId"');if(typeof a>"u")throw new m('Missing required parameter: "userId"');if(typeof o>"u")throw new m('Missing required parameter: "secret"');const c="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",r).replace("{membershipId}",i),d={};typeof a<"u"&&(d.userId=a),typeof o<"u"&&(d.secret=o);const u=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("patch",u,f,d)}getPrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={teamId:e};const s=n.teamId;if(typeof s>"u")throw new m('Missing required parameter: "teamId"');const r="/teams/{teamId}/prefs".replace("{teamId}",s),i={},a=new URL(this.client.config.endpoint+r),o={};return this.client.call("get",a,o,i)}updatePrefs(e,...n){let s;e&&typeof e=="object"&&!Array.isArray(e)?s=e||{}:s={teamId:e,prefs:n[0]};const r=s.teamId,i=s.prefs;if(typeof r>"u")throw new m('Missing required parameter: "teamId"');if(typeof i>"u")throw new m('Missing required parameter: "prefs"');const a="/teams/{teamId}/prefs".replace("{teamId}",r),o={};typeof i<"u"&&(o.prefs=i);const c=new URL(this.client.config.endpoint+a),d={"content-type":"application/json"};return this.client.call("put",c,d,o)}}var Lr;(function(t){t[t.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",t[t.POLICY_VIOLATION=1008]="POLICY_VIOLATION",t[t.UNKNOWN_ERROR=-1]="UNKNOWN_ERROR"})(Lr||(Lr={}));class Re{}Re.read=t=>`read("${t}")`;Re.write=t=>`write("${t}")`;Re.create=t=>`create("${t}")`;Re.update=t=>`update("${t}")`;Re.delete=t=>`delete("${t}")`;class He{static any(){return"any"}static user(e,n=""){return n===""?`user:${e}`:`user:${e}/${n}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,n=""){return n===""?`team:${e}`:`team:${e}/${n}`}static member(e){return`member:${e}`}static label(e){return`label:${e}`}}var ra,ia;class Vt{static custom(e){return e}static unique(e=7){const n=Cc(Vt,ra,"m",ia).call(Vt);let s="";for(let r=0;r<e;r++){const i=Math.floor(Math.random()*16).toString(16);s+=i}return n+s}}ra=Vt,ia=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),s=e.getMilliseconds();return n.toString(16)+s.toString(16).padStart(5,"0")};var Hr;(function(t){t.Equal="equal",t.NotEqual="notEqual",t.GreaterThan="greaterThan",t.GreaterThanEqual="greaterThanEqual",t.LessThan="lessThan",t.LessThanEqual="lessThanEqual",t.Contains="contains",t.IsNull="isNull",t.IsNotNull="isNotNull"})(Hr||(Hr={}));var Br;(function(t){t.Totp="totp"})(Br||(Br={}));var zr;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(zr||(zr={}));var Wr;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(Wr||(Wr={}));var Qr;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(Qr||(Qr={}));var Vr;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionPay="unionpay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(Vr||(Vr={}));var Gr;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(Gr||(Gr={}));var Kr;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD"})(Kr||(Kr={}));var Yr;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(Yr||(Yr={}));var Jr;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(Jr||(Jr={}));var Xr;(function(t){t.Http="http",t.Schedule="schedule",t.Event="event"})(Xr||(Xr={}));var Zr;(function(t){t.Waiting="waiting",t.Processing="processing",t.Completed="completed",t.Failed="failed",t.Scheduled="scheduled"})(Zr||(Zr={}));const lt={endpoint:"https://cloud.appwrite.io/v1",projectId:"689725820024e81781b7",databaseId:"689d15b10003a5a13636",functions:{cmsAuth:"68976500002eb5c6ee4f",accessRequest:"689cdea5001a4d74549d",batchUpdate:"68f00487000c624533a3"},collections:{events:"events",ingredients:"ingredients",main:"main",purchases:"purchases",products:"products"}};let zt=null;async function O(){if(zt)return zt;console.log("[appwrite] Initialisation des instances Appwrite...");const t=new rt().setEndpoint(lt.endpoint).setProject(lt.projectId),e=new Nc(t),n=new Uc(t),s=new Hc(t),r=new Lc(t),i=new Bc(t);return zt={client:t,account:e,databases:n,tables:s,functions:r,teams:i,config:lt},console.log("[appwrite] Instances initialisées avec succès"),zt}function zc(){console.log("[appwrite] Cache réinitialisé"),zt=null}function Wc(){return{APPWRITE_ENDPOINT:lt.endpoint,APPWRITE_PROJECT_ID:lt.projectId,APPWRITE_FUNCTION_ID:lt.functions.batchUpdate,ACCESS_REQUEST_FUNCTION_ID:lt.functions.accessRequest,APPWRITE_CONFIG:lt}}function aa(t,e){return zt?zt.client.subscribe(t,e):(console.warn("[appwrite] Subscribe appelé avant initialisation, tentative d'init..."),new rt().setEndpoint(lt.endpoint).setProject(lt.projectId).subscribe(t,e))}function Dn(){return localStorage.getItem("appwrite-user-name")||""}async function Qc(t,e,n=100){try{const{tables:s,config:r}=await O(),i=await s.listRows(r.databaseId,r.APPWRITE_CONFIG.collections.purchases,[_.greaterThan("$updatedAt",e),_.equal("mainId",t),_.limit(n),_.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${i.rows.length} purchases modifiés chargés`),i.rows}catch(s){return console.error("[Appwrite Interactions] Erreur chargement purchases modifiés:",s),[]}}async function oa(t,e){const{lastSync:n,limit:s=100}=e;try{const{tables:r,config:i}=await O();if(!n)return console.log("[Appwrite Interactions] Chargement complet des produits"),(await r.listRows(i.databaseId,i.APPWRITE_CONFIG.collections.products,[_.equal("mainId",t),_.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"]),_.limit(s)])).rows;const a=await r.listRows(i.databaseId,i.APPWRITE_CONFIG.collections.products,[_.greaterThan("$updatedAt",n),_.equal("mainId",t),_.limit(s),_.select(["*","purchases.$id","purchases.unit","purchases.quantity","purchases.store","purchases.who","purchases.notes","purchases.price","purchases.status","purchases.deliveryDate","purchases.orderDate","purchases.createdBy","purchases.products.$id"])]);return a.rows.length>0&&console.log(`[Appwrite Interactions] ${a.rows.length} produits synchronisés avec leurs purchases`),a.rows}catch(r){console.error(`[Appwrite Interactions] Erreur sync produits avec purchases pour mainId ${t}:`,r);const i=r instanceof Error?r.message:"Erreur lors de la synchronisation";throw new Error(`Échec de la synchronisation: ${i}`)}}async function ca(t,e,n=!0){const{tables:s,config:r}=await O();return n&&(e.updatedBy=Dn()),await s.updateRow(r.databaseId,r.APPWRITE_CONFIG.collections.products,t,e)}async function la(t,e,n=!1){if(!t)throw new Error("ID du produit requis pour la mise à jour de l'override");const s=JSON.stringify(e),r=await ca(t,{totalNeededOverride:s},n);return console.log(`[Appwrite Interactions] Total override mis à jour pour le produit ${t}:`,e),r}async function da(t){if(!t?.length)return[];try{const{tables:e,config:n}=await O(),s=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[_.equal("$id",t),_.select(["*","products.$id"])]);return console.log(`[Appwrite Interactions] ${s.rows.length} purchases chargés avec relations products`),s.rows}catch(e){console.error("[Appwrite Interactions] Erreur chargement purchases avec relations:",e);const n=e instanceof Error?e.message:"Erreur inconnue";throw new Error(`Échec du chargement des purchases: ${n}`)}}function ua(t,e={}){let n=null;const s=i=>{const{events:a,payload:o}=i;if(!o)return;const c=a.some(v=>v.includes("products.")),d=a.some(v=>v.includes("purchases.")),u=a.some(v=>v.includes(".create")),f=a.some(v=>v.includes(".update")),p=a.some(v=>v.includes(".delete"));if(c){const v=o;v.updatedBy&&v.updatedBy!==Dn()&&(u||f?Ye.info(`${v.updatedBy} a modifié le produit "${v.productName}"`,{source:"realtime-other"}):p&&Ye.info(`${v.updatedBy} a supprimé un produit`,{source:"realtime-other"})),u&&e.onProductCreate?e.onProductCreate(v):f&&e.onProductUpdate?e.onProductUpdate(v):p&&e.onProductDelete&&e.onProductDelete(v.$id)}else if(d){const v=o;if(v.createdBy&&v.createdBy!==Dn()){const y=v.products?.[0]?.productName||"un produit";u&&v.who!==Dn()?Ye.info(`${v.who} a ajouté un achat pour ${y}`,{source:"realtime-other"}):f&&v.who!==Dn()?Ye.info(`${v.who} a modifié un achat pour ${y}`,{source:"realtime-other"}):p&&Ye.info(`${v.who} a supprimé un achat pour ${y}`,{source:"realtime-other"})}u&&e.onPurchaseCreate?e.onPurchaseCreate(v):f&&e.onPurchaseUpdate?e.onPurchaseUpdate(v):p&&e.onPurchaseDelete&&e.onPurchaseDelete(v.$id)}};return(async()=>{try{typeof window<"u"&&window.AppwriteClient&&(await window.AppwriteClient.initializeAppwrite(),n=window.AppwriteClient.subscribeToCollections(["products","purchases"],t,s,{onConnect:()=>{console.log("[Appwrite Interactions] Realtime connecté"),e.onConnect?.()},onDisconnect:()=>{console.log("[Appwrite Interactions] Realtime déconnecté"),e.onDisconnect?.()},onError:i=>{console.error("[Appwrite Interactions] Erreur realtime:",i),e.onError?.(i)}}))}catch(i){console.error("[Appwrite Interactions] Impossible de configurer realtime:",i),e.onError?.(i)}})(),()=>{n&&(n(),n=null)}}async function fa(t){try{console.log(`[Appwrite Interactions] Chargement des données principales pour mainId: ${t}`);const{tables:e,config:n}=await O(),s=await e.getRow(n.databaseId,n.collections.main,t);return console.log(`[Appwrite Interactions] Données principales chargées pour: ${s.name}`),s}catch(e){return console.error(`[Appwrite Interactions] Erreur chargement données principales pour mainId ${t}:`,e),null}}async function pa(t,e,n,s){try{console.log(`[Appwrite Interactions] Création du Main document: ${t}`);const{tables:r,config:i,account:a}=await O(),o=await a.get();await r.createRow(i.databaseId,i.APPWRITE_CONFIG.collections.main,t,{name:s,createdBy:o.$id,isActive:!0,originalDataHash:e,allDates:n,status:"active",dateStart:n[0]||null,dateEnd:n[n.length-1]||null}),console.log(`[Appwrite Interactions] Main document créé: ${t}`)}catch(r){throw console.error("[Appwrite Interactions] Erreur création Main document:",r),r}}async function Vc(t){try{const{tables:e,config:n}=await O(),s=await e.listRows(n.databaseId,n.APPWRITE_CONFIG.collections.purchases,[_.equal("mainId",t),_.equal("status","expense"),_.limit(1e3)]);return console.log(`[Appwrite Interactions] ${s.rows.length} dépenses globales chargées`),s.rows}catch(e){return console.error("[Appwrite Interactions] Erreur chargement dépenses globales:",e),[]}}const Or=Object.freeze(Object.defineProperty({__proto__:null,createMainDocument:pa,loadMainEventData:fa,loadOrphanPurchases:Vc,loadPurchasesListByIds:da,loadUpdatedPurchases:Qc,subscribeToRealtime:ua,syncProductsWithPurchases:oa,updateProduct:ca,updateTotalOverride:la},Symbol.toStringTag,{value:"Module"}));function Gc(t){const n=new Date(t).getHours();return n>=11&&n<=13?"sun":n>=19&&n<=21?"moon":n>=7&&n<=9?"cloud":null}function Kc(t){return{formattedDate:new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),timeIcon:Gc(t)}}function ha(t){const e={};for(const n of t)e[n]=Kc(n);return e}function Yc(t,e){if(!t.byDate?.[e])return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const n=t.byDate[e],s=[e],r=new Map;n.recipes?.length&&r.set(e,n.recipes);const i=n.totalConsolidated||[],a=i.length>0?Le(i):"-",o=Jc(t,e,i),c=o.filter(p=>p.q>0),d=new Date().toISOString().split("T")[0],f=e<d?[]:o.filter(p=>p.q<0);return{requiredQuantities:i,requiredQuantitiesFormatted:a,stockBalance:o,availableStockQuantities:c,missingStockQuantities:f,availableStockFormatted:hr(o),missingStockFormatted:Le(f.map(p=>({q:Math.abs(p.q),u:p.u}))),hasAvailableStock:c.length>0,hasMissingStock:f.length>0,totalRecipesInRange:n.recipes?.length||0,totalPortionsInRange:n.totalAssiettes||0,datesInSelectedRange:s,recipesByDate:r}}function Jc(t,e,n){let s=[],r="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(s=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],r=t.stockParsed.dateTime);const i=[];if(t.purchases)for(const c of t.purchases)Xc(c,e,r)&&i.push({q:c.quantity,u:c.unit});const a=[...s,...i],o=fr(a);return sa(o,n)}function Xc(t,e,n=""){if(t.status==="cancelled")return!1;const s=t.deliveryDate||t.$createdAt;return!s||s>e||n&&t.$createdAt<n?!1:s<=e}function Zc(t,e){const n=t.totalNeededArray||[],s=n.length>0?Le(n):"-",r=va(t,e[0],e[e.length-1],n),i=r.filter(d=>d.q>0),a=r.filter(d=>d.q<0),o=[...e].sort(),c=new Map;if(t.byDate)for(const[d,u]of Object.entries(t.byDate))u.recipes?.length&&c.set(d,u.recipes);return{requiredQuantities:n,requiredQuantitiesFormatted:s,stockBalance:r,availableStockQuantities:i,missingStockQuantities:a,availableStockFormatted:hr(r),missingStockFormatted:Le(a.map(d=>({q:Math.abs(d.q),u:d.u}))),hasAvailableStock:i.length>0,hasMissingStock:a.length>0,totalRecipesInRange:t.nbRecipes||0,totalPortionsInRange:t.totalAssiettes||0,datesInSelectedRange:o,recipesByDate:c}}function Oc(t,e,n){if(!t.byDate)return{requiredQuantities:[],requiredQuantitiesFormatted:"-",stockBalance:[],availableStockQuantities:[],missingStockQuantities:[],availableStockFormatted:"-",missingStockFormatted:"-",hasAvailableStock:!1,hasMissingStock:!1,totalRecipesInRange:0,totalPortionsInRange:0,datesInSelectedRange:[],recipesByDate:new Map};const s=new Date(e),r=new Date(n),i=[],a=new Map,o=new Map;let c=0,d=0;for(const[S,M]of Object.entries(t.byDate)){const $=new Date(S);$>=s&&$<=r&&(i.push(S),c+=M.totalAssiettes||0,M.recipes?.length&&(a.set(S,M.recipes),d+=M.recipes.length),M.totalConsolidated&&M.totalConsolidated.forEach(({q:D,u:R})=>{o.set(R,(o.get(R)||0)+D)}))}const u=Array.from(o.entries()).map(([S,M])=>({q:M,u:S})),f=u.length>0?Le(u):"-",p=va(t,e,n,u),v=p.filter(S=>S.q>0),y=new Date().toISOString().split("T")[0],I=n<y?[]:p.filter(S=>S.q<0);return{requiredQuantities:u,requiredQuantitiesFormatted:f,stockBalance:p,availableStockQuantities:v,missingStockQuantities:I,availableStockFormatted:hr(p),missingStockFormatted:Le(I.map(S=>({q:Math.abs(S.q),u:S.u}))),hasAvailableStock:v.length>0,hasMissingStock:I.length>0,totalRecipesInRange:d,totalPortionsInRange:c,datesInSelectedRange:i,recipesByDate:a}}function va(t,e,n,s){let r=[],i="";t.stockParsed?.dateTime&&t.stockParsed.dateTime<=e&&(r=[{q:parseFloat(t.stockParsed.quantity),u:t.stockParsed.unit}],i=t.stockParsed.dateTime);const a=[];if(t.purchases)for(const d of t.purchases)Fc(d,e,n,i)&&a.push({q:d.quantity,u:d.unit});const o=[...r,...a],c=fr(o);return sa(c,s)}function Fc(t,e,n,s=""){if(t.status==="cancelled")return!1;const r=t.deliveryDate||t.$createdAt;return!r||r>n||s&&t.$createdAt<s?!1:r<=n}async function el(t){let e;if(e=await fetch(`/evenements/${t}/metadata.json`),!e.ok)throw new Error(`Impossible de charger les métadonnées Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.hugoContentHash)throw new Error("Format de métadonnées Hugo invalide");return n}async function Fr(t){const e=await fetch(`/evenements/${t}/ingredients_aw/index.json`);if(!e.ok)throw new Error(`Impossible de charger les données Hugo: ${e.status}`);const n=await e.json();if(!n.mainGroup_id||!n.ingredients)throw new Error("Format de données Hugo invalide");return n}async function tl(t,e){if(!t)return!0;try{return(await el(e)).hugoContentHash!==t}catch(n){return console.warn("Impossible de vérifier le hash Hugo:",n),!1}}function ga(t,e){const n=pr(t.byDate),s=_s(bs([])),{numeric:r,display:i}=Is(n,s),a=Object.keys(t.byDate||{}),o=ha(a);return{$id:`${t.productSemanticKey}`,$updatedAt:void 0,productHugoUuid:t.ingredientHugoUuid,productName:t.ingredientName,productType:t.ingType,pFrais:t.pFrais||!1,pSurgel:t.pSurgel||!1,nbRecipes:t.nbRecipes,totalNeededRaw:t.totalNeededRaw,totalAssiettes:t.totalAssiettes,isSynced:!1,status:"active",who:null,store:"",stockReel:null,previousNames:null,isMerged:!1,mergedFrom:null,mergeDate:null,mergeReason:null,mergedInto:null,totalNeededOverride:null,mainId:e,purchases:[],byDate:t.byDate,storeInfo:null,stockParsed:null,totalNeededArray:n,totalPurchasesArray:s,missingQuantityArray:r,stockOrTotalPurchases:"-",displayTotalNeeded:Le(n),displayTotalPurchases:"-",displayMissingQuantity:i,totalNeededOverrideParsed:null,displayTotalOverride:"",dateDisplayInfo:o}}function nl(t,e){return t.map(n=>ga(n,e))}class sl{dbName;db=null;version=1;PRODUCTS_STORE="products";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";ALL_DATES_KEY="allDates";HUGO_HASH_KEY="hugoContentHash";constructor(e){this.dbName=`products-cache-${e}`}async open(){if(!this.db)return new Promise((e,n)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>n(s.error),s.onsuccess=()=>{this.db=s.result,console.log(`[IDBCache] Base ouverte: ${this.dbName}`),e()},s.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(this.PRODUCTS_STORE)||(i.createObjectStore(this.PRODUCTS_STORE,{keyPath:"$id"}),console.log("[IDBCache] Object store 'products' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[IDBCache] Object store 'metadata' créé avec keyPath"))}})}async loadProducts(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.PRODUCTS_STORE,"readonly").objectStore(this.PRODUCTS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.$id,o)}),console.log(`[IDBCache] ${a.size} produits chargés`),e(a)},i.onerror=()=>n(i.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,allDates:[],hugoContentHash:null};a.forEach(c=>{c.key===this.LAST_SYNC_KEY?o.lastSync=c.value:c.key===this.ALL_DATES_KEY?o.allDates=c.value||[]:c.key===this.HUGO_HASH_KEY&&(o.hugoContentHash=c.value)}),console.log(`[IDBCache] Metadata chargées: lastSync=${o.lastSync}, dates=${o.allDates?.length||0}, hash=${o.hugoContentHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveProducts(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.PRODUCTS_STORE,"readwrite"),i=r.objectStore(this.PRODUCTS_STORE);i.clear(),e.forEach(a=>{i.put(a)}),r.oncomplete=()=>{console.log(`[IDBCache] ${e.size} produits sauvegardés`),n()},r.onerror=()=>s(r.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.METADATA_STORE,"readwrite"),i=r.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.ALL_DATES_KEY,value:e.allDates}),e.hugoContentHash!==void 0&&i.put({key:this.HUGO_HASH_KEY,value:e.hugoContentHash}),r.oncomplete=()=>{console.log("[IDBCache] Metadata sauvegardées (objets {key, value})"),n()},r.onerror=()=>s(r.error)})}async updateLastSync(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.LAST_SYNC_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] lastSync mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async updateAllDates(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.ALL_DATES_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] allDates mis à jour: ${e.length} dates`),n()},a.onerror=()=>s(a.error)})}async updateHugoContentHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.HUGO_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[IDBCache] hugoContentHash mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async updateLastHugoMenuUpdate(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:"lastHugoMenuUpdate",value:e});a.onsuccess=()=>{console.log("[IDBCache] lastHugoMenuUpdate sauvegardé"),n()},a.onerror=()=>s(a.error)})}async upsertProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).put(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async deleteProduct(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.PRODUCTS_STORE,"readwrite").objectStore(this.PRODUCTS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const s=this.db.transaction([this.PRODUCTS_STORE,this.METADATA_STORE],"readwrite");s.objectStore(this.PRODUCTS_STORE).clear(),s.objectStore(this.METADATA_STORE).clear(),s.oncomplete=()=>{console.log("[IDBCache] Cache vidé"),e()},s.onerror=()=>n(s.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[IDBCache] Connexion fermée"))}}async function rl(t){const e=new sl(t);return await e.open(),e}function il(t){return!!(t.isMerged||t.totalNeededOverride)}function al(t,e){if(!t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++){const s=t[n],r=e[n];if(s.q!==r.q||s.u!==r.u)return!0}return!1}async function ol(t,e){const n={added:[],updated:[],removed:[],mergedProductsUpdated:[],overrideConflicts:[],summary:""},s=new Set;for(const r of e.ingredients){const i=r.productSemanticKey;if(!i){console.warn(`[syncHugoData] Ingrédient sans productSemanticKey ignoré : ${r.ingredientName}`);continue}s.add(i);const a=t.get(i);if(a){if(al(a.totalNeededRaw,r.totalNeededRaw)){const c=cl(a,r);if(c&&n.overrideConflicts.push(c),a.isMerged){const d=a.displayTotalNeeded;ei(a,r),n.mergedProductsUpdated.push({product:a,oldDisplayTotal:d,newDisplayTotal:a.displayTotalNeeded,currentOverride:a.totalNeededOverrideParsed,semanticKey:i})}else ei(a,r);n.updated.push(i)}t.set(i,a)}else{n.added.push(r);const o=ga(r,e.mainGroup_id);t.set(o.$id,o)}}for(const[r,i]of t)s.has(r)||(n.removed.push(i),!il(i)&&!i.purchases?.length&&!i.stockReel&&!i.who?.length&&t.delete(r));return n.overrideConflicts.length>0&&await ll(n.overrideConflicts),n.summary=ul(n),n}function cl(t,e){if(!t.totalNeededOverride||!t.totalNeededOverrideParsed)return null;const n=pr(e.byDate),s=Le(n),r=t.displayTotalNeeded;return r!==s?{product:t,oldDisplayTotal:r,newDisplayTotal:s,currentOverride:t.totalNeededOverrideParsed,semanticKey:t.$id}:null}async function ll(t){for(const e of t){const n={...e.currentOverride,hasUnresolvedChangedSinceOverride:!0,oldTotalDisplay:e.oldDisplayTotal,newTotalDisplay:e.newDisplayTotal};JSON.stringify(n);try{await la(e.product.$id,n,!1)}catch(s){console.error(`Erreur lors de la mise à jour de l'override pour ${e.product.$id}:`,s)}}}function ei(t,e){t.byDate=e.byDate,t.nbRecipes=e.nbRecipes,t.totalAssiettes=e.totalAssiettes,t.productType=e.ingType,t.pFrais=e.pFrais||!1,t.pSurgel=e.pSurgel||!1,dl(t)}function dl(t){t.totalNeededArray=pr(t.byDate),t.displayTotalNeeded=Le(t.totalNeededArray);const e=_s(bs(t.purchases)),{numeric:n,display:s}=Is(t.totalNeededArray,e);t.totalPurchasesArray=e,t.missingQuantityArray=n,t.displayMissingQuantity=s;const r=Object.keys(t.byDate||{});t.dateDisplayInfo=ha(r),t.stockOrTotalPurchases=t.purchases.length>0?t.displayTotalPurchases:t.displayTotalNeeded}function ul(t){const e=[];if((t.added.length>0||t.updated.length>0||t.removed.length>0)&&e.push("Les recettes ou menus ont été modifiés depuis votre dernière consultation: "),t.added.length>0&&e.push(`${t.added.length} nouveau(x) ingrédient(s)`),t.updated.length>0&&e.push(` ${t.updated.length} ingrédient(s) mis à jour`),t.overrideConflicts.length>0&&e.push(`⚠️ ${t.overrideConflicts.length} quantité(s) personnalisée(s) à réviser`),t.mergedProductsUpdated.length>0&&e.push(`🔀 ${t.mergedProductsUpdated.length} produit(s) fusionné(s) modifié(s)`),t.removed.length>0){const n=t.removed.filter(s=>s.purchases?.length||s.stockReel||s.who?.length).length;n>0?e.push(`⚠️ ${n} suppression(s) avec données conservées`):e.push(`${t.removed.length} ingrédient(s) supprimé(s)`)}return e.length>0?e.join(", "):"Aucune modification détectée"}async function ma(){try{const{teams:t}=await O();return await t.list()}catch(t){throw console.error("[teams] Error listing teams:",t),t}}async function fl(t){try{const{teams:e}=await O();return await e.get(t)}catch(e){throw console.error(`[teams] Error getting team ${t}:`,e),e}}async function pl(t,e){try{const{teams:n}=await O(),s=Vt.unique(),r=await n.create(s,t,e);return console.log(`[teams] Team created: ${s}`),r}catch(n){throw console.error("[teams] Error creating team:",n),n}}async function hl(t,e){try{const{teams:n}=await O(),s=await n.updateName(t,e);return console.log(`[teams] Team updated: ${t}`),s}catch(n){throw console.error(`[teams] Error updating team ${t}:`,n),n}}async function vl(t){try{const{teams:e}=await O();await e.delete(t),console.log(`[teams] Team deleted: ${t}`)}catch(e){throw console.error(`[teams] Error deleting team ${t}:`,e),e}}async function rn(t){try{const{teams:e}=await O();return await e.listMemberships(t)}catch(e){throw console.error(`[teams] Error listing members of team ${t}:`,e),e}}async function gl(t,e,n,s){try{const{teams:r}=await O(),i=await r.createMembership(t,n,e,void 0,void 0,s);return console.log(`[teams] Membership created for ${e} in team ${t}`),i}catch(r){throw console.error("[teams] Error creating membership:",r),r}}async function ml(t,e,n){try{const{teams:s}=await O(),r=await s.updateMembership(t,e,n);return console.log(`[teams] Membership ${e} roles updated`),r}catch(s){throw console.error("[teams] Error updating membership roles:",s),s}}async function yl(t,e){try{const{teams:n}=await O();await n.deleteMembership(t,e),console.log(`[teams] Membership ${e} deleted from team ${t}`)}catch(n){throw console.error("[teams] Error deleting membership:",n),n}}async function Os(){try{return(await ma()).teams.map(e=>e.$id)}catch(t){return console.warn("[teams] Impossible de récupérer les équipes (Appwrite pas encore initialisé?):",t),[]}}async function wl(t){try{return(await Os()).includes(t)}catch(e){return console.error("[teams] Error checking team membership:",e),!1}}class bl{isMobileQuery=new Ac("max-width: 1024px");#e=A(null);#t=A(de([]));#n=A(!1);#r=A(null);#o=A(!1);get user(){return l(this.#e)}get userId(){return l(this.#e)?.$id??null}get userTeams(){return l(this.#t)}get isAuthenticated(){return l(this.#e)!==null}get authLoading(){return l(this.#n)}get authError(){return l(this.#r)}get authInitialized(){return l(this.#o)}async initializeAuth(){if(l(this.#o)){console.log("[GlobalState] Authentification déjà initialisée");return}console.log("[GlobalState] Initialisation de l'authentification..."),h(this.#n,!0),h(this.#r,null);try{const{account:e}=await O();h(this.#e,await e.get(),!0),localStorage.setItem("appwrite-user-name",l(this.#e).name),localStorage.setItem("appwrite-user-email",l(this.#e).email),localStorage.setItem("appwrite-user-id",l(this.#e).$id),h(this.#t,await Os(),!0),console.log(`[GlobalState] Authentifié: ${l(this.#e).name} (${l(this.#t).length} équipes)`)}catch(e){h(this.#e,null),h(this.#t,[],!0),h(this.#r,e instanceof Error?e.message:"Erreur d'authentification",!0),console.log("[GlobalState] Utilisateur non connecté")}finally{h(this.#n,!1),h(this.#o,!0)}}async logout(){try{const{account:e}=await O();await e.deleteSession({sessionId:"current"}),zc(),localStorage.removeItem("appwrite-user-name"),localStorage.removeItem("appwrite-user-email"),localStorage.removeItem("appwrite-user-id"),h(this.#e,null),h(this.#t,[],!0),h(this.#o,!1),console.log("[GlobalState] Déconnexion réussie")}catch(e){throw console.error("[GlobalState] Erreur lors de la déconnexion:",e),e}}async refreshTeams(){if(!l(this.#e)){console.warn("[GlobalState] Impossible de rafraîchir les équipes: utilisateur non connecté");return}try{const e=await Os();(e.length>0||l(this.#t).length===0)&&(h(this.#t,e,!0),console.log(`[GlobalState] Équipes rafraîchies: ${l(this.#t).length}`))}catch(e){console.error("[GlobalState] Erreur lors du rafraîchissement des équipes:",e)}}get isMobile(){return this.isMobileQuery.current}get isDesktop(){return!this.isMobile}userName(){return l(this.#e)?.name||localStorage.getItem("appwrite-user-name")||""}get toasts(){return Ye.toasts}get toast(){return Ye}#c=A(de({isOpen:!1,conflicts:[]}));get modalOverride(){return l(this.#c)}set modalOverride(e){h(this.#c,e,!0)}#s=A(de({isOpen:!1}));get modal(){return l(this.#s)}set modal(e){h(this.#s,e,!0)}#l=A(de({isRunning:!1,name:"",progress:0}));get backgroundOperation(){return l(this.#l)}set backgroundOperation(e){h(this.#l,e,!0)}#d=A(de({isOpen:!1}));get authModal(){return l(this.#d)}set authModal(e){h(this.#d,e,!0)}}const ie=new bl;class Tn{#e=A(de({}));get data(){return l(this.#e)}set data(e){h(this.#e,e,!0)}dateStore;constructor(e,n){this.data=e,this.dateStore=n}update(e){this.data=e}get $id(){return this.data.$id}get productName(){return this.data.productName}get productType(){return this.data.productType}get storeInfo(){return this.data.storeInfo}get who(){return this.data.who}get pFrais(){return this.data.pFrais}get pSurgel(){return this.data.pSurgel}get status(){return this.data.status}get previousNames(){return this.data.previousNames}get purchases(){return this.data.purchases}get totalNeededOverrideParsed(){return this.data.totalNeededOverrideParsed}get displayMissingQuantity(){return this.data.displayMissingQuantity}get missingQuantityArray(){return this.data.missingQuantityArray}get isSynced(){return this.data.isSynced}get byDate(){return this.data.byDate}#t=H(()=>{const e=this.dateStore.current,n=this.dateStore.dates;let s;if(this.dateStore.isFullRange)s=Zc(this.data,n),s.datesInSelectedRange&&(s.datesInSelectedRange=s.datesInSelectedRange.filter(r=>this.data.byDate&&this.data.byDate[r]));else if(e.start&&e.end&&e.start===e.end)s=Yc(this.data,e.start);else if(e.start&&e.end)s=Oc(this.data,e.start,e.end);else return{quantities:[],formattedQuantities:"",nbRecipes:0,totalAssiettes:0,stockResult:[],availableQuantities:[],missingQuantities:[],formattedMissingQuantities:"",formattedAvailableQuantities:"En attente",hasAvailable:!1,hasMissing:!1,concernedDates:[],recipesByDate:new Map};return{quantities:s.requiredQuantities,formattedQuantities:s.requiredQuantitiesFormatted,nbRecipes:s.totalRecipesInRange,totalAssiettes:s.totalPortionsInRange,stockResult:s.stockBalance,availableQuantities:s.availableStockQuantities,missingQuantities:s.missingStockQuantities,formattedMissingQuantities:s.missingStockFormatted,formattedAvailableQuantities:s.availableStockFormatted,hasAvailable:s.hasAvailableStock,hasMissing:s.hasMissingStock,concernedDates:s.datesInSelectedRange,recipesByDate:s.recipesByDate}});get stats(){return l(this.#t)}set stats(e){h(this.#t,e)}}class _l{#e=A(de([]));#t=A(null);#n=A(null);constructor(e=[]){h(this.#e,e,!0),this.initializeSmartRange()}get start(){return l(this.#t)}get end(){return l(this.#n)}get dates(){return l(this.#e)}#r=H(()=>[...l(this.#e)].sort()[0]);get firstAvailableDate(){return l(this.#r)}set firstAvailableDate(e){h(this.#r,e)}#o=H(()=>[...l(this.#e)].sort()[l(this.#e).length-1]);get lastAvailableDate(){return l(this.#o)}set lastAvailableDate(e){h(this.#o,e)}get current(){return{start:l(this.#t),end:l(this.#n)}}#c=H(()=>{if(l(this.#e).length===0)return!0;const e=this.lastAvailableDate?new Date(this.lastAvailableDate):new Date;return e.setHours(23,59,59,999),e<new Date});get isEventPassed(){return l(this.#c)}set isEventPassed(e){h(this.#c,e)}#s=H(()=>{if(l(this.#e).length===0)return!1;const e=new Date;return e.setHours(0,0,0,0),l(this.#e).some(n=>new Date(n)>=e)});get hasUpcomingDates(){return l(this.#s)}set hasUpcomingDates(e){h(this.#s,e)}#l=H(()=>l(this.#t)===this.firstAvailableDate&&l(this.#n)===this.lastAvailableDate);get isFullRange(){return l(this.#l)}set isFullRange(e){h(this.#l,e)}#d=H(()=>{if(l(this.#e).length===0)return!1;const e=[...l(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const s=e.find(a=>new Date(a)>=n)||null;let r,i;if(s)r=s,i=e[e.length-1];else{const a=e[e.length-1];r=a,i=a}return l(this.#t)===r&&l(this.#n)===i});get isUpcomingRange(){return l(this.#d)}set isUpcomingRange(e){h(this.#d,e)}#u=H(()=>l(this.#e).length===1);get hasSingleDateEvent(){return l(this.#u)}set hasSingleDateEvent(e){h(this.#u,e)}#f=H(()=>!!(l(this.#t)&&l(this.#t)===l(this.#n)));get hasSingleDateInRange(){return l(this.#f)}set hasSingleDateInRange(e){h(this.#f,e)}#i=H(()=>{if(!l(this.#t)||!l(this.#n)||this.isEventPassed)return!1;const e=new Date;return e.setHours(0,0,0,0),new Date(l(this.#t))<e});get hasPastDatesInRange(){return l(this.#i)}set hasPastDatesInRange(e){h(this.#i,e)}setAvailableDates(e){h(this.#e,e,!0),this.initializeSmartRange()}setRange(e,n){if(!e&&!n){h(this.#t,null),h(this.#n,null);return}if(!e||!n){const i=e||n;h(this.#t,i,!0),h(this.#n,i,!0);return}const s=new Date(e)<=new Date(n)?e:n,r=new Date(e)>=new Date(n)?e:n;h(this.#t,s,!0),h(this.#n,r,!0)}selectAll(){l(this.#e).length!==0&&(h(this.#t,l(this.#e)[0],!0),h(this.#n,l(this.#e)[l(this.#e).length-1],!0))}selectUpcoming(){if(l(this.#e).length===0)return;const e=[...l(this.#e)].sort(),n=new Date;n.setHours(0,0,0,0);const s=e.find(r=>new Date(r)>=n)||null;if(s)h(this.#t,s,!0),h(this.#n,e[e.length-1],!0);else{const r=e[e.length-1];h(this.#t,r,!0),h(this.#n,r,!0)}}selectFutureDatesOnly(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const n=l(this.#e).filter(s=>new Date(s)>=e);n.length>0&&(h(this.#t,n[0],!0),h(this.#n,n[n.length-1],!0))}initializeSmartRange(){if(l(this.#e).length===0)return;const e=[...l(this.#e)].sort(),n=this.isEventPassed,s=new Date(e[0])<new Date,r=new Date;let i;n?i=e[0]:s?i=r.toISOString().slice(0,19)+"Z":i=e[0],h(this.#t,i,!0),h(this.#n,e[e.length-1],!0),console.log(`[DateRangeStore] Initialized: ${l(this.#t)} - ${l(this.#n)}`)}}const ti=1e3;class Il{#e=new It;#t=new It;#n=A(null);#r=A(null);#o=A(!1);#c=A(!1);#s=A(null);#l=A(!1);#d=A(!1);#u=A(null);#f=A(null);get currentMainId(){return l(this.#n)}dateStore=new _l;get dateRange(){return this.dateStore.current}get availableDates(){return this.dateStore.dates}get isEventPassed(){return this.dateStore.isEventPassed}get hasSingleDateEvent(){return this.dateStore.hasSingleDateEvent}get hasSingleDateInRange(){return this.dateStore.hasSingleDateInRange}get hasPastDatesInRange(){return this.dateStore.hasPastDatesInRange}#i=null;#p=null;#h=A(!1);#v=null;#w=A(!1);#b=A();#g=A(de([]));get hasPendingConflicts(){return l(this.#g).length>0}get pendingConflicts(){return l(this.#g)}#a=A(de({searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"}));get filters(){return l(this.#a)}get hasFilters(){return this.filters.searchQuery!==""||this.filters.selectedStores.length>0||this.filters.selectedWho.length>0||this.filters.selectedProductTypes.length>0||this.filters.selectedTemperatures.length>0}get loading(){return l(this.#c)}get error(){return l(this.#s)}get lastSync(){return l(this.#u)}get syncing(){return l(this.#l)}setDateRange(e,n){this.dateStore.setRange(e,n)}isFullRange(){return this.dateStore.isFullRange}initializeDateRange(){this.dateStore.initializeSmartRange()}selectUpcomingDates(){this.dateStore.selectUpcoming()}isUpcomingRange(){return this.dateStore.isUpcomingRange}get firstAvailableDate(){return this.dateStore.firstAvailableDate}get lastAvailableDate(){return this.dateStore.lastAvailableDate}selectFutureDatesOnly(){this.dateStore.selectFutureDatesOnly()}get realtimeConnected(){return l(this.#d)}#m=H(()=>{const e=Array.from(this.#e.values()).map(n=>n.data);return console.log(`[ProductsStore] enrichedProducts recalculated: ${e.length} products`),e});get enrichedProducts(){return l(this.#m)}set enrichedProducts(e){h(this.#m,e)}#y=H(()=>{if(console.log("[Store] Filtering products by date range (Map)"),!this.dateRange.start||!this.dateRange.end)return new Map;const e=new Date(this.dateRange.start),n=new Date(this.dateRange.end),s=new Map;for(const[r,i]of this.#e){const a=i.data,o=!a.productHugoUuid;if(!a.byDate&&!o||!xc(a,l(this.#a)))continue;let d=!1;a.byDate&&(d=Object.keys(a.byDate).some(u=>{const f=new Date(u);return f>=e&&f<=n})),(d||o)&&s.set(r,i)}return s});get filteredProductsMap(){return l(this.#y)}set filteredProductsMap(e){h(this.#y,e)}#E=H(()=>({total:this.#e.size,frais:Array.from(this.#e.values()).filter(e=>e.pFrais).length,surgel:Array.from(this.#e.values()).filter(e=>e.pSurgel).length,merged:Array.from(this.#e.values()).filter(e=>e.data.isMerged).length}));get stats(){return l(this.#E)}set stats(e){h(this.#E,e)}#A=H(()=>{const e=Array.from(this.#e.values()).map(n=>n.storeInfo?.storeName).filter(Boolean);return[...new Set(e)]});get uniqueStores(){return l(this.#A)}set uniqueStores(e){h(this.#A,e)}#R=H(()=>{const e=Array.from(this.#e.values()).flatMap(n=>n.who||[]);return[...new Set(e)]});get uniqueWho(){return l(this.#R)}set uniqueWho(e){h(this.#R,e)}#P=H(()=>{const e=Array.from(this.#e.values()).map(n=>n.productType).filter(Boolean);return[...new Set(e)]});get uniqueProductTypes(){return l(this.#P)}set uniqueProductTypes(e){h(this.#P,e)}#T=H(()=>{const n=Array.from(this.filteredProductsMap.values()).sort((a,o)=>a.$id.localeCompare(o.$id));if(l(this.#a).groupBy==="none")return{"":n};const s=Object.groupBy(n,a=>l(this.#a).groupBy==="store"?a.storeInfo?.storeName||"Non défini":a.productType||"Non défini"),r=Object.keys(s).sort((a,o)=>a===""?1:o===""?-1:a.localeCompare(o)),i={};return r.forEach(a=>{i[a]=s[a]}),i});get groupedFilteredProducts(){return l(this.#T)}set groupedFilteredProducts(e){h(this.#T,e)}async initialize(e,n){if(!e?.trim())throw new Error("mainId invalide fourni");if(l(this.#o)&&l(this.#n)===e){console.log(`[ProductsStore] Déjà initialisé pour mainId: ${e}`);return}console.log(`[ProductsStore] Initialisation avec mainId: ${e}`),h(this.#n,e,!0),h(this.#r,n,!0);try{this.#i=await rl(e)}catch(s){throw console.error("[ProductsStore] Erreur ouverture IndexedDB:",s),new Error("Impossible d'initialiser le cache IndexedDB")}h(this.#s,null);try{if(await this.#x(),this.#e.size===0){console.log("[ProductsStore] Cache vide, chargement depuis Hugo...");let r;r=await Fr(n),console.log(`[ProductsStore] Hugo chargé: ${r.ingredients.length} ingrédients`),h(this.#f,r.hugoContentHash,!0),nl(r.ingredients,e).forEach(o=>{this.#e.set(o.$id,new Tn(o,this.dateStore))}),this.dateStore.setAvailableDates([...r.allDates]),await fa(e)||await pa(r.mainGroup_id,r.hugoContentHash,r.allDates,r.name),await this.#M()}this.initializeDateRange(),await this.#q(),await this.#G(),h(this.#o,!0);const s=this.#V();this.#p=ua(e,s),this.#U(),console.log("[ProductsStore] Vérification initiale des changements Hugo..."),await this.#D(),console.log(`[ProductsStore] Initialisation complétée: ${this.#e.size} produits`)}catch(s){const r=s instanceof Error?s.message:"Erreur lors de l'initialisation";throw h(this.#s,r,!0),console.error("[ProductsStore]",r,s),s}}async#x(){if(this.#i)try{const e=await this.#i.loadProducts();e.forEach((s,r)=>{s.status==="isSyncing"&&(s.status="active"),this.#e.set(r,new Tn(s,this.dateStore))});const n=await this.#i.loadMetadata();h(this.#u,n.lastSync,!0),this.dateStore.setAvailableDates([...n.allDates]),h(this.#f,n.hugoContentHash||null,!0),console.log(`[ProductsStore] ${e.size} produits chargés du cache IDB, lastSync: ${n.lastSync}`)}catch(e){console.warn("[ProductsStore] Erreur lecture cache IDB, ignoré:",e)}}async#q(){if(l(this.#n)){h(this.#l,!0),console.log(`[ProductsStore] Début syncFromAppwrite pour mainId: ${l(this.#n)}`);try{console.log(`[ProductsStore] Récupération des produits modifiés depuis lastSync: ${l(this.#u)}`);const e=await oa(l(this.#n),{lastSync:l(this.#u),limit:ti});if(console.log(`[ProductsStore] ${e.length} produits récupérés depuis Appwrite`),e.forEach(n=>{const s=this.#e.get(n.$id);console.log(`[ProductsStore] Sync produit ${n.$id}: existing=${!!s}, who=${n.who}, store=${n.store}`);const r=this.#$(n,s?.data);r.isSynced=!0,s?s.update(r):this.#e.set(n.$id,new Tn(r,this.dateStore))}),l(this.#u)){console.log(`[ProductsStore] Récupération des purchases modifiés depuis lastSync: ${l(this.#u)}`);const{loadUpdatedPurchases:n}=await Nr(async()=>{const{loadUpdatedPurchases:r}=await Promise.resolve().then(()=>Or);return{loadUpdatedPurchases:r}},void 0),s=await n(l(this.#n),l(this.#u),ti);console.log(`[ProductsStore] ${s.length} purchases modifiés récupérés`),s.forEach(r=>{if(r.status==="expense")this.#t.set(r.$id,r);else if(r.products?.length){const i=r.products.map(a=>typeof a=="string"?a:a.$id);this.#S(i,r)}})}this.#C(),await this.#j(),console.log("[ProductsStore] SyncFromAppwrite terminé avec succès")}catch(e){throw console.error("[ProductsStore] Erreur lors du sync:",e),e}finally{h(this.#l,!1)}}}async#j(){if(this.#i)try{const e=new Map;this.#e.forEach((n,s)=>{const r=nn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#i.saveProducts(e),await this.#i.saveMetadata({lastSync:l(this.#u),allDates:[...this.dateStore.dates],hugoContentHash:l(this.#f)}),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#K(){if(this.#i)try{const e=new Map;this.#e.forEach((n,s)=>{const r=nn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#i.saveProducts(e),await this.#i.updateLastSync(l(this.#u)),console.log("[ProductsStore] Cache IDB persisté")}catch(e){console.error("[ProductsStore] Erreur persist cache IDB:",e)}}async#M(){if(this.#i)try{const e=new Map;this.#e.forEach((n,s)=>{const r=nn(n.data);r.status==="isSyncing"&&(r.status="active"),e.set(s,r)}),await this.#i.saveProducts(e),await this.#i.updateLastSync(l(this.#u)),await this.#i.updateAllDates([...this.availableDates]),await this.#i.updateHugoContentHash(l(this.#f)),console.log("[ProductsStore] Cache IDB persisté avec métadonnées complètes")}catch(e){console.error("[ProductsStore] Erreur persistance cache complet:",e)}}async#I(e){if(!(!this.#i||e.length===0))try{const n=e.map(s=>this.#e.get(s)?.data).filter(s=>s!=null).map(s=>{const r=nn(s);return r.status==="isSyncing"&&(r.status="active"),this.#i.upsertProduct(r)});n.length>0&&(await Promise.all(n),console.log(`[ProductsStore] ${n.length} produits affectés persistés`))}catch(n){console.error("[ProductsStore] Erreur persistence produits affectés:",n)}}#C(){h(this.#u,new Date().toISOString(),!0)}async#D(){if(!l(this.#r)||l(this.#c))return!1;try{const e=await tl(l(this.#f),l(this.#r));return e&&!l(this.#h)&&(console.log(`[ProductsStore] Changement Hugo détecté pour ${l(this.#r)}, analyse approfondie en cours...`),h(this.#h,!0),await this.#N()),h(this.#b,new Date,!0),e}catch(e){return console.warn("[ProductsStore] Erreur lors de la vérification du contenu Hugo:",e),!1}}async#N(){if(!l(this.#r)){console.warn("[ProductsStore] Impossible d'analyser: #hugoMetadata non défini");return}try{console.log("[ProductsStore] Chargement nouveau JSON Hugo...");const e=await Fr(l(this.#r)),n=new Map;this.#e.forEach((i,a)=>n.set(a,i.data));const s=await ol(n,e);console.log(`[ProductsStore  - hugo change] ${s.summary}`);for(const[i,a]of n){const o=this.#e.get(i);if(o)o.update(a);else{const c=new Tn(a,this.dateStore);this.#e.set(i,c),console.log(`[ProductsStore] ✨ Nouveau ProductModel créé : ${i}`)}}const r=[];for(const[i]of this.#e)n.has(i)||r.push(i);for(const i of r)this.#e.delete(i),console.log(`[ProductsStore] 🗑️ ProductModel supprimé : ${i}`);if(console.log(`[ProductsStore] 🔄 Synchronisation terminée : ${n.size} produits synchronisés, ${this.#e.size} ProductModel actifs`),s.overrideConflicts.length>0&&(h(this.#g,s.overrideConflicts,!0),Ye.error(`${s.overrideConflicts.length} quantité(s) personnalisée(s) nécessitent votre attention`,{action:{label:"Réviser",onClick:()=>ie.modalOverride.isOpen=!0}})),s.mergedProductsUpdated.length>0&&console.log(`[ProductsStore] ⚠️ ${s.mergedProductsUpdated.length} produits fusionnés modifiés`),s.removed.length>0){const i=s.removed.filter(a=>a.purchases?.length||a.stockReel||a.who?.length);i.length>0&&console.log(`[ProductsStore] ℹ️ ${i.length} ingrédients supprimés conservés (données utilisateur)`)}this.dateStore.setAvailableDates([...e.allDates]),h(this.#f,e.hugoContentHash,!0),this.initializeDateRange(),await this.#M(),(s.added.length||s.updated.length||s.removed.length)&&Ye.success(s.summary),h(this.#h,!1)}catch(e){console.error("[ProductsStore] Erreur sync Hugo:",e),Ye.error("Erreur lors de la mise à jour Hugo")}}#U(){this.#v&&clearInterval(this.#v),this.#v=setInterval(async()=>{await this.#D()},6e4)}#L(){this.#v&&(clearInterval(this.#v),this.#v=null)}#$(e,n){return n?ts(e,n):qc(e)}#Y(e){e.length&&(e.forEach(n=>this.#_(n)),console.log(`[ProductsStore] ${e.length} produits upserted`))}#_(e){const n=this.#e.get(e.$id),s=this.#$(e,n?.data);n?n.update(s):(this.dateStore.dates,this.#e.set(e.$id,new Tn(s,this.dateStore)))}#H(e){this.#e.delete(e)}async#B(e){if(!e.products?.length)return console.warn("[ProductsStore] Purchase créé sans products:",e.$id),[];const n=e.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#Q(n,e),n}async#z(e){if(e.products?.length){const n=e.products.map(s=>typeof s=="string"?s:s.$id).filter(Boolean);return this.#S(n,e),n}console.log("[ProductsStore] Purchase update sans products[], rechargement...");try{const[n]=await da([e.$id]);if(n?.products?.length){const s=n.products.map(r=>typeof r=="string"?r:r.$id).filter(Boolean);return this.#S(s,n),s}return[]}catch(n){return console.error("[ProductsStore] Erreur rechargement purchase:",n),[]}}async#W(e){const n=Array.from(this.#e.values()).map(s=>s.data).filter(s=>s.purchases?.some(r=>r.$id===e));return n.forEach(s=>{this.#_(s)}),n.map(s=>s.$id)}#Q(e,n){const s=Ur(n),r=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,c=o.purchases||[];if(!c.some(d=>d.$id===s.$id)){const d=ts({...o,purchases:[...c,s],status:"active"},o);r.push(d)}}}),r.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#S(e,n){const s=Ur(n),r=[];e.forEach(i=>{const a=this.#e.get(i);if(a){const o=a.data,c=o.purchases||[],d=c.findIndex(u=>u.$id===s.$id);if(d>=0){const u=[...c];u[d]=s;const f=ts({...o,purchases:u,status:"active"},o);r.push(f)}else{const u=ts({...o,purchases:[...c,n],status:"active"},o);r.push(u)}}}),r.forEach(i=>{const a=this.#e.get(i.$id);a&&a.update(i)})}#V(){return{onProductCreate:e=>{if(this.#_(e),this.#i){const n=this.#e.get(e.$id);n&&this.#i.upsertProduct(nn(n.data)).catch(s=>console.error("[ProductsStore] Erreur persistence produit:",s))}},onProductUpdate:e=>{if(this.#_(e),this.#i){const n=this.#e.get(e.$id);n&&this.#i.upsertProduct(nn(n.data)).catch(s=>console.error("[ProductsStore] Erreur persistence produit:",s))}},onProductDelete:e=>{this.#H(e),this.#i&&this.#i.deleteProduct(e).catch(n=>console.error("[ProductsStore] Erreur suppression produit:",n))},onPurchaseCreate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}const n=await this.#B(e);await this.#I(n)},onPurchaseUpdate:async e=>{if(e.status==="expense"){this.#t.set(e.$id,e);return}this.#t.has(e.$id)&&this.#t.delete(e.$id);const n=await this.#z(e);await this.#I(n)},onPurchaseDelete:async e=>{if(this.#t.has(e)){this.#t.delete(e);return}const n=await this.#W(e);await this.#I(n)},onConnect:()=>{h(this.#d,!0)},onDisconnect:()=>{h(this.#d,!1)},onError:e=>{console.error("[ProductsStore] Erreur realtime:",e)}}}setSearchQuery=$c(e=>{l(this.#a).searchQuery=e},()=>500);toggleProductType(e){const n=l(this.#a).selectedProductTypes.indexOf(e);n>-1?l(this.#a).selectedProductTypes.splice(n,1):l(this.#a).selectedProductTypes.push(e)}toggleTemperature(e){const n=l(this.#a).selectedTemperatures.indexOf(e);n>-1?l(this.#a).selectedTemperatures.splice(n,1):l(this.#a).selectedTemperatures.push(e)}clearTypeAndTemperatureFilters(){l(this.#a).selectedProductTypes=[],l(this.#a).selectedTemperatures=[]}setGroupBy(e){l(this.#a).groupBy=e}toggleStore(e){const n=l(this.#a).selectedStores.indexOf(e);n>-1?l(this.#a).selectedStores.splice(n,1):l(this.#a).selectedStores.push(e)}toggleWho(e){const n=l(this.#a).selectedWho.indexOf(e);n>-1?l(this.#a).selectedWho.splice(n,1):l(this.#a).selectedWho.push(e)}clearStoreFilters(){l(this.#a).selectedStores=[]}clearWhoFilters(){l(this.#a).selectedWho=[]}handleSort(e){l(this.#a).sortColumn===e?l(this.#a).sortDirection=l(this.#a).sortDirection==="asc"?"desc":"asc":(l(this.#a).sortColumn=e,l(this.#a).sortDirection="asc")}clearFilters(){h(this.#a,{searchQuery:"",selectedStores:[],selectedWho:[],selectedProductTypes:[],selectedTemperatures:[],groupBy:"productType",sortColumn:"",sortDirection:"asc"},!0)}sortProducts(e){return l(this.#a).sortColumn?[...e].sort((n,s)=>{let r=n[l(this.#a).sortColumn],i=s[l(this.#a).sortColumn];return l(this.#a).sortColumn==="totalNeededConsolidated"?(r=parseFloat(r)||0,i=parseFloat(i)||0):l(this.#a).sortColumn==="purchases"&&(r=n.purchases?.length||0,i=s.purchases?.length||0),r<i?l(this.#a).sortDirection==="asc"?-1:1:r>i?l(this.#a).sortDirection==="asc"?1:-1:0}):e}getEnrichedProductById(e){return this.#e.get(e)?.data??null}getProductModelById(e){return this.#e.get(e)??null}hasConversions(e){const n=this.#e.get(e)?.data;return n?.byDate?kc(n.byDate):!1}async forceReload(e,n){await this.clearCache(),await this.initialize(e,n)}async clearCache(){this.#e.clear(),h(this.#u,null),this.#i&&await this.#i.clear(),console.log("[ProductsStore] Cache vidé")}setSyncStatus(e,n){const s=n?"isSyncing":"active";e.forEach(r=>{const i=this.#e.get(r);if(i){const a={...i.data,status:s};i.update(a)}}),console.log(`[ProductsStore] Statut de synchronisation mis à jour: ${e.length} produits → ${s}`)}clearSyncStatus(){const e=[];for(const[n,s]of this.#e)s.status==="isSyncing"&&e.push(n);e.length>0&&(this.setSyncStatus(e,!1),console.log(`[ProductsStore] Nettoyage de ${e.length} produits en statut "isSyncing"`))}destroy(){this.#p?.(),this.#p=null,this.#L(),this.#i&&(this.#i.close(),this.#i=null),console.log("[ProductsStore] Ressources nettoyées")}async#G(){if(l(this.#n))try{const{loadOrphanPurchases:e}=await Nr(async()=>{const{loadOrphanPurchases:s}=await Promise.resolve().then(()=>Or);return{loadOrphanPurchases:s}},void 0),n=await e(l(this.#n));n.forEach(s=>{this.#t.set(s.$id,s)}),console.log(`[ProductsStore] ${n.length} dépenses globales chargées`)}catch(e){console.error("[ProductsStore] Erreur chargement dépenses globales:",e)}}#k=H(()=>{let e=0;const n={},s={},r=[];for(const i of this.#t.values()){const a=i.invoiceTotal||i.price||0;e+=a;const o=i.store||"Non défini";n[o]=(n[o]||0)+a;const c=i.who||"Non défini";s[c]=(s[c]||0)+a,r.push(i)}for(const i of this.#e.values()){const a=i.data;if(a.purchases&&a.purchases.length>0){for(const o of a.purchases)if(o.price){e+=o.price;const c=o.store||"Non défini";n[c]=(n[c]||0)+o.price;const d=o.who||"Non défini";s[d]=(s[d]||0)+o.price;const u={...o,_productName:a.productName};r.push(u)}}}return r.sort((i,a)=>{const o=new Date(i.orderDate||i.$createdAt).getTime();return new Date(a.orderDate||a.$createdAt).getTime()-o}),{totalGlobal:e,byStore:n,byWho:s,allPurchases:r}});get financialStats(){return l(this.#k)}set financialStats(e){h(this.#k,e)}}const Sl=new Il;let Fs=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const mn="main";async function El(t,e){try{const{tables:n,config:s}=await O();return(await n.listRows(s.databaseId,mn)).rows.filter(i=>i.createdBy===t||i.contributors?.includes(t)||i.teams?.some(a=>e.includes(a)))}catch(n){throw console.error("[appwrite-events] Error listing events:",n),n}}async function Vn(t){try{const{tables:e,config:n}=await O();return await e.getRow(n.databaseId,mn,t)}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-events] Error getting event ${t}:`,e),e}}async function Al(t,e){try{const{tables:n,config:s}=await O(),r=Vt.unique(),i=[Re.read(He.user(e)),Re.update(He.user(e)),Re.delete(He.user(e))];t.contributors&&t.contributors.forEach(o=>{i.push(Re.read(He.user(o))),i.push(Re.update(He.user(o)))}),t.teams&&t.teams.forEach(o=>{i.push(Re.read(He.team(o))),i.push(Re.update(He.team(o)))});const a=await n.createRow(s.databaseId,mn,r,{name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,allDates:t.allDates,meals:t.meals?JSON.stringify(t.meals):void 0,createdBy:e,teams:t.teams??[],contributors:t.contributors??[]},i);return console.log(`[appwrite-events] Event created: ${r}`),a}catch(n){throw console.error("[appwrite-events] Error creating event:",n),n}}async function Ss(t,e){try{const{tables:n,config:s}=await O(),r={...e};e.meals&&(r.meals=JSON.stringify(e.meals)),e.allDates&&(r.allDates=e.allDates);const i=await n.updateRow(s.databaseId,mn,t,r);return console.log(`[appwrite-events] Event updated: ${t}`),i}catch(n){throw console.error(`[appwrite-events] Error updating event ${t}:`,n),n}}async function Rl(t){try{const{tables:e,config:n}=await O();await e.deleteRow(n.databaseId,mn,t),console.log(`[appwrite-events] Event deleted: ${t}`)}catch(e){throw console.error(`[appwrite-events] Error deleting event ${t}:`,e),e}}function Gn(t){if(!t.meals)return[];try{return JSON.parse(t.meals).map(n=>n.id?n:{...n,id:Fs(6)})}catch(e){return console.error("[appwrite-events] Error parsing meals:",e),[]}}async function Pl(t,e){const n=await Vn(t);if(!n)throw new Error(`Event ${t} not found`);const s=Gn(n);return s.push(e),await Ss(t,{meals:s})}async function Tl(t,e,n){const s=await Vn(t);if(!s)throw new Error(`Event ${t} not found`);const r=Gn(s);if(e<0||e>=r.length)throw new Error(`Meal index ${e} out of bounds`);return r[e]=n,await Ss(t,{meals:r})}async function Ml(t,e){const n=await Vn(t);if(!n)throw new Error(`Event ${t} not found`);const s=Gn(n);if(e<0||e>=s.length)throw new Error(`Meal index ${e} out of bounds`);return s.splice(e,1),await Ss(t,{meals:s})}async function Dl(t,e,n){const{config:s}=await O(),r=`databases.${s.databaseId}.collections.${mn}.documents`;return aa([r],async i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let c="update";i.events.some(d=>d.includes(".create"))?c="create":i.events.some(d=>d.includes(".delete"))&&(c="delete"),n(a,c)})}class $l{#e=new It;#t=A(!1);#n=A(null);#r=A(!1);#o=null;#c=[];#s=null;get loading(){return l(this.#t)}get error(){return l(this.#n)}get isInitialized(){return l(this.#r)}get events(){return Array.from(this.#e.values())}get count(){return this.#e.size}async initialize(){if(l(this.#r)){console.log("[EventsStore] Déjà initialisé");return}console.log("[EventsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!ie.isAuthenticated)throw new Error("Utilisateur non connecté");this.#o=ie.userId,this.#c=ie.userTeams,await this.#l(),this.#d(),h(this.#r,!0),console.log(`[EventsStore] Initialisation complétée: ${this.#e.size} événements`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}async#l(){try{console.log("[EventsStore] Chargement des événements...");const e=await El(this.#o,this.#c);e.forEach(n=>{this.#e.set(n.$id,n)}),console.log(`[EventsStore] ${e.length} événements chargés`)}catch(e){throw console.error("[EventsStore] Erreur lors du chargement:",e),e}}#d(){try{this.#s=Dl(this.#o,this.#c,(e,n)=>{console.log(`[EventsStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?this.#e.set(e.$id,e):n==="delete"&&this.#e.delete(e.$id)}),console.log("[EventsStore] Realtime activé")}catch(e){console.error("[EventsStore] Erreur lors de la configuration du realtime:",e)}}getEventById(e){return this.#e.get(e)||null}async fetchEvent(e){try{const n=await Vn(e);return n&&this.#e.set(e,n),n}catch(n){return console.error(`[EventsStore] Erreur lors du fetch de ${e}:`,n),null}}getEventsByDateRange(e,n){return this.events.filter(s=>s.dateStart&&s.dateEnd&&s.dateStart>=e&&s.dateEnd<=n)}canEditEvent(e){if(!this.#o)return!1;const n=this.#e.get(e);return n?n.createdBy===this.#o||!!n.teams?.some(s=>this.#c.includes(s)):!1}async createEvent(e){if(!this.#o)throw new Error("Utilisateur non connecté");try{const n=await Al(e,this.#o);return this.#e.set(n.$id,n),console.log(`[EventsStore] Événement créé: ${n.$id}`),n}catch(n){throw console.error("[EventsStore] Erreur lors de la création:",n),n}}async updateEvent(e,n){try{const s=await Ss(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Événement mis à jour: ${e}`),s}catch(s){throw console.error(`[EventsStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteEvent(e){try{await Rl(e),this.#e.delete(e),console.log(`[EventsStore] Événement supprimé: ${e}`)}catch(n){throw console.error(`[EventsStore] Erreur lors de la suppression de ${e}:`,n),n}}getMeals(e){const n=this.#e.get(e);return n?Gn(n):[]}async addMeal(e,n){try{const s=await Pl(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Meal ajouté à ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de l'ajout du meal:",s),s}}async updateMeal(e,n,s){try{const r=await Tl(e,n,s);return this.#e.set(e,r),console.log(`[EventsStore] Meal ${n} mis à jour dans ${e}`),r}catch(r){throw console.error("[EventsStore] Erreur lors de la mise à jour du meal:",r),r}}async deleteMeal(e,n){try{const s=await Ml(e,n);return this.#e.set(e,s),console.log(`[EventsStore] Meal ${n} supprimé de ${e}`),s}catch(s){throw console.error("[EventsStore] Erreur lors de la suppression du meal:",s),s}}calculateScaleFactor(e,n){return e/n}async reload(){console.log("[EventsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#l(),console.log("[EventsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,n,!0),console.error("[EventsStore]",n,e),e}finally{h(this.#t,!1)}}destroy(){this.#s&&(this.#s(),this.#s=null),this.#e.clear(),h(this.#r,!1),console.log("[EventsStore] Ressources nettoyées")}}const pt=new $l;class kl{#e=new It;#t=A(!1);#n=A(null);#r=A(!1);get loading(){return l(this.#t)}get error(){return l(this.#n)}get isInitialized(){return l(this.#r)}get teams(){return Array.from(this.#e.values())}get teamIds(){return Array.from(this.#e.keys())}get count(){return this.#e.size}async initialize(){if(l(this.#r)){console.log("[TeamsStore] Déjà initialisé");return}console.log("[TeamsStore] Initialisation..."),h(this.#t,!0),h(this.#n,null);try{if(!ie.userId){console.log("[TeamsStore] Utilisateur non connecté"),h(this.#r,!0);return}await this.#o(),h(this.#r,!0),console.log(`[TeamsStore] Initialisation complétée: ${this.#e.size} équipes`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#n,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#t,!1)}}async#o(){try{console.log("[TeamsStore] Chargement des équipes...");const e=await ma();for(const n of e.teams)try{const s=await rn(n.$id);this.#e.set(n.$id,{...n,members:s})}catch(s){console.error(`[TeamsStore] Erreur lors du chargement des membres de ${n.$id}:`,s),this.#e.set(n.$id,n)}console.log(`[TeamsStore] ${this.#e.size} équipes chargées`)}catch(e){throw console.error("[TeamsStore] Erreur lors du chargement:",e),e}}getTeamById(e){return this.#e.get(e)||null}async fetchTeam(e){try{const n=await fl(e);if(n){const s=await rn(e),r={...n,members:s};return this.#e.set(e,r),r}return null}catch(n){return console.error(`[TeamsStore] Erreur lors du fetch de ${e}:`,n),null}}async isMemberOf(e){return await wl(e)}getTeamMembers(e){return this.#e.get(e)?.members}async createTeam(e,n){if(!ie.userId)throw new Error("Utilisateur non connecté");try{const s=await pl(e,n),r=await rn(s.$id),i={...s,members:r};return this.#e.set(s.$id,i),console.log(`[TeamsStore] Équipe créée: ${s.$id}`),i}catch(s){throw console.error("[TeamsStore] Erreur lors de la création:",s),s}}async updateTeam(e,n){try{const s=await hl(e,n),r=this.#e.get(e),i={...s,members:r?.members};return this.#e.set(e,i),console.log(`[TeamsStore] Équipe mise à jour: ${e}`),i}catch(s){throw console.error(`[TeamsStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteTeam(e){try{await vl(e),this.#e.delete(e),console.log(`[TeamsStore] Équipe supprimée: ${e}`)}catch(n){throw console.error(`[TeamsStore] Erreur lors de la suppression de ${e}:`,n),n}}async inviteMember(e,n,s,r){try{await gl(e,n,s,r);const i=await rn(e),a=this.#e.get(e);a&&this.#e.set(e,{...a,members:i}),console.log(`[TeamsStore] Membre invité dans ${e}`)}catch(i){throw console.error("[TeamsStore] Erreur lors de l'invitation:",i),i}}async updateMemberRoles(e,n,s){try{await ml(e,n,s);const r=await rn(e),i=this.#e.get(e);i&&this.#e.set(e,{...i,members:r}),console.log(`[TeamsStore] Rôles mis à jour pour ${n}`)}catch(r){throw console.error("[TeamsStore] Erreur lors de la mise à jour des rôles:",r),r}}async removeMember(e,n){try{await yl(e,n);const s=await rn(e),r=this.#e.get(e);r&&this.#e.set(e,{...r,members:s}),console.log(`[TeamsStore] Membre ${n} supprimé de ${e}`)}catch(s){throw console.error("[TeamsStore] Erreur lors de la suppression du membre:",s),s}}async reload(){console.log("[TeamsStore] Rechargement..."),h(this.#t,!0),h(this.#n,null);try{this.#e.clear(),await this.#o(),console.log("[TeamsStore] Rechargement complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#n,n,!0),console.error("[TeamsStore]",n,e),e}finally{h(this.#t,!1)}}destroy(){this.#e.clear(),h(this.#r,!1),console.log("[TeamsStore] Ressources nettoyées")}}const er=new kl;class xl{dbName="recipes-cache";db=null;version=1;RECIPES_INDEX_STORE="recipes-index";RECIPES_DETAILS_STORE="recipes-details";METADATA_STORE="metadata";LAST_SYNC_KEY="lastSync";INDEX_HASH_KEY="indexHash";RECIPES_COUNT_KEY="recipesCount";async open(){if(!this.db)return new Promise((e,n)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>n(s.error),s.onsuccess=()=>{this.db=s.result,console.log(`[RecipesIDBCache] Base ouverte: ${this.dbName}`),e()},s.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(this.RECIPES_INDEX_STORE)||(i.createObjectStore(this.RECIPES_INDEX_STORE,{keyPath:"u"}),console.log("[RecipesIDBCache] Object store 'recipes-index' créé")),i.objectStoreNames.contains(this.RECIPES_DETAILS_STORE)||(i.createObjectStore(this.RECIPES_DETAILS_STORE,{keyPath:"uuid"}),console.log("[RecipesIDBCache] Object store 'recipes-details' créé")),i.objectStoreNames.contains(this.METADATA_STORE)||(i.createObjectStore(this.METADATA_STORE,{keyPath:"key"}),console.log("[RecipesIDBCache] Object store 'metadata' créé"))}})}async loadRecipesIndex(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_INDEX_STORE,"readonly").objectStore(this.RECIPES_INDEX_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.u,o)}),console.log(`[RecipesIDBCache] ${a.size} recettes (index) chargées`),e(a)},i.onerror=()=>n(i.error)})}async saveRecipesIndex(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.RECIPES_INDEX_STORE,"readwrite"),i=r.objectStore(this.RECIPES_INDEX_STORE);i.clear(),e.forEach(a=>{i.put(a)}),r.oncomplete=()=>{console.log(`[RecipesIDBCache] ${e.size} recettes (index) sauvegardées`),n()},r.onerror=()=>s(r.error)})}async loadRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).get(e);a.onsuccess=()=>{const o=a.result;o&&console.log(`[RecipesIDBCache] Détails de ${e} chargés depuis le cache`),n(o||null)},a.onerror=()=>s(a.error)})}async saveRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).put(e);a.onsuccess=()=>{console.log(`[RecipesIDBCache] Détails de ${e.uuid} sauvegardés`),n()},a.onerror=()=>s(a.error)})}async loadAllRecipeDetails(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.RECIPES_DETAILS_STORE,"readonly").objectStore(this.RECIPES_DETAILS_STORE).getAll();i.onsuccess=()=>{const a=new Map;i.result.forEach(o=>{a.set(o.uuid,o)}),console.log(`[RecipesIDBCache] ${a.size} détails de recettes chargés`),e(a)},i.onerror=()=>n(i.error)})}async deleteRecipeDetail(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.RECIPES_DETAILS_STORE,"readwrite").objectStore(this.RECIPES_DETAILS_STORE).delete(e);a.onsuccess=()=>n(),a.onerror=()=>s(a.error)})}async loadMetadata(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const i=this.db.transaction(this.METADATA_STORE,"readonly").objectStore(this.METADATA_STORE).getAll();i.onsuccess=()=>{const a=i.result,o={lastSync:null,indexHash:null,recipesCount:0};a.forEach(c=>{c.key===this.LAST_SYNC_KEY?o.lastSync=c.value:c.key===this.INDEX_HASH_KEY?o.indexHash=c.value:c.key===this.RECIPES_COUNT_KEY&&(o.recipesCount=c.value)}),console.log(`[RecipesIDBCache] Metadata chargées: count=${o.recipesCount}, hash=${o.indexHash}`),e(o)},i.onerror=()=>n(i.error)})}async saveMetadata(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const r=this.db.transaction(this.METADATA_STORE,"readwrite"),i=r.objectStore(this.METADATA_STORE);i.put({key:this.LAST_SYNC_KEY,value:e.lastSync}),i.put({key:this.INDEX_HASH_KEY,value:e.indexHash}),i.put({key:this.RECIPES_COUNT_KEY,value:e.recipesCount}),r.oncomplete=()=>{console.log("[RecipesIDBCache] Metadata sauvegardées"),n()},r.onerror=()=>s(r.error)})}async updateIndexHash(e){if(!this.db)throw new Error("DB non ouverte");return new Promise((n,s)=>{const a=this.db.transaction(this.METADATA_STORE,"readwrite").objectStore(this.METADATA_STORE).put({key:this.INDEX_HASH_KEY,value:e});a.onsuccess=()=>{console.log(`[RecipesIDBCache] indexHash mis à jour: ${e}`),n()},a.onerror=()=>s(a.error)})}async clear(){if(!this.db)throw new Error("DB non ouverte");return new Promise((e,n)=>{const s=this.db.transaction([this.RECIPES_INDEX_STORE,this.RECIPES_DETAILS_STORE,this.METADATA_STORE],"readwrite");s.objectStore(this.RECIPES_INDEX_STORE).clear(),s.objectStore(this.RECIPES_DETAILS_STORE).clear(),s.objectStore(this.METADATA_STORE).clear(),s.oncomplete=()=>{console.log("[RecipesIDBCache] Cache vidé"),e()},s.onerror=()=>n(s.error)})}close(){this.db&&(this.db.close(),this.db=null,console.log("[RecipesIDBCache] Connexion fermée"))}}async function ql(){const t=new xl;return await t.open(),t}function jl(t){if(!Array.isArray(t)||t.length<8)throw new Error(`Format d'ingrédient invalide: ${JSON.stringify(t)}`);return{uuid:t[0],originalQuantity:t[1],originalUnit:t[2],normalizedQuantity:t[3],normalizedUnit:t[4],comment:t[5]||"",allergens:Array.isArray(t[6])?t[6]:[],type:t[7]||""}}function Cl(t){if(!t||typeof t!="object")throw new Error("Données de recette invalides");const e=[];return Array.isArray(t.ingredients)&&t.ingredients.forEach(n=>{try{e.push(jl(n))}catch(s){console.warn("[parseRecipeData] Ingrédient invalide ignoré:",s)}}),{uuid:t.uuid||"",title:t.title||"",plate:t.plate||1,ingredients:e,preparation:t.preparation||""}}const yn="recettes";async function ni(){try{const{tables:t,config:e}=await O(),n=[_.equal("isPublished",!1)];return(await t.listRows(e.databaseId,yn,n)).rows}catch(t){throw console.error("[appwrite-recipes] Error listing all recipes:",t),t}}async function si(t){try{const{tables:e,config:n}=await O();return await e.getRow(n.databaseId,yn,t)}catch(e){if(e.code===404)return null;throw console.error(`[appwrite-recipes] Error getting recipe ${t}:`,e),e}}async function Nl(t,e){try{const{tables:n,config:s}=await O(),r=Vt.unique(),i=[Re.read(He.user(e)),Re.update(He.user(e)),Re.delete(He.user(e))];t.contributors&&t.contributors.forEach(o=>{i.push(Re.read(He.user(o))),i.push(Re.update(He.user(o)))}),t.teams&&t.teams.forEach(o=>{i.push(Re.read(He.team(o))),i.push(Re.update(He.team(o)))});const a=await n.createRow(s.databaseId,yn,r,{title:t.title,plate:t.plate,ingredients:t.ingredients,preparation:t.preparation,draft:t.draft??!0,typeR:t.typeR,categories:t.categories??[],regime:t.regime??[],isPublished:!1,createdBy:e,teams:t.teams??[],contributors:t.contributors??[]},i);return console.log(`[appwrite-recipes] Recipe created: ${r}`),a}catch(n){throw console.error("[appwrite-recipes] Error creating recipe:",n),n}}async function ya(t,e){try{const{tables:n,config:s}=await O(),r=await n.updateRow(s.databaseId,yn,t,e);return console.log(`[appwrite-recipes] Recipe updated: ${t}`),r}catch(n){throw console.error(`[appwrite-recipes] Error updating recipe ${t}:`,n),n}}async function Ul(t){try{const{tables:e,config:n}=await O();await e.deleteRow(n.databaseId,yn,t),console.log(`[appwrite-recipes] Recipe deleted: ${t}`)}catch(e){throw console.error(`[appwrite-recipes] Error deleting recipe ${t}:`,e),e}}async function Ll(t,e){return await ya(t,{isPublished:!0,publishedAt:new Date().toISOString()})}function Hl(t,e,n){const r=`databases.${Wc().APPWRITE_CONFIG.databaseId}.collections.${yn}.documents`;return aa([r],i=>{const a=i.payload;if(!(a.createdBy===t||a.contributors?.includes(t)||a.teams?.some(d=>e.includes(d))))return;let c="update";i.events.some(d=>d.includes(".create"))?c="create":i.events.some(d=>d.includes(".delete"))&&(c="delete"),n(a,c)})}const Bl="/api/data.json";class zl{#e=new It;#t=new It;#n=A(!1);#r=A(null);#o=A(null);#c=A(!1);#s=null;#l=new Set;#d=null;get loading(){return l(this.#n)}get error(){return l(this.#r)}get lastSync(){return l(this.#o)}get isInitialized(){return l(this.#c)}get recipesIndex(){return Array.from(this.#e.values())}get count(){return this.#e.size}get detailsLoadedCount(){return this.#t.size}async initialize(){if(l(this.#c)){console.log("[RecipesStore] Déjà initialisé");return}console.log("[RecipesStore] Initialisation..."),h(this.#n,!0),h(this.#r,null);try{this.#s=await ql();const e=await this.#s.loadRecipesIndex(),n=await this.#s.loadMetadata();e.size>0&&(console.log(`[RecipesStore] ${e.size} recettes (index) chargées depuis le cache`),this.#e=new It(e),h(this.#o,n.lastSync,!0)),await this.#u(),ie.userId&&await this.#i(),ie.userId&&await this.#p(),ie.userId&&this.#h(),h(this.#c,!0),console.log(`[RecipesStore] Initialisation complétée: ${this.#e.size} recettes (${this.#b()} published, ${this.#g()} non-published)`)}catch(e){const n=e instanceof Error?e.message:"Erreur lors de l'initialisation";throw h(this.#r,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async#u(){try{console.log("[RecipesStore] Chargement de l'index depuis data.json...");const e=await fetch(Bl);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const s=(await e.json()).recipes;if(!Array.isArray(s))throw new Error("Format de données invalide: recipes n'est pas un tableau");const r=await this.#f(JSON.stringify(s));if((await this.#s.loadMetadata()).indexHash===r){console.log("[RecipesStore] Index inchangé, utilisation du cache");return}const a=new Map;s.forEach(o=>{a.set(o.u,o)}),this.#e=new It(a),h(this.#o,new Date().toISOString(),!0),this.#s&&(await this.#s.saveRecipesIndex(a),await this.#s.saveMetadata({lastSync:l(this.#o),indexHash:r,recipesCount:a.size})),console.log(`[RecipesStore] ${a.size} recettes (index) chargées depuis data.json`)}catch(e){throw console.error("[RecipesStore] Erreur lors du chargement de l'index:",e),e}}async#f(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}async#i(){try{console.log("[RecipesStore] Cleanup des recettes publiées...");const e=await ni();let n=0;for(const s of e)this.#e.has(s.$id)&&(await Ll(s.$id),n++);n>0&&console.log(`[RecipesStore] ${n} recettes marquées comme published`)}catch(e){console.error("[RecipesStore] Erreur lors du cleanup:",e)}}async#p(){try{console.log("[RecipesStore] Chargement des recettes Appwrite...");const e=await ni();e.forEach(n=>{this.#e.set(n.$id,{u:n.$id,n:n.title,t:n.typeR,p:null,plates:n.plate,isPublished:!1})}),console.log(`[RecipesStore] ${e.length} recettes Appwrite chargées`)}catch(e){console.error("[RecipesStore] Erreur lors du chargement Appwrite:",e)}}#h(){try{this.#d=Hl(ie.userId,ie.userTeams,(e,n)=>{console.log(`[RecipesStore] Realtime: ${n} pour ${e.$id}`),n==="create"||n==="update"?(this.#e.set(e.$id,{u:e.$id,n:e.title,t:e.typeR,p:null,plates:e.plate,isPublished:e.isPublished}),this.#t.has(e.$id)&&this.#t.delete(e.$id)):n==="delete"&&(this.#e.delete(e.$id),this.#t.delete(e.$id))}),console.log("[RecipesStore] Realtime activé")}catch(e){console.error("[RecipesStore] Erreur lors de la configuration du realtime:",e)}}#v(e){switch(e){case"entree":return 0;case"plat":return 1;case"dessert":return 2;default:return 0}}#w(e){switch(e){case 0:return"entree";case 1:return"plat";case 2:return"dessert";default:return"plat"}}#b(){return this.recipesIndex.filter(e=>e.isPublished!==!1).length}#g(){return this.recipesIndex.filter(e=>e.isPublished===!1).length}#a(e){return{uuid:e.$id,title:e.title,plate:e.plate,ingredients:JSON.parse(e.ingredients),preparation:e.preparation}}getRecipeIndexByUuid(e){return this.#e.get(e)||null}searchRecipes(e){if(!e.trim())return this.recipesIndex;const n=e.toLowerCase();return this.recipesIndex.filter(s=>s.n.toLowerCase().includes(n))}getRecipesByType(e){return this.recipesIndex.filter(n=>n.t===e)}get availableTypes(){const e=new Set;return this.recipesIndex.forEach(n=>e.add(n.t)),Array.from(e).sort()}async canEditRecipe(e){if(!ie.userId)return!1;const n=this.#e.get(e);if(!n||n.isPublished!==!1)return!1;try{const s=await si(e);return s?s.createdBy===ie.userId||!!s.contributors?.includes(ie.userId)||!!s.teams?.some(r=>ie.userTeams.includes(r)):!1}catch(s){return console.error(`[RecipesStore] Erreur lors de la vérification des permissions pour ${e}:`,s),!1}}async getRecipeByUuid(e){const n=this.#t.get(e);if(n)return console.log(`[RecipesStore] Détails de ${e} déjà en mémoire`),n;if(this.#l.has(e)){for(console.log(`[RecipesStore] Chargement de ${e} déjà en cours, attente...`);this.#l.has(e);)await new Promise(s=>setTimeout(s,50));return this.#t.get(e)||null}this.#l.add(e);try{if(this.#s){const i=await this.#s.loadRecipeDetail(e);if(i)return this.#t.set(e,i),i}const s=this.#e.get(e);if(!s)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans l'index`),null;let r;if(s.p){console.log(`[RecipesStore] Chargement des détails de ${e} depuis ${s.p}...`);const i=await fetch(s.p);if(!i.ok)throw new Error(`Erreur HTTP: ${i.status}`);const a=await i.json();r=Cl(a)}else{console.log(`[RecipesStore] Chargement des détails de ${e} depuis Appwrite...`);const i=await si(e);if(!i)return console.warn(`[RecipesStore] Recette ${e} non trouvée dans Appwrite`),null;r=this.#a(i)}return this.#t.set(e,r),this.#s&&await this.#s.saveRecipeDetail(r),console.log(`[RecipesStore] Détails de ${e} chargés et mis en cache`),r}catch(s){return console.error(`[RecipesStore] Erreur lors du chargement de ${e}:`,s),null}finally{this.#l.delete(e)}}async preloadRecipes(e){console.log(`[RecipesStore] Préchargement de ${e.length} recettes...`);const n=e.map(s=>this.getRecipeByUuid(s));await Promise.all(n),console.log("[RecipesStore] Préchargement terminé")}async createRecipe(e){if(!ie.userId)throw new Error("Utilisateur non connecté");try{const n={title:e.title,plate:e.plate,ingredients:JSON.stringify(e.ingredients),preparation:e.preparation,draft:!0,typeR:this.#w(0),categories:[],regime:[],teams:[],contributors:[]},s=await Nl(n,ie.userId);return this.#e.set(s.$id,{u:s.$id,n:s.title,t:s.typeR,p:null,plates:s.plate,isPublished:!1}),this.#a(s)}catch(n){throw console.error("[RecipesStore] Erreur lors de la création:",n),n}}async updateRecipe(e,n){try{const s={};n.title&&(s.title=n.title),n.plate&&(s.plate=n.plate),n.ingredients&&(s.ingredients=JSON.stringify(n.ingredients)),n.preparation&&(s.preparation=n.preparation);const r=await ya(e,s);return this.#e.set(r.$id,{u:r.$id,n:r.title,t:r.typeR,p:null,plates:r.plate,isPublished:r.isPublished}),this.#t.delete(e),this.#a(r)}catch(s){throw console.error(`[RecipesStore] Erreur lors de la mise à jour de ${e}:`,s),s}}async deleteRecipe(e){try{await Ul(e),this.#e.delete(e),this.#t.delete(e),console.log(`[RecipesStore] Recette ${e} supprimée`)}catch(n){throw console.error(`[RecipesStore] Erreur lors de la suppression de ${e}:`,n),n}}async forceReloadIndex(){console.log("[RecipesStore] Rechargement forcé de l'index..."),h(this.#n,!0),h(this.#r,null);try{await this.#u(),console.log("[RecipesStore] Rechargement de l'index complété")}catch(e){const n=e instanceof Error?e.message:"Erreur lors du rechargement";throw h(this.#r,n,!0),console.error("[RecipesStore]",n,e),e}finally{h(this.#n,!1)}}async clearCache(){this.#s&&(await this.#s.clear(),console.log("[RecipesStore] Cache vidé")),this.#e.clear(),this.#t.clear(),h(this.#o,null),h(this.#c,!1)}destroy(){this.#d&&(this.#d(),this.#d=null),this.#s&&(this.#s.close(),this.#s=null),this.#e.clear(),this.#t.clear(),this.#l.clear(),h(this.#c,!1),console.log("[RecipesStore] Ressources nettoyées")}}const vr=new zl;var Wl=C('<div class="alert alert-error shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2m8-8l2 2m0 0l2 2m-2-2l-2-2m2 2l2 2"></path></svg> <div><h3 class="font-bold">Erreur</h3> <div class="text-sm"> </div></div></div>');function Ql(t,e){var n=Wl(),s=b(g(n),2),r=b(g(s),2),i=g(r);le(()=>re(i,e.message)),E(t,n)}class Vl{routes=[];#e=A("");get currentPath(){return l(this.#e)}set currentPath(e){h(this.#e,e,!0)}#t=A(de({}));get currentParams(){return l(this.#t)}set currentParams(e){h(this.#t,e,!0)}#n=A(de({}));get currentQuery(){return l(this.#n)}set currentQuery(e){h(this.#n,e,!0)}constructor(){this.currentPath=this.getHashPath(),this.updateQueryParams(),window.addEventListener("hashchange",()=>{this.currentPath=this.getHashPath(),this.updateQueryParams()})}addRoute(e,n,s){this.routes.push({path:e,component:n,guard:s})}navigate(e,n){const s=n?"?"+new URLSearchParams(n).toString():"",r="#"+(e.startsWith("/")?e:"/"+e)+s;window.location.hash=r}async match(){for(const e of this.routes){const n=this.matchRoute(e.path,this.currentPath);if(n)return e.guard&&!await e.guard()?null:(this.currentParams=n.params,{component:e.component,params:n.params,query:this.currentQuery})}return null}matchRoute(e,n){if(e instanceof RegExp){const o=n.match(e);return o?{params:o.groups||{}}:null}const s=[],r=e.replace(/:([^/]+)/g,(o,c)=>(s.push(c),"([^/]+)")),i=new RegExp(`^${r}$`),a=n.match(i);if(a){const o={};return s.forEach((c,d)=>{o[c]=a[d+1]}),{params:o}}return null}getHashPath(){return window.location.hash.slice(1).split("?")[0]||"/"}updateQueryParams(){const n=window.location.hash.slice(1).split("?")[1],s={};n&&new URLSearchParams(n).forEach((i,a)=>{s[a]=i}),this.currentQuery=s}get path(){return this.currentPath}get params(){return this.currentParams}get query(){return this.currentQuery}}const Ut=new Vl;function wn(t,e){Ut.navigate(t,e)}/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Gl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Kl=Ko("<svg><!><!></svg>");function me(t,e){K(e,!0);const n=Be(e,"color",3,"currentColor"),s=Be(e,"size",3,24),r=Be(e,"strokeWidth",3,2),i=Be(e,"absoluteStrokeWidth",3,!1),a=Be(e,"iconNode",19,()=>[]),o=fe(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var c=Kl();kr(c,f=>({...Gl,...o,width:s(),height:s(),stroke:n(),"stroke-width":f,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>i()?Number(r())*24/Number(s()):r()]);var d=g(c);dt(d,17,a,Nn,(f,p)=>{var v=H(()=>Ma(l(p),2));let y=()=>l(v)[0],w=()=>l(v)[1];var I=ne(),S=B(I);Fo(S,y,!0,(M,$)=>{kr(M,()=>({...w()}))}),E(f,I)});var u=b(d);ue(u,()=>e.children??te),E(t,c),Y()}function Yl(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];me(t,ge({name:"arrow-left"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Jl(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];me(t,ge({name:"book-open"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function qn(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];me(t,ge({name:"calendar"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function cs(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"}],["path",{d:"M6 17h12"}]];me(t,ge({name:"chef-hat"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Xl(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m6 9 6 6 6-6"}]];me(t,ge({name:"chevron-down"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Zl(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m9 18 6-6-6-6"}]];me(t,ge({name:"chevron-right"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Ol(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];me(t,ge({name:"cloud"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Fl(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];me(t,ge({name:"copy"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function ed(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];me(t,ge({name:"layout-dashboard"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function wa(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];me(t,ge({name:"loader-circle"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function td(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];me(t,ge({name:"log-in"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function nd(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];me(t,ge({name:"log-out"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function ri(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];me(t,ge({name:"moon"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function sd(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M13 21h8"}],["path",{d:"m15 5 4 4"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];me(t,ge({name:"pencil-line"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function ls(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];me(t,ge({name:"plus"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function rd(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];me(t,ge({name:"save"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function id(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];me(t,ge({name:"search"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function ad(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];me(t,ge({name:"sun"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function od(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];me(t,ge({name:"trash-2"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function cd(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];me(t,ge({name:"user-plus"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function Ln(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];me(t,ge({name:"users"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function ld(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}],["path",{d:"M7 2v20"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"}]];me(t,ge({name:"utensils"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function gr(t,e){K(e,!0);/**
 * @license @lucide/svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=fe(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];me(t,ge({name:"x"},()=>n,{get iconNode(){return s},children:(r,i)=>{var a=ne(),o=B(a);ue(o,()=>e.children??te),E(r,a)},$$slots:{default:!0}})),Y()}function dd(t,e,n){l(e)||n(!1)}var ud=C('<div class="auth-message auth-message-error svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),fd=C('<div class="auth-message auth-message-success svelte-o861tn"><span class="svelte-o861tn"> </span></div>'),pd=C('<span class="auth-spinner svelte-o861tn"></span>'),hd=(t,e)=>h(e,!1),vd=C('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="forgot-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="forgot-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com"/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-back-link svelte-o861tn"><button class="auth-link-btn svelte-o861tn">← Retour à la connexion</button></div>',1),gd=C('<span class="auth-spinner svelte-o861tn"></span>'),md=(t,e)=>h(e,!0),yd=(t,e)=>h(e,!1),wd=C(`<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="login-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="login-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="login-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-primary auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-actions svelte-o861tn"><button class="auth-link-btn svelte-o861tn">Mot de passe oublié ?</button> <div class="auth-switch svelte-o861tn">Pas encore de compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">S'inscrire</button></div></div>`,1),bd=C('<span class="auth-spinner svelte-o861tn"></span>'),_d=(t,e)=>h(e,!0),Id=C('<form class="auth-form svelte-o861tn"><div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-name"><span class="auth-label-text svelte-o861tn">Nom</span></label> <input id="register-name" type="text" class="auth-input svelte-o861tn" placeholder="Votre nom" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-email"><span class="auth-label-text svelte-o861tn">Email</span></label> <input id="register-email" type="email" class="auth-input svelte-o861tn" placeholder="votre@email.com" required/></div> <div class="auth-field svelte-o861tn"><label class="auth-label svelte-o861tn" for="register-password"><span class="auth-label-text svelte-o861tn">Mot de passe</span></label> <input id="register-password" type="password" class="auth-input svelte-o861tn" placeholder="•••••••" required/></div> <button type="submit" class="auth-btn auth-btn-success auth-btn-full svelte-o861tn"><!></button></form> <div class="auth-switch svelte-o861tn">Déjà un compte ? <button class="auth-link-btn auth-link-inline svelte-o861tn">Se connecter</button></div>',1),Sd=C('<div role="dialog"><div class="auth-modal-content svelte-o861tn"><div class="auth-header svelte-o861tn"><div class="auth-title svelte-o861tn"> </div> <button class="auth-close-btn svelte-o861tn">✕</button></div> <div class="auth-body svelte-o861tn"><!> <!> <!></div></div></div>');function Ed(t,e){K(e,!0);let n=Be(e,"isOpen",15),s=Be(e,"onAuthSuccess",3,()=>{}),r=A(!0),i=A(!1),a=A(""),o=A(""),c=A(""),d=A(""),u=A(""),f=A(""),p=A(""),v=A(""),y=A(!1);async function w(U){if(U.preventDefault(),!l(c)||!l(d)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:N}=await O();await N.createEmailPasswordSession({email:l(c),password:l(d)}),h(o,"Connexion réussie !"),setTimeout(()=>{s()()},1e3)}catch(N){console.error("Erreur de connexion:",N),h(a,N.message||"Erreur lors de la connexion",!0)}finally{h(i,!1)}}async function I(U){if(U.preventDefault(),!l(u)||!l(f)||!l(p)){h(a,"Veuillez remplir tous les champs");return}h(i,!0),h(a,"");try{const{account:N}=await O();await N.create({userId:"unique()",email:l(f),password:l(p),name:l(u)}),await N.createEmailPasswordSession({email:l(f),password:l(p)}),h(o,"Compte créé et connecté !"),setTimeout(()=>{s()()},1e3)}catch(N){console.error("Erreur d'inscription:",N),h(a,N.message||"Erreur lors de la création du compte",!0)}finally{h(i,!1)}}async function S(U){if(U.preventDefault(),!l(v)){h(a,"Veuillez entrer votre email");return}h(i,!0),h(a,"");try{const{account:N}=await O();await N.createRecovery({email:l(v),url:`${window.location.origin}/reset-password`}),h(o,"Email de réinitialisation envoyé !"),setTimeout(()=>{h(y,!1),h(v,"")},2e3)}catch(N){console.error("Erreur mot de passe oublié:",N),h(a,N.message||"Erreur lors de l'envoi de l'email",!0)}finally{h(i,!1)}}yt(()=>{(l(r)||l(y))&&(h(a,""),h(o,""))});var M=Sd(),$=g(M),D=g($),R=g(D),T=g(R),q=b(R,2);q.__click=[dd,i,n];var j=b(D,2),W=g(j);{var ye=U=>{var N=ud(),se=g(N),pe=g(se);le(()=>re(pe,l(a))),E(U,N)};G(W,U=>{l(a)&&U(ye)})}var L=b(W,2);{var Q=U=>{var N=fd(),se=g(N),pe=g(se);le(()=>re(pe,l(o))),E(U,N)};G(L,U=>{l(o)&&U(Q)})}var we=b(L,2);{var _e=U=>{var N=vd(),se=B(N),pe=g(se),Ie=b(g(pe),2),ae=b(pe,2),Ee=g(ae);{var he=k=>{var F=pd();E(k,F)},be=k=>{var F=js("Envoyer l'email de réinitialisation");E(k,F)};G(Ee,k=>{l(i)?k(he):k(be,!1)})}var x=b(se,2),P=g(x);P.__click=[hd,y],le(()=>{Ie.disabled=l(i),ae.disabled=l(i),P.disabled=l(i)}),qs("submit",se,S),Ve(Ie,()=>l(v),k=>h(v,k)),E(U,N)},J=U=>{var N=ne(),se=B(N);{var pe=ae=>{var Ee=wd(),he=B(Ee),be=g(he),x=b(g(be),2),P=b(be,2),k=b(g(P),2),F=b(P,2),ee=g(F);{var Z=X=>{var je=gd();E(X,je)},oe=X=>{var je=js("Se connecter");E(X,je)};G(ee,X=>{l(i)?X(Z):X(oe,!1)})}var ve=b(he,2),Ae=g(ve);Ae.__click=[md,y];var De=b(Ae,2),qe=b(g(De));qe.__click=[yd,r],le(()=>{x.disabled=l(i),k.disabled=l(i),F.disabled=l(i),Ae.disabled=l(i),qe.disabled=l(i)}),qs("submit",he,w),Ve(x,()=>l(c),X=>h(c,X)),Ve(k,()=>l(d),X=>h(d,X)),E(ae,Ee)},Ie=ae=>{var Ee=Id(),he=B(Ee),be=g(he),x=b(g(be),2),P=b(be,2),k=b(g(P),2),F=b(P,2),ee=b(g(F),2),Z=b(F,2),oe=g(Z);{var ve=X=>{var je=bd();E(X,je)},Ae=X=>{var je=js("Créer un compte");E(X,je)};G(oe,X=>{l(i)?X(ve):X(Ae,!1)})}var De=b(he,2),qe=b(g(De));qe.__click=[_d,r],le(()=>{x.disabled=l(i),k.disabled=l(i),ee.disabled=l(i),Z.disabled=l(i),qe.disabled=l(i)}),qs("submit",he,I),Ve(x,()=>l(u),X=>h(u,X)),Ve(k,()=>l(f),X=>h(f,X)),Ve(ee,()=>l(p),X=>h(p,X)),E(ae,Ee)};G(se,ae=>{l(r)?ae(pe):ae(Ie,!1)},!0)}E(U,N)};G(we,U=>{l(y)?U(_e):U(J,!1)})}le(()=>{ot(M,1,`auth-modal ${(n()&&"auth-modal-open")??""}`,"svelte-o861tn"),re(T,l(y)?"Mot de passe oublié":l(r)?"Connexion":"Inscription")}),E(t,M),Y()}xt(["click"]);function Ad(t,e){h(e,!l(e))}async function Rd(){try{await ie.logout(),window.location.href="/"}catch(t){console.error("Erreur lors de la déconnexion:",t)}}function Pd(t,e){h(e,!0),console.log("showAuthModal",l(e))}var Td=()=>wn("/"),Md=()=>wn("/teams"),Dd=()=>wn("/eventEdit"),$d=()=>wn("/recipes"),kd=C('<ul class="svelte-dropdown-menu svelte-18a4s1a"><li><div class="svelte-dropdown-header svelte-18a4s1a"> </div></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Dashboard</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Équipes</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Créer un événement</span></button></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Recettes</span></button></li> <li><hr class="svelte-dropdown-divider svelte-18a4s1a"/></li> <li><button class="svelte-dropdown-item svelte-18a4s1a"><!> <span>Se déconnecter</span></button></li></ul>'),xd=C('<li class="svelte-user-dropdown svelte-18a4s1a"><button class="svelte-btn-user svelte-18a4s1a" aria-label="Menu utilisateur"><div class="svelte-user-avatar svelte-18a4s1a"> </div> <svg class="svelte-dropdown-arrow svelte-18a4s1a" width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"></path></svg></button> <!></li>'),qd=C('<li><button class="svelte-btn-login svelte-18a4s1a"><!> <span>Connexion</span></button></li>'),jd=C('<!> <nav class="svelte-header-nav svelte-18a4s1a"><div class="svelte-nav-container svelte-18a4s1a"><a class="svelte-nav-brand svelte-18a4s1a" href="/"><img src="/favicon-96x96.png" alt="logo" class="svelte-brand-logo svelte-18a4s1a"/></a> <ul class="svelte-nav-menu svelte-18a4s1a"><li><a class="svelte-nav-link svelte-18a4s1a" href="/recettes">Recettes</a></li> <li><a class="svelte-nav-link svelte-18a4s1a" href="/evenements">Événements</a></li></ul> <ul class="svelte-nav-actions svelte-18a4s1a"><!></ul></div></nav>',1);function Cd(t,e){K(e,!0);let n=A(!1),s=A(!1);function r(){h(n,!1)}function i(w){w.target.closest(".svelte-user-dropdown")||r()}function a(){h(s,!1)}yt(()=>{if(l(n))return document.addEventListener("click",i),()=>document.removeEventListener("click",i)});var o=jd(),c=B(o);Ed(c,{onAuthSuccess:a,get isOpen(){return l(s)},set isOpen(w){h(s,w,!0)}});var d=b(c,2),u=g(d),f=b(g(u),4),p=g(f);{var v=w=>{var I=xd(),S=g(I);S.__click=[Ad,n];var M=g(S),$=g(M),D=b(S,2);{var R=T=>{var q=kd(),j=g(q),W=g(j),ye=g(W),L=b(j,2),Q=g(L);Q.__click=[Td];var we=g(Q);ed(we,{class:"svelte-dropdown-icon",size:16});var _e=b(L,2),J=g(_e);J.__click=[Md];var U=g(J);Ln(U,{class:"svelte-dropdown-icon",size:16});var N=b(_e,2),se=g(N);se.__click=[Dd];var pe=g(se);Ln(pe,{class:"svelte-dropdown-icon",size:16});var Ie=b(N,2),ae=g(Ie);ae.__click=[$d];var Ee=g(ae);Jl(Ee,{class:"svelte-dropdown-icon",size:16});var he=b(Ie,4),be=g(he);be.__click=[Rd];var x=g(be);nd(x,{class:"svelte-dropdown-icon",size:16}),le(()=>re(ye,ie.user?.email||"Utilisateur")),E(T,q)};G(D,T=>{l(n)&&T(R)})}le(T=>{_t(S,"aria-expanded",l(n)),re($,T)},[()=>ie.user?.name?.charAt(0).toUpperCase()||"U"]),E(w,I)},y=w=>{var I=qd(),S=g(I);S.__click=[Pd,s];var M=g(S);td(M,{size:16}),E(w,I)};G(p,w=>{ie.isAuthenticated?w(v):w(y,!1)})}E(t,o),Y()}xt(["click"]);var Nd=(t,e,n,s)=>e(l(n),l(s)),Ud=C('<button class="btn btn-sm btn-primary"> </button>'),Ld=(t,e,n)=>e(l(n)),Hd=C('<button class="btn btn-ghost btn-xs btn-square" title="Voir les détails" aria-label="Voir les détails"><!></button>'),Bd=(t,e,n)=>e(l(n)),zd=C('<button class="btn btn-ghost btn-sm btn-circle absolute top-1 right-1" title="Fermer" aria-label="Fermer la notification"><!></button>'),Wd=C('<div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <span class="text-xs"> </span></div> <div class="flex items-center gap-1"><!> <!> <!></div></div></div>'),Qd=C("<div></div>");function Vd(t,e){K(e,!0);let n=Be(e,"position",3,"toast-right toast-bottom"),s=Be(e,"padding",3,"md");const r=H(()=>s()==="sm"?"px-2 py-0.5":""),i=H(()=>Ye.toasts);function a(f){return f==="success"||f==="info"}function o(f){Ye.dismiss(f.id)}function c(f){e.onShowDetails?.({id:f.id,message:f.message,details:f.details})}function d(f,p){p.onClick()}var u=Qd();dt(u,21,()=>l(i),f=>f.id,(f,p)=>{var v=Wd(),y=g(v),w=g(y),I=g(w);{var S=L=>{wa(L,{class:"h-5 w-5 animate-spin"})};G(I,L=>{l(p).state==="loading"&&L(S)})}var M=b(I,2),$=g(M),D=b(w,2),R=g(D);{var T=L=>{var Q=ne(),we=B(Q);dt(we,17,()=>l(p).actions,Nn,(_e,J)=>{var U=Ud();U.__click=[Nd,d,p,J];var N=g(U);le(()=>re(N,l(J).label)),E(_e,U)}),E(L,Q)};G(R,L=>{l(p).actions&&l(p).actions.length>0&&L(T)})}var q=b(R,2);{var j=L=>{var Q=Hd();Q.__click=[Ld,c,p];var we=g(Q);Xl(we,{class:"h-3 w-3"}),E(L,Q)};G(q,L=>{l(p).details&&L(j)})}var W=b(q,2);{var ye=L=>{var Q=zd();Q.__click=[Bd,o,p];var we=g(Q);gr(we,{class:"h-4 w-4"}),E(L,Q)};G(W,L=>{(l(p).state==="error"||l(p).state==="warning"||!a(l(p).state))&&L(ye)})}le(()=>{ot(v,1,`alert alert-${l(p).state??""} max-w-sm ${l(r)??""} shadow-lg`),re($,l(p).message)}),E(f,v)}),le(()=>ot(u,1,`toast ${n()??""} z-50`)),E(t,u),Y()}xt(["click"]);function Gd(t,e){K(e,!0),Y()}oo();function ii(){wn("/eventEdit")}var Kd=C('<div class="flex items-center justify-center py-20"><!></div>'),Yd=C('<div class="alert alert-error shadow-lg"><span> </span></div>'),Jd=C(`<div class="bg-base-200/50 rounded-box border-base-200 border-2 border-dashed py-20 text-center"><div class="bg-base-200 mb-4 inline-block rounded-full p-4"><!></div> <h3 class="mb-2 text-lg font-bold">Aucun événement</h3> <p class="text-base-content/60 mb-6">Vous n'avez pas encore créé d'événement.</p> <button class="btn btn-primary btn-sm">Créer mon premier événement</button></div>`),Xd=(t,e,n)=>e(l(n).$id),Zd=C('<div class="badge badge-ghost text-xs"> </div>'),Od=C('<button class="card bg-base-100 border-base-200 hover:border-primary/50 group border text-left shadow-xl transition-all hover:shadow-2xl"><div class="card-body"><div class="mb-2 flex items-start justify-between"><h3 class="card-title group-hover:text-primary text-lg transition-colors"> </h3> <!></div> <div class="text-base-content/70 mt-2 flex items-center gap-4 text-sm"><div class="flex items-center gap-1"><!> <span>-</span></div> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="text-base-content/70 mt-auto flex flex-wrap justify-between text-sm"><div> </div> <div> </div></div> <div class="card-actions mt-4 justify-end"><span class="text-primary flex items-center gap-1 text-xs font-semibold opacity-0 transition-opacity group-hover:opacity-100">Ouvrir <!></span></div></div></button>'),Fd=C('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),eu=C('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 flex items-center justify-between"><div><h1 class="mb-2 text-3xl font-bold">Mes Événements</h1> <p class="text-base-content/60">Gérez vos menus et listes de courses</p></div> <button class="btn btn-primary"><!> Nouvel Événement</button></div> <!></div>');function ai(t,e){K(e,!1);function n(f){return f?new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date inconnue"}function s(f){wn(`/eventEdit/${f}`)}pc();var r=eu(),i=g(r),a=b(g(i),2);a.__click=[ii];var o=g(a);ls(o,{class:"mr-2 h-5 w-5"});var c=b(i,2);{var d=f=>{var p=Kd(),v=g(p);wa(v,{class:"text-primary h-8 w-8 animate-spin"}),E(f,p)},u=f=>{var p=ne(),v=B(p);{var y=I=>{var S=Yd(),M=g(S),$=g(M);le(()=>re($,pt.error)),E(I,S)},w=I=>{var S=ne(),M=B(S);{var $=R=>{var T=Jd(),q=g(T),j=g(q);qn(j,{class:"h-8 w-8 opacity-50"});var W=b(q,6);W.__click=[ii],E(R,T)},D=R=>{var T=Fd();dt(T,5,()=>pt.events,Nn,(q,j)=>{var W=Od();W.__click=[Xd,s,j];var ye=g(W),L=g(ye),Q=g(L),we=g(Q),_e=b(Q,2);{var J=oe=>{var ve=Zd(),Ae=g(ve);le(De=>re(Ae,De),[()=>n(l(j).dateStart)]),E(oe,ve)};G(_e,oe=>{l(j).dateStart&&oe(J)})}var U=b(L,2),N=g(U),se=g(N);Ln(se,{class:"h-4 w-4"});var pe=b(N,2),Ie=g(pe);qn(Ie,{class:"h-4 w-4"});var ae=b(Ie,2),Ee=g(ae),he=b(U,2),be=g(he),x=g(be),P=b(be,2),k=g(P),F=b(he,2),ee=g(F),Z=b(g(ee));Zl(Z,{class:"h-4 w-4"}),le(()=>{re(we,l(j).name),re(Ee,`${(l(j).allDates?.length||0)??""} jours`),re(x,`crée le ${l(j).$createdAt??""}`),re(k,`modifié le ${l(j).$updatedAt??""}`)}),E(q,W)}),E(R,T)};G(M,R=>{pt.count===0?R($):R(D,!1)},!0)}E(I,S)};G(v,I=>{pt.error?I(y):I(w,!1)},!0)}E(f,p)};G(c,f=>{pt.loading&&pt.count===0?f(d):f(u,!1)})}E(t,r),Y()}xt(["click"]);function tu(t,e,n,s){l(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),h(n,(l(n)+1)%l(e).length)):t.key==="ArrowUp"?(t.preventDefault(),h(n,l(n)<=0?l(e).length-1:l(n)-1,!0)):(t.key==="Enter"||t.key==="Tab")&&l(n)>=0&&(t.preventDefault(),s(l(e)[l(n)])))}var nu=C('<div class="text-base-content/60 mt-2 py-2 text-center text-xs">Aucune recette trouvée</div>'),su=(t,e,n)=>e(l(n)),ru=C('<li><button><div class="bg-base-100 rounded p-1"><!></div> <span class="truncate text-sm"> </span></button></li>'),iu=C('<ul class="menu bg-base-200/50 rounded-box mt-2 gap-1 p-1"></ul>'),au=C('<div class="mt-2"><div class="relative"><!> <input type="text" placeholder="Rechercher une recette..." class="input w-full pl-9"/> <!></div> <!> <!></div>'),ou=(t,e)=>h(e,null),cu=C('<div class="bg-base-200/50 space-y-3 rounded-lg p-3"><div class="flex items-start gap-3"><div class="bg-primary/10 text-primary rounded-lg p-2"><!></div> <div class="min-w-0 flex-1"><div class="truncate font-medium"> </div> <button class="text-primary mt-0.5 text-xs hover:underline">Changer de recette</button></div></div> <div class="grid grid-cols-2 gap-2"><div><label class="label py-1 text-xs">Type</label> <select class="select select-bordered select-xs w-full"><option disabled selected>Sélectionner un type</option><option>Entrée</option><option>Plat</option><option>Dessert</option></select></div> <div><label class="label py-1 text-xs">Couverts</label> <input type="number" class="input w-full" min="1"/></div></div></div>'),lu=C('<div class="card bg-base-100 border-base-300 border shadow-sm"><div class="card-body gap-3 p-3"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-bold"><!> Ajouter une recette</h4></div> <!></div></div>');function du(t,e){K(e,!0);let n=Be(e,"defaultPlates",3,4),s=A(""),r=A(""),i=A(de(n())),a=A(null),o=!1,c=A(-1),d=H(()=>l(s).length>1?vr.searchRecipes(l(s)).slice(0,5):[]);function u(){h(a,null),h(s,""),h(r,""),h(i,n()),h(c,-1)}function f(R){h(a,R,!0);const T=R.t||"plat";h(r,l(r)?l(r):T,!0),e.onSelect(R,l(r),l(i)),u()}const p=Math.random().toString(36).slice(2);var v=lu(),y=g(v),w=g(y),I=g(w),S=g(I);ls(S,{class:"text-primary h-4 w-4"});var M=b(w,2);{var $=R=>{var T=au(),q=g(T),j=g(q);id(j,{class:"text-base-content/50 absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2"});var W=b(j,2);W.__keydown=[tu,d,c,f];var ye=b(W,2);G(ye,J=>{});var L=b(q,2);{var Q=J=>{var U=nu();E(J,U)};G(L,J=>{l(s).length>1&&l(d).length===0&&J(Q)})}var we=b(L,2);{var _e=J=>{var U=iu();dt(U,23,()=>l(d),N=>N.u,(N,se,pe)=>{var Ie=ru(),ae=g(Ie);ae.__click=[su,f,se],ae.disabled=o;var Ee=g(ae),he=g(Ee);cs(he,{class:"h-3 w-3 opacity-70"});var be=b(Ee,2),x=g(be);le(()=>{ot(ae,1,`flex items-center gap-2 py-2 text-left ${l(pe)===l(c)&&"ring-accent/40 ring-2"} `),re(x,l(se).n)}),E(N,Ie)}),E(J,U)};G(we,J=>{l(d).length>0&&J(_e)})}Ve(W,()=>l(s),J=>h(s,J)),E(R,T)},D=R=>{var T=cu(),q=g(T),j=g(q),W=g(j);cs(W,{class:"h-5 w-5"});var ye=b(j,2),L=g(ye),Q=g(L),we=b(L,2);we.__click=[ou,a];var _e=b(q,2),J=g(_e),U=g(J),N=b(U,2),se=g(N);se.value=se.__value="";var pe=b(se);pe.value=pe.__value="entree";var Ie=b(pe);Ie.value=Ie.__value="plat";var ae=b(Ie);ae.value=ae.__value="dessert";var Ee=b(J,2),he=g(Ee),be=b(he,2);le(()=>{re(Q,l(a).n),_t(U,"for",`type-${p}`),_t(N,"id",`type-${p}`),_t(he,"for",`plates-${p}`),_t(be,"id",`plates-${p}`)}),Xs(N,()=>l(r),x=>h(r,x)),Ve(be,()=>l(i),x=>h(i,x)),E(R,T)};G(M,R=>{l(a)?R(D,!1):R($)})}E(t,v),Y()}xt(["keydown","click"]);function uu(t){if(!t)return"";try{return new Date(t).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return t}}const fu=t=>t;function ba(t,{delay:e=0,duration:n=400,easing:s=fu}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function pu(t,e){return`${t}T${{matin:"08:00:00",midi:"12:00:00",soir:"20:00:00"}[e]}`}function hu(t){return t.split("T")[0]}function vu(t){const e=parseInt(t.split("T")[1]?.split(":")[0]||"12");return e<10?"matin":e<17?"midi":"soir"}var gu=(t,e,n)=>{(t.key==="Enter"||t.key===" ")&&!e()&&n()},mu=(t,e)=>{e(!1)},yu=C(`<button class="btn btn-ghost text-primary" title="Terminer l'édition">valider</button> <button class="btn btn-ghost btn-square" title="Dupliquer"><!></button> <button class="btn btn-ghost btn-square text-error" title="Supprimer"><!></button>`,1),wu=(t,e,n)=>{e(!0),n.onEditToggle&&n.onEditToggle()},bu=C('<button class="btn btn-ghost" title="Éditer"><!></button>'),_u=C('<div class="text-error mt-1 text-xs">Cette date/heure est déjà utilisée</div>'),Iu=(t,e,n)=>e(l(n).recipeUuid,{type:t.currentTarget.value}),Su=(t,e,n,s)=>e(l(n).recipeUuid,{plates:parseInt(t.currentTarget.value)||s().guests}),Eu=(t,e,n)=>e(l(n).recipeUuid),Au=C('<div class="group bg-base-200/40 flex flex-wrap items-center gap-3 rounded-lg p-3"><div class="flex flex-1 items-center gap-2"><div><!></div> <div class="min-w-0 flex-1"><div class="font-medium"> </div></div></div> <div class="flex items-center gap-2"><select class="select w-24"><option>Entrée</option><option>Plat</option><option>Dessert</option></select> <div class="join"><input type="number" class="input join-item w-20 text-center" min="1"/> <div class="bg-base-300 join-item flex items-center px-2 text-xs">pers.</div></div> <button class="btn btn-ghost btn-sm btn-square text-error" title="Retirer la recette"><!></button></div></div>'),Ru=C('<div class="mb-4 space-y-2"></div>'),Pu=C('<div class="mt-2 space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><label class="w-full"><div class="label"><span class="label-text">Date</span></div> <input type="date"/> <!></label> <label class="w-full"><div class="label"><span class="label-text">Moment</span></div> <select><option disabled selected>Choisir un moment</option><option>Matin</option><option>Midi</option><option>Soir</option></select></label> <label class="w-full"><div class="label"><span class="label-text">Couverts</span></div> <input type="number" class="input input-bordered w-full" min="1"/></label></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="flex items-center gap-2 font-semibold"><!> Recettes</h4></div> <!> <!></div></div>'),Tu=C('<div><!> <span> </span> <span class="badge badge-sm badge-outline font-base"> </span></div>'),Mu=C('<div class="flex flex-wrap gap-2"></div>'),Du=C('<p class="text-base-content/60 text-sm italic">Aucune recette</p>'),$u=C('<div class="space-y-2"><!></div>'),ku=C('<div role="button"><div class="card-body p-4"><div class="mb-2 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-lg font-medium"> </span> <div class="font-base flex items-center gap-1"><!> <div> </div></div> <span class="text-base-content/60 flex items-center gap-1 text-sm"><!> </span></div> <div class="flex gap-1"><!></div></div> <!></div></div>');function xu(t,e){K(e,!0);let n=Be(e,"meal",15),s=Be(e,"defaultGuests",3,100),r=Be(e,"isEditing",15,!1),i=Be(e,"allDates",19,()=>[]);n().guests||n(n().guests=s(),!0),n().recipes||n(n().recipes=[],!0);let a=H(()=>hu(n().date||"")),o=H(()=>vu(n().date||"")),c=A(de(l(a))),d=A(de(l(o))),u=H(()=>pu(l(c),l(d))),f=A(!1);yt(()=>{!p(l(u))?(n(n().date=l(u),!0),h(f,!1)):h(f,!0)});function p(x){const P=n().date||"";return i().some(k=>k!==P&&k===x)}const v=H(()=>{const x=l(o)||"";return x==="matin"?Ol:x==="midi"?ad:ri}),y=H(()=>{const x={entree:1,plat:2,dessert:3};return[...n().recipes].sort((P,k)=>{const F=x[P.type]||999,ee=x[k.type]||999;return F-ee})});function w(x,P,k){if(n().recipes.some(oe=>oe.recipeUuid===x.u))return;const ee=k||n().guests,Z={recipeUuid:x.u,plates:ee,type:P};n(n().recipes=[...n().recipes,{...Z}],!0)}function I(x,P){n(n().recipes=n().recipes.map(k=>k.recipeUuid===x?{...{...k,...P}}:k),!0)}function S(x){n(n().recipes=n().recipes.filter(P=>P.recipeUuid!==x),!0)}function M(x){return vr.getRecipeIndexByUuid(x)}function $(){!r()&&e.onEditToggle&&e.onEditToggle()}function D(x){return x==="entree"?"bg-lime-100 border-lime-200":x==="plat"?"bg-orange-100 border-orange-200":x==="dessert"?"bg-pink-100 border-pink-200":"bg-base-200/50"}var R=ku();R.__click=$,R.__keydown=[gu,r,$];var T=g(R),q=g(T),j=g(q),W=g(j),ye=g(W),L=b(W,2),Q=g(L);Ji(Q,()=>l(v),(x,P)=>{P(x,{size:16})});var we=b(Q,2),_e=g(we),J=b(L,2),U=g(J);Ln(U,{class:"h-3 w-3"});var N=b(U),se=b(j,2),pe=g(se);{var Ie=x=>{var P=yu(),k=B(P);k.__click=[mu,r];var F=b(k,2);F.__click=function(...ve){e.onDuplicate?.apply(this,ve)};var ee=g(F);Fl(ee,{class:"h-4 w-4"});var Z=b(F,2);Z.__click=function(...ve){e.onDelete?.apply(this,ve)};var oe=g(Z);od(oe,{class:"h-4 w-4"}),E(x,P)},ae=x=>{var P=bu();P.__click=[wu,r,e];var k=g(P);sd(k,{class:"h-4 w-4"}),E(x,P)};G(pe,x=>{r()?x(Ie):x(ae,!1)})}var Ee=b(q,2);{var he=x=>{var P=Pu(),k=g(P),F=g(k),ee=b(g(F),2),Z=b(ee,2);{var oe=$e=>{var Jt=_u();E($e,Jt)};G(Z,$e=>{l(f)&&$e(oe)})}var ve=b(F,2),Ae=b(g(ve),2),De=g(Ae);De.value=De.__value="";var qe=b(De);qe.value=qe.__value="matin";var X=b(qe);X.value=X.__value="midi";var je=b(X);je.value=je.__value="soir";var bn=b(ve,2),_n=b(g(bn),2),In=b(k,2),qt=g(In),Es=g(qt),As=g(Es);ld(As,{class:"h-4 w-4"});var Kn=b(qt,2);{var Yn=$e=>{var Jt=Ru();dt(Jt,23,()=>l(y),Xt=>Xt.recipeUuid,(Xt,Ze,mr)=>{const Ps=H(()=>M(l(Ze).recipeUuid));var Zt=Au(),Ot=g(Zt),Ft=g(Ot),Ts=g(Ft);cs(Ts,{class:"h-5 w-5"});var Ms=b(Ft,2),Ds=g(Ms),$s=g(Ds),ks=b(Ot,2),jt=g(ks);jt.__change=[Iu,I,Ze];var en=g(jt);en.value=en.__value="entree";var Sn=b(en);Sn.value=Sn.__value="plat";var En=b(Sn);En.value=En.__value="dessert";var Jn=b(jt,2),An=g(Jn);An.__change=[Su,I,Ze,n];var Xn=b(Jn,2);Xn.__click=[Eu,S,Ze];var xs=g(Xn);gr(xs,{class:"h-4 w-4"}),le(Ct=>{ot(Ft,1,`${Ct??""} rounded-md border-2 p-2`),re($s,l(Ps)?.n||"Recette inconnue")},[()=>D(l(Ze).type)]),Xs(jt,()=>l(Ze).type,Ct=>l(Ze).type=Ct),Ve(An,()=>l(Ze).plates,Ct=>l(Ze).plates=Ct),na(3,Zt,()=>ba),E(Xt,Zt)}),E($e,Jt)};G(Kn,$e=>{n().recipes.length>=1&&$e(Yn)})}var Rs=b(Kn,2);du(Rs,{onSelect:w,get defaultPlates(){return n().guests}}),le(()=>{ot(ee,1,`input input-bordered w-full ${l(f)?"input-error":""}`),ot(Ae,1,`select select-bordered w-full ${l(f)?"select-error":""}`)}),Ve(ee,()=>l(c),$e=>h(c,$e)),Xs(Ae,()=>l(d),$e=>h(d,$e)),Ve(_n,()=>n().guests,$e=>n(n().guests=$e,!0)),E(x,P)},be=x=>{var P=$u(),k=g(P);{var F=Z=>{var oe=Mu();dt(oe,21,()=>l(y),ve=>ve.recipeUuid,(ve,Ae)=>{const De=H(()=>M(l(Ae).recipeUuid));var qe=Tu(),X=g(qe);cs(X,{class:"h-4 w-4"});var je=b(X,2),bn=g(je),_n=b(je,2),In=g(_n);le(qt=>{ot(qe,1,`badge badge-lg ${qt??""} h-auto gap-2 py-1 font-medium`),re(bn,l(De)?.n||"..."),re(In,`${(l(Ae).plates||n().guests)??""}p`)},[()=>D(l(Ae).type)]),E(ve,qe)}),E(Z,oe)},ee=Z=>{var oe=Du();E(Z,oe)};G(k,Z=>{l(y).length>0?Z(F):Z(ee,!1)})}E(x,P)};G(Ee,x=>{r()?x(he):x(be,!1)})}le((x,P)=>{ot(R,1,`card bg-base-100 border-base-200 border shadow-sm transition-all hover:shadow-md ${r()?"ring-accent/40 ring-2":""} ${r()?"":"hover:ring-accent/60 cursor-pointer hover:ring-2"}`),_t(R,"tabindex",r()?-1:0),re(ye,x),re(_e,P),re(N,` ${n().guests??""} pers.`)},[()=>n().date?uu(n().date):"Date non définie",()=>l(o)?l(o).toUpperCase():"REPAS"]),E(t,R),Y()}xt(["click","keydown","change"]);async function qu(t,e,n,s,r,i,a,o,c,d,u,f){if(!l(e)){h(n,"Veuillez renseigner le nom de l'événement");return}if(l(s).length===0){h(n,"Veuillez ajouter au moins un repas");return}h(r,!0),h(n,null);try{const p={name:l(e),dateStart:l(i),dateEnd:l(a),allDates:l(o),teams:l(c),contributors:l(d),meals:l(s)};l(u)?await pt.updateEvent(l(u),p):await pt.createEvent(p),f()}catch(p){console.error("Erreur lors de la sauvegarde de l'événement:",p),h(n,"Erreur lors de la sauvegarde de l'événement. Vérifiez votre connexion.")}finally{h(r,!1)}}var ju=C('<span class="loading loading-spinner loading-sm"></span>'),Cu=C(`<div class="flex items-center justify-center py-20"><div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-primary"></span> <p class="text-base-content/60">Chargement de l'événement...</p></div></div>`),Nu=C('<div class="alert alert-error shadow-lg"><span> </span></div>'),Uu=(t,e,n)=>e(l(n).$id),Lu=C('<label class="label border-base-200 hover:bg-base-200/50 cursor-pointer justify-start gap-3 rounded-lg border p-2 transition-colors"><input type="checkbox" class="checkbox checkbox-primary checkbox-sm"/> <span> </span></label>'),Hu=C('<p class="text-base-content/60 text-xs italic">Aucune équipe disponible</p>'),Bu=(t,e)=>t.key==="Enter"&&e(),zu=(t,e,n)=>e(l(n)),Wu=C('<div class="badge badge-outline gap-2 pr-1"> <button class="btn btn-ghost btn-xs btn-circle h-4 min-h-0 w-4"><!></button></div>'),Qu=C('<div class="text-base-content/60 bg-base-200/30 rounded-box border-base-200 flex flex-col items-center justify-center border-2 border-dashed py-12"><div class="bg-base-200 mb-4 rounded-full p-4"><!></div> <p class="font-medium">Aucun repas planifié</p> <p class="mt-1 text-sm">Commencez par ajouter un repas à votre événement</p></div>'),Vu=C('<div class="space-y-4"></div>'),Gu=C(`<div class="grid grid-cols-1 gap-6 lg:grid-cols-4"><div class="space-y-6 lg:col-span-1"><div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Informations</h3> <div class="space-y-4"><div class="w-full"><label class="input flex items-center gap-2"><!> <input id="event-name" type="text" class="grow" placeholder="Nom d l'événement"/></label></div></div></div></div> <div class="card bg-base-100 shadow-xl"><div class="card-body"><h3 class="card-title mb-4 flex items-center gap-2 text-lg"><!> Permissions</h3> <fieldset class="fieldset"><legend class="fieldset-legend">Équipes</legend> <div class="flex flex-col gap-2"><!> <!></div></fieldset> <div class="divider my-2"></div> <fieldset class="fieldset"><legend class="fieldset-legend">Contributeurs ></legend> <div class="mb-2 flex gap-2"><input type="email" placeholder="email@exemple.com" class="input input-sm w-full"/> <button class="btn btn-sm btn-square"><!></button></div> <div class="flex flex-wrap gap-2"></div></fieldset></div></div></div> <div class="space-y-6 lg:col-span-3"><div class="card bg-base-100 min-h-[500px] shadow-xl"><div class="card-body"><div class="mb-6 flex items-center justify-between"><h3 class="card-title text-lg"> </h3> <button class="btn btn-primary btn-sm"><!> Ajouter un repas</button></div> <!> <div class="flex"><button class="btn btn-soft btn-primary btn-block mt-4"><!> Ajouter un repas</button></div></div></div></div></div>`),Ku=C('<div class="mx-auto max-w-11/12 space-y-6 px-4 py-8 pb-20"><div class="bg-base-100/95 border-base-200 flex items-center justify-between border-b py-4 backdrop-blur"><div class="flex items-center gap-4"><button class="btn btn-ghost btn-circle"><!></button> <div><h2 class="text-2xl font-bold"> </h2> <p class="text-base-content/60 text-sm"> </p></div></div> <button class="btn btn-primary"><!> </button></div> <!></div>');function oi(t,e){K(e,!0);const n=H(()=>e.params?.id);let s=A(""),r=A(de([])),i=A(de([])),a=A(""),o=A(de([])),c=A(!1),d=A(!1),u=A(null),f=A(null);const p=H(()=>{const P=l(o).map(k=>k.date).filter(Boolean);return[...new Set(P)].sort()}),v=H(()=>[...l(o)].sort((P,k)=>P.date.localeCompare(k.date))),y=H(()=>l(p).length>0?l(p)[0]:""),w=H(()=>l(p).length>0?l(p)[l(p).length-1]:"");yt(()=>{l(n)?(h(d,!0),h(u,null),Vn(l(n)).then(P=>{P?(h(s,P.name||"",!0),h(r,P.teams||[],!0),h(i,P.contributors||[],!0),h(o,Gn(P),!0)):h(u,"Événement introuvable")}).catch(P=>{console.error("Erreur lors du chargement de l'événement:",P),h(u,"Erreur lors du chargement de l'événement")}).finally(()=>{h(d,!1)})):(h(s,""),h(r,[],!0),h(i,[],!0),h(o,[],!0))});function I(){history.back()}function S(){const P=Fs(6);let k;if(l(p).length===0){const ee=new Date;ee.setHours(12,0,0,0),k=ee.toISOString()}else{const ee=l(p)[l(p).length-1],Z=new Date(ee);Z.getHours()<14?Z.setHours(20,0,0,0):(Z.setDate(Z.getDate()+1),Z.setHours(12,0,0,0)),k=Z.toISOString()}if(l(o).some(ee=>ee.date===k)){h(u,"Un repas existe déjà à cette date et heure");return}const F={id:P,date:k,guests:100,recipes:[]};h(o,[...l(o),F],!0),h(f,P,!0)}function M(P){h(o,l(o).filter(k=>(k.id||k.date)!==P),!0)}function $(P){const k=l(o).find(Z=>(Z.id||Z.date)===P);if(!k)return;const F={...JSON.parse(JSON.stringify(k)),id:Fs(6)},ee=new Date(k.date);ee.setDate(ee.getDate()+1),F.date=ee.toISOString(),h(o,[...l(o),F],!0)}function D(){l(a)&&!l(i).includes(l(a))&&(h(i,[...l(i),l(a)],!0),h(a,""))}function R(P){h(i,l(i).filter(k=>k!==P),!0)}function T(P){l(r).includes(P)?h(r,l(r).filter(k=>k!==P),!0):h(r,[...l(r),P],!0)}function q(P){l(f)===P?h(f,null):h(f,P,!0)}var j=Ku(),W=g(j),ye=g(W),L=g(ye);L.__click=I;var Q=g(L);Yl(Q,{class:"h-6 w-6"});var we=b(L,2),_e=g(we),J=g(_e),U=b(_e,2),N=g(U),se=b(ye,2);se.__click=[qu,s,u,o,c,y,w,p,r,i,n,I];var pe=g(se);{var Ie=P=>{var k=ju();E(P,k)},ae=P=>{rd(P,{class:"mr-2 h-4 w-4"})};G(pe,P=>{l(c)?P(Ie):P(ae,!1)})}var Ee=b(pe),he=b(W,2);{var be=P=>{var k=Cu();E(P,k)},x=P=>{var k=ne(),F=B(k);{var ee=oe=>{var ve=Nu(),Ae=g(ve),De=g(Ae);le(()=>re(De,l(u))),E(oe,ve)},Z=oe=>{var ve=Gu(),Ae=g(ve),De=g(Ae),qe=g(De),X=g(qe),je=g(X);qn(je,{class:"text-primary h-5 w-5"});var bn=b(X,2),_n=g(bn),In=g(_n),qt=g(In);qn(qt,{class:"h-4 w-4 opacity-50"});var Es=b(qt,2),As=b(De,2),Kn=g(As),Yn=g(Kn),Rs=g(Yn);Ln(Rs,{class:"text-secondary h-5 w-5"});var $e=b(Yn,2),Jt=b(g($e),2),Xt=g(Jt);dt(Xt,17,()=>er.teams,Nn,(Pe,Ce)=>{var Oe=Lu(),Fe=g(Oe);Fe.__change=[Uu,T,Ce];var nt=b(Fe,2),Nt=g(nt);le(Zn=>{ac(Fe,Zn),re(Nt,l(Ce).name)},[()=>l(r).includes(l(Ce).$id)]),E(Pe,Oe)});var Ze=b(Xt,2);{var mr=Pe=>{var Ce=Hu();E(Pe,Ce)};G(Ze,Pe=>{er.teams.length===0&&Pe(mr)})}var Ps=b($e,4),Zt=b(g(Ps),2),Ot=g(Zt);Ot.__keydown=[Bu,D];var Ft=b(Ot,2);Ft.__click=D;var Ts=g(Ft);cd(Ts,{class:"h-4 w-4"});var Ms=b(Zt,2);dt(Ms,21,()=>l(i),Nn,(Pe,Ce)=>{var Oe=Wu(),Fe=g(Oe),nt=b(Fe);nt.__click=[zu,R,Ce];var Nt=g(nt);gr(Nt,{class:"h-3 w-3"}),le(()=>re(Fe,`${l(Ce)??""} `)),E(Pe,Oe)});var Ds=b(Ae,2),$s=g(Ds),ks=g($s),jt=g(ks),en=g(jt),Sn=g(en),En=b(en,2);En.__click=S;var Jn=g(En);ls(Jn,{class:"mr-1 h-4 w-4"});var An=b(jt,2);{var Xn=Pe=>{var Ce=Qu(),Oe=g(Ce),Fe=g(Oe);qn(Fe,{class:"h-8 w-8 opacity-50"}),E(Pe,Ce)},xs=Pe=>{var Ce=Vu();dt(Ce,21,()=>l(v),Oe=>Oe.id,(Oe,Fe)=>{const nt=H(()=>l(Fe).id||l(Fe).date),Nt=H(()=>l(o).findIndex(tn=>(tn.id||tn.date)===l(nt)));var Zn=ne(),Ia=B(Zn);{var Sa=tn=>{{let Ea=H(()=>l(f)===l(nt));xu(tn,{get isEditing(){return l(Ea)},onEditToggle:()=>q(l(nt)),onDelete:()=>M(l(nt)),onDuplicate:()=>$(l(nt)),get allDates(){return l(p)},get meal(){return l(o)[l(Nt)]},set meal(Aa){l(o)[l(Nt)]=Aa}})}};G(Ia,tn=>{l(Nt)!==-1&&tn(Sa)})}E(Oe,Zn)}),na(3,Ce,()=>ba),E(Pe,Ce)};G(An,Pe=>{l(o).length===0?Pe(Xn):Pe(xs,!1)})}var Ct=b(An,2),yr=g(Ct);yr.__click=S;var _a=g(yr);ls(_a,{class:"mr-1 h-4 w-4"}),le(()=>re(Sn,`Repas & Menus (${l(o).length??""})`)),Ve(Es,()=>l(s),Pe=>h(s,Pe)),Ve(Ot,()=>l(a),Pe=>h(a,Pe)),E(oe,ve)};G(F,oe=>{l(u)?oe(ee):oe(Z,!1)},!0)}E(P,k)};G(he,P=>{l(d)?P(be):P(x,!1)})}le(()=>{re(J,`${l(n)?"Éditer":"Nouvel"} Événement`),re(N,l(n)?"Modifier le menu et les repas":"Créer un menu et planifier les repas"),se.disabled=l(c)||l(d),re(Ee,` ${l(n)?"Enregistrer":"Créer l'événement"}`)}),E(t,j),Y()}xt(["click","change","keydown"]);var Yu=C('<div class="flex items-center justify-center py-20"><p class="text-slate-400">Chargement...</p></div>'),Ju=C("<!> <!>",1),Xu=C("<!> <!> <!> <!>",1);function Zu(t,e){K(e,!0);let n=A(null);Ut.addRoute("/",ai),Ut.addRoute("/dashboard",ai),Ut.addRoute("/eventEdit",oi),Ut.addRoute("/eventEdit/:id",oi);let s=A(null);yt(()=>{!ie.isAuthenticated&&Ut.path!=="/"&&(window.location.hash="/",window.location.pathname="/")}),yt(()=>{Ut.match().then(w=>{h(s,w,!0)})});async function r(){try{await ie.initializeAuth()}catch(w){console.error("Erreur d'initialisation auth:",w)}}async function i(){try{await Promise.all([er.initialize(),vr.initialize(),pt.initialize()])}catch(w){console.error("Erreur d'initialisation dashboard:",w),h(n,w.message||"Erreur inconnue lors de l'initialisation",!0)}}mc(()=>{(async()=>(await r(),ie.isAuthenticated&&(window.location.pathname=="/"&&(window.location.pathname="/a"),await i())))()});let a=H(()=>l(n)||Sl.error);var o=Xu(),c=B(o);Cd(c,{});var d=b(c,2);{var u=w=>{const I=H(()=>l(s).component);var S=ne(),M=B(S);Ji(M,()=>l(I),($,D)=>{D($,{get params(){return l(s).params},get query(){return l(s).query}})}),E(w,S)},f=w=>{var I=Yu();E(w,I)};G(d,w=>{l(s)?w(u):w(f,!1)})}var p=b(d,2);Vd(p,{});var v=b(p,2);{var y=w=>{var I=Ju(),S=B(I);{var M=D=>{Ql(D,{get message(){return l(a)}})};G(S,D=>{l(a)&&D(M)})}var $=b(S,2);Gd($,{get isOpen(){return ie.isConflictModalOpen},get conflictData(){return ie.conflictData}}),E(w,I)};G(v,w=>{ie.isAuthenticated&&w(y)})}E(t,o),Y()}let Hn=null;window.location.pathname.startsWith("/a")?Hn=document.getElementById("app"):Hn=document.getElementById("svelte-header");if(!Hn)throw console.error("[Svelte] Aucun conteneur de montage trouvé"),new Error("Élément target non trouvé");console.log(`[Svelte] Montage dans: #${Hn.id}`);Yo(Zu,{target:Hn});
